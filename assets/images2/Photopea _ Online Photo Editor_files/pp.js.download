(function(){function XF(){this.ZN={};this.Cq={}}XF.ak=[];XF.nB=function(R){var Z=XF.ak;if(Z.length!=0){var B=new n(X.E.eG);
for(var o=0;o<Z.length;o++)Z[o].j(B)}window.requestAnimationFrame(XF.nB)};window.requestAnimationFrame(XF.nB);
XF.prototype.nw=function(R){var Z=this.ZN[R];if(Z==null)return!1;return Z.length>0};XF.prototype.addEventListener=function(R,Z){this.v(R,Z,null)};
XF.prototype.v=function(R,Z,B){if(this.ZN[R]==null){this.ZN[R]=[];this.Cq[R]=[]}this.ZN[R].push(Z);this.Cq[R].push(B);
if(R==X.E.eG){var o=XF.ak;if(o.indexOf(this)==-1)o.push(this)}};XF.prototype.removeEventListener=function(R,Z){var B=this.ZN[R];
if(B==null)return;var o=B.indexOf(Z);if(o<0)return;var r=this.Cq[R];B.splice(o,1);r.splice(o,1);if(R==X.E.eG&&B.length==0){var Y=XF.ak;
Y.splice(Y.indexOf(this),1)}};XF.prototype.j=function(R){R.currentTarget=this;if(R.target==null)R.target=this;
var Z=this.ZN[R.type];if(Z==null)return;var B=this.Cq[R.type];for(var o=0;o<Z.length;o++){if(B[o]==null)Z[o](R);
else Z[o].call(B[o],R)}};function Gg(){XF.call(this);this.mY={};this.ph={};this.ORM=0;this.OXv={};this.Oj_=0;
Gg.Pg=this}Gg.prototype=new XF;Gg.ONP=function(R,Z){var B=0,o=Gg.gX;while(B<o.length){if((Z>>>B&1)==1)break;
B++}if(Z==0||o[B][1]==""){if((Z&15)!=0&&Gg.nq(R,[33,126])>.7)B=0;else if(Z==0)B=0;else{B=0}}return o[B][1]};
Gg.aO=120;Gg.gE=20;Gg.cols=16;Gg.S$=function(R){var Z=R.name.postScriptName;if(Z==null)return null;return Z.replace(/ /g,"-")};
Gg.nf=function(R){var Z=R.name,B=Z.typoFamilyName?Z.typoFamilyName:Z.fontFamily,o=Z.typoSubfamilyName?Z.typoSubfamilyName:Z.fontSubfamily,r=Gg.OiN,Y=B.toLowerCase();
for(var E=0;E<r.length;E++){if(r[E]=="roman")continue;if(Y.endsWith(" "+r[E])||Y.endsWith("-"+r[E])){var p=B.length-r[E].length,y=B.slice(p);
B=B.slice(0,p-1);if(y!=""){if(o=="Regular"||o==B+" Regular")o=y;else o=y+" "+o}break}}var z="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var E=0;E<z.length;E++)if(B.startsWith(z[E])){var y=B.slice(z[E].length);B=z[E];if(y.startsWith(" ")||y.startsWith("-"))y=y.slice(1);
if(y!=""){if(o=="Regular")o=y;else o=y+" "+o}break}var u={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},Q=u[Gg.S$(R)];
if(Q)o=Q;return[B,o]};Gg.prototype.iE=function(R,Z){if(this.mY[R])return this.mY[R];if(this.ph[R])return null;
var B=null,o=this.zW();if(o[R]!=null)B=o[R][5];if(B==null){var r=Gg.OzD[R];if(r==null){var Y="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),E=R.toLowerCase(),p=0;
if(E.indexOf("sans")!=-1)p=0;else if(E.indexOf("serif")!=-1)p=4;var y=E.indexOf("bold")!=-1||E.indexOf("-black")!=-1,z=E.indexOf("italic")!=-1||E.indexOf("oblique")!=-1||E.endsWith("-it");
if(y&&z)p+=3;else if(z)p+=2;else if(y)p+=1;r=Y[p]}if(Z!=null&&Z>128)r=this.nD(Z,r);if(this.OXv[R]==null){this.OXv[R]=1;
var u=Date.now()-this.ORM>2e3?2e3:0;this.ORM=Date.now();alert(R+" \u27A1 "+r,u)}return this.iE(r,Z)}this.ph[R]="a";
var Q=new n(X.E.K,!0);Q.data={d:X.l.Tr,Fe:{url:"rsrc/fonts/"+B}};this.j(Q)};Gg.prototype.nD=function(R,Z,B){var o=this.mY[Z];
if(o&&Typr.U.codeToGlyph(o,R)!=0)return Z;var r=this.zW(),Y=Gg.Ovy(R),E=Y[0];if(r[Z]&&(r[Z][3]&E)==0){if(B)for(var p=0;
p<B.length;p++){var y=B[p].Name,z=r[y];if(z&&(z[3]&E)!=0)return y}var y=Gg.gX[Y[1]][4];if(r[y])return y}return Z};
Gg.Ovy=function(R){var Z=Gg.gX,B=[0];for(var o=0;o<Z.length;o++){var r=Z[o][2];for(var Y=0;Y<r.length;
Y+=2)if(r[Y]<=R&&R<=r[Y+1]){B[0]+=1<<o;B.push(o)}}if(B.length==1)B.push(0);return B};Gg.prototype.OvA=function(R,Z){if(Z!=!0){var B=Date.now()-this.Oj_>2e3?2e3:0;
this.Oj_=Date.now();alert(Ok.get([22,6,0])+" "+R.name.fullName+" "+Ok.get([23,0])+".",B)}var o=Gg.S$(R),r=this.zW(),Y=r[o],E=Gg.Ov_(R);
if(Y==null){var p=document.createElement("canvas"),y=p.getContext("2d");p.width=Gg.aO;p.height=Gg.gE;
var z=Gg.gE*1.2/R.head.unitsPerEm;y.translate(4,Gg.gE*.9);y.scale(z,-z);y.fillStyle="#000000";var u=Typr.U.shape(R,Gg.ONP(R,E[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(R,u),y);y.fill();E.Ojs=p.toDataURL();this.nN(E)}delete this.ph[o];
this.mY[o]=R};Gg.OBQ=function(){var R=Gg.gX,Z=[];for(var B=0;B<R.length;B++)Z.push(R[B][0]);return Z};
Gg.gX=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","",[1040,1119],.7,"DejaVuSans"],["Hebrew","",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","\uC608\uACE0\uD3B8",[4352,4607,44032,55203],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","\u9810\u7FD2",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928",[2304,2431],.7,"Hind-Regular"],["Thai","\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem tr\u01B0\u1EDBc",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"]];
Gg.Ov_=function(R,Z,B){var o=R.name,z=0;if(Gg.S$(R)==null){console.log(R);throw"No postScriptName!"}var r=Gg.gX,Y=[];
for(var E=0;E<r.length;E++){var p=r[E][2],y=r[E][3];Y[E]=Gg.nq(R,p)>y?1:0}for(var E=0;E<Y.length;E++)z+=Y[E]<<E;
var u=Gg.nf(R);return[u[0],u[1],Gg.S$(R),z,B,Z]};Gg.nq=function(R,Z){var B=0,o=0;for(var r=0;r<Z.length;
r+=2){for(var Y=Z[r];Y<=Z[r+1];Y++){var E=Typr.U.codeToGlyph(R,Y);if(E==0)o++;else B++}}return B/(B+o)};
Gg.OwE=function(R,Z){if(R[2]<Z[2])return-1;if(R[2]>Z[2])return 1;return 0};Gg.OwD=function(R,Z){if(R[5]=="fs/"+R[2]+".otf")R[5]="";
else if(R[5]=="gf/"+R[2]+".otf")R[5]="a";if(R[2]==(R[0]+"-"+R[1]).replace(/\s/g,"")){R[2]=""}else if(R[2]==R[0].replace(/\s/g,"")){R[2]="a"}if(Z){if(R[0]==Z[0])R[0]="";
if(R[1]==Z[1])R[1]="";if(R[3]==Z[3])R[3]="";if(R[4]==Z[4])R[4]=""}return R.join(",")};Gg.OzR=function(R,Z){R=R.split(",");
if(R[0]=="")R[0]=Z[0];if(R[1]=="")R[1]=Z[1];if(R[3]=="")R[3]=Z[3];else R[3]=parseInt(R[3]);if(R[4]=="")R[4]=Z[4];
else R[4]=parseInt(R[4]);if(R[2]=="")R[2]=(R[0]+"-"+R[1]).replace(/\s/g,"");else if(R[2]=="a")R[2]=R[0].replace(/\s/g,"");
if(R[5]=="")R[5]="fs/"+R[2]+".otf";else if(R[5]=="a")R[5]="gf/"+R[2]+".otf";return R};Gg.OzD={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"LiberationMono","CourierNewPS-BoldMT":"LiberationMono-Bold","CourierNewPS-ItalicMT":"LiberationMono-Italic","CourierNewPS-BoldItalicMT":"LiberationMono-BoldItalic",Courier:"CourierPrime",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"SFProText-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic","":""};
Gg.prototype.zW=function(){if(FNTS.map==null){var R=FNTS.list,Z=[];for(var B=0;B<R.length;B++){Z[B]=Gg.OzR(R[B],Z[B-1]);
Z[B].qp=B;this.nN(Z[B])}}return FNTS.map};Gg.prototype.nN=function(R){var Z=R[0],B=R[1],o=R[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[R[2]]=R;if(FNTS.mapFS==null)FNTS.mapFS={};var r=FNTS.mapFS[Z+"---"+B];FNTS.mapFS[Z+"---"+B]=R;
if(FNTS.mapSub==null)FNTS.mapSub={};var Y=FNTS.mapSub[Z];if(Y==null)Y=FNTS.mapSub[Z]=[];var E=Y.indexOf(B);
if(E==-1)Y.push(B);else Y[E]=B};Gg.OzU=function(R,Z){return Gg.iG(R)-Gg.iG(Z)};Gg.iG=function(R){R=R.toLowerCase();
var Z=Gg.Oiy(R)+(Gg.Oig(R)<<1);if(R.indexOf("cond")==-1)Z+=1<<25;return Z};Gg.Oiy=function(R){return R.indexOf("italic")!=-1||R.indexOf("oblique")!=-1?1:0};
Gg.OiN="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
Gg.Oiz=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
Gg.Oig=function(R){var Z=Gg.Oiz,B=-1,o=-1;for(var r=0;r<Z.length;r++){var Y=Z[r];if(Y instanceof Array)for(var E=0;
E<Y.length;E++){var p=Y[E];if(R.indexOf(p)!=-1&&(B==-1||o<p.length)){B=r;o=p.length}}else if(R.indexOf(Y)!=-1&&(B==-1||o<Y.length)){B=r;
o=Y.length}}if(B==-1)B=8;return B};Gg.nv=function(R,Z){var B=1e9,o=null,r=Gg.iG(Z);for(var Y=0;Y<R.length;
Y++){var E=Math.abs(Gg.iG(R[Y])-r);if(E<B){B=E;o=R[Y]}}return o};Gg.prototype.ay=function(R,Z){this.zW();
return FNTS.mapFS[R+"---"+Z]};Gg.prototype.nz=function(R){this.zW();return FNTS.mapSub[R]};Gg.prototype.OUR=function(){this.zW();
return FNTS.mapSub};var Gx={AC:0,tR:null,gj:null,ni:null,nU:null,aE:null,n$:!0,nx:0,aG:!1},EB=0;Gx.Js=function(){return Gx.oM()!=null&&Gx.oM()[X.i_("!&|'&50")]*200>Date.now()/5};
Gx.pw=function(){return Gx.O$M()!=null};Gx.oM=function(){return Gx.aE};Gx.aR=function(R){window.addEventListener("message",Gx.OUd,!1);
setInterval(Gx.nK,5e3);if(Gx.pw()){Gx.tR=R;Gx.ih()}else setTimeout(R,1)};Gx.nK=function(){if(Gx.pw()&&Gx.aG){Gx.nr(Gx.al());
Gx.aG=!1}};Gx.aX=function(R){Gx.tR=R;var Z="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
Gx.ni=window.open(Z,"_blank")};Gx.OUp=function(){localStorage.removeItem(Gx.AC+"_uid");localStorage.removeItem(Gx.AC+"_provider");
localStorage.removeItem(Gx.AC+"_token");Gx.aE=null};Gx.OUd=function(R){if(R.data instanceof ArrayBuffer||R.data instanceof Object)return;
if(R.data.charAt(0)!="{")return;var Z=JSON.parse(R.data);if(Z.prms==null)return;var B=Z.prms.split(",");
if(B[0]=="papi_logged_in"){localStorage[Gx.AC+"_uid"]=B[1];Gx.il(B[2]);localStorage[Gx.AC+"_provider"]=B[3];
Gx.ni.close();Gx.ih()}if(B[0]=="payment_complete"){Gx.nU.close();Gx.ih()}};Gx.O$M=function(){var R=localStorage[Gx.AC+"_token"];
if(R!=null&&Date.now()*.001+10<parseInt(R.split("-")[0]))return R;return null};Gx.il=function(R){var Z=localStorage[Gx.AC+"_token"];
if(Z!=null&&parseInt(R.split("-")[0])<parseInt(Z.split("-")[0]))return;localStorage[Gx.AC+"_token"]=R;
clearTimeout(Gx.nx);Gx.nx=setTimeout(Gx.O$H,Math.min(1e9,parseInt(R.split("-")[0])*1e3-Date.now()-20*1e3))};
Gx.O$H=function(){var R=new XMLHttpRequest;R.open("POST","https://www.photopea.com/papi/record_new.php",!0);
R.onload=Gx.OxP;var Z=Gx.aB()+"&read=2";R.setRequestHeader("Content-type","application/x-www-form-urlencoded");
R.send(Z)};Gx.ih=function(){var R=new XMLHttpRequest;R.open("POST","https://www.photopea.com/papi/record_new.php",!0);
R.onload=Gx.OxB;var Z=Gx.aB()+"&read=1";R.setRequestHeader("Content-type","application/x-www-form-urlencoded");
R.send(Z)};Gx.nr=function(R){var Z=new XMLHttpRequest;Z.open("POST","https://www.photopea.com/papi/record_new.php",!0);
Z.onload=Gx.OeG;var B=Gx.aB()+"&read=0&score=0&spublic="+Gx.n$+"&record="+encodeURIComponent(JSON.stringify(R));
Z.setRequestHeader("Content-type","application/x-www-form-urlencoded");Z.send(B)};Gx.OxB=function(R){var Z=JSON.parse(R.target.response);
if(Z.error){}else{Gx.aE=Z.user;var B=Gx.al(),o=Z.record;if(Z.record){Gx.n$=Z.spublic;Gx.np(o)}else if(B)Gx.nr(B)}Gx.il(Z.token);
if(Gx.tR){Gx.tR();Gx.tR=null}if(Gx.gj){Gx.gj();Gx.gj=null}};Gx.OxP=function(R){var Z=JSON.parse(R.target.response);
Gx.il(Z.token)};Gx.OeG=function(R){var Z=JSON.parse(R.target.response);Gx.il(Z.token);if(Gx.gj)Gx.ih()};
Gx.aB=function(){return"app="+Gx.AC+"&uid="+localStorage[Gx.AC+"_uid"]+"&token="+localStorage[Gx.AC+"_token"]};
Gx.tI=function(){return Gx.al()};Gx.aL=function(R,Z){Gx.np(R);Gx.aG=!0;if(Z){Gx.gj=Z;Gx.nK()}};Gx.al=function(){var R=localStorage[Gx.AC+"_stateLocal"],Z;
if(R==null)return null;try{Z=JSON.parse(R)}catch(Yd){return null}return Z};Gx.np=function(R){var Z=JSON.stringify(R);
localStorage[Gx.AC+"_stateLocal"]=Z};Gx.order=function(R,Z,B){Gx.tR=B;var o="https://www.photopea.com/papi/order.php?ptype="+Z+"&param="+R+"&uid="+localStorage[Gx.AC+"_uid"]+"&token="+localStorage[Gx.AC+"_token"];
Gx.nU=window.open(o,"_blank")};var Ok={};Ok.iD=0;Ok.ah={};Ok.nZ=function(R){var Z=LNG.tables,B=Z[R];
if(typeof B=="string"){B=Z[R]=Ok.Hi(B)}return B};Ok.Hi=function(R){var Z=[],B=0,o=0,r=[],Y=R.length;
while(o!=Y){var E=R[o];if(E=="["){Z.push(r);r=[];o=B=o+1}else if(E=="]"){r.push(B==o?null:R.substring(B,o));
var p=r;r=Z.pop();r.push(p);o=B=o+1}else if(E==";"){if(R[o-1]!="]")r.push(B==o?null:R.substring(B,o));
o=B=o+1}else o++}return r};Ok.get=function(R){if(typeof R=="string")return R;var Z=JSON.stringify(R),Y=0;
if(Ok.ah[Z]!=null)return Ok.ah[Z];var B=Ok.nZ(0),o=Ok.nZ(Ok.iD),r=Ok.no(R,o);if(r==null)r=Ok.no(R,B);
for(var E=0;E<R.length;E++){var p=R[E];if(typeof p!="number"){var y=Ok.get(p),z=r.indexOf("VAR"+Y);r=r.slice(0,z)+y+r.slice(z+4);
Y++}}return r};Ok.no=function(R,Z){for(var B=0;B<R.length;B++){Z=Z[R[B]];if(Z==null)return null;else if(typeof Z=="string")break}return Z.split("::")[0]};
Ok.Oej=function(){var R=function(B,o){var r=B.code,Y=o.code;if(r=="en")return-1;if(Y=="en")return 1;
var E=navigator.languages,p=E.indexOf(r)!=-1,y=E.indexOf(Y)!=-1;if(p&&y)return r>Y?1:-1;if(p)return-1;
if(y)return 1;return r>Y?1:-1},Z=LNG.langs.slice(0);Z.sort(R);return Z};Ok.OKj=function(R){Ok.iD=R};
Ok.aS=function(R){for(var Z=0;Z<LNG.langs.length;Z++)if(LNG.langs[Z].code==R)Ok.iD=Z};Ok.nM=function(){return LNG.langs[Ok.iD].code};
Ok.Ok$=function(R){for(var Z=0;Z<R.length;Z+=2)Ok.ah[JSON.stringify(R[Z])]=R[Z+1]};Ok.nQ=function(R){var Z=-1,B=LNG.langs;
for(var o=0;o<B.length;o++)if(B[o].code==R)Z=o;return Z};var Og={gq:!1};Og.iq=function(){return X.sA[X.FK("vrt",2)]!=X.sA[X.FK("xksn",5)]};
Og.af=function(){var R=X.i_,Z=X.sA[R("u#z/*%1:")],B=Z[R("s#{3")],o=R("t&|{1%h2.94@I"),r=R("xy+_)%0+7@qK~<"),Y=R("r$'\x7F+$f.283"),E=R("#y$)3%f.283"),p=0,y=R("$y+[145/+AC7"),z=R("rx*\x7F+3("),u=X.b_("Y_5UDDB>&\x7F");
if(X.sA[u]!=!0){p=1}var Q=Z[o](R("u}-"));Q[y](R("zx"),z);Q[y](R("$(0&\""),R("(}{.%ZXVY<GmU@@GHL[$\" #fq7"));
B[Y](Q);Q=Z[r](z);if(Q==null){p=2}else{if(!B[R("t#%.~)19")](Q)){p=3}else if(Math.round(Q[R("xy+\\,51*2:6uAA@LU6LMa")]()[R("(}{.%")]-500)>5){p=4}B[E](Q)}return p};
Og.ng=function(){var R=X.sA[X.i_("t#% &20")],Z=X.sA[X.i_("$y+n&-(5>@")],B="FQi[VE];;J6@?18',!'*3$|*niu~hgcWhlOUU`LOIT53A-11/)~$'>-cvys~_]k[RQiYHEJMWH@N--E$++|!|~t*hht,{HaWP_NrcLBNWIDN>049?5(+3qq}3$pp{ZjkoMi6UEJCLAQ/.+47-09>Tspy|ru~(xAaVl2Tcm]|LMZ\\",o=String.fromCharCode(32);
R(X.b_(B)+o+o+Og.af());if(!Gx.Js())Z(Og.ng,Math.round(Math.PI*1e4))};Og.OyX=function(R,Z,B,o,r){X.vO(B);
var Y=X.i_,E=Y("r$'\x7F+$f.283"),p=Y("$y+[145/+AC7"),y=Y("rx{_3%1:u5BF:F@P"),z=Y("#y'&~#("),u=Y("$(0&\""),Q=Y("$&z"),H=Y("r'0( "),T=Y("%y/.`/1:.:C"),C=Y("u}-"),e=X.sA[Y("u#z/*%1:")],$=Y("t&|{1%h2.94@I"),x=Y("$w)#-4"),M="lor<%03.62D4=f?LFrX`aY{]okcwoxz7;54;&14/73E5>gAIVVUMhy{\\dt.kw~:qwC*%/759105DEmrtu~pu+rs\"7!.'lt%>{(/J\"(S:5?GEIA@ETU}#%&/{Z,^(p{~y\"}0 )R+82^DLMEgI[WOc[df#'! 'q| z#~1!*S-5BBA9TegHP`yWcj&]c/upz#!%|{!01Y^`ai\\av^_m#lyrX`p*gsz6ms?&!+315-,1@AinpqygFwJs\\gjemi{kt>v$}J0891S5GC;OGPRnrlkr]hkfnj|lu?x!..-%@QS4<LeCOVqIOza\\fnlphgl{|EJNPTHMbJKYnXe^DL\\uS_f\"Y_+qlv~|!xw|,-UZ^`dS2c6_HSVQYUgW`*boi6{$%|?!3/';3<>Z^XW^ITWRZVhXa+dlyyxp,=? (8Q/;B]5;fMHRZX\\TSXgh16:<A49N67EZDQJ08Ha?KRmEKv]XbjhldchwxAFJLQ?}O\"K4?B=EASCLuN[U\"goph+l~zr'~(*FJDCJ5@C>FBTDMvPXeed\\w)+ks$=z'.I!'R94>FDH@?DST|\"&). %:\"#1F0=6{$4M+7>Y17bIDNVTXPOTcd-269>+i;m7 +.)1-?/8a:GAmS[\\TvXjf^rjsu260/6!,/*2.@09b<DQQPHctvW_o)fry5lr>% *204,+0?@hmrorkp&mn|2{)\"go 9v#*E|#N50:B@D<;@OPx}# #vU'Y#kvyt|x+z$M&3-Y?GH@bDVRJ^V_a}\"{z\"lwzu}y,{%N(0==<4O`bCK[tR^e!X^*pku}{ wv{+,TY^[_W\\qYZh}gtmS[k%bnu1hn:!{&.,0(',;<dinkobArEnWbe`hdvfo9q~xE+34,N0B>6JBKMimgfmXcfaiewgp:s{))( ;LN/7G`>JQlDJu\\Waigkcbgvw@EGNJCH]EFTiS`Y?GWpNZa|TZ&lgqyw{srw'(PUW^ZN-0aZjmFXP\"Yj+**5k7h7o{\"+|\"113<X<6HeJRBOO\\TTdh'kfpxvzrqv&'J-,4V6BS`YCRUTZ${~jmp*fqtows&u~.#3:0-2C`9HImVFOyXd#^jq.my+81)v+;&14/73E5>Yy_JUXS[WiYb}}!'&+K3}),'/+=-6_8E?]}cNY\\W_[m]f0huo..17uz[C=+?OC=,HNVw|~ ( gaPlrz<ACDMD,&t17?`egnjw_JUXS[WiYb,dqk8}&'~A#51)=5>@\\`ZY`TN=Y_g).01:%E+u!$~'#5%.W159?GA2NT\\rt ,'328768:AqVFNSUV_Xb0D?IQOSKJyRabWogfv8190nIKLKBE][,]T^?GWpNZa|TZ&lgqyw{srw'(PUWXaSX`7=@2GW^TQV{^ilgok}mv@&.} &8OSVkS>ILGOK]MV em]_ew/3;t|*z~,(n75C;6D'MBHnr(or]hkfnj|lu?y&{ -)y/?F<9>Ofj es)Xcfaiewgp:r yF,45-O1C?7KCLNjnhgnb\\Kgmu7<>?G3S9$/2-51C3<e?CGMUO@\\bj!#.:5A@FEDFHO dT\\acdlfm>RMW_]aYX(`ope}ut%F?G>|U]ZYPifi:kblMUe~\\ho+bh4zu (&*\"!&56^cefnafnEKN@Uelb_d*lwzu}y,{%N4<,.4F]adyaLWZU]Yk[d.s{kms&=AI#+8)-:6|ECQIDR5[PV|!6}!kvyt|x+z$M(4*.;7(=MTJGL]tx.s\"7fqtows&u~H!.(T:BC;]?QMEYQZ\\x|vu|pjYu{$EJLSOAaG2=@;C?QAJsMQU[c]Njpx/1<HCONTSRTV].rbjoqxtt|L`[emkogf6n}~s,$#3TMUL+igpg^a}wHypz[cs-jv}9pvB)$.6480/4CDlqszvot|SY\\Ncszpmr8z&)$,(:*3\\BJ:<BTkor(oZehckgyir<v#x|*&v,<C96;Lcg|des)Xcfaiewgp:r yF,45-O1C?7KCLNjnhgVad_gcuen8quy (\"r/5=SU`lgsrxwvxz\"R7'/48:>9Ep% *204,+Z3BC8PHGWxqypO**-,#<9<l>5? (8Q/;B]5;fMHRZX\\TSXgh16:<@49Aw}!r(8?527\\?JMHPL^NW!fn^`fx047L{'*%-);+4]7;?EMG8TZbxz&2-98>=<>@Gw\\LTY]_d^g6JEOWUYQP Xgh]uml|>7?6tOORQH]ca2cZdEM]vT`g#Z`,rmw }\"yx}-.V[_afY^f=CF8M]dZW\\\"dormuq$s|F,4$&,>UY\\qALOJRN`PY#\\`djrl]y (>@KWR^]cbacel=\"qy~#&+$-[ojt|z~vuE}-.#;32Bc\\d[:ttwvm#)'W) *jr#<y&-H &Q83=ECG?>CRS{!%(-~$,bhk]r#* |\"G*583;7I9BkQYIKQcz~\"7fqtows&u~H\"&*082#?EMcep|w$#)(')+2bG7?DIFIIR!50:B@D<;jCRSH`XWg)\"*!_::=<3HNL|NEO08Ha?KRmEKv]XbjhldchwxAFKHKDIQ(.1#8HOEBGlOZ]X`\\n^g1v~npv)@DG\\,7:5=9K;DmGKOU]WHdjr)+6B=IHNMLNPW(l\\dinkonwFZU_geia`0hwxm&}|-NGOF%__baXmsqBsjtU]m'dpw3jp<#}(0.2*).=>fkpmqinvMSVH]mtjgl2t #}&\"4$-V<D46<Neil\"Q\\_Zb^p`i3myos!|m#3:0-2CZ^s[^abp&oN",m=X.iL(" u.$%\"86<"),G=X.iL("!#c$,&"),K=X.sA[m][G];
if(!Og.iq()&&!Og.af()&&K){var s=X.sA[Y("[gfh")][Y("!u)-\"")](X.iL(M)),P=!1;if(!Og.gq){Og.gq=!0;var L=e[Y("xy+_)%0+7@BtN,<E/ETO")](Y("yyx~"))[0],_=e[$](x);
_[p](Q,s[1]);L[E](_);var _=e[$](x);_[p](H,H);_[p](Q,s[2]);L[E](_);var _=e[$](x);_[T]=s[3];L[E](_)}var i=s[0],w=[i[r]],k=i[5];
if(r==2){w=[i[3],i[4]];if(Z>=3*260+20)w=[i[3],i[4],i[5]];if(Z>=4*260+20)w=[i[3],i[4],i[5],i[6]]}for(var h=0;
h<w.length;h++){var j=w[h],I=e[$](C);I[p](Y("zx"),j[1]);I[p](u,Y("~u)!&.P(8@CABrlnQ\\"));B[E](I);var _=e[$](x);
_[T]=j[0];I[E](_)}if(r!=0){var V=e[$](C);V[p](u,Y("~u)!&.]]9DOb"));V[p](Y("zx"),Y("$$&(0/59"));B[E](V)}if(P){var I=e[$](C);
I[p](Y("zx"),k[1]);I[p](u,Y("yy !%4]_Y<Gm"));var _=e[$](x);_[T]=k[0];return[I,_,E]}}else{var F=[Y("z!~I-0\":*8;`EFB")];
for(var h=0;h<F.length;h++){var q=e[$](Y("z!~"));q[p](u,Y("t))-,2]685=F:Jv"));q[y](Y("t  }("),o,!1);
q[p](Q,F[h]);B[E](q)}}};var YU={og:0,tB:{expires_at:0},aJ:[]};YU.gH=function(R){if(R)YU.aJ.splice(0,0,R);
if(YU.og==1)return;if(YU.tB.expires_at>Date.now()*.001+30){while(YU.aJ.length>0)YU.aJ.pop()()}else{if(YU.og==0)YU.og=1;
gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:YU.og==2?!1:!0},YU.OyA)}};
YU.OyA=function(R){if(R&&!R.error){YU.tB=R;YU.og=!1;YU.gH()}else if(YU.og==1){YU.og=2;YU.gH()}else alert("Error: "+R.error)};
YU.nP=function(){return"access_token="+YU.tB.access_token+"&token_type="+YU.tB.token_type};YU.Qk=function(){return YU.tB.token_type+" "+YU.tB.access_token};
function GI(){}GI.QO={OyZ:["PNG","JPG","SVG","GIF","PDF"],Oyu:"EMF WEBP BMP PPM TIFF ICO DDS TGA RAW".split(" ")};
GI.jL=function(R){if(!(R instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var Z=new Uint8Array(R),B=GI.Qy,o,r=0;
while(r<Z.length&&(Z[r]==9||Z[r]==10||Z[r]==13||Z[r]==32))r++;if(B(Z,[56,66,80,83]))o="psd";if(B(Z,[120,218,236]))o="pxd";
if(B(Z,[120,156,220]))o="pxd";if(B(Z,[103,105,109,112,32,120,99,102,32]))o="xcf";if(B(Z,[102,105,103,45,107,105,119,105]))o="fig";
if(B(Z,[137,80,78,71,13,10,26,10]))o="png";if(B(Z,[87,76]))o="cdr";if(B(Z,[82,73,70,70])){var Y=RJ.NW(Z),E=Y.FJ;
if(E=="WEBP")o="webp";else if(E.slice(0,3)=="CDR")o="cdr";else o=E}if(B(Z,[70,79,82,77])||B(Z,[76,73,83,84])||B(Z,[67,65,84,32])){var Y=yx.NW(Z),E=Y.FJ;
if(E=="ILBM")o="ilbm";else o=E}if(B(Z,[255,216,255]))o="jpg";if(B(Z,[0,0,0,12,106,80,32,32]))o="jpg";
if(B(Z,[48,0,1,0],4))o="jpg";if(B(Z,[71,73,70,56]))o="gif";if(B(Z,[0,0,0,2,121,102,113,76]))o="msh";
if(B(Z,[0,0,0,3,121,102,113,76]))o="msh";if(B(Z,[0,0,0,16]))o="atn";if(B(Z,[0,1]))o="aco";if(B(Z,[0,2]))o="aco";
if([0,1].indexOf(Z[1])!=-1&&[1,2,3,9,10,11].indexOf(Z[2])!=-1&&[0,16,24,32].indexOf(Z[7])!=-1)o="tga";
if(B(Z,[0,2,56,66,83,76]))o="asl";if(B(Z,[0,1,0,-1,0,2,0]))o="abr";if(B(Z,[0,2,0,-1,0,2,0]))o="abr";
if(B(Z,[0,6,0,1]))o="abr";if(B(Z,[0,6,0,2]))o="abr";if(B(Z,[0,7,0,2]))o="abr";if(B(Z,[0,9,0,2]))o="abr";
if(B(Z,[0,10,0,2]))o="abr";if(B(Z,[56,66,70,83]))o="shc";if(B(Z,[56,66,80,84]))o="pat";if(B(Z,[56,66,71,82]))o="grd";
if(B(Z,[56,66,84,80]))o="tpl";if(B(Z,[0,4,0,5]))o="acv";if(B(Z,[99,117,115,104]))o="csh";if(B(Z,[0,1,0,0,0]))o="otf";
if(B(Z,[79,84,84,79]))o="otf";if(B(Z,[116,116,99,102]))o="otf";if(B(Z,[68,68,83,32]))o="dds";if(B(Z,[80,86,82,3]))o="pvr";
if(B(Z,[0,0,1,0]))o="ico";if(B(Z,[66,77]))o="bmp";if(B(Z,[80,49]))o="ppm";if(B(Z,[80,50]))o="ppm";if(B(Z,[80,51]))o="ppm";
if(B(Z,[80,52]))o="ppm";if(B(Z,[80,53]))o="ppm";if(B(Z,[80,54]))o="ppm";if(B(Z,[73,73,42,0]))o="tiff";
if(B(Z,[77,77,0,42]))o="tiff";if(B(Z,[70,85,74,73,70,73,76,77]))o="raf";if(B(Z,[112]))o="lif";if(B(Z,[73,73,26,0]))o="ciff";
if(B(Z,[83,81,76,105]))o="sketch";if(B(Z,[80,75])){var p=UZIP.parse(R,!0);if(p["document.json"])o="sketch";
else if(p.manifest)o="xd";else o="zip"}if(B(Z,[123]))o="json";if(U.n(Z,0)==Z.length)o="icc";if(B(Z,[35]))o="icc";
if(B(Z,[84,73,84,76]))o="icc";if(B(Z,[60,63,120,109],r)){if(U.wU(Z,"<look>")!=-1)o="icc";else o="svg"}if(B(Z,[60,115,118,103],r))o="svg";
if(B(Z,[60,33,100,111],r))o="html";if(B(Z,[60,33,68,79],r))o="html";if(B(Z,[37,33])||B(Z,[197,208,211,198])){o="eps"}if(B(Z,[37,80,68,70],r))o="pdf";
if(B(Z,[215,205,198,154]))o="wmf";if(B(Z,[1,0,0,0]))o="emf";if(B(Z,[239,187,191]))o="jsx";if(B(Z,[10,10,10,10]))o="jsx";
if(o==null&&O.raw.Bs(Z.length)!=null)return"tiff";return o};GI.Qy=function(R,Z,B){if(B==null)B=0;for(var o=0;
o<Z.length;o++)if(Z[o]!=-1&&R[B+o]!=Z[o])return!1;return!0};GI.WP=function(R){return GI[R.toUpperCase()]};
GI.Hr=function(R){var Z=GI.QO.OyZ,B=GI.QO.Oyu,o,r=[];if(R==null)o=Z.concat(B);else o=R==0?Z:B;for(var R=0;
R<o.length;R++)if(GI[o[R]].qj)r.push(o[R]);return r};GI.aD=function(R,Z,B,o,r){var Y=GI.gu(R,Z,B,o,r),E=GI.QE(Y);
return E.buffer};GI.QE=function(R){var Z=atob(R.split(",").pop()),B=new Uint8Array(Z.length);for(var o=0;
o<Z.length;o++)B[o]=Z.charCodeAt(o);return B};GI.gu=function(R,Z,B,o,r,Y){if(!(R instanceof ArrayBuffer))throw"e";
if(o==null)o="png";if(o=="png"&&Y==!0){var E=GI.PNG.qj([[R,0]],Z,B);return"data:image/png;base64,"+GI.iU(E)}var p=new Uint8Array(R),y=GI.wy;
if(y==null)y=GI.wy=X.T("canvas");if(y.width!=Z||y.height!=B){y.width=Z;y.height=B}var z=y.getContext("2d"),u=new ImageData(new Uint8ClampedArray(R,0,Z*B*4),Z,B);
z.putImageData(u,0,0);return y.toDataURL("image/"+o,r)};GI.Oyg=function(R,Z,B,o,r){if(r==null)r=0;var Y="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",E="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+Y+"<g transform=\"translate(64 64) scale("+.25*Math.round(X.D())+")\">";
if(R==1)E+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
E+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+r+")\" xlink:href=\""+Z+"\" x=\""+80*B+"\" y=\""+80*o+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var p=new Uint8Array(E.length);U.Ww(E,p,0);var y="data:image/svg+xml;base64,"+GI.iU(p.buffer);return{Ti:y,_:new N(0,0,128,128),Yd:new VP(64,64)}};
GI.iU=function(R){var Z=new Uint8Array(R),B="";for(var o=0;o<Z.length;o++)B+=String.fromCharCode(Z[o]);
return btoa(B)};GI.QG=function(R){var Z=[],B=[];for(var o=0;o<R.q.length;o++){var r=R.q[o];if(r.getName().slice(0,3)=="_a_"){Z.push(o);
B.push(r.YT())}}return[Z,B]};GI.gm=function(R,Z,B,o,r,Y){if(B==null)B=R.Y;if(o==null)o=R.Z;Z=Z.toUpperCase();
var E=GI[Z],p;if(E.$n){R.fw();p=E.qj(R,B,o,r,Y)}else{var y=GI.QG(R),z=y[0],u=y[1];if(z.length<2){var Q;
if(B==R.Y&&o==R.Z)Q=R.fw().buffer;else{var H=A.HQ.q$([R.fw(),new N(0,0,R.Y,R.Z)],new GN(B/(R.Y+.001),0,0,o/(R.Z+.001),0,0));
Q=H.buffer.buffer}p=E.qj([[Q,0,R.ag,R.mt]],B,o,r)}else{var T=[];for(var C=0;C<z.length;C++){var e=z[C],Q;
for(var $=0;$<z.length;$++)R.q[z[$]].eM(z[$]==e);R.iV();R.U();R.oT();if(B==R.Y&&o==R.Z)Q=R.fw().buffer.slice(0);
else{var H=A.HQ.q$([R.fw(),new N(0,0,R.Y,R.Z)],new GN(B/(R.Y+.001),0,0,o/(R.Z+.001),0,0));Q=H.buffer}var x=R.q[e].getName().split(",");
T.push([Q,x[1]?parseInt(x[1]):50,R.ag,R.mt])}for(var C=0;C<z.length;C++)R.q[z[C]].eM(u[C]);R.U();R.oT();
if(r){var M=r.length,m=r[M-1],G=r[M-3]/100;if(G!=1)for(var C=0;C<T.length;C++)T[C][1]=Math.round(T[C][1]/G);
if(m)T.reverse()}p=E.qj(T,B,o,r)}}return p};GI.PNG={};GI.PNG.qj=function(R,Z,B,o){if(o==null)o=[100,!1,0,0,0];
var r={sRGB:1,loop:o[3]};if(R[0][2]!=null){var Y=Math.round(R[0][2]*(1e4/254));r.pHYs=[Y,Y,1]}var E=o[0],p=E==100?0:Math.max(2,Math.floor(E*5));
if(p==5)p=4;var y=[],z=[];for(var u=0;u<R.length;u++){y.push(R[u][0]);z.push(R[u][1])}var Q=UPNG.encode(y,Z,B,p,z,r,o[1]);
return Q};GI.PNG.OEy=function(R,Z,B){return UPNG.encodeLL([R],Z,B,3,1,8)};GI.PNG.Kf=function(R){var Z=Date.now(),B=UPNG.decode(R),o=UPNG.toRGBA8(B),r=B.width,Y=B.height,E=0;
if(B.tabs.pHYs)E=Math.round(B.tabs.pHYs[0]*254/1e4);if(o.length==1)return[{Ix:new N(0,0,r,Y),data:o[0],ag:E}];
var p=[];for(var y=0;y<o.length;y++){p.push({cI:"_a_frm"+y+","+B.frames[y].delay,Ix:new N(0,0,r,Y),data:o[y],ag:E})}return p};
GI.PPM={};GI.PPM.qj=function(R,Z,B,o){var r=new Uint8Array(R[0][0]),Y=Z*B,E=Y*3,p="P6\n"+Z+" "+B+"\n255\n",y=p.length,z=O.a(y+E,!0);
for(var u=0;u<y;u++)z[u]=p.charCodeAt(u);for(var u=0;u<Y;u++){var Q=u*4,H=u*3+y;z[H]=r[Q];z[H+1]=r[Q+1];
z[H+2]=r[Q+2]}return z.buffer};GI.PPM.Kf=function(R){R=new Uint8Array(R);var Z=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],B=0,o=String.fromCharCode(R[0])+String.fromCharCode(R[1]),r=[],Y=0,E=o=="P1"||o=="P4"?2:3;
for(B=2;B<R.length;B++){var p=R[B],y=String.fromCharCode(p);if(p=="#".charCodeAt(0)){while(R[B]!="\n".charCodeAt(0))B++;
continue}var z=Z.indexOf(p)!=-1;if(Y==0&&!z){r.push(y);Y=1;continue}if(Y==1&&!z){r[r.length-1]+=y;continue}if(Y==1&&z){Y=0;
if(r.length==E)break;continue}}var u=parseInt(r[0]),Q=parseInt(r[1]),H=u*Q*4,T=o=="P1"||o=="P4"?1:255/parseInt(r[2]),C=O.a(H);
if(o=="P1"||o=="P2"||o=="P3"){var e="",$=0,Y=0,x="#".charCodeAt(0);for(var M=B;M<R.length;M++){var p=R[M],y=String.fromCharCode(p),z=Z.indexOf(p)!=-1;
if(p==x){while(R[M]!="\n".charCodeAt(0))M++}else if(Y==0&&!z){e=y;Y=1}else if(Y==1){if(z){Y=0;var m=parseInt(e);
e="";if(o=="P1"){C[$]=C[$+1]=C[$+2]=(1-m)*255;C[$+3]=255;$+=4}if(o=="P2"){C[$]=C[$+1]=C[$+2]=Math.round(m*T);
C[$+3]=255;$+=4}if(o=="P3"){C[$]=Math.round(m*T);$++;if(($&3)==3){C[$]=255;$++}}}else e+=y}}}var G=u*Q;
if(o=="P4")for(var K=0;K<Q;K++){var s=K*8*Math.ceil(u/8);for(var L=0;L<u;L++){var M=s+L,_=R[B+1+(M>>3)];
_=_>>7-(M&7)&1;var P=K*u+L<<2;C[P]=C[P+1]=C[P+2]=(1-_)*255;C[P+3]=255}}if(o=="P5")for(var M=0;M<G;M++){var P=4*M;
C[P]=C[P+1]=C[P+2]=Math.round(R[B+1+M]*T);C[P+3]=255}if(o=="P6")for(var M=0;M<G;M++){var P=4*M,i=B+1+3*M;
C[P]=Math.round(R[i]*T);C[P+1]=Math.round(R[i+1]*T);C[P+2]=Math.round(R[i+2]*T);C[P+3]=255}return[{Ix:new N(0,0,u,Q),data:C.buffer}]};
GI.DDS={};GI.DDS.qj=function(R,Z,B,o){var r=new Uint8Array(R[0][0]);if((Z&3)!=0||(B&3)!=0){var Y=Z+(4-(Z&3)),E=B+(4-(B&3)),p=new Uint8Array(Y*E*4);
O.yg(p,4278190080);O.GN(r,new N(0,0,Z,B),p,new N(0,0,Y,E));r=p;Z=Y;B=E}return UTEX.DDS.encode(r.buffer,Z,B)};
GI.DDS.Kf=function(R){var Z=UTEX.DDS.decode(R)[0];return[{Ix:new N(0,0,Z.width,Z.height),data:Z.image}]};
GI.JPG={};GI.JPG.qj=function(R,Z,B,o){if(o==null)o=[70];var r=R[0],Y=new Uint8Array(r[0]),E=255,p=Y.length,y;
for(var z=0;z<p;z+=4)E=E&Y[z+3];if(E==255)y=Y;else{y=new Uint8Array(Y.length);var u=new N(0,0,Z,B);O.yg(y,4294967295);
O.e.FO("norm",Y,u,y,u,u,1)}var Q=new Uint8Array(GI.aD(y.buffer,Z,B,"jpeg",o[0]/100));if(r[2]!=null){var H=GI.JPG.aN(Q)[224][0]+2;
H+=9;Q[H]=1;U.xK(Q,H+1,r[2]);U.xK(Q,H+3,r[2])}if(r[3]!=null&&o[1]==!0&&Object.keys(r[3]).length!=0){var T=Ei.DS(r[3]),C=new Uint8Array(UTIF.encode([T])),e=4+6+C.length,$="http://ns.adobe.com/xap/1.0/",x=Ei.OyQ(r[3]),M=U.EJ(x),m=4+$.length+1+M.length,G=e+m,K=new Uint8Array(Q.length+G),s=20;
for(var z=0;z<20;z++)K[z]=Q[z];for(var z=20;z<Q.length;z++)K[z+G]=Q[z];K[s]=255;K[s+1]=225;U.xK(K,s+2,e-2);
U.tD(K,s+4,"Exif");for(var z=0;z<C.length;z++)K[s+10+z]=C[z];s+=e;K[s]=255;K[s+1]=225;U.xK(K,s+2,m-2);
U.tD(K,s+4,$);for(var z=0;z<M.length;z++)K[s+4+$.length+1+z]=M[z];Q=K}return Q.buffer};GI.JPG.aN=function(R){var Z=0,B=[];
while(Z<R.length){while(R[Z]==255)Z++;var o=R[Z];Z++;if(B[o]==null)B[o]=[];B[o].push(Z-2);if(o==216)continue;
if(o==217)break;if(224<=o&&o<=239||o==218||o==219||o==192||o==194||o==196||o==221||o==254){var r=U.at(R,Z);
Z+=r;if(o==218)while(R[Z]!=255||(R[Z+1]==0||208<=R[Z+1]&&R[Z+1]<=215))Z++;continue}console.log("unknown marker ",o.toString(16),Z);
break}if(B[217]==null){console.log("EOI marker missing");var Y=R.length-2;R[Y]=255;R[Y+1]=217;B[217]=[Y]}return B};
GI.JPG.OEV=function(R){R=new Uint8Array(R);if(R[0]!=255)return R.buffer;var Z=GI.JPG.QX(R,GI.JPG.aN(R));
if(Z.numComponents!=4)return R.buffer;var B=Z.width,o=Z.height,r=GI.JPG.Qa(Z,!0);return GI.JPG.qj([[r[0].data]],B,o,[85])};
GI.JPG.QX=function(R,Z){var B=new PDFJS.JpegImage;B.parse(R);var o=Z[225];if(o)for(var r=0;r<o.length;
r++)GI.JPG.OEU(R,o[r]+2,B);var Y=Z[217][0]+2;if(Y!=R.length)B.suffix=R.slice(Y);return B};GI.JPG.OEU=function(R,Z,B){var o=Z,r=U.at(R,o);
o+=2;var Y=U.XG(R,o,4);if(Y=="Exif"){o+=6;var E=R.slice(o,o+r-8);B.exif=UTIF.decode(E.buffer,{parseMN:!1,debug:!1})}else if(Y=="http"){var p=0;
while(R[o+p]!=0)p++;var y=U.XG(R,o,p);o+=p+1;if(y=="http://ns.adobe.com/xmp/extension/"){var z=U.XG(R,o,32);
o+=32;o+=8;var u=Z+r-o;while(R[o+u-1]==0)u--;if(B.xmp_extn==null)B.xmp_extn="";try{B.xmp_extn+=U.qe(R,o,u)}catch(Yd){}}else if(y=="http://ns.adobe.com/xap/1.0/"){var Q=U.qe(R.slice(o,o+r-p-3));
if(Q[0]=="?")Q="<"+Q;B.xmp=Q}}else console.log(Y)};GI.JPG.Qa=function(R,Z){var B=R.width,o=R.height,r=B*o,Y=R.getData({width:B,height:o,forceRGB:!0,isSourcePDF:Z}),E=72,p,y=[B,o,1,0,0,0,1,0];
if(R.jfif&&R.jfif.densityUnits!=0)E=Math.round([72,1,2.54][R.jfif.densityUnits]*R.jfif.xDensity);else if(R.exif&&R.exif[0].t282!=null){var z=R.exif[0].t282[0];
E=z[0]/z[1]}if(R.exif){var u=R.exif;p=Ei.xg(u[0]);var Q=u[0].t274;if(Q)Q=Q[0];if(Q!=null&&Q>1)y=O.raw.Yr(Q,B,o)}if(R.xmp){p=Ei.OvB(R.xmp,p)}var H=O.a(r*4);
for(var T=0;T<r;T++){var C=T<<2,e=C-T;H[C]=Y[e];H[C+1]=Y[e+1];H[C+2]=Y[e+2];H[C+3]=255}var $=[{Ix:new N(0,0,B,o),data:H.buffer,ag:E,mt:p}],p=R.xmp_extn;
if(p){var x=new DOMParser,M=x.parseFromString(p,"image/svg+xml"),M=M.children[0].children[0].children[0],m=[M.getAttribute("GImage:Data"),M.getAttribute("GDepth:Data")];
for(var T=0;T<m.length;T++)if(m[T]){var G=atob(m[T]),K=new Uint8Array(G.length);U.tD(K,0,G);K=K.buffer;
var s=GI.jL(K),L=GI.WP(s).Kf(K);$.push(L[0])}}if(R.suffix){var _=R.suffix;if(GI.Qy(_,[0,0,1,10,14,0,0,0]))_=_.slice(78);
var P=U.XG(_,4,4),i=U.wU(_,String.fromCharCode(255)+String.fromCharCode(216)+String.fromCharCode(255));
if(P=="ftyp")alert("Photopea found a "+Ve.TB(_.length)+" MP4 video inside your image.",4e3);else if(U.XG(_,0,4)=="fixe"){alert("Unknown data - "+_.length+" B - at the end of the file",3e3);
var w=4,k=U.Kq(_,w);w+=4;var h=U.Kq(_,w);w+=4;var j=U.Kq(_,w);w+=4;console.log(k,h,j,_.slice(w,w+84));
w+=84;var I=U.XG(_,w,32);w+=32;w+=8;var I=U.XG(_,w,32);w+=32}else if(U.XG(_,8,13)=="FocusShot_Map"){var V=U.n(_,0),F=U.Kq(_,4),K=O.a(r*4),q=O.a(r*4);
for(var t=0;t<o;t++)for(var c=0;c<B;c++){var T=t*B+c,C=T<<2,f=8+13+((t>>>1)*B+c>>>1),W=_[f],l=_[f+(r>>>2)];
K[C]=K[C+1]=K[C+2]=W;K[C+3]=255;q[C]=q[C+1]=q[C+2]=l;q[C+3]=255}$.push({Ix:new N(0,0,B,o),data:K.buffer},{Ix:new N(0,0,B,o),data:q.buffer})}else if(P=="edof"){var Q=_[8+7];
console.log(Q.toString(16));var w=8+16,g=U.mW(_,w),v=U.mW(_,w+2),r=g*v;w+=4;w+=32+16;var Vg=O.a(r*4);
for(var T=0;T<r;T++){var C=T<<2;Vg[C]=Vg[C+1]=Vg[C+2]=_[w+T];Vg[C+3]=255}if(Q==16){}else if(Q==19){var GE=Vg.slice(0);
O.f._J(Vg,GE,g,v);var Gy=g;g=v;v=Gy;O.f.OhW(GE,Vg,g,v)}else throw"Unknown orientation of a depth map";
$.push({Ix:new N(0,0,g,v),data:Vg.buffer})}else if(i!=-1){if(i!=0)_=_.slice(i);var L=GI.WP("jpg").Kf(_.buffer);
for(var T=0;T<L.length;T++)$.push(L[T])}}if($.length>1){var GY=$[0].Ix;$[0].cI="Main";for(var T=1;T<$.length;
T++){var Ga=$[T].Ix;if(!Ga.EW(GY)){var GO=GY.Y/Ga.Y,J=GY.Z/Ga.Z,D=new GN;D.scale(GO,J);var GB=A.HQ.Wb([new Uint8Array($[T].data),Ga],1,O.f._B(D));
$[T]={Ix:GB.rect,data:GB.buffer}}$[T].cI=T==1&&$.length==3?"Original":"Depth Map"}}if(y[2]!=1||y[6]!=1)for(var T=0;
T<$.length;T++){var Gj=$[T],GX=new Uint8Array(Gj.data),B=Gj.Ix.Y,o=Gj.Ix.Z,g=y[0],v=y[1],H=O.a(g*v*4);
for(var t=0;t<v;t++)for(var c=0;c<g;c++){var GO=y[2]*c+y[3]*t+y[4],J=y[5]*c+y[6]*t+y[7],e=t*g+c<<2,f=J*B+GO<<2;
H[e]=GX[f+0];H[e+1]=GX[f+1];H[e+2]=GX[f+2];H[e+3]=GX[f+3]}Gj.Ix=new N(0,0,g,v);Gj.data=H.buffer}return $};
GI.JPG.Kf=function(R,Z,B){R=new Uint8Array(R);if(R[0]==255){var o=GI.JPG.aN(R);if(o[195]==null){var r=GI.JPG.QX(R,o),Y=GI.JPG.Qa(r,!1);
return Y}var E=U.at(R,o[195][0]+5),p=U.at(R,o[195][0]+7),y=UTIF.LosslessJpegDecode(R),z=p*E,u=O.a(z*4);
for(var Q=0;Q<z;Q++){var H=Q<<2,T=H-Q;u[H]=y[T];u[H+1]=y[T+1];u[H+2]=y[T+2];u[H+3]=255}return[{Ix:new N(0,0,p,E),data:u.buffer}]}else if(R[0]==0&&R[4]==48&&R[6]==1){var C=R,r=new PDFJS.Jbig2Image,e=[];
if(Z)e.push({data:Z,start:0,end:Z.length});e.push({data:C,start:0,end:C.length});var y=r.parseChunks(e);
if(!B)for(var Q=0;Q<y.length;Q++)y[Q]=~y[Q];var p=U.n(R,11),E=U.n(R,15),$=Math.ceil(p/8),x=O.a(p*E*4);
for(var M=0;M<E;M++){var m=M*$;for(var G=0;G<p;G++){var H=(M*p+G)*4,K=y[m+(G>>>3)]>>>7-(G&7)&1,s=K*255;
x[H]=s;x[H+1]=s;x[H+2]=s;x[H+3]=255}}return[{Ix:new N(0,0,p,E),data:x.buffer}]}else{var r=new PDFJS.JpxImage;
r.parse(R);var p=r.width,E=r.height,L=r.tiles,_=r.componentsCount,P=new Uint8Array(p*E*4),i=new N(0,0,p,E);
for(var r=0;r<L.length;r++){var w=L[r],k=w.width,h=w.height,j=k*h,EB=w.items,I=new N(w.left,w.top,k,h),V=new Uint8Array(j*4);
if(_==1)for(var Q=0;Q<j;Q++){var F=EB[Q],H=Q*4;V[H]=F;V[H+1]=F;V[H+2]=F;V[H+3]=255}else if(_==3)for(var Q=0;
Q<j;Q++){var T=Q*3,H=Q*4;V[H]=EB[T];V[H+1]=EB[T+1];V[H+2]=EB[T+2];V[H+3]=255}else console.log("Unknown number of components: "+_);
O.GN(V,I,P,i)}return[{Ix:i,data:P.buffer}]}};GI.WEBP={};GI.WEBP.qj=function(R,Z,B,o){if(o==null)o=[70,0,0,0];
var r=o[0]/100,y=0;if(R.length==1)return GI.aD(R[0][0],Z,B,"webp",r);var Y=U.BJ,E=U.qu,p=new RZ;Y(p,y,"RIFF    WEBPVP8X");
y+=16;E(p,y,10);y+=4;E(p,y,18);y+=4;E(p,y,Z-1);y+=3;E(p,y,B-1);y+=3;Y(p,y,"ANIM");y+=4;E(p,y,6);y+=4;
p.$_(y,4);p.data[y+3]=255;U.Wo(p,y+4,o[2]);y+=6;var z=[];for(var u=0;u<R.length;u++){z.push(R[u][0])}var Q=UPNG.encode.compress(z,Z,B,r==1?0:Math.max(2,Math.floor(r*500)),[!1,!0,!0,0,!0]).frames,H=new WebPDecoder;
for(var u=0;u<R.length;u++){Y(p,y,"ANMF");y+=4;var T=y;y+=4;var C=Q[u],e=C.rect,$=[e.x>>>1,e.y>>>1,e.width-1,e.height-1,R[u][1]];
for(var x=0;x<5;x++)E(p,y+3*x,$[x]);y+=15;p.$_(y,1);p.data[y]=1-C.blend<<1|C.dispose;y++;var M=new Uint8Array(GI.aD(C.img.buffer,e.width,e.height,"webp",1)),m=RJ.NW(M.buffer).sub,G=U.XG(M,12,4);
if(G!="VP8L"&&G!="VP8 "&&G!="VP8X")throw"e";var K=G=="VP8 "?0:G=="VP8L"?12:30,s=M.length-K;p.$_(y,s);
for(var x=0;x<s;x++)p.data[y+x]=M[K+x];y+=s;var L=y-T-4;E(p,T,L);if((L&1)==1){p.$_(y,1);y++}}E(p,4,y-8);
return p.data.slice(0,y).buffer};GI.WEBP.Kf=function(R){var Z=new Uint8Array(R),B=GI.WEBP.OEr(Z),o=GI.WEBP.OEK,r=new WebPDecoder,Y=RJ.NW(R).sub;
if(Y[0].on!="VP8X")return[o(r,B,Y[0])];var E={};for(var p=0;p<Y.length;p++)E[Y[p].on]=Y[p];if(E.ANIM==null){var y=E.ALPH?"ALPH":E["VP8 "]?"VP8 ":"VP8L";
return[o(r,B,{s:E[y].s-8})]}var z=E.VP8X.s,u=1+(U.Kq(Z,z+4)&16777215),Q=1+(U.Kq(Z,z+7)&16777215),H=[],T=new N(0,0,u,Q),C=O.a(u*Q*4);
for(var p=0;p<Y.length;p++){var e=Y[p];if(e.on!="ANMF")continue;var $=[];for(var x=0;x<5;x++)$.push(U.Kq(Z,e.s+x*3)&16777215);
var M=new N($[0]*2,$[1]*2,$[2]+1,$[3]+1),m=$[4],G=o(r,B,{s:e.s+16}),K=new Uint8Array(G.data),s=Z[e.s+15];
if(s>>>1==0)O.e.FO("norm",K,M,C,T,M,1);else O.GN(K,M,C,T);H.push({cI:"_a_"+H.length+","+m,Ix:T.clone(),data:C.buffer.slice(0)});
if((s&1)==1){O.yg(K,0);O.GN(K,M,C,T)}}return H};GI.WEBP.OEK=function(R,Z,B){var o=[0],r=[0],Y=R.WebPDecodeRGBA(Z,B.s,Z.length-B.s,o,r),E=Y.length,p=new Uint8Array(E);
for(var y=0;y<E;y++)p[y]=Y[y];return{Ix:new N(0,0,o[0],r[0]),data:p.buffer}};GI.WEBP.OEr=function(R){var Z=[],B=R.length;
for(var o=0;o<B;o++)Z.push(R[o]);return Z};GI.BMP={};GI.BMP.qj=function(R,Z,B,o){var r=new Uint8Array(R[0][0]),Y=!1,E={ZA:Z,N$:B,CU:1,de:Y?32:24,_v:Y?3:0,OIG:0},p=4*Math.floor((E.de*E.ZA+31)/32),z=0;
E.size=p*E.N$+2;var y=new RZ;U.BJ(y,z,"BM");z+=2;U.qu(y,z,p*B+16+40);z+=4;U.qu(y,z,0);z+=4;U.qu(y,z,54);
z+=4;y.$_(z,40);U.qu(y,z,40);z+=4;GI.BMP.OVQ(y.data,z,E,p);z+=36;y.$_(z,p*B);for(var u=0;u<B;u++){var Q=z+(B-1-u)*p;
for(var H=0;H<Z;H++){var T=(u*Z+H)*4,C=r[T+3]*(1/255);if(Y){y.data[Q+H*4+2]=r[T];y.data[Q+H*4+1]=r[T+1];
y.data[Q+H*4+0]=r[T+2];y.data[Q+H*4+3]=r[T+3]}else{y.data[Q+H*3+2]=r[T];y.data[Q+H*3+1]=r[T+1];y.data[Q+H*3+0]=r[T+2]}}}z+=p*B+2;
return y.data.slice(0,z).buffer};GI.BMP.Kf=function(R){R=new Uint8Array(R);var Z=0,B=U.XG(R,Z,2);Z+=2;
if(B!="BM"){alert("Unsupported BMP format: "+B);return}var o=U.Kq(R,Z);Z+=4;Z+=4;var r=U.Kq(R,Z);Z+=4;
return[GI.BMP.QB(R.buffer,Z,r)]};GI.BMP.QB=function(R,Z,B){R=new Uint8Array(R);var o=U.Kq(R,Z);Z+=4;
var r=GI.BMP.OVb(R,Z);if(r.CU!=1)alert("unsupported number of color planes: "+r.CU);if(r._v!=0&&r._v!=3){alert("Unsupported BMP compression: "+r._v);
return}Z+=o-4;var Y=Z;if(B==null)B=Z;var E=4*Math.floor((r.de*r.ZA+31)/32),p=r.ZA,y=Math.abs(r.N$),z=new Uint8Array(p*y*4);
O.set(z,255);if(r.de==32)for(var u=0;u<y;u++){var Q=B+(y-1-u)*E;for(var H=0;H<p;H++){var T=(u*p+H)*4;
z[T]=R[Q+H*4+2];z[T+1]=R[Q+H*4+1];z[T+2]=R[Q+H*4+0];z[T+3]=R[Q+H*4+3]}}else if(r.de==24)for(var u=0;
u<y;u++){var Q=B+(y-1-u)*E;for(var H=0;H<p;H++){var T=(u*p+H)*4;z[T]=R[Q+H*3+2];z[T+1]=R[Q+H*3+1];z[T+2]=R[Q+H*3+0]}}else if(r.de==16)for(var u=0;
u<y;u++){var Q=B+(y-1-u)*E;for(var H=0;H<p;H++){var T=(u*p+H)*4,C=R[Q+H*2+1]<<8|R[Q+H*2];z[T]=(C>>>11)*(255/31);
z[T+1]=(C>>>5&63)*(255/63);z[T+2]=(C&31)*(255/31)}}else if(r.de==8)for(var u=0;u<y;u++){var Q=B+(y-1-u)*E;
for(var H=0;H<p;H++){var T=(u*p+H)*4,e=R[Q+H];z[T]=R[Y+4*e+2];z[T+1]=R[Y+4*e+1];z[T+2]=R[Y+4*e+0]}}else if(r.de==4)for(var u=0;
u<y;u++){var Q=B+(y-1-u)*E;for(var H=0;H<p;H++){var T=(u*p+H)*4,e=R[Q+(H>>1)];e=e>>4-4*(H&1);e=e&15;
z[T]=R[Y+4*e+2];z[T+1]=R[Y+4*e+1];z[T+2]=R[Y+4*e+0]}}else if(r.de==1)for(var u=0;u<y;u++){var Q=B+(y-1-u)*E;
for(var H=0;H<p;H++){var T=(u*p+H)*4,$=R[Q+(H>>3)];$=$>>7-(H&7);$=$&1;z[T]=R[Y+4*$+2];z[T+1]=R[Y+4*$+1];
z[T+2]=R[Y+4*$+0]}}else throw"Unknown bit depth "+r.de;if(r.N$<0){var x=new Uint32Array(z.buffer),M=y>>>1;
for(var u=0;u<M;u++){var m=u*p,G=(y-u-1)*p;for(var H=0;H<p;H++){var K=x[m+H];x[m+H]=x[G+H];x[G+H]=K}}}return{Ix:new N(0,0,p,y),data:z.buffer}};
GI.BMP.OVb=function(R,Z){var B=U.Sp,o=U.Kq,r=U.mW,Y={};Y.ZA=B(R,Z);Z+=4;Y.N$=B(R,Z);Z+=4;Y.CU=r(R,Z);
Z+=2;Y.de=r(R,Z);Z+=2;Y._v=o(R,Z);Z+=4;Y.size=o(R,Z);Z+=4;var E=B(R,Z);Z+=4;var p=B(R,Z);Z+=4;Y.OIG=o(R,Z);
Z+=4;Z+=4;return Y};GI.BMP.OVQ=function(R,Z,B,o){U.Kb(R,Z,B.ZA);Z+=4;U.Kb(R,Z,B.N$);Z+=4;U.W$(R,Z,B.CU);
Z+=2;U.W$(R,Z,B.de);Z+=2;U.Kb(R,Z,B._v);Z+=4;U.Kb(R,Z,B.size);Z+=4;U.Kb(R,Z,2834);Z+=4;U.Kb(R,Z,2834);
Z+=4;U.Kb(R,Z,B.OIG);Z+=4;Z+=4};GI.GIF={};GI.GIF.qj=function(R,Z,B,o){if(o==null)o=[100,0,0,0];var r=[],Y=[],E=Z*B*4,$=null;
for(var p=0;p<R.length;p++){var y=new Uint8Array(R[p][0].slice(0));for(var z=0;z<E;z+=4){var u=y[z+3]=y[z+3]>127?255:0;
if(u==0)y[z]=y[z+1]=y[z+2]=0}r.push(y.buffer);Y.push(R[p][1])}var Q=Math.round(2+254*o[0]/100),H=UPNG.encode.compress(r,Z,B,Q,[!0,!1,!1,8,!1]),T=H.plte,C=new Uint8Array(4),e=new Uint32Array(C.buffer);
for(var z=0;z<T.length;z++){e[0]=T[z];var x=C[0];C[0]=C[2];C[2]=x;T[z]=e[0];if(e[0]==0)$=z}while(T.length<256)T.push(0);
var M=new Uint8Array(2e3+Z*B*R.length),m=o[2],G={palette:T};if(m!=1)G.loop=m==0?0:m-1;var K=new GifWriter(M,Z,B,G);
for(var z=0;z<R.length;z++){var s=H.frames[z],L=s.rect,_=s.blend,P=s.dispose;K.addFrame(L.x,L.y,L.width,L.height,s.img,{transparent:$,disposal:P+1,delay:Math.round(Y[z]/10)})}return M.slice(0,K.end()).buffer};
GI.GIF.Kf=function(R){var Z=new Uint8Array(R),B=new GifReader(Z),o=[],r=B.numFrames(),Y=B.width,E=B.height,p=O.a(Y*E*4),y=new N(0,0,Y,E);
for(var z=0;z<r;z++){var u=B.frameInfo(z),Q=u.disposal,H=Q==3?p.slice(0):null;B.decodeAndBlitFrameRGBA(z,p);
o.push({Ix:y.clone(),cI:"_a_frm"+z+","+u.delay*10,data:p.slice(0).buffer});if(u.disposal==2){var T=O.a(u.width*u.height*4);
O.GN(T,new N(u.x,u.y,u.width,u.height),p,y)}if(Q==3){for(var C=0;C<p.length;C++)p[C]=H[C]}}return o};
GI.ICO={};GI.ICO.qj=function(R,Z,B,o){console.log(R);if(Z>256||B>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var r=Math.min(Z,256),Y=Math.min(B,256),E=new N(0,0,r,Y),p=O.a(E.b()*4),y=new N(0,0,Z,B),z=new Uint8Array(R[0][0]);
O.GN(z,y,p,E);R[0][0]=p.buffer;Z=r;B=Y}var u=new RZ,Q=0,H=o&&o[0]==!0;U.Wo(u,Q,0);Q+=2;U.Wo(u,Q,H?2:1);
Q+=2;U.Wo(u,Q,1);Q+=2;var T=new Uint8Array(GI.PNG.qj(R,Z,B));u.$_(Q,16);u.data[Q]=Z==256?0:Z;Q++;u.data[Q]=B==256?0:B;
Q++;Q+=2;U.Wo(u,Q,H?Math.round(Z/2):1);Q+=2;U.Wo(u,Q,H?Math.round(B/2):32);Q+=2;U.qu(u,Q,T.length);Q+=4;
U.qu(u,Q,6+16);Q+=4;u.$_(Q,T.length);for(var C=0;C<T.length;C++)u.data[Q+C]=T[C];Q+=T.length;var e=new Uint8Array(Q);
for(var C=0;C<Q;C++)e[C]=u.data[C];return e.buffer};GI.ICO.Kf=function(R){R=new Uint8Array(R);var Z=4,B=U.mW(R,Z);
Z+=2;var o=[];for(var r=0;r<B;r++){var Y=GI.ICO.OGB(R,Z+r*16),E=R.buffer.slice(Y.offset,Y.offset+Y.size),p=GI.jL(E);
p=p?p:"bmp";if(p=="png"){var y=GI.WP(p),z=y.Kf(E);Y.Ce=z[0]}else{var u=GI.BMP.QB(E,0),E=O.a(Y.ZA*Y.N$*4);
O.GN(new Uint8Array(u.data),new N(0,0,u.Ix.Y,u.Ix.Z),E,new N(0,Y.N$,Y.ZA,Y.N$));u.data=E.buffer;u.Ix.Z=Y.N$;
Y.Ce=u}o.push(Y)}o.sort(function(Q,H){if(Q.ZA!=H.ZA)return Q.ZA-H.ZA;return Q.OBi-H.OBi});return[o.pop().Ce]};
GI.ICO.OGB=function(R,Z){var B={};B.ZA=R[Z];Z++;if(B.ZA==0)B.ZA=256;B.N$=R[Z];Z++;if(B.N$==0)B.N$=256;
B.OyB=R[Z];Z++;Z++;B.Oyw=U.mW(R,Z);Z+=2;B.OBi=U.mW(R,Z);Z+=2;B.size=U.Kq(R,Z);Z+=4;B.offset=U.Kq(R,Z);
Z+=4;return B};GI.TIFF={};GI.TIFF.Kf=function(R){var Z=Date.now(),o;if(O.raw.Bs(R.byteLength))return[O.raw.OVk(R)];
var B=UTIF.decode(R);if(B[0].t33421)o=B[0];else if(B[0].subIFD&&B[0].subIFD[0].t33421){o=B[0].subIFD[0];
if(o.t50706==null){if(o.t258[0]==8)o.t258[0]=12}}else if(B[0].subIFD&&B[0].subIFD[0]&&B[0].subIFD[0].t262&&B[0].subIFD[0].t262[0]==34892)o=B[0].subIFD[0];
else if(B[0].subIFD&&B[0].subIFD[1]&&B[0].subIFD[1].t33421)o=B[0].subIFD[1];else if(B[0].subIFD&&B[0].subIFD[2]&&B[0].subIFD[2].t33421)o=B[0].subIFD[2];
else if(B[3]&&B[3].t50648){var r=B[0].exifIFD,Y=r.makerNote;o=B[3];var E=Y.t224[1],p=Y.t224[2];o.t256=[E];
o.t257=[p];o.t258=[16];o.t259=[7];o.t262=[32803];o.t277=[1];o.t33421=[2,2];var y=o.t50656[0],z=O.raw.Rr[y];
if(z==null)throw"e";o.t33422=z}if(o){UTIF.decodeImage(R,o,B);for(var u in B[0])if((u[0]=="t"||u[0]=="e"||u[0]=="d")&&o[u]==null)o[u]=B[0][u];
o._U=B[0].t274?B[0].t274[0]:1;return[o]}var Q=[];for(var H=0;H<B.length;H++){var T=B[H],C=72;UTIF.decodeImage(R,T,B);
var e=T.t282,$=T.t296;if(e!=null&&$!=null){C=e[0][0]/e[0][1];if($[0]==3)C=Math.round(C/2.54)}if(T.width==null)continue;
var x=UTIF.toRGBA8(T).buffer,M=Ei.xg(T);Q.push({Ix:new N(0,0,T.width,T.height),data:x,ag:C,mt:M})}return Q};
GI.TIFF.qj=function(R,Z,B,o){if(o==null)o=[!1];var r={},Y=R[0];if(Y[3]!=null&&o[0])r=Ei.DS(Y[3]);if(Y[2]!=null){r.t282=r.t283=[[Math.round(Y[2]),1]];
r.t296=[2]}return UTIF.encodeImage(Y[0],Z,B,r)};GI.PSD={};GI.PSD.$n=!0;GI.PSD.Kf=function(R,Z){Yr.NW(R,Z)};
GI.PSD.OGl=function(R,Z,B,o){if(o==null)o=[!1,!1];if(!o[0])R.fw();var r=new RZ,Y=Yr.tJ(R,r,o);return[r.data.buffer,Y]};
GI.PSD.qj=function(R,Z,B,o){var r=GI.PSD.OGl(R,Z,B,o),Y=r[0],E=r[1];return Y.byteLength==E?Y:Y.slice(0,E)};
GI.PXD={};GI.PXD.$n=!0;GI.PXD.Kf=function(R,Z){var B=pako.inflate(new Uint8Array(R)),o=4;Z.Y=U.n(B,o);
o+=4;Z.Z=U.n(B,o);o+=4;var r=U.at(B,o);o+=2;o+=4;for(var Y=0;Y<r;Y++){var E=Z.xE();Z.q.push(E);var p=U.n(B,o),y=o+4,z=U.at(B,y);
y+=2;var u=U.qe(B,y,z);y+=z;E.AA(u);y++;E.rect.x=U.FV(B,y);y+=4;E.rect.y=U.FV(B,y);y+=4;E.rect.Y=U.n(B,y);
y+=4;E.rect.Z=U.n(B,y);y+=4;E.opacity=Math.round(255*B[y]/100);y++;E.eM(B[y]!=0);y++;E.QV="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[B[y]];
y++;y++;var Q=U.n(B,y);y+=4;if(Q!=E.rect.b()*4)throw"e";E.buffer=O.a(Q);for(var H=0;H<Q;H+=4){E.buffer[H]=B[y+H+1];
E.buffer[H+1]=B[y+H+2];E.buffer[H+2]=B[y+H+3];E.buffer[H+3]=B[y+H+0]}y+=Q;var T=U.n(B,y);y+=4;var C=B[y];
y++;var e=U.at(B,y);y+=2;if(T!=0){E.m=new S.iH;E.m.rect=E.rect.clone();E.m.channel=O.a(E.rect.b());for(var H=0;
H<T;H+=4)E.m.channel[H>>>2]=B[y+H+1];y+=T}if(C!=0){var $=JSON.parse(Gk.default);E.add.lmfx=$;for(var H=0;
H<Gk.order.length;H++)$[Gk._p[H]]={t:"VlLs",v:[]};var x={"102":9,"101":2,"103":0,"104":3,"105":8};for(var H=0;
H<C;H++){var M=U.at(B,y),m=y+M+4,G=B.slice(y,m),K=B[y+2];y+=3;var s=x[K+""],L=JSON.parse(Gk.eF[s]);$[Gk._p[s]].v.push({t:"Objc",v:L});
if(s!=0){L.Md.v.BlnM=Gd.iv("norm");L.Opct.v.val=B[y];y++;if(s==9||s==2){L.Dstn.v.val=B[y+1];y+=2}else y+=2;
L.blur.v.val=Math.round(B[y]*1.2);y++;if(s==9||s==2){L.uglg.v=!1;L.lagl.v.val=180-U.at(B,y);y+=2}L.Clr.v=O.L.hN({F:B[y+1],S:B[y+2],X:B[y+3]})}else{L.hglM.v.BlnM=L.sdwM.v.BlnM=Gd.iv("norm");
y+=2;var _=B[y++],P=B[y++];L.blur.v.val=Math.round(Math.sqrt(P*_)*1.3);L.srgR.v.val=Math.round(100*_/P);
L.uglg.v=!1;L.lagl.v.val=180-U.at(B,y);y+=2;L.hglO.v.val=B[y++];L.hglC.v=O.L.hN({F:B[y+1],S:B[y+2],X:B[y+3]});
y+=4;L.sdwO.v.val=B[y++];L.sdwC.v=O.L.hN({F:B[y+1],S:B[y+2],X:B[y+3]});y+=4}y=m}}if(y!=o+4+p){var i=U.n(B,y),V=0;
y+=4;y++;var z=U.at(B,y);y+=2;var w=U.qe(B,y,z);y+=z;w=w.replace(/\r/g,"\n");var z=U.at(B,y);y+=2;var k=U.qe(B,y,z);
y+=z;var h=U.at(B,y);y+=2;var j=E.rect.x,I=E.rect.Y;if(i&4)V=1;if(i&2)V=2;var F=Math.round(h*.4);if(V==0||V==2)I+=F;
if(V==1||V==2){I+=F;j-=F}E.add.lnsr="rend";E.add.TySh=GV.vr(0,0);E.add.TySh.VE=new N(0,0,100,100);E.add.TySh.P=new GN(1,0,0,1,j,E.rect.y+h*.25);
var q=E.add.TySh.HC;GV.zE(q,1);GV.lZ(q,[0,0,I,E.rect.Z]);GV.bt(q,0,w);var t=GV.QR(q,0,1);t.Bt.FontSize=h;
t.Bt.FillColor={Type:1,Values:[1,B[y+1]/255,B[y+2]/255,B[y+3]/255]};y+=4;if(B[y+5])k+="-Bold";if(B[y+6])k+="-Italic";
GV.rz(t,k);t.LH.Justification=V;y+=8;GV.Fz(q,0,w.length,t)}o+=4+p}};GI.SKETCH={};GI.SKETCH.$n=!0;GI.SKETCH.Kf=function(R,Z){yU.NW(R,Z)};
GI.XD={};GI.XD.$n=!0;GI.XD.Kf=function(R,Z){yY.NW(R,Z)};GI.FIG={};GI.FIG.$n=!0;GI.FIG.Kf=function(R,Z){ON.NW(R,Z)};
GI.XCF={};GI.XCF.$n=!0;GI.XCF.Kf=function(R,Z){Ow.NW(R,Z)};GI.SVG={};GI.SVG.$n=!0;GI.SVG.qj=function(R,Z,B,o,r){if(o==null)o=[!0,!1,!1,!1,!0,!0];
var Y=GC.Px(R,{Oqc:o[0],hidden:o[1],Oqd:o[2],OqP:o[3],names:o[4],Owk:o[5],OWj:Z,OWW:B},r.YN);return Y};
GI.SVG.Kf=function(R,Z){GC.NW(R,Z)};GI.EPS={};GI.EPS.$n=!0;GI.EPS.Kf=function(R,Z){var B=150,o=new GN(1,0,0,-1,0,0);
o.scale(B/72,B/72);Z.ag=B;var r=new Yj(Z,o,!0);FromPS.Parse(R,r)};GI.PDF={};GI.PDF.$n=!0;GI.PDF.qj=function(R,Z,B,o,r){if(o==null)o=["",100,!1,!1,!1];
o[5]=["jpg"];var Y=new ToPDF;Vb.Px(R,o,Y,r.YN);return Y.buffer};GI.PDF.Kf=function(R,Z,B){var o=(B?2:1)*72,r=new GN(1,0,0,-1,0,0);
r.scale(o/72,o/72);Z.ag=o;var Y=new Yj(Z,r,!0);FromPDF.Parse(R,Y)};GI.WMF={};GI.WMF.$n=!0;GI.WMF.Kf=function(R,Z){var B=72,o=new GN(1,0,0,1,0,0);
o.scale(B/72,B/72);Z.ag=B;var r=new Yj(Z,o,!1);FromWMF.Parse(R,r)};GI.EMF={};GI.EMF.Hm=!0;GI.EMF.$n=!0;
GI.EMF.qj=function(R,Z,B,o,r){if(o==null)o=["",!1,!1,!1];o[4]=[];var Y=new ToEMF;Vb.Px(R,o,Y,r.YN);return Y.buffer};
GI.EMF.Kf=function(R,Z){var B=72,o=new GN(1,0,0,1,0,0);o.scale(B/72,B/72);Z.ag=B;var r=new Yj(Z,o,!1);
FromEMF.Parse(R,r)};GI.CDR={};GI.CDR.$n=!0;GI.CDR.Kf=function(R,Z){return OE.NW(R,Z)};GI.ILBM={};GI.ILBM.Kf=function(R,Z){var B=yx.NW(R),o=new Uint8Array(R),r=0,Y,E,p,y,z,u,Q,H,T=0,C=0,e=0,$=0,x=0;
for(var M=0;M<B.sub.length;M++){var m=B.sub[M],r=m.s;if(m.on=="BMHD"){var G=[];for(var K=0;K<4;K++)G[K]=U.at(o,r+2*K);
r+=8;y=G[2];z=G[3];E=G[0];p=G[1];Y=O.a(E*p*4);u=o[r++];Q=o[r++];H=o[r++]}else if(m.on=="CMAP")T=r;else if(m.on=="CAMG"){var s=U.n(o,r);
C=s&32768,e=s&4,$=s&2048;x=s&128}else if(m.on=="BODY"){var L=E+15>>>4<<1,_=u+Q,P=O.a(L*p*_),h,j,I;Yh.wN(o,r,m.size,P,0,P.length);
var i=u-2,w=(1<<i)-1,k=Math.round(255/w);for(var z=0;z<p;z++)for(var y=0;y<E;y++){var V=0;for(var F=0;
F<_;F++){var q=(z*_+F)*L*8+y,t=P[q>>>3]>>>7-(q&7)&1;V|=t<<F}var c=V>>>u,V=V&(1<<u)-1,K=z*E+y,f=K<<2;
if(T!=0){if($!=0&&V>>>i!=0){var W=V>>>i,l=(V&w)*k;if(W==1)I=l;else if(W==2)h=l;else if(W==3)j=l}else{var l=T+V*3;
h=o[l+0];j=o[l+1];I=o[l+2]}}else{h=V>>>0&255;j=V>>>8&255;I=V>>>16&255}Y[f+0]=h;Y[f+1]=j;Y[f+2]=I;Y[f+3]=255}}}return[{Ix:new N(0,0,E,p),data:Y.buffer}]};
GI.TGA={};GI.TGA.$n=!1;GI.TGA.qj=function(R,Z,B,o){var r=new Uint8Array(R[0][0]),Y=2,E=O.Qx(r),p=E?4:3,y=new Uint8Array(Z*B*p);
for(var z=0;z<B;z++)for(var u=0;u<Z;u++){var Q=z*Z+u<<2,H=((B-z-1)*Z+u)*p;y[H]=r[Q+2];y[H+1]=r[Q+1];
y[H+2]=r[Q+0];if(E)y[H+3]=r[Q+3]}if(!0){var T=y.length,C=0,e=new Uint8Array(T*2),$=0,x=0,M=Z*p;while(x<T){var m=x,G=0,K=M*(Math.floor(x/M)+1);
while(m<K&&G<128){var s=!0;for(var L=0;L<p;L++)s=s&y[x+L]==y[m+L];if(!s)break;m+=p;G++}if(G==1){var _=1;
while(_<128&&x+(_+1)*p<K){var s=!0,P=x+_*p;for(var L=0;L<p;L++)s=s&y[P+L]==y[P+p+L];if(s)break;_++}e[$++]=_-1;
for(var i=0;i<_;i++)for(var L=0;L<p;L++)e[$++]=y[x++]}else{e[$++]=127+G;for(var L=0;L<p;L++)e[$+L]=y[x+L];
$+=p;x+=p*G;C+=G}}y=e.slice(0,$);Y+=8}var w=new Uint8Array(18+y.length+26);w[2]=Y;U.W$(w,12,Z);U.W$(w,14,B);
w[16]=p*8;w[17]=p==4?8:0;w.set(y,18);U.tD(w,18+y.length+8,"TRUEVISION-XFILE.");return w.buffer};GI.TGA.Kf=function(R){var Z=new Uint8Array(R),B=0,o=Z[0],r=Z[1],Y=Z[2],E=Z[4]*256+Z[3],p=Z[6]*256+Z[5],y=Z[7],z=Z[9]*256+Z[8],u=Z[11]*256+Z[10],Q=Z[13]*256+Z[12],H=Z[15]*256+Z[14],T=Z[16],C=Z[17],e=C>>>4,$=U.XG(Z,18,o),x=O.a(Q*H*4),B=18+o+(p*y>>>3),M=new Uint8Array(Z.buffer,B);
if(Y>3){var m=0,G=Z,K=new Uint8Array(Q*H*T>>>3),s=B,L=0,_=Z.length,P=T>>>3;while(L<K.length){var i=G[s];
s++;if(i<128)for(var w=0;w<i+1;w++){for(var k=0;k<P;k++){K[L]=G[s];L++;s++}}else{for(var w=0;w<i-127;
w++){for(var k=0;k<P;k++){K[L]=G[s+k];L++}}s+=P}}Y-=8;M=K;B=s}else B+=Q*H*T>>>3;var h=new Uint8Array(4),j=GI.TGA.OGt;
for(var I=0;I<H;I++)for(var V=0;V<Q;V++){var F=(e&2)==0?(H-I-1)*Q+V:I*Q+V,q=I*Q+V,t,c,f,W=255,l=F*T>>>3;
if(Y==1){var g=0;if(T==8)g=M[l];else throw"e";j(Z,18+o+E+(g*y>>>3),y,h);t=h[0];c=h[1];f=h[2];W=h[3]}else if(Y==2){j(M,l,T,h);
t=h[0];c=h[1];f=h[2];W=h[3]}else if(Y==3){if(T==8)t=c=f=M[l];else throw"e"}var v=q*4;x[v]=t;x[v+1]=c;
x[v+2]=f;x[v+3]=W}return[{Ix:new N(0,0,Q,H),data:x.buffer,cI:$}]};GI.TGA.OGt=function(R,Z,B,o){var r,Y,E,p=255;
if(B==24||B==32){E=R[Z];Y=R[Z+1];r=R[Z+2];if(B==32)p=R[Z+3]}else if(B==16){var y=R[Z+1]<<8|R[Z+0];r=y>>>10&31;
Y=y>>>5&31;E=y>>>0&31;r=Math.round(r*(255/31));Y=Math.round(Y*(255/31));E=Math.round(E*(255/31))}else throw"e";
o[0]=r;o[1]=Y;o[2]=E;o[3]=p};GI.LIF={};GI.LIF.Kf=function(R){var Z=new Uint8Array(R),B=0,o=112,r=42,Y=U.Kq,u;
B+=8;var E=Z[B];B++;if(E!=r)throw"e";var p=Y(Z,B);B+=4;var y=U.SU(Z,B,p);B+=p*2;var z=[];while(B<Z.length){u=Y(Z,B);
B+=4;if(u!=o)throw u;B+=4;u=Z[B];B++;if(u!=r)throw u;var Q=Y(Z,B);B+=4;var H=Z[B];B++;if(H!=r){B-=5;
Q=Y(Z,B);B+=8;u=Z[B];B++;if(u!=r)throw u}var T=Y(Z,B)*2;B+=4;if(Q>0)z.push(B+T);B+=T+Q}var C=new DOMParser,e=C.parseFromString(y,"image/svg+xml").firstChild.firstChild,$=[];
GI.LIF.QA(e,Z,z,$);return $};GI.LIF.QA=function(R,Z,B,o){var r=R.firstChild.firstChild;if(r.tagName=="Image"){var Y=r.getElementsByTagName("ImageDescription")[0],E=Y.children[0].children,p=Y.children[1].children,y=B.shift(),z=[];
for(var u=0;u<p.length;u++)z.push(parseInt(p[u].getAttribute("NumberOfElements")));while(z.length>3)z[2]*=z.pop();
var Q=E.length,H=z[0],T=z[1],C=z[2],e=parseInt(p[0].getAttribute("BytesInc"));for(var $=0;$<C;$++){var x=O.a(H*T*4);
O.yg(x,4278190080);for(var M=0;M<Q;M++){var m=O.a(H*T);if(e==1)for(var G=0;G<m.length;G++)m[G]=Z[y+G];
else if(e==2)for(var G=0;G<m.length;G++)m[G]=Math.min(255,(Z[y+G*2+1]<<8|Z[y+G*2])>>>2);else throw e;
if(M!=3)O.qH(m,x,M);if(Q==1){O.qH(m,x,1);O.qH(m,x,2)}y+=H*T*e}o.push({Ix:new N(0,0,H,T),data:x.buffer})}}else{var K=R.children,s=0;
while(s<K.length&&K[s].tagName!="Children")s++;if(s==K.length)throw"e";K=K[s].children;for(var L=0;L<K.length;
L++)GI.LIF.QA(K[L],Z,B,o)}};GI.RAF={};GI.RAF.Kf=function(R){var Z=new Uint8Array(R),B=16,o=U.XG(Z,B,4),Y=32,x=0,M=0,m=!1,t;
B+=4;var r=U.XG(Z,B,8);B+=8;while(Z[B+Y-1]==0)Y--;var E=U.XG(Z,B,Y);B+=32;var p=U.XG(Z,B,4);B+=4;B+=20;
var y=U.n(Z,B);B+=4;var z=U.n(Z,B);B+=4;var u=U.n(Z,B);B+=4;var Q=U.n(Z,B);B+=4;var H=U.n(Z,B);B+=4;
var T=U.n(Z,B);B+=4;var C="FujiFilm "+E,e=[0,1,1,2];if(C=="FujiFilm X10"){C="FujiFilm FinePix X10";e=[2,1,1,0]}var $={t271:["FujiFilm"],t272:[C],t277:[1],t33421:[2,2],t33422:e,_U:1};
B=u;var G=[],K=U.at,s=U.n(Z,B);B+=4;for(var L=0;L<s;L++){var _=K(Z,B);B+=2;var P=K(Z,B);B+=2;if(_==256){M=K(Z,B);
x=K(Z,B+2)}else if(_==272){G=[K(Z,B),K(Z,B+2)]}else if(_==273){G.push(K(Z,B),K(Z,B+2))}else if(_==304){m=!(Z[B]>>>7)}else if(_==305){var i=Math.round(Math.sqrt(P)),w=[];
for(var k=0;k<P;k++)w.push(Z[B+k]);w.reverse();$.t33421=[i,i];$.t33422=w}else if(_==12272){var h=K(Z,B),j=K(Z,B+2),I=K(Z,B+6);
$.t50728=[h/j,1,h/I]}B+=P}var V=x<M,F=Z.slice(H,H+T),q=Math.round(T*8/(x*M));if(F[0]==73&&F[1]==73&&F[2]==42){t=UTIF.decode(F.buffer)[0].fujiIFD;
q=t.t61443[0];var c=t.t61454;$.t50728=[c[0]/c[1],1,c[0]/c[2]];var f=t.t61447[0];F=F.slice(f,f+t.t61448[0])}var T=F.length,W=T*8<x*M*q;
if(W)alert("Compressed RAF is not supported yet :(");function l(Gy,GY,Ga){Ga=Ga<<8-(GY&7);var GO=GY>>>3;
Gy[GO]|=Ga>>>16;Gy[GO+1]|=Ga>>>8;Gy[GO+2]|=Ga}var g=T*8/(x*M);if(g==16)for(var L=0;L<T;L+=2){var v=F[L];
F[L]=F[L+1];F[L+1]=v}else if(g==14){for(var L=0;L<T;L+=4){var v=F[L];F[L]=F[L+3];F[L+3]=v;v=F[L+1];F[L+1]=F[L+2];
F[L+2]=v}}else if(g==12)for(var L=0;L<T;L+=3){var Vg=F[L+2]<<16|F[L+1]<<8|F[L+0];Vg=Vg>>>12|(Vg&4095)<<12;
F[L]=Vg>>>16&255;F[L+1]=Vg>>>8&255;F[L+2]=Vg&255}if(V)F=GI.RAF.OGN(F,x,M);var GE=V?2:1;x*=GE;$.t256=[x];
$.t257=[M];$.t258=[q];$.t50719=[G[1],G[0]*GE];$.t50720=[G[3],G[2]*GE];$.width=x;$.height=M;$.data=new Uint8Array(F.buffer);
return[$]};GI.RAF.OGN=function(R,Z,B){R=new Uint16Array(R.buffer);var o=new Uint16Array(Z*B*2);for(var r=0;
r<B;r+=2)for(var Y=0;Y<Z;Y++){var E=r*Z+Y,p=E*2,y=R[E],z=R[E+Z];o[p+1]=o[p+2*Z]=z;if(((r>>>1)+Y&1)==0){o[p]=y;
o[p+2*Z+1]=R[E+1]}else{o[p]=R[E-1];o[p+2*Z+1]=y}}return o};GI.RAW={};GI.RAW.Hm=!0;GI.RAW.qj=function(R,Z,B,o){var r=new Uint8Array(R[0][0]),Y=Z*B,E=[1,3,4][o[0]],p=8+8*o[1],y=o[2];
if(E==1){var z=new Uint8Array(Z*B);O.KT(r,z,0);r=z}if(E==3){var z=new Uint8Array(Z*B*3);for(var u=0;
u<Y;u++){var Q=u*4,H=u*3;z[H]=r[Q];z[H+1]=r[Q+1];z[H+2]=r[Q+2]}r=z}if(p==16){var T=r.length,z=new Uint8Array(T*2);
for(var u=0;u<T;u++){var C=Math.round(r[u]*(65535/255));z[u*2+y]=C>>>8;z[u*2+1-y]=C&255}r=z}return r.buffer};
function O(){}O.qI=document.createElement("canvas");O.p=O.qI.getContext("2d");O.az=function(R,Z,B,o){o=Math.log(o)/Math.log(2);
o=Math.round(o);for(var r=0;r<B;r++)for(var Y=0;Y<Z;Y++){var E=r*Z+Y<<2,p=O.QS(r,Y,o);R[E]=R[E+1]=R[E+2]=p;
R[E+3]=255}};O.QS=function(R,Z,B){return 255-((R>>>B)+(Z>>>B)&1)*51};O.ue=function(R){var Z=R.toString(16);
while(Z.length<6)Z="0"+Z;return Z};O.OYa=function(R){return parseInt(R,16)};O.jJ=function(R){return.3*R.F+.59*R.S+.11*R.X};
O.i$=function(R){return Math.max(R.F,R.S,R.X)-Math.min(R.F,R.S,R.X)};O.Ju=function(R,Z,B){return.3*R+.59*Z+.11*B};
O.OwM=function(R,Z,B){return Math.max(R,Z,B)-Math.min(R,Z,B)};O.ie=function(R,Z){var B=Z-R,o=Math.abs(B),r=B-1,Y=B+1;
if(Math.abs(r)<o)B=r;else if(Math.abs(Y)<o)B=Y;return B};O.tq=function(R,Z,B,o){return(Z-B)*o/(R-B)};
O.aU=function(R){return R<.0031308?12.92*R:1.055*Math.pow(R,1/2.4)-.055};O.OYj=function(R){return R<.04045?R/12.92:Math.pow((R+.055)/1.055,2.4)};
O.OwF=function(R,Z,B,o){if(B<Z)B+=o;if(R<Z)R+=o;return(R-Z)/(B-Z)};O.OYv=function(R,Z){var B=Math.min(R.length,Z.length);
for(var o=0;o<B;o+=4){var r=R[o],Y=R[o+1],E=R[o+2];Z[o]=16+Math.floor(65.481/255*r+128.553/255*Y+24.966/255*E+.5);
Z[o+1]=128-Math.floor(37.797/255*r-74.203/255*Y+112/255*E+.5);Z[o+2]=128+Math.floor(112/255*r-93.786/255*Y-18.214/255*E+.5);
Z[o+3]=R[o+3]}};O.Gd=function(R,Z,B){var o=Math.max(R,Z,B),r=Math.min(R,Z,B),Y=0,E=0,p=(o+r)*.5;if(o!=r){var y=o-r;
E=p>.5?y/(2-(o+r)):y/(o+r);switch(o){case R:Y=(Z-B)/y+(Z<B?6:0);break;case Z:Y=(B-R)/y+2;break;case B:Y=(R-Z)/y+4;
break}Y*=1/6}return{N$:Y,tH:E,Aj:p}};O.ZU=function(R,Z,B){var o,r,Y;if(Z==0)o=r=Y=B;else{var E=B<.5?B*(1+Z):B+Z-B*Z,p=2*B-E;
o=O.Zb(p,E,R+1/3);r=O.Zb(p,E,R);Y=O.Zb(p,E,R-1/3)}return{F:o,S:r,X:Y}};O.Zb=function(R,Z,B){if(B<0)B+=1;
if(B>1)B-=1;if(B<1/6)return R+(Z-R)*6*B;if(B<1/2)return Z;if(B<2/3)return R+(Z-R)*(2/3-B)*6;return R};
O.Jn=function(R,Z,B){var o=Math.max(R,Z,B),r=Math.min(R,Z,B),Y,E,p=o,y=o-r;E=o==0?0:y/o;if(o==r)Y=0;
else{switch(o){case R:Y=(Z-B)/y+(Z<B?6:0);break;case Z:Y=(B-R)/y+2;break;case B:Y=(R-Z)/y+4;break}Y*=1/6}return{N$:Y,tH:E,ct:p}};
O.Aa=function(R,Z,B){var o,r,Y,E,p,y,z,u;E=Math.floor(R*6);p=R*6-E;y=B*(1-Z);z=B*(1-p*Z);u=B*(1-(1-p)*Z);
switch(E%6){case 0:o=B,r=u,Y=y;break;case 1:o=z,r=B,Y=y;break;case 2:o=y,r=B,Y=u;break;case 3:o=y,r=z,Y=B;
break;case 4:o=u,r=y,Y=B;break;case 5:o=B,r=y,Y=z;break}return{F:o,S:r,X:Y}};O.ap=function(){var R=[],Z=[];
for(var B=0;B<2e3;B++){var o=B/1e3;R[B]=O.OYj(o);Z[B]=o>.008856?Math.pow(o,1/3):(903.3*o+16)*(1/116)}return[R,Z]}();
O.MO=function(R,Z,B){var o=O.ap[0],r=O.ap[1];R=o[~~(R*(1e3/255))];Z=o[~~(Z*(1e3/255))];B=o[~~(B*(1e3/255))];
var Y=O.lN.Ofd,E=Y[0]*R+Y[1]*Z+Y[2]*B,p=Y[4]*R+Y[5]*Z+Y[6]*B,y=Y[8]*R+Y[9]*Z+Y[10]*B;E=E*(100/96.72);
p=p*(100/100);y=y*(100/81.427);return O.Qt(E,p,y)};O.Qt=function(R,Z,B){var o=O.ap[1],r=o[~~(R*1e3)],Y=o[~~(Z*1e3)],E=o[~~(B*1e3)];
return{wi:116*Y-16,t:500*(r-Y),X:200*(Y-E)}};O.Qf=function(R,Z,B){var o=903.3,r=.008856,Y=(R+16)/116,E=Y*Y*Y,p=Y-B/200,y=p*p*p,z=Z/500+Y,u=z*z*z,Q=y>r?y:(116*p-16)/o,H=E>r?E:(116*Y-16)/o,T=u>r?u:(116*z-16)/o,C=T*96.72,e=H*100,$=Q*81.427,x=O.lN.$C(O.lN.It,[C/100,e/100,$/100,0]);
for(var M=0;M<4;M++)x[M]=Math.max(0,Math.min(255,O.aU(x[M])*255));return{F:x[0],S:x[1],X:x[2]}};O.QD=function(R,Z,B,o,r){var Y=R.wi,E=R.t,p=R.X,y=(Y<Z.wi?Z.wi-Y:B.wi<Y?B.wi-Y:0)*(1/100),z=(E<Z.t?Z.t-E:B.t<E?B.t-E:0)*(1/116),u=(p<Z.X?Z.X-p:B.X<p?B.X-p:0)*(1/116),Q=Math.sqrt(y*y+z*z+u*u)*1.35;
return Q<=o?Math.min(1,1.17*(1-Q*r)):0};O.tx=function(R,Z,B){var o=Z-O.jJ(R);B.F=R.F+o;B.S=R.S+o;B.X=R.X+o;
O.OYs(B)};O.iK=function(R,Z,B){var o=R.F,r=R.S,Y=R.X;if(o==r&&r==Y){B.F=B.S=B.X=0}else if(o>r){if(o>Y){if(r>Y){B.F=Z;
B.S=O.tq(o,r,Y,Z);B.X=0}else{B.F=Z;B.X=O.tq(o,Y,r,Z);B.S=0}}else{B.X=Z;B.F=O.tq(Y,o,r,Z);B.S=0}}else{if(o<Y){if(r>Y){B.S=Z;
B.X=O.tq(r,Y,o,Z);B.F=0}else{B.X=Z;B.S=O.tq(Y,r,o,Z);B.F=0}}else{B.S=Z;B.F=O.tq(r,o,Y,Z);B.X=0}}};O.OYs=function(R){var Z=R.F,B=R.S,o=R.X,r=O.Ju(Z,B,o),Y=Math.min(Z,B,o),E=Math.max(Z,B,o);
if(Y<0){var p=r/(r-Y);Z=r+(Z-r)*p;B=r+(B-r)*p;o=r+(o-r)*p}if(E>1){var p=(1-r)/(E-r);Z=r+(Z-r)*p;B=r+(B-r)*p;
o=r+(o-r)*p}R.F=Z;R.S=B;R.X=o};O.gc=function(R,Z,B,o,r,Y){var E=new Uint32Array(R.buffer),p=0;o=Math.log(o)/Math.log(2);
o=Math.round(o);for(var y=0;y<B;y++)for(var z=0;z<Z;z++){E[p++]=(y+Y>>o)+(z+r>>o)&1==1?4291348680:4294967295}};
O.Owc=function(R,Z,B){return(R>>B)+(Z>>B)&1==1?200:255};O.FZ=function(R,Z){var B=R.length;for(var o=0;
o<B;o+=4)Z[o>>2]=Math.floor(R[o+0]*.3+R[o+1]*.59+R[o+2]*.11+.5)};O.as=function(R,Z){var B=Z.length;for(var o=0;
o<B;o+=4){var r=R[o>>>2];Z[o]=r;Z[o+1]=r;Z[o+2]=r}};O.oh=function(R,Z){var B=R.t,o=R.F,r=R.S,Y=R.X,E=Math.min(R.t.length,Z.buffer.byteLength>>>2),p=4*Math.floor(E/4),y=new Uint32Array(Z.buffer),z=new Uint32Array(B.buffer),u=new Uint32Array(o.buffer),Q=new Uint32Array(r.buffer),H=new Uint32Array(Y.buffer);
for(var T=0;T<p;T+=4){var C=z[T>>2],e=H[T>>2],$=Q[T>>2],x=u[T>>2];y[T]=C<<24|(e&255)<<16|($&255)<<8|x&255;
y[T+1]=(C&65280)<<16|(e&65280)<<8|$&65280|(x&65280)>>>8;y[T+2]=(C&16711680)<<8|e&16711680|($&16711680)>>>8|(x&16711680)>>>16;
y[T+3]=C&4278190080|(e&4278190080)>>>8|($&4278190080)>>>16|(x&4278190080)>>>24}for(var T=p;T<E;T++)y[T]=B[T]<<24|Y[T]<<16|r[T]<<8|o[T]};
O.OwP=function(R,Z,B,o){var r=R.t,Y=R.F,E=R.S,p=R.X,y=new Uint32Array(Z.buffer),z=o.x-B.x,u=z+o.Y,Q=o.y-B.y,H=Q+o.Z;
for(var T=Q;T<H;T++){var C=T*B.Y+z;for(var e=z;e<u;e++){y[C]=r[C]<<24|p[C]<<16|E[C]<<8|Y[C];C++}}};O.AB=function(R,Z){var B=Z.t,o=Z.F,r=Z.S,Y=Z.X,E=Math.min(Z.t.length,R.buffer.byteLength>>>2),p=4*Math.floor(E/4),y=new Uint32Array(R.buffer),z=new Uint32Array(B.buffer),u=new Uint32Array(o.buffer),Q=new Uint32Array(r.buffer),H=new Uint32Array(Y.buffer);
for(var T=0;T<p;T+=4){var C=y[T],e=y[T+1],$=y[T+2],x=y[T+3];u[T>>2]=C&255|(e&255)<<8|($&255)<<16|x<<24;
Q[T>>2]=(C&65280)>>8|e&65280|($&65280)<<8|(x&65280)<<16;H[T>>2]=(C&16711680)>>16|(e&16711680)>>8|$&16711680|(x&16711680)<<8;
z[T>>2]=C>>>24|e>>>24<<8|$>>>24<<16|x&4278190080}for(var T=p;T<E;T++){var M=y[T];o[T]=M>>0&255;r[T]=M>>8&255;
Y[T]=M>>16&255;B[T]=M>>24&255}};O.KT=function(R,Z,B){var o=new Uint8Array(R.buffer),r=Math.min(o.length/4,Z.length);
for(var Y=0;Y<r;Y++){Z[Y]=o[(Y<<2)+B]}};O.qH=function(R,Z,B){var o=new Uint8Array(Z.buffer),r=new Uint32Array(R.buffer),Y=Math.min(o.length/4,R.length),E=0;
while(E+4<Y){var p=r[E>>>2];o[(E<<2)+B]=p&255;o[(E<<2)+B+4]=p>>>8&255;o[(E<<2)+B+8]=p>>>16&255;o[(E<<2)+B+12]=p>>>24;
E+=4}while(E<Y){o[(E<<2)+B]=R[E];E++}};O.clone=function(R){return R.slice(0)};O.tp=function(R,Z){O.set(R.t,Z);
O.set(R.F,Z);O.set(R.S,Z);O.set(R.X,Z)};O.set=function(R,Z){Z=Math.round(Z);var B=Z<<24|Z<<16|Z<<8|Z,o=new Uint32Array(R.buffer),r=o.length;
for(var Y=0;Y<r;Y++)o[Y]=B};O.yg=function(R,Z,B){if(B==null)B=0;var o=new Uint32Array(R.buffer),r=o.length;
for(var Y=0;Y<r;Y++)o[Y]=o[Y]&B|Z};O.OYm=function(R,Z,B,o,r){if(r==null)r=0;var Y=new Uint32Array(R.buffer);
B=B.Rg(Z);var E=B.x-Z.x,p=B.y-Z.y,y=B.Y,z=B.Z,u=Z.Y;for(var Q=0;Q<z;Q++){var H=(p+Q)*u+E;for(var T=0;
T<y;T++){Y[H]=Y[H]&r|o;H++}}};O.OAk=function(R,Z){O.VG(R.t,Z.t);O.VG(R.F,Z.F);O.VG(R.S,Z.S);O.VG(R.X,Z.X)};
O.VG=function(R,Z){var B=Math.min(R.buffer.byteLength,Z.buffer.byteLength),o=B>>>2,R=new Uint32Array(R.buffer,0,o),Z=new Uint32Array(Z.buffer,0,o);
Z.set(R)};O.OAO=function(R,Z){return O.EW(R.t,Z.t)&&O.EW(R.F,Z.F)&&O.EW(R.S,Z.S)&&O.EW(R.X,Z.X)};O.EW=function(R,Z){var B=R.buffer.byteLength,o=Z.buffer.byteLength,r=new Uint32Array(R.buffer,0,B>>2),Y=new Uint32Array(Z.buffer,0,o>>2);
if(B!=o)return!1;var E=r.length;for(var p=0;p<E;p++)if(Y[p]!=r[p])return!1;return!0};O.za=function(R){var Z=new Uint32Array(R.buffer),B=Z.length;
for(var o=0;o<B;o++)Z[o]=~Z[o]};O.OAU=function(R){var Z=R.length;for(var B=3;B<Z;B+=4)R[B]=~R[B]};O.ORk=function(R){return R+(R%4==0?0:4-R%4)};
O.a=function(R,Z){if(Z==null)Z=!1;if(!Z)R=O.ORk(R);try{var B=new Uint8Array(R)}catch(Yd){alert("Not enough RAM! (need "+Math.round(R/(1<<20))+" MB)",7e3);
throw"low_ram"}return B};O.ir=function(R){var Z=R.length,B=R[Z-2],o=R[Z-1];while(o.Y>=2||o.Z>=2){var r=O.to(B,o);
R.push(r.Y$,r.rect);B=r.Y$;o=r.rect}};O.to=function(R,Z,B){var o=Z.Y,r=Z.Z,Y=o>>1,E=r>>1,p=new N(Z.x,Z.y,Y,E),y=B&&B.length==Y*E*4?B:O.a(Y*E*4),z=new Uint32Array(R.buffer),u=new Uint32Array(y.buffer);
for(var Q=0;Q<E;Q++)for(var H=0;H<Y;H++){var T=Q*Y+H,C=(Q<<1)*o+(H<<1),e=z[C],$=z[C+1],x=z[C+o],M=z[C+o+1],m=e>>>24,G=$>>>24,K=x>>>24,s=M>>>24,L=m+G+K+s;
if(L==1020){var _=(e>>>0&255)+($>>>0&255)+(x>>>0&255)+(M>>>0&255)+2>>>2,P=(e>>>8&255)+($>>>8&255)+(x>>>8&255)+(M>>>8&255)+2>>>2,i=(e>>>16&255)+($>>>16&255)+(x>>>16&255)+(M>>>16&255)+2>>>2;
u[T]=255<<24|i<<16|P<<8|_}else if(L==0)u[T]=0;else{var _=(e>>>0&255)*m+($>>>0&255)*G+(x>>>0&255)*K+(M>>>0&255)*s,P=(e>>>8&255)*m+($>>>8&255)*G+(x>>>8&255)*K+(M>>>8&255)*s,i=(e>>>16&255)*m+($>>>16&255)*G+(x>>>16&255)*K+(M>>>16&255)*s,w=1/L;
_=~~(_*w+.5);P=~~(P*w+.5);i=~~(i*w+.5);u[T]=L+2>>>2<<24|i<<16|P<<8|_}}return{rect:p,Y$:y}};O.QN=function(R,Z,B){var o=Z.Y,r=Z.Z,Y=o>>1,E=r>>1,p=new N(Z.x,Z.y,Y,E),y=B&&B.length==Y*E*4?B:O.a(Y*E*4),z=new Uint32Array(R.buffer),u=new Uint32Array(y.buffer);
for(var Q=0;Q<E;Q++)for(var H=0;H<Y;H++){var T=Q*Y+H,C=(Q<<1)*o+(H<<1),e=z[C],$=z[C+1],x=z[C+o],M=z[C+o+1],m=2+(e>>>0&255)+($>>>0&255)+(x>>>0&255)+(M>>>0&255)>>>2,G=2+(e>>>8&255)+($>>>8&255)+(x>>>8&255)+(M>>>8&255)>>>2,K=2+(e>>>16&255)+($>>>16&255)+(x>>>16&255)+(M>>>16&255)>>>2;
u[T]=4278190080|K<<16|G<<8|m}return{rect:p,Y$:y}};O.ORj=function(R,Z,B){var o=Z.Y,r=Z.Z,Y=2*Math.floor(o/3),E=2*Math.floor(r/3),p=new N(Z.x,Z.y,Y,E),y=B&&B.length==Y*E*4?B:O.a(Y*E*4),z=new Uint32Array(R.buffer),u=new Uint32Array(y.buffer);
for(var Q=0;Q<E;Q+=2)for(var H=0;H<Y;H+=2){var T=Q*Y+H,C=(Q*3>>>1)*o+(H*3>>>1),e=z[C],$=z[C+1],x=z[C+2],M=z[C+o],m=z[C+1+o],G=z[C+2+o],K=z[C+o+o],s=z[C+1+o+o],L=z[C+2+o+o],_=e>>>24<<2,P=(e>>>16&255)*_,i=(e>>>8&255)*_,w=(e&255)*_,k=$>>>24<<1,h=($>>>16&255)*k,j=($>>>8&255)*k,I=($&255)*k,V=x>>>24<<2,F=(x>>>16&255)*V,q=(x>>>8&255)*V,t=(x&255)*V,c=M>>>24<<1,f=(M>>>16&255)*c,W=(M>>>8&255)*c,l=(M&255)*c,g=m>>>24,v=(m>>>16&255)*g,Vg=(m>>>8&255)*g,GE=(m&255)*g,Gy=G>>>24<<1,GY=(G>>>16&255)*Gy,Ga=(G>>>8&255)*Gy,GO=(G&255)*Gy,J=K>>>24<<2,D=(K>>>16&255)*J,GB=(K>>>8&255)*J,Gj=(K&255)*J,GX=s>>>24<<1,Gw=(s>>>16&255)*GX,G_=(s>>>8&255)*GX,Gf=(s&255)*GX,Gl=L>>>24<<2,GU=(L>>>16&255)*Gl,GD=(L>>>8&255)*Gl,Gi=(L&255)*Gl,Gh=_+k+c+g,G$=V+k+Gy+g,GA=J+GX+c+g,GJ=Gl+GX+Gy+g,Ge=Gh==0?0:1/Gh,Gq=G$==0?0:1/G$,Gv=GA==0?0:1/GA,yi=GJ==0?0:1/GJ,GZ=0,OU=0,GH=0,OB=0;
GZ=~~(.5+(w+I+l+GE)*Ge);OU=~~(.5+(i+j+W+Vg)*Ge);GH=~~(.5+(P+h+f+v)*Ge);OB=~~(.5+Gh*(1/9));u[T]=OB<<24|GH<<16|OU<<8|GZ;
GZ=~~(.5+(t+I+GO+GE)*Gq);OU=~~(.5+(q+j+Ga+Vg)*Gq);GH=~~(.5+(F+h+GY+v)*Gq);OB=~~(.5+G$*(1/9));u[T+1]=OB<<24|GH<<16|OU<<8|GZ;
GZ=~~(.5+(Gj+Gf+l+GE)*Gv);OU=~~(.5+(GB+G_+W+Vg)*Gv);GH=~~(.5+(D+Gw+f+v)*Gv);OB=~~(.5+GA*(1/9));u[T+Y]=OB<<24|GH<<16|OU<<8|GZ;
GZ=~~(.5+(Gi+Gf+GO+GE)*yi);OU=~~(.5+(GD+G_+Ga+Vg)*yi);GH=~~(.5+(GU+Gw+GY+v)*yi);OB=~~(.5+GJ*(1/9));u[T+Y+1]=OB<<24|GH<<16|OU<<8|GZ}return{rect:p,Y$:y}};
O.ORI=function(R,Z,B){var o=Z.Y,r=Z.Z,Y=2*Math.floor(o/3),E=2*Math.floor(r/3),p=new N(Z.x,Z.y,Y,E),y=B&&B.length==Y*E*4?B:O.a(Y*E*4),z=new Uint32Array(R.buffer),u=new Uint32Array(y.buffer);
for(var Q=0;Q<E;Q+=2)for(var H=0;H<Y;H+=2){var T=Q*Y+H,C=(Q*3>>>1)*o+(H*3>>>1),e=z[C],$=z[C+1],x=z[C+2],M=z[C+o],m=z[C+1+o],G=z[C+2+o],K=z[C+o+o],s=z[C+1+o+o],L=z[C+2+o+o],_=(e>>>16&255)<<2,P=(e>>>8&255)<<2,i=(e&255)<<2,w=($>>>16&255)<<1,k=($>>>8&255)<<1,h=($&255)<<1,j=(x>>>16&255)<<2,I=(x>>>8&255)<<2,V=(x&255)<<2,F=(M>>>16&255)<<1,q=(M>>>8&255)<<1,t=(M&255)<<1,c=m>>>16&255,f=m>>>8&255,W=m&255,l=(G>>>16&255)<<1,g=(G>>>8&255)<<1,v=(G&255)<<1,Vg=(K>>>16&255)<<2,GE=(K>>>8&255)<<2,Gy=(K&255)<<2,GY=(s>>>16&255)<<1,Ga=(s>>>8&255)<<1,GO=(s&255)<<1,J=(L>>>16&255)<<2,D=(L>>>8&255)<<2,GB=(L&255)<<2,Gj=0,GX=0,Gw=0;
Gj=~~(.5+(i+h+t+W)*(1/9));GX=~~(.5+(P+k+q+f)*(1/9));Gw=~~(.5+(_+w+F+c)*(1/9));u[T]=255<<24|Gw<<16|GX<<8|Gj;
Gj=~~(.5+(V+h+v+W)*(1/9));GX=~~(.5+(I+k+g+f)*(1/9));Gw=~~(.5+(j+w+l+c)*(1/9));u[T+1]=255<<24|Gw<<16|GX<<8|Gj;
Gj=~~(.5+(Gy+GO+t+W)*(1/9));GX=~~(.5+(GE+Ga+q+f)*(1/9));Gw=~~(.5+(Vg+GY+F+c)*(1/9));u[T+Y]=255<<24|Gw<<16|GX<<8|Gj;
Gj=~~(.5+(GB+GO+v+W)*(1/9));GX=~~(.5+(D+Ga+g+f)*(1/9));Gw=~~(.5+(J+GY+l+c)*(1/9));u[T+Y+1]=255<<24|Gw<<16|GX<<8|Gj}return{rect:p,Y$:y}};
O.Qx=function(R){var Z=255,B=R.length;B-=B&31;for(var o=3;o<B;o+=32)Z=Z&R[o]&R[o+4]&R[o+8]&R[o+12]&R[o+16]&R[o+20]&R[o+24]&R[o+28];
return Z!=255};O.aF=function(R,Z,B,o){var r=O.to,Y=O.ORj,p=0;if(!O.Qx(R)){r=O.QN;Y=O.ORI}var E={Y$:R,rect:Z},y=B;
while(y<.499){p++;y*=2}for(var z=0;z<p;z++)E=r(E.Y$,E.rect,o);if(y<.5001)E=r(E.Y$,E.rect,o);else E=Y(E.Y$,E.rect,o);
return E};O.Qr=function(R,Z,B,o){var r=O.ORp,Y=O.ORo,E={Y$:R,rect:Z},p=0,y=B;while(y<.499){p++;y*=2}for(var z=0;
z<p;z++)E=r(E.Y$,E.rect,o);if(y<.5001)E=r(E.Y$,E.rect,o);else E=Y(E.Y$,E.rect,o);return E};O.ORp=function(R,Z,B){var o=Z.Y,r=Z.Z,Y=o>>1,E=r>>1,p=new N(Z.x,Z.y,Y,E);
if(R==null)return{rect:p};var y=B&&B.length>=Y*E?B:O.a(Y*E);for(var z=0;z<E;z++){var u=z*Y;for(var Q=0;
Q<Y;Q++){var H=(z<<1)*o+(Q<<1);y[u+Q]=2+R[H]+R[H+1]+R[H+o]+R[H+o+1]>>>2}}return{rect:p,Y$:y}};O.ORo=function(R,Z,B){var o=Z.Y,r=Z.Z,Y=2*Math.floor(o/3),E=2*Math.floor(r/3),p=new N(Z.x,Z.y,Y,E);
if(R==null)return{rect:p};var y=B&&B.length>=Y*E?B:O.a(Y*E);for(var z=0;z<E;z+=2)for(var u=0;u<Y;u+=2){var Q=z*Y+u,H=(z*3>>>1)*o+(u*3>>>1),T=R[H]<<2,C=R[H+1]<<1,e=R[H+2]<<2,$=R[H+o]<<1,x=R[H+1+o],M=R[H+2+o]<<1,m=R[H+o+o]<<2,G=R[H+1+o+o]<<1,K=R[H+2+o+o]<<2;
y[Q]=~~(.5+(T+C+$+x)*(1/9));y[Q+1]=~~(.5+(e+C+M+x)*(1/9));y[Q+Y]=~~(.5+(m+G+$+x)*(1/9));y[Q+Y+1]=~~(.5+(K+G+M+x)*(1/9))}return{rect:p,Y$:y}};
O.WX=function(R,Z,B,o,r){var Y=Z.Rg(o);if(r)Y=Y.Rg(r);var E=Math.max(0,Y.x-Z.x),p=Math.max(0,Y.x-o.x),y=Math.max(0,Y.y-Z.y),z=Math.max(0,Y.y-o.y),u=Y.Y,Q=Y.Z;
for(var H=0;H<Q;H++){var T=(y+H)*Z.Y+E,C=(z+H)*o.Y+p;for(var e=0;e<u;e++){B[C+e]=R[T+e]}}};O.QZ=function(R,Z,B,o){if(Z.EW(o)){O.qH(R,B,3);
return}var r=Z.Rg(o),Y=Math.max(0,r.x-Z.x),E=Math.max(0,r.x-o.x),p=Math.max(0,r.y-Z.y),y=Math.max(0,r.y-o.y),z=r.Y,u=r.Z;
for(var Q=0;Q<u;Q++){var H=(p+Q)*Z.Y+Y,T=(y+Q)*o.Y+E;for(var C=0;C<z;C++)B[(T+C<<2)+3]=R[H+C]}};O.am=function(R,Z,B,o){var r=Z.Rg(o),Y=Math.max(0,r.x-Z.x),E=Math.max(0,r.x-o.x),p=Math.max(0,r.y-Z.y),y=Math.max(0,r.y-o.y),z=r.Y,u=r.Z;
for(var Q=0;Q<u;Q++){var H=(p+Q)*Z.Y+Y,T=(y+Q)*o.Y+E;for(var C=0;C<z;C++)B[T+C]=R[(H+C<<2)+3]}};O.OAx=function(R,Z,B,o){var r=Z.Rg(o),Y=Math.max(0,r.x-Z.x),E=Math.max(0,r.x-o.x),p=Math.max(0,r.y-Z.y),y=Math.max(0,r.y-o.y),z=r.Y,u=r.Z;
for(var Q=0;Q<u;Q++){var H=(p+Q)*Z.Y+Y,T=(y+Q)*o.Y+E;for(var C=0;C<z;C++)B[T++]=R[H++]}};O.GN=function(R,Z,B,o,r){if(Z.EW(o)&&(r==null||r.EW(o))){O.VG(R,B);
return}R=new Uint32Array(R.buffer),B=new Uint32Array(B.buffer);var Y=Z.Rg(o);if(r)Y=Y.Rg(r);var E=Math.max(0,Y.x-Z.x),p=Math.max(0,Y.x-o.x),y=Math.max(0,Y.y-Z.y),z=Math.max(0,Y.y-o.y),u=Y.Y,Q=Y.Z,H=u&3,T=H==0?u:u-H;
for(var C=0;C<Q;C++){var e=(y+C)*Z.Y+E,$=(z+C)*o.Y+p,x=0;while(x<T){B[$+x]=R[e+x];B[$+x+1]=R[e+x+1];
B[$+x+2]=R[e+x+2];B[$+x+3]=R[e+x+3];x+=4}if(H==1){B[$+x]=R[e+x]}else if(H==2){B[$+x]=R[e+x];B[$+x+1]=R[e+x+1]}else if(H==3){B[$+x]=R[e+x];
B[$+x+1]=R[e+x+1];B[$+x+2]=R[e+x+2]}}};O.ad=function(R,Z,B,o){var r=Z.Rg(o),Y=Math.max(0,r.x-Z.x),E=Math.max(0,r.x-o.x),p=Math.max(0,r.y-Z.y),y=Math.max(0,r.y-o.y),z=r.Y,u=r.Z,Q=R.t,H=R.F,T=R.S,C=R.X,e=B.t,$=B.F,x=B.S,M=B.X;
for(var m=0;m<u;m++){var G=(p+m)*Z.Y+Y,K=(y+m)*o.Y+E;for(var s=0;s<z;s++){e[K+s]=Q[G+s];$[K+s]=H[G+s];
x[K+s]=T[G+s];M[K+s]=C[G+s]}}};O.PO=function(R){var Z=R.length;for(var B=0;B<Z;B+=4){var o=R[B+3];R[B]=~~(R[B]*o*(1/255)+.5);
R[B+1]=~~(R[B+1]*o*(1/255)+.5);R[B+2]=~~(R[B+2]*o*(1/255)+.5)}};O.PL=function(R){var Z=R.length;for(var B=0;
B<Z;B+=4){var o=R[B+3];if(o==0||o==255)continue;var r=255/o;R[B]=~~(R[B]*r+.5);R[B+1]=~~(R[B+1]*r+.5);
R[B+2]=~~(R[B+2]*r+.5)}};O.OAe=function(){var R=new Uint8Array(256*256);for(var Z=0;Z<256;Z++)for(var B=0;
B<256;B++)R[B*256+Z]=Math.round(255*Z/B);return R}();O.in=function(R,Z){for(var B=0;B<R.length;B++)if(R[B]!=Z)return!1;
return!0};O.Ip=function(R){return R+1+(R>>>8)>>>8};O.round=function(R,Z){if(Z==null)Z=128;var B=R.length;
for(var o=0;o<B;o++)R[o]=R[o]<Z?0:255};O.iQ=function(R,Z){var B=R.length;for(var o=0;o<B;o++)R[o]=Math.round(R[o]*Z)};
O.OAH=function(R,Z){var B=R.length;for(var o=0;o<B;o+=4)R[o+3]=Math.round(R[o+3]*Z)};O.UO=function(R,Z){var B=new Uint32Array(R.buffer),o=new Uint32Array(Z.buffer),r=B.length;
for(var Y=0;Y<r;Y++){var E=B[Y],p=o[Y];o[Y]=O.Ip((E>>>24)*(p>>>24))<<24|O.Ip((E>>>16&255)*(p>>>16&255))<<16|O.Ip((E>>>8&255)*(p>>>8&255))<<8|O.Ip((E&255)*(p&255))}};
O.Qu=function(R,Z){var B=R.length;for(var o=0;o<B;o++)Z[(o<<2)+3]=O.Ip(Z[(o<<2)+3]*R[o])};O.OXL=function(R,Z,B,o){var r=Math.max(0,o.x-Z.x),Y=Math.max(0,Z.x-o.x),E=Math.max(0,o.y-Z.y),p=Math.max(0,Z.y-o.y),y=Math.min(Z.x+Z.Y,o.x+o.Y)-Math.max(Z.x,o.x),z=Math.min(Z.y+Z.Z,o.y+o.Z)-Math.max(Z.y,o.y);
for(var u=0;u<z;u++){var Q=(E+u)*Z.Y+r,H=(p+u)*o.Y+Y;for(var T=0;T<y;T++){B[H]=O.Ip(B[H]*R[Q]);Q++;H++}}};
O.Ac=function(R,Z,B,o){var r=Math.max(0,o.x-Z.x),Y=Math.max(0,Z.x-o.x),E=Math.max(0,o.y-Z.y),p=Math.max(0,Z.y-o.y),y=Math.min(Z.x+Z.Y,o.x+o.Y)-Math.max(Z.x,o.x),z=Math.min(Z.y+Z.Z,o.y+o.Z)-Math.max(Z.y,o.y);
for(var u=0;u<z;u++){var Q=(E+u)*Z.Y+r,H=((p+u)*o.Y+Y<<2)+3;for(var T=0;T<y;T++){B[H]=O.Ip(B[H]*R[Q]);
Q++;H+=4}}};O.jE=function(R,Z,B,o){var r=Math.max(0,o.x-Z.x),Y=Math.max(0,Z.x-o.x),E=Math.max(0,o.y-Z.y),p=Math.max(0,Z.y-o.y),y=Math.min(Z.x+Z.Y,o.x+o.Y)-Math.max(Z.x,o.x),z=Math.min(Z.y+Z.Z,o.y+o.Z)-Math.max(Z.y,o.y);
for(var u=0;u<z;u++){var Q=((E+u)*Z.Y+r<<2)+3,H=((p+u)*o.Y+Y<<2)+3;for(var T=0;T<y;T++){B[H]=O.Ip(B[H]*R[Q]);
Q+=4;H+=4}}};O.OAu=function(R,Z,B,o){var r=1/255,Y=Math.max(0,o.x-Z.x),E=Math.max(0,Z.x-o.x),p=Math.max(0,o.y-Z.y),y=Math.max(0,Z.y-o.y),z=Math.min(Z.x+Z.Y,o.x+o.Y)-Math.max(Z.x,o.x),u=Math.min(Z.y+Z.Z,o.y+o.Z)-Math.max(Z.y,o.y);
for(var Q=0;Q<u;Q++){var H=(p+Q)*Z.Y+Y,T=(y+Q)*o.Y+E;for(var C=0;C<z;C++){B[T]=r*B[T]*(255-R[H]);H++;
T++}}};O.OAQ=function(R,Z){var B=[];for(var o=0;o<256;o++)B.push(0);var r=R.length,Y=1/255;for(var o=0;
o<r;o++)B[R[o]]+=Z[o]*Y;return B};O.fy=function(R){var Z=new Float64Array(256),B=new Float64Array(256),o=new Float64Array(256),r=new Float64Array(256),Y=R.length;
for(var E=0;E<Y;E+=4){var p=R[E+3]*(1/255);B[R[E+0]]+=p;o[R[E+1]]+=p;r[R[E+2]]+=p}for(var E=0;E<256;
E++)Z[E]=B[E]+o[E]+r[E];return[Z,B,o,r,Y>>>2]};O.QT=function(R,Z){var B=new Uint32Array(R.buffer),o=B.length;
for(var r=0;r<o;r++){var Y=B[r],E=Y&255,p=Y>>8&255,y=Y>>16&255,z=Y>>24&255;B[r]=Z[E]|Z[p]<<8|Z[y]<<16|Z[z]<<24}};
O.OXl=function(R,Z,B,o,r,Y,E){var p=new Uint32Array(R.buffer),y=new Uint32Array(Z.buffer),z=p.length,u=0;
while(256<<u<B.length)u++;if(!E&&!Y){for(var Q=0;Q!=z;Q++){var H=p[Q],T=(H&255)<<u,C=(H>>>8&255)<<u,e=(H>>>16&255)<<u,$=B[T],x=o[C],M=r[e];
y[Q]=$|x<<8|M<<16|H&4278190080}return}for(var Q=0;Q<z;Q++){var H=p[Q],T=(H&255)<<u,C=(H>>>8&255)<<u,e=(H>>>16&255)<<u;
if(Y)T=C=e=Math.round(T*.3+C*.59+e*.11);var $=B[T],x=o[C],M=r[e];if(E){var m=O.Ju(T,C,e),G=O.Ju($,x,M);
if(m>G){var K=(m-G)/(255-G);$+=K*(255-$);x+=K*(255-x);M+=K*(255-M)}else if(G==0)$=x=M=0;else{var K=m/G;
$=K*$;x=K*x;M=K*M}}y[Q]=$|x<<8|M<<16|H&4278190080}};O.OAg=function(R){var Z=new Uint32Array(256),o=0;
for(var B=0;B<R.length;B++)Z[R[B]]++;for(var B=0;B<256;B++)if(Z[B]>Z[o])o=B;return o};O.Fs=function(R,Z){var B=Z.Y,o=Z.Z,top=0,r=0,Y=0,E=0,p=0;
p=0;for(var y=0;y<o;y++){var z=y*B;for(var u=0;u<B;u++)p|=R[z+u];if(p!=0)break;top++}if(top==o)return new N(0,0,0,0);
p=0;for(var y=o-1;y>=0;y--){var z=y*B;for(var u=0;u<B;u++)p|=R[z+u];if(p!=0)break;Y++}var Q=o-Y;p=0;
for(var u=0;u<B;u++){for(var y=top;y<Q;y++)p|=R[y*B+u];if(p!=0)break;r++}p=0;for(var u=B-1;u>=0;u--){for(var y=top;
y<Q;y++)p|=R[y*B+u];if(p!=0)break;E++}var H=new N(Z.x+r,Z.y+top,B-r-E,o-top-Y);return H};O.jV=function(R,Z,B,o){if(o==null)o=[!0,!0,!0,!0];
if(B==null)B=0;var r=new Uint32Array(R.buffer),Y=Z.Y,E=Z.Z,top=0,p=0,y=0,z=0,u=!1,Q=[r[0],r[r.length-1],0][B];
u=!1;if(o[0])for(var H=0;H<E;H++){var T=H*Y;for(var C=0;C<Y;C++)if(r[T+C]!=Q)u=!0;if(u)break;top++}u=!1;
if(o[2])for(var H=E-1;H>=0;H--){var T=H*Y;for(var C=0;C<Y;C++)if(r[T+C]!=Q)u=!0;if(u)break;y++}u=!1;
if(o[1])for(var C=0;C<Y;C++){for(var H=0;H<E;H++)if(r[H*Y+C]!=Q)u=!0;if(u)break;p++}u=!1;if(o[3])for(var C=Y-1;
C>=0;C--){for(var H=0;H<E;H++)if(r[H*Y+C]!=Q)u=!0;if(u)break;z++}var e=new N(Z.x+p,Z.y+top,Y-p-z,E-top-y);
return e.Pa()?new N(0,0,0,0):e};O.O__=function(R){var Z=255,B=R.length;for(var o=3;o<B;o+=4)Z=Z&R[o];
return Z};O.gG=function(R){var Z=O.Fs(R.channel,R.rect);if(Z.EW(R.rect))return;var B=O.a(Z.b());O.WX(R.channel,R.rect,B,Z);
R.channel=B;R.rect=Z};O.Uj=function(R){var Z=O.a(R.buffer.length>>2);O.KT(R.buffer,Z,3);var B=O.Fs(Z,R.rect);
if(B.EW(R.rect))return;var o=new O.a(B.b()*4);O.GN(R.buffer,R.rect,o,B);R.buffer=o;R.rect=B};O.extend=function(R,Z,B){if(R.rect.Uv(Z))return;
var o=R.rect.fj(Z),r=O.a(o.b());if(B!=null)O.set(r,B);O.WX(R.channel,R.rect,r,o);R.rect=o;R.channel=r};
O.OXq=function(R,Z){if(Z.Pa()||R.rect.Uv(Z))return;var B=R.rect.fj(Z),o=O.a(B.b()*4);O.GN(R.buffer,R.rect,o,B);
R.rect=B;R.buffer=o};O.O_L=function(R,Z,B){var o=Z.clone(),r=B.b(),Y=R.fj(o);while(Y.b()/R.b()<2&&Y.b()<r){o.yj(16,16);
Y=Y.fj(o).Rg(B)}if(r/Y.b()<2)Y=B.clone();return Y};O.QC=function(R){var Z=R.length;for(var B=0;B<Z;B+=4){var o=R[B+3];
if(R[B]>o)R[B]=o;if(R[B+1]>o)R[B+1]=o;if(R[B+2]>o)R[B+2]=o}};O.AK=function(R,Z,B){if(!B.a_(R))return!1;
var o=Math.floor(R.x)-B.x,r=Math.floor(R.y)-B.y,Y=r*B.Y+o;return Z[Y]>128};O.OXW=function(R,Z,B){if(!B.a_(R))return!1;
var o=Math.floor(R.x)-B.x,r=Math.floor(R.y)-B.y,Y=r*B.Y+o;return Z[4*Y+3]>128};O.jR=function(R){if(O.UI.length<R){O.UI=O.a(R);
O.set(O.UI,255)}return O.UI};O.UI=O.a(0);O.GP=function(R){if(O.jB.length<R)O.jB=O.a(R);return O.jB};
O.jB=O.a(0);O.ZF=function(R){this.t=O.a(R);this.F=O.a(R);this.S=O.a(R);this.X=O.a(R)};O.ZF.prototype.clone=function(){var R=this.t.length,Z=new O.ZF(1);
Z.t=O.clone(this.t);Z.F=O.clone(this.F);Z.S=O.clone(this.S);Z.X=O.clone(this.X);return Z};O.Qc={OaJ:function(R,Z){var B=R.length;
R.push(Z);var o=B>>>1;while(o!=0&&R[B][0]<R[o][0]){var r=R[B];R[B]=R[o];R[o]=r;B=o;o=B>>>1}},Oaz:function(R){if(R.length==2)return R.pop();
var top=R[1],Z=1;R[1]=R.pop();var B=R.length;while(!0){var o=Z<<1,r=o+1,Y=Z;if(o<B&&R[o][0]<R[Y][0])Y=o;
else if(r<B&&R[r][0]<R[Y][0])Y=r;else break;var E=R[Z];R[Z]=R[Y];R[Y]=E;Z=Y}return top}};O.e={};O.e.U_=new Float64Array(256);
O.e.Mz=new Uint8Array(256*256);O.e.jw=new Uint8Array(256*256);(function(){for(var R=0;R<256;R++)O.e.U_[R]=255/R;
for(var R=0;R<256;R++)for(var Z=0;Z<256;Z++)O.e.Mz[R*256+Z]=R==0?0:Math.round(Z*255/R);for(var R=0;R<256;
R++)for(var Z=0;Z<256;Z++)O.e.jw[R*256+Z]=Math.round(R*(255-Z)/255)}());O.e.FO=function(R,Z,B,o,r,Y,E,p){if(p==null)p=GS.xC();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(R)==-1){E=E*p.fill;p.fill=1;p.style=!1}var y="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),z="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),u=O.e[R+"F"];
if(p.UQ==null&&R=="norm")O.e.OjW(Z,B,o,r,Y,E,u,p.Um?1:0);else if(R=="diss")O.e.OIL(Z,B,o,r,Y,E,u,p.Um?1:0);
else if(y.indexOf(R)!=-1)O.e.OII(Z,B,o,r,Y,E,u,p);else if(z.indexOf(R)!=-1)O.e.OI_(Z,B,o,r,Y,E,u,p)};
O.e.OaM=function(R,Z,B){var o=R*B+1-B;return o<.001?0:1-Math.min(1,(1-Z)/o)};O.e.OjE=function(R,Z,B){return R*B==1?1:Math.min(1,Z/(1-R*B))};
O.e.Da=function(R){return R<=.25?((16*R-12)*R+4)*R:Math.sqrt(R)};O.e.normF=function(R,Z,B){return R};
O.e.darkF=function(R,Z,B){return Math.min(R,Z)};O.e["mul F"]=function(R,Z,B){return R*Z};O.e.idivF=function(R,Z,B){var o=R*B+1-B;
return Z==1?1:1-Z>=o?0:1-(1-Z)/o};O.e.lbrnF=function(R,Z,B){return Math.max(0,R*B+Z-B)};O.e.dkClF=function(R,Z,B){var o=O.jJ(R)<O.jJ(Z)?R:Z;
B.F=o.F;B.S=o.S;B.X=o.X;return B};O.e.liteF=function(R,Z,B){return Math.max(R,Z)};O.e.scrnF=function(R,Z,B){return Z+R-Z*R};
O.e["div F"]=function(R,Z,B){R*=B;return Z==0?0:Z>=1-R?1:Z/(1-R)};O.e.lddgF=function(R,Z,B){R*=B;return Math.min(1,R+Z)};
O.e.lgClF=function(R,Z,B){var o=O.jJ(R)>O.jJ(Z)?R:Z;B.F=o.F;B.S=o.S;B.X=o.X;return B};O.e.overF=function(R,Z,B){return O.e.hLitF(Z,R,B)};
O.e.sLitF=function(R,Z,B){return R<=.5?Z-(1-2*R)*Z*(1-Z):Z+(2*R-1)*(O.e.Da(Z)-Z)};O.e.hLitF=function(R,Z,B){return R<=.5?O.e["mul F"](2*R,Z,B):O.e.scrnF(2*R-1,Z,B)};
O.e.vLitF=function(R,Z,B){return R<=.5?O.e.OaM(2*R,Z,B):O.e.OjE(2*R-1,Z,B)};O.e.lLitF=function(R,Z,B){return R<=.5?O.e.lbrnF(2*R,Z,B):O.e.lddgF(2*R-1,Z,B)};
O.e.pLitF=function(R,Z,B){return R<=.5?O.e.darkF(2*R,Z,B):O.e.liteF(2*R-1,Z,B)};O.e.hMixF=function(R,Z,B){if(B>.99)return R+Z<1?0:1;
return Math.min(1,Math.max(0,(Z+R*B-B)/(1-B+1e-6)))};O.e.diffF=function(R,Z,B){R*=B;return Math.abs(R-Z)};
O.e.smudF=function(R,Z,B){return R+Z-2*R*Z};O.e.fsubF=function(R,Z,B){return Math.max(Z-R,0)};O.e.fdivF=function(R,Z,B){return Math.min(Z/R,1)};
O.e["hue F"]=function(R,Z,B){O.iK(R,O.i$(Z),B);O.tx(B,O.jJ(Z),B)};O.e["sat F"]=function(R,Z,B){O.iK(Z,O.i$(R),B);
O.tx(B,O.jJ(Z),B)};O.e.colrF=function(R,Z,B){O.tx(R,O.jJ(Z),B)};O.e["lum F"]=function(R,Z,B){O.tx(Z,O.jJ(R),B)};
O.e.OjW=function(R,Z,B,o,r,Y,E,p){var y=Z.Rg(o).Rg(r),z=Math.max(0,y.x-Z.x),u=Math.max(0,y.x-o.x),Q=Math.max(0,y.y-Z.y),H=Math.max(0,y.y-o.y),T=y.Y,C=y.Z,e=Z.Y,$=o.Y,x=O.e.Mz,M=O.e.jw,m=new Uint32Array(R.buffer),G=new Uint32Array(B.buffer);
for(var K=0;K<C;K++){var s=(Q+K)*e+z,L=(H+K)*$+u;for(var _=0;_<T;_++){var P=m[s+_],k=255;if(P>>>24==0)continue;
if(P>>>24==255&&Y==1&&p==0){G[L+_]=m[s+_];continue}var i=G[L+_],w=255*Y&255;if(p==0){w=(P>>>24)*Y&255;
k=i>>>24}var h=M[k<<8|w],j=w+h,I=P&255,V=P>>>8&255,F=P>>>16&255,q=i&255,t=i>>>8&255,c=i>>>16&255;G[L+_]=p*(i>>>24)+(1-p)*j<<24|x[j<<8|O.Ip(F*w+c*h)]<<16|x[j<<8|O.Ip(V*w+t*h)]<<8|x[j<<8|O.Ip(I*w+q*h)]}}};
O.e.OjF=function(R,Z,B,o,r,Y){var E=Z.Rg(o).Rg(r),p=Math.max(0,E.x-Z.x),y=Math.max(0,E.x-o.x),z=Math.max(0,E.y-Z.y),u=Math.max(0,E.y-o.y),Q=E.Y,H=E.Z,T=Z.Y,C=o.Y,e=O.e.Mz,$=O.e.jw,x=new Uint32Array(R.buffer),M=new Uint32Array(B.buffer),m=Math.floor(Math.random()*16777215),G=0;
for(var K=0;K<H;K++){var s=(z+K)*T+p,L=(u+K)*C+y;for(var _=0;_<Q;_++){var P=x[s+_];if(P>>>24==0)continue;
if(P>>24==255&&Y==1){M[L+_]=P;continue}var i=M[L+_],w=(P>>>24)*Y*(1/255),k=(i>>>24)*(1/255),h=k*(1-w),j=w+h,I=P&255,V=P>>>8&255,F=P>>>16&255,q=i&255,t=i>>>8&255,c=i>>>16&255;
G>>>=8;if((_&3)==0)G=O.e._V(L+_+m);var f=j==0?0:1/j,W=Math.floor(j*(256*255))+(G&255)>>>8,l=Math.floor((F*w+c*h)*f+.5),g=Math.floor((V*w+t*h)*f+.5),v=Math.floor((I*w+q*h)*f+.5);
M[L+_]=W<<24|l<<16|g<<8|v}}};O.e.UL=function(R,Z,B,o,r,Y,E,p){var y=O.Ju(R,Z,B),z=O.Ju(o,r,Y),u=Math.min,Q=O.e.Oju,H=Q(y,p,0);
H=u(H,Q(R,p,8));H=u(H,Q(Z,p,16));H=u(H,Q(B,p,24));var T=Q(z,p,4);T=u(T,Q(o,p,12));T=u(T,Q(r,p,20));T=u(T,Q(Y,p,28));
T=Math.max(T,1-E);var C=Math.min(H,T);return C<0?0:C>1?1:C};O.e.Oju=function(R,Z,B){return Math.min((R-Z[B])*Z[B+1],(R-Z[B+3])*Z[B+2])};
O.e.OII=function(R,Z,B,o,r,Y,E,p){var y=1/255,z=y*Y,u=p.Um?1:0,Q=p.fill,H=p.style,T=Z.Rg(o).Rg(r),C=Math.max(0,T.x-Z.x),e=Math.max(0,T.x-o.x),$=Math.max(0,T.y-Z.y),x=Math.max(0,T.y-o.y),M=T.Y,m=T.Z,G=Z.Y,K=o.Y,s=new Uint32Array(R.buffer),L=new Uint32Array(B.buffer);
for(var _=0;_<m;_++){var P=($+_)*G+C,i=(x+_)*K+e;for(var w=0;w<M;w++,P++,i++){var k=s[P],f=1;if(k>>>24==0)continue;
var h=L[i],j=(k&255)*y,I=(k>>>8&255)*y,V=(k>>>16&255)*y,F=(h&255)*y,q=(h>>>8&255)*y,t=(h>>>16&255)*y,c=Y;
if(u==0){c=(k>>>24)*z;f=(h>>>24)*y}if(p.UQ)c*=O.e.UL(j,I,V,F,q,t,f,p.UQ);var W=f*(1-c),l=c+W,g=255/l,v=H?1:c,Vg=((1-f)*c*j+(1-v)*f*F+v*f*E(j,F,(1+c-v)*Q))*g,GE=((1-f)*c*I+(1-v)*f*q+v*f*E(I,q,(1+c-v)*Q))*g,Gy=((1-f)*c*V+(1-v)*f*t+v*f*E(V,t,(1+c-v)*Q))*g;
l=c*Q+f*(1-c*Q);var GY=Math.round(l*255);L[i]=u*(h>>>24)+(1-u)*GY<<24|Gy<<16|GE<<8|Vg}}};O.e.OI_=function(R,Z,B,o,r,Y,E,p){var y=1/255,z=y*Y,u=p.Um?1:0,Q=Z.Rg(o).Rg(r),H=Math.max(0,Q.x-Z.x),T=Math.max(0,Q.x-o.x),C=Math.max(0,Q.y-Z.y),e=Math.max(0,Q.y-o.y),$=Q.Y,x=Q.Z,M=new Uint32Array(R.buffer),m=new Uint32Array(B.buffer),G={F:0,S:0,X:0},K={F:0,S:0,X:0},s={F:0,S:0,X:0};
for(var L=0;L<x;L++){var _=(C+L)*Z.Y+H,P=(e+L)*o.Y+T;for(var i=0;i<$;i++,_++,P++){var w=M[_],k=m[P],h=(w&255)*y,j=(w>>>8&255)*y,I=(w>>>16&255)*y,V=(k&255)*y,F=(k>>>8&255)*y,q=(k>>>16&255)*y,t=Y,c=1;
if(u==0){t=(w>>>24)*z;c=(k>>>24)*y}if(p.UQ)t*=O.e.UL(h,j,I,V,F,q,c,p.UQ);var f=c*(1-t),W=t+f,l=255/W;
G.F=h;G.S=j;G.X=I;K.F=V;K.S=F;K.X=q;E(G,K,s);var g=(((1-c)*h+c*s.F)*t+V*f)*l,v=(((1-c)*j+c*s.S)*t+F*f)*l,Vg=(((1-c)*I+c*s.X)*t+q*f)*l,GE=u*(k>>>24)+(1-u)*Math.round(W*255);
m[P]=GE<<24|Vg<<16|v<<8|g}}};O.e.uk=function(R){R=R^61^R>>>16;R=R+(R<<3);R=R^R>>>4;R=R*668265261;R=R^R>>15;
return(R&16777215)*(1/16777215)};O.e._V=function(R){R=R^61^R>>>16;R=R+(R<<3);R=R^R>>>4;R=R*668265261;
R=R^R>>>15;return R};O.e.jh=function(R){this.yo=R};O.e.jh.prototype.get=function(){var R=this.yo=O.e._V(this.yo);
return(R&16777215)*(1/16777215)};O.e.OIL=function(R,Z,B,o,r,Y,E,p){var y=1/255,z=y*Y,u=Math.round(Y*(256*256*256/255)),Q=Z.Rg(o).Rg(r),H=Math.max(0,Q.x-Z.x),T=Math.max(0,Q.x-o.x),C=Math.max(0,Q.y-Z.y),e=Math.max(0,Q.y-o.y),$=Q.Y,x=Q.Z,M=new Uint32Array(R.buffer),m=new Uint32Array(B.buffer);
for(var G=0;G<x;G++){var K=(C+G)*Z.Y+H,s=(e+G)*o.Y+T;for(var L=0;L<$;L++,K++,s++){var _=M[K],P=m[s],i=p*255+(1-p)*(_>>>24);
if((O.e._V(K)&16777215)>=i*u)continue;m[s]=_&16777215|p*(P>>>24)+(1-p)*255<<24}}};O.e.O_l=function(R,Z,B){for(var o=0;
o<R.length;o+=4){var r=B[o>>>2];if(r==0)continue;var Y=r*(1/255),E=1/Y,p=Z[o],y=Z[o+1],z=Z[o+2],u=R[o],Q=R[o+1],H=R[o+2];
Z[o]=Math.min(255,Math.max(0,Math.round((p-(1-Y)*u)*E)));Z[o+1]=Math.min(255,Math.max(0,Math.round((y-(1-Y)*Q)*E)));
Z[o+2]=Math.min(255,Math.max(0,Math.round((z-(1-Y)*H)*E)));Z[o+3]=255}};O.e.AD=function(R,Z,B,o,r,Y,E,p,y,z){if(z==null)z=!1;
if(r&&!Z.EW(Y)){var u=O.a(Z.b()*4);O.set(u,E);O.WX(r,Y,u,Z);r=u;Y=Z}if(z){if(r==null)O.e.OID(R,Z,B,o,r,p,y);
else O.e.OBD(R,Z,B,o,r,p,y)}else{if(r==null)O.e.OIl(R,Z,B,o,r,p,y);else O.e.OIF(R,Z,B,o,r,p,y)}};O.e.OIl=function(R,Z,B,o,r,Y,E){var p=1/255,y=Z.Rg(o).Rg(Y),z=Math.max(0,y.x-Z.x),u=Math.max(0,y.x-o.x),Q=Math.max(0,y.y-Z.y),H=Math.max(0,y.y-o.y),T=y.Y,C=y.Z,e=new Uint32Array(R.buffer),$=new Uint32Array(B.buffer),x=O.e.Mz,M=E*255&255;
for(var m=0;m<C;m++){var G=(Q+m)*Z.Y+z,K=(H+m)*o.Y+u;for(var s=0;s<T;s++,G++,K++){var L=e[G],_=$[K],P=L>>>24,i=_>>>24,w=O.Ip(M*P+(255-M)*i),k=O.Ip(P*M),h=O.Ip(i*(255-M)),j=L&255,I=L>>>8&255,V=L>>>16&255,F=_&255,q=_>>>8&255,t=_>>>16&255,c=k*j+F*h,f=k*I+q*h,W=k*V+t*h;
c=x[w<<8|O.Ip(c)];f=x[w<<8|O.Ip(f)];W=x[w<<8|O.Ip(W)];$[K]=w<<24|W<<16|f<<8|c}}};O.e.OID=function(R,Z,B,o,r,Y,E){var p=1/255,y=Z.Rg(o).Rg(Y),z=Math.max(0,y.x-Z.x),u=Math.max(0,y.x-o.x),Q=Math.max(0,y.y-Z.y),H=Math.max(0,y.y-o.y),T=y.Y,C=y.Z,e=new Uint32Array(R.buffer),$=new Uint32Array(B.buffer),x=O.e.Mz,M=E*16777215&16777215;
for(var m=0;m<C;m++){var G=(Q+m)*Z.Y+z,K=(H+m)*o.Y+u;for(var s=0;s<T;s++,G++,K++){if((O.e._V(G)&16777215)<M)$[K]=e[G]}}};
O.e.OIF=function(R,Z,B,o,r,Y,E){var p=1/255,y=Z.Rg(o).Rg(Y),z=Math.max(0,y.x-Z.x),u=Math.max(0,y.x-o.x),Q=Math.max(0,y.y-Z.y),H=Math.max(0,y.y-o.y),T=y.Y,C=y.Z,e=new Uint32Array(R.buffer),$=new Uint32Array(B.buffer),x=O.e.Mz;
for(var M=0;M<C;M++){var m=(Q+M)*Z.Y+z,G=(H+M)*o.Y+u;for(var K=0;K<T;K++,m++,G++){var s=r[m]*E&255;if(s==0)continue;
if(s==255){$[G]=e[m];continue}var L=e[m],_=$[G],P=L>>>24,i=_>>>24,w=O.Ip(s*P+(255-s)*i),k=O.Ip(P*s),h=O.Ip(i*(255-s)),j=L&255,I=L>>>8&255,V=L>>>16&255,F=_&255,q=_>>>8&255,t=_>>>16&255,c=x[w<<8|O.Ip(k*j+F*h)],f=x[w<<8|O.Ip(k*I+q*h)],W=x[w<<8|O.Ip(k*V+t*h)];
$[G]=w<<24|W<<16|f<<8|c}}};O.e.OBD=function(R,Z,B,o,r,Y,E){var p=1/255,y=Z.Rg(o).Rg(Y),z=Math.max(0,y.x-Z.x),u=Math.max(0,y.x-o.x),Q=Math.max(0,y.y-Z.y),H=Math.max(0,y.y-o.y),T=y.Y,C=y.Z,e=new Uint32Array(R.buffer),$=new Uint32Array(B.buffer),x=O.e.Mz,M=Math.round(E*257);
for(var m=0;m<C;m++){var G=(Q+m)*Z.Y+z,K=(H+m)*o.Y+u;for(var s=0;s<T;s++,G++,K++){var L=r[G]*M;if((O.e._V(G)&65535)<L)$[K]=e[G]}}};
O.e.Qg=function(R,Z,B,o,r,Y,E){var p=1/255,y=Z.Rg(o).Rg(Y),z=Math.max(0,y.x-Z.x),u=Math.max(0,y.x-o.x),Q=Math.max(0,y.y-Z.y),H=Math.max(0,y.y-o.y),T=y.Y,C=y.Z,e=new Uint32Array(R.buffer),$=new Uint32Array(B.buffer),x=Math.floor(Math.random()*o.b()),M=O.e.OBq;
for(var m=0;m<C;m++){var G=(Q+m)*Z.Y+z,K=(H+m)*o.Y+u;for(var s=0;s<T;s++){var L=r[G+s]*E;if(L==0)continue;
if(L==255){$[K+s]=e[G+s];continue}var _=e[G+s],P=$[K+s],i=_>>>24,w=P>>>24,k=i*L*(1/255),h=w*(255-L)*(1/255),j=_&255,I=_>>>8&255,V=_>>>16&255,F=P&255,q=P>>>8&255,t=P>>>16&255,c=O.e._V(K+s+x),f=Math.floor((k+h)*256+.5)+(c>>>0&255)>>>8,W=f==0?0:256/(k+h),l=j*k+F*h,g=I*k+q*h,v=V*k+t*h,Vg=Math.floor(l*W+.5)+(c>>>8&255)>>>8,GE=Math.floor(g*W+.5)+(c>>>16&255)>>>8,Gy=Math.floor(v*W+.5)+(c>>>21&248)>>>8;
$[K+s]=f<<24|Gy<<16|GE<<8|Vg}}};O.e.OBq=function(R){return Math.floor(R+Math.random())};O.e.fI=function(R,Z,B,o,r,Y,E){var p=1/255,y=Z.Rg(o).Rg(Y),z=Math.max(0,y.x-Z.x),u=Math.max(0,y.x-o.x),Q=Math.max(0,y.y-Z.y),H=Math.max(0,y.y-o.y),T=y.Y,C=y.Z;
for(var e=0;e<C;e++){var $=(Q+e)*Z.Y+z,x=(H+e)*o.Y+u;for(var M=0;M<T;M++,$++,x++){var m=E*r[$]*p;if(m==0)continue;
if(m==1){B[x]=R[$];continue}B[x]=R[$]*m+B[x]*(1-m)}}};O.vI={};O.vI.OBx=function(R,Z,B,o,r,Y){O.vI.jt(R,Z,B,o,r,Y,null,0)};
O.vI.OBs=function(R,Z,B,o,r){O.vI.jt(R,Z,B,o,r,null,null,0)};O.vI.Owl=function(R,Z,B,o,r,Y,E){O.vI.jt(R,Z,B,o,r,null,Y,E*.5)};
O.vI.jt=function(R,Z,B,o,r,Y,E,p){var y=0,h=0,j=1e9,I=0,V=1e9,F=0,q=1e9,t=0,c=0,f=0,W=0;if(Y){y=r*.5;
r=3+Math.round((r-3)*.75)}if(E){r=Math.round(r*2.2)}var z=1/r,u=Math.floor(Z*z)+1,Q=Math.floor(B*z)+1,H=[],T=new Uint8Array(u*Q*4),C=E?.5:1,e=Y?64:0;
for(var $=0;$<Q;$++){var x=E?.5*($&1):0;for(var M=0;M<u;M++){var m=(M+Math.random()*C+x)*r,G=($+Math.random()*C)*r;
H.push(m,G);var K=Math.min(Z-1,Math.floor(m)),s=Math.min(B-1,Math.floor(G)),L=(s*Z+K)*4,_=($*u+M)*4;
for(var P=0;P<4;P++)T[_+P]=Math.max(0,Math.min(255,Math.floor(R[L+P]+(Math.random()-.5)*e)))}}var i=Y?Y:E?E:[0,0,0],w=u*Q*2,k=[-u-1,-u,-u+1,-1,0,1,u-1,u,u+1];
for(var $=0;$<B;$++){f=0;for(var M=0;M<Z;M++){var l=M+.5,g=$+.5,v=Math.floor(g*z),Vg=Math.floor(l*z),GE=v*u+Vg,Ga=0,GO=0;
if(f>1+p){j=O.vI.gY(H,h,l,g);t=Math.sqrt(j);f--;W++}else{j=V=q=1e9;for(var P=0;P<k.length;P++){var Gy=(GE+k[P])*2;
if(Gy<0||Gy>=w)continue;var GY=O.vI.gY(H,Gy,l,g);if(GY<q){if(GY<V){if(GY<j){F=I;q=V;I=h;V=j;h=Gy;j=GY}else{F=I;
q=V;I=Gy;V=GY}}else{F=Gy;q=GY}}}t=Math.sqrt(j);c=Math.sqrt(V);f=c-(t+c)*.5}if(E==null){var J=(t+c)*.5,D=Y?Math.max(0,J-y):0;
Ga=Math.max(0,Math.min(1,.5+J-t-D));GO=Math.max(0,Math.min(1,1-(.5+J-t)-D))}else{var GB=Math.min(O.vI.gR(H,h,I,l,g),O.vI.gR(H,h,F,l,g));
Ga=Math.max(0,Math.min(1,GB-p*.5));if(l<p||Z-p<l||g<p||B-p<g)Ga=0;GO=0}var Gj=1-GO-Ga,_=$*Z+M<<2,GX=h<<1,Gw=I<<1;
o[_+0]=Math.floor(.5+Ga*T[GX+0]+GO*T[Gw+0]+Gj*i[0]);o[_+1]=Math.floor(.5+Ga*T[GX+1]+GO*T[Gw+1]+Gj*i[1]);
o[_+2]=Math.floor(.5+Ga*T[GX+2]+GO*T[Gw+2]+Gj*i[2]);o[_+3]=R[_+3]}}};O.vI.gY=function(R,Z,B,o){var r=B-R[Z],Y=o-R[Z+1];
return r*r+Y*Y};O.vI.gR=function(R,Z,B,o,r){var Y=R[Z],E=R[Z+1],p=R[B],y=R[B+1],z=(Y+p)*.5,u=(E+y)*.5,Q=z+(y-E),H=u-(p-Y),T=H-u,C=Q-z;
return Math.abs(T*o-C*r+Q*u-H*z)/Math.sqrt(C*C+T*T)};O.blur={};O.blur.Ph=function(R){if(O.blur.Uh.length<R)O.blur.Uh=O.a(R);
return O.blur.Uh};O.blur.Uh=O.a(0);O.blur.ga=function(R){if(O.blur.jf.length<R)O.blur.jf=new Float32Array(R);
return O.blur.jf};O.blur.jf=new Float32Array(0);O.blur.uy=function(R,Z,B,o){var r=B.Y,Y=B.Z;O.blur.Owq(R,Z,r,Y,o)};
O.blur.Owh=function(R,Z,B){var o=Z.Y,r=Z.Z;O.blur.Owx(R,o,r,B)};O.blur.Dj=function(R,Z,B,o,r){var Y=B.Y,E=B.Z;
O.blur.Owe(R,Z,Y,E,o,r)};O.blur.gI=function(R,Z,B,o){var r=B.Y,Y=B.Z;o=Math.round(o);var E=O.blur.Ph(r*Y);
O.VG(R,Z);O.blur.Un(Z,E,r,Y,o)};O.blur.gB=function(R,Z,B){var o=Z.Y,r=Z.Z;B=Math.round(B);var Y=O.blur.Ph(o*r*4);
O.blur.$X(R,Y,o,r,B)};O.blur.jq=function(R,Z,B,o){var r=B.Y,Y=B.Z;o=Math.round(o);var E=O.blur.ga(r*Y);
O.VG(R,Z);O.blur.gl(Z,E,r,Y,o)};O.blur.gw=function(R,Z,B){var o=Z.Y,r=Z.Z;B=Math.round(B);var Y=O.blur.Ph(o*r*4);
O.blur.gh(R,Y,o,r,B);O.VG(Y,R)};O.blur.jN=function(R,Z){var B=Math.sqrt(12*R*R/Z+1),o=Math.floor(B);
if(o%2==0)o--;var r=o+2,Y=(12*R*R-Z*o*o-4*Z*o-3*Z)/(-4*o-4),E=Math.round(Y),p=[];for(var y=0;y<Z;y++)p.push(y<E?o:r);
return p};O.blur.Owq=function(R,Z,B,o,r){var Y=O.blur.jN(r,3),E=O.blur.Ph(B*o);O.VG(R,Z);O.blur.Un(Z,E,B,o,Y[0]-1>>1);
O.blur.Un(Z,E,B,o,Y[1]-1>>1);O.blur.Un(Z,E,B,o,Y[2]-1>>1)};O.blur.Owx=function(R,Z,B,o){var r=O.blur.jN(o,3),Y=O.blur.Ph(Z*B*4);
O.blur.$X(R,Y,Z,B,r[0]-1>>1);O.blur.$X(R,Y,Z,B,r[1]-1>>1);O.blur.$X(R,Y,Z,B,r[2]-1>>1)};O.blur.Owe=function(R,Z,B,o,r,Y){if(Y==null)Y=3;
var E=O.blur.jN(r,Y),p=O.blur.ga(B*o);O.VG(R,Z);for(var y=0;y<Y;y++)O.blur.gl(Z,p,B,o,(E[0]-1)/2)};O.blur.Un=function(R,Z,B,o,r){O.blur.OwQ(R,Z,B,o,r);
O.blur.OAV(Z,R,B,o,r)};O.blur.$X=function(R,Z,B,o,r){O.blur.gh(R,Z,B,o,r);O.blur.OAa(Z,R,B,o,r)};O.blur.gl=function(R,Z,B,o,r){O.blur.Owg(R,Z,B,o,r);
O.blur.OAB(Z,R,B,o,r)};O.blur.jv=[];O.blur.$I=function(R){if(O.blur.jv[R])return O.blur.jv[R];var Z=1/(R+R+1),B=(R+R+1)*256,o=O.a(B);
for(var r=0;r<B;r++)o[r]=Math.round(r*Z);O.blur.jv[R]=o;return o};O.blur.OwQ=function(R,Z,B,o,r){var Y=1/(r+r+1),E=B-r-r-1,p=O.blur.$I(r);
for(var y=0;y<o;y++){var z=y*B,u=z,Q=z+r,H=R[z],T=R[z+B-1],C=(r+1)*H;for(var e=0;e<r;e++)C+=R[z+e];for(var e=0;
e<=r;e++){C+=R[Q+e]-H;Z[z+e]=p[C]}Q+=r+1;z+=r+1;for(var e=0;e<E;e++){C+=R[Q+e]-R[u+e];Z[z+e]=p[C]}Q+=E;
u+=E;z+=E;for(var e=B-r;e<B;e++){C+=T-R[u++];Z[z++]=p[C]}}};O.blur.gh=function(R,Z,B,o,r){var Y=B<<2,E=r<<2,p=1/(r+r+1),y=B-r-r-1,z=y<<2,u=O.blur.$I(r);
for(var Q=0;Q<o;Q++){var H=Q*Y,T=H,C=H+E,e=H+Y,$=R[H],x=R[H+1],M=R[H+2],m=R[H+3],G=(r+1)*$,K=(r+1)*x,s=(r+1)*M,L=(r+1)*m;
for(var _=0;_<E;_+=4){G+=R[H+_];K+=R[H+_+1];s+=R[H+_+2];L+=R[H+_+3]}for(var _=0;_<=E;_+=4){G+=R[C]-$;
Z[H]=u[G];K+=R[C+1]-x;Z[H+1]=u[K];s+=R[C+2]-M;Z[H+2]=u[s];L+=R[C+3]-m;Z[H+3]=u[L];C+=4;H+=4}for(var _=0;
_<z;_+=4){G+=R[C+_]-R[T+_];Z[H+_]=u[G];K+=R[C+_+1]-R[T+_+1];Z[H+_+1]=u[K];s+=R[C+_+2]-R[T+_+2];Z[H+_+2]=u[s];
L+=R[C+_+3]-R[T+_+3];Z[H+_+3]=u[L]}C+=z;T+=z;H+=z;$=R[e-4];x=R[e-3];M=R[e-2];m=R[e-1];for(var _=B-r;
_<B;_++){G+=$-R[T];Z[H]=u[G];K+=x-R[T+1];Z[H+1]=u[K];s+=M-R[T+2];Z[H+2]=u[s];L+=m-R[T+3];Z[H+3]=u[L];
T+=4;H+=4}}};O.blur.Owg=function(R,Z,B,o,r){var Y=1/(r+r+1),E=B-r-r-1,p=0,y=0,z=0;for(var u=0;u<o;u++){p=u*B;
y=p;z=p+r;var Q=R[p],H=R[p+B-1],T=(r+1)*Q;for(var C=0;C<r;C++){T+=R[p+C]}for(var C=0;C<=r;C++){T+=R[z++]-Q;
Z[p++]=T*Y}for(var C=0;C<E;C++){T+=R[z+C]-R[y+C];Z[p+C]=T*Y}z+=E;y+=E;p+=E;for(var C=B-r;C<B;C++){T+=H-R[y++];
Z[p++]=T*Y}}};O.blur.OAV=function(R,Z,B,o,r){var Y=1/(r+r+1),E=o-r-r-1,p=O.blur.$I(r);for(var y=0;y<B;
y++){var z=y,u=z,Q=z+r*B,H=R[z],T=R[z+B*(o-1)],C=(r+1)*H;for(var e=0;e<r;e++)C+=R[z+e*B];for(var e=0;
e<=r;e++){C+=R[Q]-H;Z[z]=p[C];Q+=B;z+=B}for(var e=0;e<E;e++){var $=e*B;C+=R[Q+$]-R[u+$];Z[z+$]=p[C]}u+=E*B;
Q+=E*B;z+=E*B;for(var e=o-r;e<o;e++){C+=T-R[u];Z[z]=p[C];u+=B;z+=B}}};O.blur.OAa=function(R,Z,B,o,r){var Y=B<<2,E=r<<2,p=1/(r+r+1),y=o-r-r-1,z=y<<2,u=O.blur.$I(r);
for(var Q=0;Q<B;Q++){var H=Q<<2,T=H,C=H+r*Y,e=H+Y*(o-1),$=R[H],x=R[H+1],M=R[H+2],m=R[H+3],G=(r+1)*$,K=(r+1)*x,s=(r+1)*M,L=(r+1)*m;
for(var _=0;_<r;_++){var P=H+_*Y;G+=R[P];K+=R[P+1];s+=R[P+2];L+=R[P+3]}for(var _=0;_<=r;_++){G+=R[C]-$;
Z[H]=u[G];K+=R[C+1]-x;Z[H+1]=u[K];s+=R[C+2]-M;Z[H+2]=u[s];L+=R[C+3]-m;Z[H+3]=u[L];C+=Y;H+=Y}for(var _=0;
_<y;_++){var i=_*Y;G+=R[C+i]-R[T+i];Z[H+i]=u[G];K+=R[C+i+1]-R[T+i+1];Z[H+i+1]=u[K];s+=R[C+i+2]-R[T+i+2];
Z[H+i+2]=u[s];L+=R[C+i+3]-R[T+i+3];Z[H+i+3]=u[L]}T+=y*Y;C+=y*Y;H+=y*Y;$=R[e];x=R[e+1];M=R[e+2];m=R[e+3];
for(var _=o-r;_<o;_++){G+=$-R[T];Z[H]=u[G];K+=x-R[T+1];Z[H+1]=u[K];s+=M-R[T+2];Z[H+2]=u[s];L+=m-R[T+3];
Z[H+3]=u[L];T+=Y;H+=Y}}};O.blur.OAB=function(R,Z,B,o,r){var Y=1/(r+r+1),E=o-r-r-1;for(var p=0;p<B;p++){var y=p,z=y,u=y+r*B,Q=R[y],H=R[y+B*(o-1)],T=(r+1)*Q;
for(var C=0;C<r;C++)T+=R[y+C*B];for(var C=0;C<=r;C++){T+=R[u]-Q;Z[y]=T*Y;u+=B;y+=B}for(var C=0;C<E;C++){var e=C*B;
T+=R[u+e]-R[z+e];Z[y+e]=T*Y}z+=E*B;u+=E*B;y+=E*B;for(var C=o-r;C<o;C++){T+=H-R[z];Z[y]=T*Y;z+=B;y+=B}}};
O.Va={};O.Va.a=function(R,Z,B,o){var r=[];for(var Y=0;Y<4;Y++)for(var E=0;E<4;E++)r.push(R+B*E/3,Z+o*Y/3);
return r};O.Va.gS=function(R,Z){var B=R.slice(0);for(var o=0;o<4;o++)for(var r=0;r<4;r++){var Y=2*(o*4+r),E=2*(r*4+(3-o));
if(Z){var p=Y;Y=E;E=p}B[E]=R[Y];B[E+1]=R[Y+1]}return B};O.Va.OAl=new Float64Array(16);O.Va.drawImage=function(R,Z,B,o,r,Y,E){if(E==null)E=!1;
var p=Y.Y,y=Y.Z,H=2;r=new Uint32Array(r.buffer);Z=new Uint32Array(Z.buffer);var z=O.Va.g.gN(R,0,1,0,1,B,o),u=z._K,Q=z.Cr,T=1/H,C=O.Va.$B,e=new Float64Array(2),$=new Uint32Array(30);
for(var x=0;x<y;x++)for(var M=0;M<p;M++){var m=M+Y.x+.5,G=x+Y.y+.5,K=O.Va.g.O_F(u,Q,m,G,$),k=0,h=0,j=0,I=0;
if(K==0)continue;var s=x*p+M,L=O.Va.AK(R,m,G,u,$,K,!0),_=C[0]*B,P=C[1]*o;if(E){if(L!=-1&&0<_&&_<B&&0<P&&P<o){var i=Math.floor(P)*B+Math.floor(_);
r[s]=Z[i]}continue}var w=L!=-1&&(1<_&&_<B-1)&&(1<P&&P<o-1);if(u[L+8]<.95){O.f.Ja(_,P,Z,B,o,r,s,0);continue}for(var V=0;
V<H;V++)for(var F=0;F<H;F++){var m=M+Y.x+(V+.5)*T,G=x+Y.y+(F+.5)*T,L=0;L=O.Va.AK(R,m,G,u,$,K,!0);if(L!=-1){var _=C[0],P=C[1],_=Math.floor(_*B);
P=Math.floor(P*o);var q=Z[P*B+_],t=q>>>24;k+=(q&255)*t;h+=(q>>>8&255)*t;j+=(q>>>16&255)*t;I+=t}}if(I!=0){var c=1/I;
k=~~(k*c+.5);h=~~(h*c+.5);j=~~(j*c+.5);I=~~(I*T*T+.5);r[s]=I<<24|j<<16|h<<8|k}}};O.Va.$B=new Float64Array(5*20);
O.Va.OAc=new Uint32Array(5*5*20);O.Va.AK=function(R,Z,B,o,r,Y,E){var p=O.Va.$B,y=O.Va.OAc,z=0,u=0;for(var Q=0;
Q<Y;Q++){var H=r[Q],T=z;z=O.Va.jz(R,Z,B,o,H+4,E,p,z);if(z!=T){y[u]=H;u+=5}}if(z==0)return-1;else if(z==5)return y[0];
else{var C=0;for(var Q=0;Q<z;Q+=5)if(p[Q+4]<p[C+4])C=Q;p[0]=p[C];p[1]=p[C+1];p[2]=p[C+2];p[3]=p[C+3];
return y[C]}};O.Va.fl=new Array(10);O.Va.jz=function(R,Z,B,o,r,Y,E,p){var y=O.Va.fl,z=0,u=0,Q=0,H=0,T=0,C=0,e=0,$=o[r],x=o[r+1],M=o[r+2],m=o[r+3],G=(M-Z)*(M-Z)+(m-B)*(m-B);
for(var K=0;K<5&&G>.05;K++){O.Va.Dz(y,0,x);O.Va.fi(y,4,$);O.Va.Mi(R,y);z=y[8];u=y[9];O.Va.fi(y,0,x);
O.Va.Dz(y,4,$);O.Va.Mi(R,y);Q=y[8];H=y[9];T=1/(z*H-u*Q);C=(M-Z)*T;e=(m-B)*T;$+=-H*C+Q*e;x+=+u*C-z*e;
O.Va.ji(R,$,x,y);M=y[8];m=y[9];G=(M-Z)*(M-Z)+(m-B)*(m-B)}if(Y&&($<0||$>1||x<0||x>1||G>.25))return p;
E[p]=$;E[p+1]=x;E[p+2]=M;E[p+3]=m;E[p+4]=z*H-u*Q;return p+5};O.Va.apply=function(R,Z,B){var o=B.x,r=B.y,Y=1/B.Y,E=1/B.Z,p=O.Va.fl;
for(var y=0;y<Z.length;y+=2){var z=(Z[y]-o)*Y,u=(Z[y+1]-r)*E;O.Va.ji(R,z,u,p);Z[y]=p[8];Z[y+1]=p[9]}};
O.Va.ji=function(R,Z,B,o){O.Va.Dz(o,0,B);O.Va.Dz(o,4,Z);O.Va.Mi(R,o)};O.Va.fi=function(R,Z,B){var o=1-B;
R[Z]=-3*(o*o);R[Z+1]=3*(o*o)-6*(B*o);R[Z+2]=6*(B*o)-3*(B*B);R[Z+3]=3*(B*B)};O.Va.Dz=function(R,Z,B){var o=1-B;
R[Z]=o*(o*o);R[Z+1]=3*B*(o*o);R[Z+2]=3*(B*B)*o;R[Z+3]=B*B*B};O.Va.Mi=function(R,Z){var B=0,o=0,r=0;r=Z[0]*Z[4];
B+=R[0]*r;o+=R[1]*r;r=Z[0]*Z[5];B+=R[2]*r;o+=R[3]*r;r=Z[0]*Z[6];B+=R[4]*r;o+=R[5]*r;r=Z[0]*Z[7];B+=R[6]*r;
o+=R[7]*r;r=Z[1]*Z[4];B+=R[8]*r;o+=R[9]*r;r=Z[1]*Z[5];B+=R[10]*r;o+=R[11]*r;r=Z[1]*Z[6];B+=R[12]*r;o+=R[13]*r;
r=Z[1]*Z[7];B+=R[14]*r;o+=R[15]*r;r=Z[2]*Z[4];B+=R[16]*r;o+=R[17]*r;r=Z[2]*Z[5];B+=R[18]*r;o+=R[19]*r;
r=Z[2]*Z[6];B+=R[20]*r;o+=R[21]*r;r=Z[2]*Z[7];B+=R[22]*r;o+=R[23]*r;r=Z[3]*Z[4];B+=R[24]*r;o+=R[25]*r;
r=Z[3]*Z[5];B+=R[26]*r;o+=R[27]*r;r=Z[3]*Z[6];B+=R[28]*r;o+=R[29]*r;r=Z[3]*Z[7];B+=R[30]*r;o+=R[31]*r;
Z[8]=B;Z[9]=o};O.Va.g={};O.Va.g.Da=12;O.Va.g.gD=new Uint32Array(50);O.Va.g.O_F=function(R,Z,B,o,r){var Y=0,E=O.Va.g.gD,p=1;
E[0]=0;while(p!=0){var y=E[--p];if(R[y+0]<=B&&R[y+1]<=o&&B<R[y+2]&&o<R[y+3]){if(Z[y+y+18]==0){r[Y]=y;
Y++}else{E[p]=Z[y+y+18];E[p+1]=Z[y+y+19];p+=2}}}return Y};O.Va.g.Olc=function(R,Z,B,o,r){var Y=0,E=O.Va.g.jU,p=O.Va.g.gD,y=1,z=0,u=999999999999;
p[0]=0;while(y!=0){var Q=p[--y],H=E(B,o,R[Q+0],R[Q+1]),T=E(B,o,R[Q+0],R[Q+3]),C=E(B,o,R[Q+2],R[Q+1]),e=E(B,o,R[Q+2],R[Q+3]),$=Math.min(H,Math.min(T,Math.min(C,e))),x=Math.max(H,Math.max(T,Math.max(C,e)));
if($>u)continue;if(Z[Q+Q+18]==0){if(x<u){u=x;z=Q}}else{p[y]=Z[Q+Q+18];p[y+1]=Z[Q+Q+19];y+=2}}r[Y]=z;
Y++;return Y};O.Va.g.jU=function(R,Z,B,o){return(B-R)*(B-R)+(o-Z)*(o-Z)};O.Va.g.PJ=null;O.Va.g.gW=null;
O.Va.g.gN=function(R,Z,B,o,r,Y,E){if(Y==null){Y=1;E=1}O.Va.g.gW=R;if(O.Va.g.PJ==null){O.Va.g.PJ={_K:new Float64Array(15e3*8),Cr:null};
O.Va.g.PJ.Cr=new Uint32Array(O.Va.g.PJ._K.buffer)}var p=O.Va.g.PJ;O.Va.g.jZ(R,Z,B,o,r,0,p._K,p.Cr,0,Y,E);
return p};O.Va.g.jZ=function(R,Z,B,o,r,Y,E,p,y,z,u){var Q=O.W.Rn(R),H=y,T=O.Va.g.gW,C=(Z+B)/2,e=(o+r)/2,$=O.Va.fl,x=O.Va.$B,M=O.Va.OAl,Vg,GE,Gy;
O.Va.ji(T,C,e,$);var m=$[8],G=$[9];M[0]=C;M[1]=e;M[2]=m;M[3]=G;O.Va.jz(T,m+1,G,M,0,!1,x,0);var K=(C-x[0])*z,s=(e-x[1])*u,L=Math.sqrt(K*K+s*s);
O.Va.jz(T,m,G+1,M,0,!1,x,0);var _=(C-x[0])*z,P=(e-x[1])*u,i=Math.sqrt(_*_+P*P);E[H]=Q.x;E[H+1]=Q.y;E[H+2]=Q.x+Q.Y;
E[H+3]=Q.y+Q.Z;E[H+4]=C;E[H+5]=e;E[H+6]=m;E[H+7]=G;E[H+8]=.5*(L+i);p[H+H+18]=0;p[H+H+19]=0;y+=10;O.Va.Dz($,0,.1);
O.Va.fi($,4,.1);O.Va.Mi(R,$);var w=$[8],k=$[9];O.Va.fi($,0,.1);O.Va.Dz($,4,.7);O.Va.Mi(R,$);var h=$[8],j=$[9];
O.Va.Dz($,0,.8);O.Va.fi($,4,.8);O.Va.Mi(R,$);var I=$[8],V=$[9];O.Va.fi($,0,.9);O.Va.Dz($,4,.2);O.Va.Mi(R,$);
var F=$[8],q=$[9],t=(I-w)*(I-w)+(F-h)*(F-h)+(V-k)*(V-k)+(q-j)*(q-j);if(y>=E.length){console.log("Buffer not long enough");
throw"e"}if(Y==O.Va.g.Da||t<2)return y;var c=O.Va.g.gv(R,!0),f=O.W.Rn(c[0]),W=O.W.Rn(c[1]),l=O.Va.g.gv(R,!1),g=O.W.Rn(l[0]),v=O.W.Rn(l[1]);
if(f.Y+f.Z+W.Y+W.Z<g.Y+g.Z+v.Y+v.Z){Gy=!0;Vg=c[0];GE=c[1]}else{Gy=!1;Vg=l[0];GE=l[1]}var GY=(Z+B)/2,Ga=(o+r)/2,GO=Z,J=o,D=B,GB=r,Gj=Z,GX=o,Gw=B,G_=r;
if(Gy){D=Gj=GY}else{GB=GX=Ga}p[H+H+18]=y;y=O.Va.g.jZ(Vg,GO,D,J,GB,Y+1,E,p,y,z,u);p[H+H+19]=y;y=O.Va.g.jZ(GE,Gj,Gw,GX,G_,Y+1,E,p,y,z,u);
var Gf=p[H+H+18],Gl=p[H+H+19];E[H]=Math.min(E[Gf],E[Gl]);E[H+1]=Math.min(E[Gf+1],E[Gl+1]);E[H+2]=Math.max(E[Gf+2],E[Gl+2]);
E[H+3]=Math.max(E[Gf+3],E[Gl+3]);return y};O.Va.g.gv=function(R,Z){var B=0,o=0,r=0,Y=0,E=0,p=0,y=0,z=0,u=R.slice(0),Q=R.slice(0);
for(var H=0;H<4;H++){B=Z?R[H*8+2*0]:R[0*8+2*H];o=Z?R[H*8+2*0+1]:R[0*8+2*H+1];r=Z?R[H*8+2*1]:R[1*8+2*H];
Y=Z?R[H*8+2*1+1]:R[1*8+2*H+1];E=Z?R[H*8+2*2]:R[2*8+2*H];p=Z?R[H*8+2*2+1]:R[2*8+2*H+1];y=Z?R[H*8+2*3]:R[3*8+2*H];
z=Z?R[H*8+2*3+1]:R[3*8+2*H+1];var T=(B+r)/2,C=(o+Y)/2,e=(r+E)/2,$=(Y+p)/2,x=(E+y)/2,M=(p+z)/2,m=(T+e)/2,G=(C+$)/2,K=(e+x)/2,s=($+M)/2,L=(m+K)/2,_=(G+s)/2;
if(Z){u[H*8+2*0]=B;u[H*8+2*0+1]=o;u[H*8+2*1]=T;u[H*8+2*1+1]=C;u[H*8+2*2]=m;u[H*8+2*2+1]=G;u[H*8+2*3]=L;
u[H*8+2*3+1]=_;Q[H*8+2*0]=L;Q[H*8+2*0+1]=_;Q[H*8+2*1]=K;Q[H*8+2*1+1]=s;Q[H*8+2*2]=x;Q[H*8+2*2+1]=M;Q[H*8+2*3]=y;
Q[H*8+2*3+1]=z}else{u[0*8+2*H]=B;u[0*8+2*H+1]=o;u[1*8+2*H]=T;u[1*8+2*H+1]=C;u[2*8+2*H]=m;u[2*8+2*H+1]=G;
u[3*8+2*H]=L;u[3*8+2*H+1]=_;Q[0*8+2*H]=L;Q[0*8+2*H+1]=_;Q[1*8+2*H]=K;Q[1*8+2*H+1]=s;Q[2*8+2*H]=x;Q[2*8+2*H+1]=M;
Q[3*8+2*H]=y;Q[3*8+2*H+1]=z}}return[u,Q]};O.tF={};O.tF.Ohy=function(R,Z,B){var o=O.tF.Ohw(Z,B),r=O.tF.OhB(o,R,Z,B);
return{xu:o,Aj:r}};O.tF.OhY=function(R,Z,B){var o=Math.round(R.length/8),r=new Uint32Array(o),Y=new Uint8Array(o),E=new Uint32Array(o);
O.yg(r,4294967295,0);r[B]=0;var p=new RW(o);p.push(B,r[B]);var y={xu:R,Aj:Z,Lj:r,Cs:Y,UP:E,wi:p,OyH:B};
return y};O.tF.jo=function(R,Z){var B=R.xu,o=R.Aj,r=R.Lj,Y=R.Cs,E=R.UP,p=R.wi;while(!p.Pa()&&(Z==null||Y[Z]==0)){var y=p.pop();
Y[y]=1;for(var z=0;z<8;z++){var u=B[8*y+z];if(u==-1||Y[u])continue;var Q=r[y]+o[8*y+z];if(p.contains(u)&&Q<r[u])p.remove(u,r[u]);
if(!p.contains(u)){r[u]=Q;E[u]=y;p.push(u,r[u])}}}};function RW(R){this.Zu=new Uint32Array(R);this.list=[];
this._Z=0;this.oE=4294967295}RW.prototype.Pa=function(){return this._Z==0};RW.prototype.push=function(R,Z){var B=this.list;
if(B[Z]==null)B[Z]=[];B[Z].push(R);this._Z++;this.Zu[R]=B[Z].length-1+1;this.oE=Math.min(this.oE,Z)};
RW.prototype.pop=function(){this._Z--;var R=this.list,Z=this.oE,B=R[Z].pop();if(R[Z].length==0)R[Z]=null;
this.gi();this.Zu[B]=0;return B};RW.prototype.contains=function(R){return this.Zu[R]!=0};RW.prototype.remove=function(R,Z){this._Z--;
var B=this.list,o=this.Zu[R]-1;if(o==B[Z].length-1)B[Z].pop();else{var r=B[Z].pop();B[Z][o]=r;this.Zu[r]=o+1}if(B[Z].length==0)B[Z]=null;
this.Zu[R]=0;this.gi()};RW.prototype.gi=function(){if(this._Z==0){this.oE=4294967295;return}var R=this.oE,Z=this.list;
while(Z[R]==null)R++;this.oE=R};O.tF.OhR=function(R,Z,B){var o=new Float32Array(Z*B);for(var r=0;r<B;
r++)for(var Y=0;Y<Z;Y++){var E=r*Z+Y,p=-16*R[E];if(1<Y&&Y<Z-2&&1<r&&r<B-2){p+=R[E-Z-Z];p+=R[E-Z-1]+2*R[E-Z]+R[E-Z+1];
p+=R[E-2]+2*R[E-1]+2*R[E+1]+R[E+2];p+=R[E+Z-1]+2*R[E+Z]+R[E+Z+1];p+=R[E+Z+Z]}o[E]=p/16}return o};O.tF.OhX=function(R,Z,B){var o=new Float32Array(Z*B),r=0,Y=0;
for(var E=0;E<B;E++)for(var p=0;p<Z;p++){var y=0,z=0;if(0<p&&p<Z-1)y=R[r+1]-R[r-1];if(0<E&&E<B-1)z=R[r+Z]-R[r-Z];
o[r]=Math.sqrt(y*y+z*z);if(o[r]>Y)Y=o[r];r++}var u=Z*B,Q=Y==0?0:1/Y;for(var r=0;r<u;r++)o[r]=1-o[r]*Q;
return o};O.tF.Oha=function(R,Z,B){var o=new Float32Array(Z*B*2),r=0;for(var Y=0;Y<B;Y++)for(var E=0;
E<Z;E++){var p=0,y=0;if(0<E&&E<Z-1&&0<Y&&Y<B-1){p=2*R[r+1]-2*R[r-1];y=2*R[r+Z]-2*R[r-Z]}var z=Math.sqrt(p*p+y*y);
if(z!=0){o[2*r]=p/z;o[2*r+1]=y/z}else{o[2*r]=p;o[2*r+1]=y}r++}return o};O.tF.OhB=function(R,Z,B,o){var r=O.tF.OhR(Z,B,o),Y=O.tF.OhX(Z,B,o),E=O.tF.Oha(Z,B,o),p=256,y=new Float32Array(p);
for(var z=0;z<p;z++)y[z]=Math.acos(-1+2*z/(p-1));var u=[-1,0,1,1,1,0,-1,-1],Q=[-1,-1,-1,0,1,1,1,0],H=1/Math.sqrt(2),T=new Uint8Array(B*o*8),C=B*o;
for(var e=0;e<C;e++){var $=r[e],x=E[2*e+1],M=-E[2*e];for(var m=0;m<8;m++){var G=8*e+m,K=R[G];if(K==-1)T[G]=-1;
else{var s=(m&1)==0,L=$*r[K]>=0?0:1,_=Y[K]*(s?1:H),P=1,i=E[2*K+1],w=-E[2*K];if(!(x==0&&M==0||i==0&&w==0)){var k=u[m],h=Q[m];
if(x*u[m]+M*Q[m]<0){k=-k;h=-h}if(s){k*=H;h*=H}var j=x*k+M*h,I=i*k+w*h,V=2/(3*Math.PI)*(y[Math.floor((.5+.5*j)*(p-1))]+y[Math.floor((.5+.5*I)*(p-1))]);
P=V}var F=Math.round(20*(.43*L+.43*P+.14*_));T[G]=Math.max(1,Math.min(255,F))}}}console.log(T);return T};
O.tF.Ohw=function(R,Z){var B=new Int32Array(R*Z*8),o=B,r=0,Y=0;o.fill(-1);for(var E=0;E<Z;E++)for(var p=0;
p<R;p++){if(E>0&&p>0)o[Y+0]=r-R-1;if(E>0)o[Y+1]=r-R;if(E>0&&p<R-1)o[Y+2]=r-R+1;if(p<R-1)o[Y+3]=r+1;if(E<Z-1&&p<R-1)o[Y+4]=r+R+1;
if(E<Z-1)o[Y+5]=r+R;if(E<Z-1&&p>0)o[Y+6]=r+R-1;if(p>0)o[Y+7]=r-1;r++;Y+=8}return B};O.AO={};O.AO.O_W=function(R,Z){var B=R.slice(0);
for(var o=0;o<R.length;o++)B[o]*=Z;return B};O.AO.fb=function(R){var Z=R.slice(0),B=0;for(var o=0;o<R.length;
o++)B+=R[o];for(var o=0;o<R.length;o++)Z[o]/=B;return Z};O.AO.OhA=function(R,Z,B,o,r){var Y=[-B-1,-B,-B+1,-1,0,1,B-1,B,B+1],E=o-1,p=B-1;
for(var y=1;y<E;y++)for(var z=1;z<p;z++){var u=y*B+z,Q=O.AO.DM(R,u,B,r);Z[u]=~~(Q+.5)}};O.AO.DM=function(R,Z,B,o){return R[Z-B-1]*o[0]+R[Z-B]*o[1]+R[Z-B+1]*o[2]+R[Z-1]*o[3]+R[Z]*o[4]+R[Z+1]*o[5]+R[Z+B-1]*o[6]+R[Z+B]*o[7]+R[Z+B+1]*o[8]};
O.AO.Ms=function(R,Z,B,o,r,Y,E){if(E==null)E=!1;var p=Math.floor(Math.sqrt(r.length)),y=p-1>>>1,z=new Uint32Array(R.buffer),Z=new Uint8ClampedArray(Z.buffer);
for(var u=0;u<o;u++)for(var Q=0;Q<B;Q++){var H=0,T=0,C=0,e=0;for(var $=0;$<p;$++)for(var x=0;x<p;x++){var M=r[$*p+x];
if(M==0)continue;var m=Math.min(B-1,Math.max(0,Q-y+x)),G=Math.min(o-1,Math.max(0,u-y+$)),K=z[G*B+m];
H+=(K&255)*M;T+=(K>>>8&255)*M;C+=(K>>>16&255)*M;e+=(K>>>24&255)*M}if(E){if(H<0)H=-H;if(T<0)T=-T;if(C<0)C=-C;
if(e<0)e=-e}var s=u*B+Q<<2;Z[s]=~~(.5+H);Z[s+1]=~~(.5+T);Z[s+2]=~~(.5+C);Z[s+3]=255-Y&Z[s+3]|Y&~~(.5+e)}};
O.AO.Jy=function(R,Z,B,o,r,Y,E){if(r<=10)O.AO.Ohf(R,Z,B,o,r,Y,E);else O.AO.Oh_(R,Z,B,o,r,Y,E)};O.AO.Oh_=function(R,Z,B,o,r,Y,E){var p=0,y=new Uint32Array(16),z=new Uint32Array(256),u=new Uint32Array(1*B),Q=new Uint32Array(16*B),H=new Uint32Array(256*B),T=Math.min(r,B),C=Math.min(r,o);
for(var e=0;e<C;e++)O.AO.Yv(H,Q,u,R,B,e);for(var e=0;e<o;e++){if(e+r<o)O.AO.Yv(H,Q,u,R,B,e+r);if(e-r-1>=0)O.AO.OhJ(H,Q,u,R,B,e-r-1);
O.set(z,0);O.set(y,0);p=0;for(var $=0;$<T;$++){O.AO.gr(z,y,H,Q,$);p+=u[$]}for(var $=0;$<B;$++){if($+r<B&&u[$+r]!=0){p+=u[$+r];
O.AO.gr(z,y,H,Q,$+r)}if($-r-1>=0&&u[$-r-1]!=0){p-=u[$-r-1];O.AO.OhD(z,y,H,Q,$-r-1)}var x=p==0?0:Y(z,y,R[e*B+$],p,E);
Z[e*B+$]=x}}};O.AO.Ohf=function(R,Z,B,o,r,Y,E){var p=0,y=new Uint32Array(16),z=new Uint32Array(256);
for(var u=0;u<o;u++){O.set(z,0);O.set(y,0);p=0;var Q=Math.max(u-r,0),H=Math.min(o,u+r+1);for(var T=0;
T<r;T++)p+=O.AO.jM(z,y,R,Q*B+T,B,H*B+T,1);for(var T=0;T<B;T++){if(T+r<B)p+=O.AO.jM(z,y,R,Q*B+T+r,B,H*B+T+r,1);
if(T-r-1>=0)p+=O.AO.jM(z,y,R,Q*B+T-r-1,B,H*B+T-r-1,-1);var C=p==0?0:Y(z,y,R[u*B+T],p,E);Z[u*B+T]=C}}};
O.AO.jM=function(R,Z,B,o,r,Y,E){var p=0;while(o<Y){var y=255*E,z=B[o];R[z]+=y;Z[z>>>4]+=y;p+=y;o+=r}return p};
O.AO.g$=function(R,Z,B,o,r){var Y=15;while(Z[Y]==0&&Y>0)Y--;Y=(Y<<4)+15;while(R[Y]==0&&Y>0)Y--;return Y};
O.AO.gx=function(R,Z,B,o,r){var Y=0;while(Z[Y]==0&&Y<15)Y++;Y=Y<<4;while(R[Y]==0&&Y<255)Y++;return Y};
O.AO.$l=.5;O.AO.js=function(R,Z,B,o,r){var Y=Math.floor(.5+O.AO.$l*o),E=0,p=0;while(E<=Y)E+=Z[p++];if(p>0){p--;
E-=Z[p]}p=p<<4;while(E<=Y)E+=R[p++];return p-1};O.AO.ge=function(R,Z,B,o,r){var Y=r[0],E=0,p=0,y=Math.max(0,B-Y),z=Math.min(256,B+Y+1);
while(y<z){E+=y*R[y];p+=R[y];y++}return p==0?0:E/p};O.AO.Yv=function(R,Z,B,o,r,Y){var E=Y*r;for(var p=0;
p<r;p++,E++){var y=255,z=o[E];R[p<<8|z]+=y;Z[p<<4|z>>>4]+=y;B[p]+=y}};O.AO.OhJ=function(R,Z,B,o,r,Y){var E=Y*r;
for(var p=0;p<r;p++,E++){var y=255,z=o[E];R[p<<8|z]-=y;Z[p<<4|z>>>4]-=y;B[p]-=y}};O.AO.uh=function(R){var Z=R.length,B=0;
for(var o=0;o<Z;o++)B+=R[o];return B};O.AO.gr=function(R,Z,B,o,r){for(var Y=0;Y<16;Y++){if(o[r<<4|Y]==0)continue;
Z[Y]+=o[r<<4|Y];var E=Y<<4,p=r<<8|E;R[E]+=B[p];R[E+1]+=B[p+1];R[E+2]+=B[p+2];R[E+3]+=B[p+3];R[E+4]+=B[p+4];
R[E+5]+=B[p+5];R[E+6]+=B[p+6];R[E+7]+=B[p+7];R[E+8]+=B[p+8];R[E+9]+=B[p+9];R[E+10]+=B[p+10];R[E+11]+=B[p+11];
R[E+12]+=B[p+12];R[E+13]+=B[p+13];R[E+14]+=B[p+14];R[E+15]+=B[p+15]}};O.AO.OhD=function(R,Z,B,o,r){for(var Y=0;
Y<16;Y++){if(o[r<<4|Y]==0)continue;Z[Y]-=o[r<<4|Y];var E=Y<<4,p=r<<8|E;R[E]-=B[p];R[E+1]-=B[p+1];R[E+2]-=B[p+2];
R[E+3]-=B[p+3];R[E+4]-=B[p+4];R[E+5]-=B[p+5];R[E+6]-=B[p+6];R[E+7]-=B[p+7];R[E+8]-=B[p+8];R[E+9]-=B[p+9];
R[E+10]-=B[p+10];R[E+11]-=B[p+11];R[E+12]-=B[p+12];R[E+13]-=B[p+13];R[E+14]-=B[p+14];R[E+15]-=B[p+15]}};
O.f={};O.f.go=function(R){var Z=A.HQ.Qj(R.Trnf),B=R.Sz.v,o=O.f.ik(Z,new N(0,0,B.Wdth.v,B.Hght.v));return O.f.zs(o)};
O.f.ik=function(R,Z){var R=R.slice(0),B=R[0],o=R[1],r=R[2],Y=R[3],E=R[6],p=R[7],y=R[4],z=R[5],u=0,Q=0,H=1,T=0,C=0,e=1,$=1,x=1;
if(Z){u=Z.x;Q=Z.y;H=Z.x+Z.Y;T=Z.y;C=Z.x;e=Z.y+Z.Z;$=Z.x+Z.Y;x=Z.y+Z.Z}var M=[[u,Q,1,0,0,0,-u*B,-Q*B,B],[0,0,0,u,Q,1,-u*o,-Q*o,o],[H,T,1,0,0,0,-H*r,-T*r,r],[0,0,0,H,T,1,-H*Y,-T*Y,Y],[C,e,1,0,0,0,-C*E,-e*E,E],[0,0,0,C,e,1,-C*p,-e*p,p],[$,x,1,0,0,0,-$*y,-x*y,y],[0,0,0,$,x,1,-$*z,-x*z,z]],m=[0,0,0,0,0,0,0,0],G=O.An.qV.$d(M,m);
if(G!=0)m=[0,0,0,0,0,0,0,0];return m};O.f.$N=function(R){return Math.abs(R[6])<1e-10&&Math.abs(R[7])<1e-10};
O.f.zs=function(R){return new GN(R[0],R[3],R[1],R[4],R[2],R[5])};O.f._B=function(R){return[R.t,R.f_,R.ec,R.X,R._l,R.Cf,0,0]};
O.f.apply=function(R,Z){var B=new Float64Array(2);for(var o=0;o<Z.length;o+=2){var r=Z[o],Y=Z[o+1];O.f.jH(r,Y,R,B);
Z[o]=B[0];Z[o+1]=B[1]}};O.f.jH=function(R,Z,B,o){var r=1/(B[6]*R+B[7]*Z+1);o[0]=(B[0]*R+B[1]*Z+B[2])*r;
o[1]=(B[3]*R+B[4]*Z+B[5])*r};O.f.gM=function(R,Z){var B=new Float64Array(2);O.f.jH(Z.x,Z.y,R,B);return new VP(B[0],B[1])};
O.f._J=function(R,Z,B,o){R=new Uint32Array(R.buffer);Z=new Uint32Array(Z.buffer);for(var r=0;r<o;r++){for(var Y=0;
Y<B;Y++){Z[Y*o+r]=R[r*B+Y]}}};O.f.OhW=function(R,Z,B,o){R=new Uint32Array(R.buffer);Z=new Uint32Array(Z.buffer);
for(var r=0;r<o;r++){for(var Y=0;Y<B;Y++){Z[r*B+Y]=R[r*B+B-1-Y]}}};O.f.gs=function(R){return Math.abs(R[6])<1e-9&&Math.abs(R[7])<1e-9};
O.f.gF=function(R){return Math.abs(R[0])<1e-9&&Math.abs(R[4])<1e-9||Math.abs(R[1])<1e-9&&Math.abs(R[3])<1e-9};
O.f.drawImage=function(R,Z,B,o,r,Y,E,p){if(E==null)E=!1;if(p==null)p=!1;var y=O.f.za(R),z=!0,u=0,Q=1/Math.sqrt(Math.abs(R[0]/B*R[4]/o-R[1]/B*R[3]/o));
for(var H=0;H<8;H++){var T=Math.round(R[H]);if(H!=2&&H!=5)u+=Math.abs(T);if(Math.abs(T-R[H])>1e-9)z=!1}var C=O.f.gs(R),e=O.f.gF(R)&&C,$=e?1:0;
if(E||z&&u==B+o&&C){O.f.Ohx(y,Z,B,o,r,Y,p,C);return}var x=Y.Y,M=Y.Z,m=new Float64Array(2);r=new Uint32Array(r.buffer);
Z=new Uint32Array(Z.buffer);for(var G=0;G<M;G++)for(var K=0;K<x;K++){var s=G*x+K,L,_,P,i,v=0,Vg=0,GE=0,Gy=0;
r[s]=0;var w=K+Y.x+.5,k=G+Y.y+.5;L=w;_=k;P=y;i=1/(P[6]*L+P[7]*_+1);var h=(P[0]*L+P[1]*_+P[2])*i,j=(P[3]*L+P[4]*_+P[5])*i,I=h*B,V=j*o,F=I<-1||I>B+1||V<-1||V>o+1;
if(p){I=Math.max(.001,Math.min(B-1,I));V=Math.max(.001,Math.min(o-1,V))}else if(F)continue;var q=Q;if(!C){var t=0,c=0;
P=R;L=h+1/B;_=j;i=1/(P[6]*L+P[7]*_+1);t=(P[0]*L+P[1]*_+P[2])*i-w;c=(P[3]*L+P[4]*_+P[5])*i-k;var f=t*t+c*c;
L=h;_=j+1/o;i=1/(P[6]*L+P[7]*_+1);t=(P[0]*L+P[1]*_+P[2])*i-w;c=(P[3]*L+P[4]*_+P[5])*i-k;var W=t*t+c*c;
q=1/Math.sqrt(Math.max(f,W))}if(q<1.1){O.f.Ja(I,V,Z,B,o,r,s,$);continue}var l=Math.round(q*2.3);if(!p&&(I<.6||I>B-.6||V<.6||V>o-.6)){l=Math.max(l,5)}if(p&&F)l=1;
var g=1/l,GY=Y.x+K,Ga=Y.y+G;P=y;for(var H=0;H<l;H++)for(var GO=0;GO<l;GO++){L=GY+(H+.5)*g;_=Ga+(GO+.5)*g;
i=1/(P[6]*L+P[7]*_+1);var I=(P[0]*L+P[1]*_+P[2])*i,V=(P[3]*L+P[4]*_+P[5])*i;if(p){I=Math.max(.001,Math.min(.999,I));
V=Math.max(.001,Math.min(.999,V))}else if(I<0||I>=1||V<0||V>=1)continue;I=Math.floor(I*B);V=Math.floor(V*o);
var J=V*B+I,D=Z[J],GB=D>>>24;v+=(D&255)*GB;Vg+=(D>>>8&255)*GB;GE+=(D>>>16&255)*GB;Gy+=GB}if(Gy!=0){var Gj=1/Gy;
v=~~(v*Gj+.5);Vg=~~(Vg*Gj+.5);GE=~~(GE*Gj+.5);Gy=~~(Gy*g*g+.5);r[s]=Gy<<24|GE<<16|Vg<<8|v}}};O.f.Ohx=function(R,Z,B,o,r,Y,E,p){var y=Y.x+Y.Y,z=Y.y+Y.Z,u=0,Q=new Uint32Array(r.buffer),H=new Uint32Array(Z.buffer),T=R[0]*B,C=R[1]*B,e=R[2]*B,$=R[3]*o,x=R[4]*o,M=R[5]*o,m=R[6],G=R[7];
if(p&&!E)for(var K=Y.y+.5;K<z;K++)for(var s=Y.x+.5;s<y;s++){var L=T*s+C*K+e,_=$*s+x*K+M;if(0<L&&L<B&&0<_&&_<o){var P=~~_*B+~~L;
Q[u]=H[P]}else Q[u]=0;u++}else for(var K=Y.y+.5;K<z;K++)for(var s=Y.x+.5;s<y;s++){var i=1/(m*s+G*K+1),L=(T*s+C*K+e)*i,_=($*s+x*K+M)*i;
if(E){L=Math.max(.001,Math.min(B-1,L));_=Math.max(.001,Math.min(o-1,_))}if(0<L&&L<B&&0<_&&_<o){var P=Math.floor(_)*B+Math.floor(L);
Q[u]=H[P]}else Q[u]=0;u++}};O.f.za=function(R){var Z=R[4]-R[5]*R[7],B=R[2]*R[7]-R[1],o=R[1]*R[5]-R[2]*R[4],r=R[5]*R[6]-R[3],Y=R[0]-R[2]*R[6],E=R[3]*R[2]-R[0]*R[5],p=R[3]*R[7]-R[4]*R[6],y=R[1]*R[6]-R[0]*R[7],z=1/(R[0]*R[4]-R[1]*R[3]);
return[Z*z,B*z,o*z,r*z,Y*z,E*z,p*z,y*z]};O.f._s=function(R,Z){var B=R[0],o=R[1],r=R[2],Y=R[3],E=R[4],p=R[5],y=R[6],z=R[7],u=Z[0],Q=Z[1],H=Z[2],T=Z[3],C=Z[4],e=Z[5],$=Z[6],x=Z[7],M=[B*u+o*T+r*$,B*Q+o*C+r*x,B*H+o*e+r,Y*u+E*T+p*$,Y*Q+E*C+p*x,Y*H+E*e+p,y*u+z*T+$,y*Q+z*C+x],m=1/(y*H+z*e+1);
for(var G=0;G<8;G++)M[G]*=m;return M};O.f.Ja=function(R,Z,B,o,r,Y,E,p){var y=R,z=Z,H=0,T=0,C=0,e=0;R-=.499999;
Z-=.499999;var u=Math.floor(R),Q=Math.floor(Z);if(p==0){var $=Q*o+u,x=u>=0&&u<o,M=u+1>=0&&u+1<o,m=Q>=0&&Q<r,G=Q+1>=0&&Q+1<r;
if(x&&m)H=B[$];if(M&&m)T=B[$+1];if(x&&G)C=B[$+o];if(M&&G)e=B[$+o+1]}else if(p==1){var K=u<0?0:u>o-1?o-1:u,s=u<-1?0:u>o-2?o-1:u+1,L=Q<0?0:Q>r-1?r-1:Q,_=Q<-1?0:Q>r-2?r-1:Q+1;
H=B[L*o+K];T=B[L*o+s];C=B[_*o+K];e=B[_*o+s]}else{var K=(u+50*o)%o,s=(u+50*o)%o,L=(Q+50*r)%r,_=(Q+50*r)%r;
H=B[L*o+K];T=B[L*o+s];C=B[_*o+K];e=B[_*o+s]}var P=R-u,i=Z-Q,w=(1-i)*(1-P)*(H>>>24),k=(1-i)*P*(T>>>24),h=i*(1-P)*(C>>>24),j=i*P*(e>>>24),I=w+k+h+j,V=w*(H&255)+k*(T&255)+h*(C&255)+j*(e&255),F=w*(H>>>8&255)+k*(T>>>8&255)+h*(C>>>8&255)+j*(e>>>8&255),q=w*(H>>>16&255)+k*(T>>>16&255)+h*(C>>>16&255)+j*(e>>>16&255);
if(I==0)Y[E]=0;else{var t=1/I;V=~~(V*t+.5);F=~~(F*t+.5);q=~~(q*t+.5);I=~~(I+.5);Y[E]=I<<24|q<<16|F<<8|V}};
O.f.gb=function(R,Z,B,o,r,Y){var E=R-.499999,p=Z-.499999,y=~~E,z=~~p,u=E-y,Q=p-z,H=(1-Q)*(1-u),T=(1-Q)*u,C=Q*(1-u),e=Q*u,$=z*o+y<<2,x=(z+1)*o+y<<2,M=H*B[$]+T*B[$+4]+C*B[x]+e*B[x+4],m=H*B[$+1]+T*B[$+5]+C*B[x+1]+e*B[x+5],G=H*B[$+2]+T*B[$+6]+C*B[x+2]+e*B[x+6],K=H*B[$+3]+T*B[$+7]+C*B[x+3]+e*B[x+7];
Y[0]=M;Y[1]=m;Y[2]=G;Y[3]=K};O.f.gd=function(R,Z,B,o,r,Y,E,p,y,z,u,Q){var H=new Uint32Array(R.buffer),T=new Uint32Array(o.buffer),C=(1+2*z)/r,e=[],$=[];
for(var x=0;x<r;x++){var M=-.25+z-x*C;e.push(Math.cos(2*Math.PI*M)*Q/u);e.push(Math.sin(2*Math.PI*M)/u)}E*=Z;
p*=B;for(var m=0;m<Y;m++){var G=Math.pow(m/Y,y)*Y;for(var x=0;x<r;x++){var K=E+e[x<<1]*G,s=p+e[(x<<1)+1]*G,L=~~(.5+(K<0?0:K>Z-1?Z-1:K)),_=~~(.5+(s<0?0:s>B-1?B-1:s));
T[m*r+x]=H[_*Z+L]}}};O.f.gn=function(R,Z,B,o,r,Y,E,p,y,z,u,Q){var H=new Uint32Array(R.buffer),T=new Uint32Array(o.buffer),C=1/Q,e=[],$=B*4,x=1/$;
for(var M=0;M<$;M++)e.push(Math.pow(M*x,1/y)*B*u);E*=r;p*=Y;for(var M=0;M<Y;M++)for(var m=0;m<r;m++){var G=C*(m-E),K=M-p,s=1.75-Math.atan2(K,G)*(1/(2*Math.PI));
s=s-~~s;s=(s+z)*(1/(1+2*z));var L=Math.sqrt(G*G+K*K);L=e[~~(L*4)];O.f.Ja(s*Z+.5,L+.5,H,Z,B,T,M*r+m,1)}};
O.L={JJ:function(R,Z){var B=~~(.499+R*Z);return B<0?0:B>Z?Z:B},OhK:function(R,Z,B,o,r,Y,E,p){var y=B[0],z=B[1],u=B[2],Q=B[3],H=o.Y,T=o.Z,C=new Float64Array(H*4+8),e=new Float64Array(H*4+8);
for(var $=0,x=0;$<T;$++){var M=C;C=e;e=M;e.fill(0);for(var m=0;m<H;m++,x++){var G=m+r,K=$+Y,s=y*G+z*K,L=u*G+Q*K,_=0,w=0;
if(p==0)_=s+.5;else if(p==1)_=2*Math.sqrt(s*s+L*L);else if(p==2)_=(Math.PI+Math.atan2(-L,-s))/(2*Math.PI);
else if(p==3)_=Math.abs(s*2);else if(p==4)_=2*(Math.abs(s)+Math.abs(L));var P=O.L.JJ(_,E)*4,i=m*4;for(var k=0;
k<4;k++){var h=Math.max(0,Math.min(254.999,Z[P+k]+C[i+4+k])),j=Math.floor(h);if(Math.random()<h-j)j++;
var I=h-j;C[i+8+k]=I*(7/16);e[i+0+k]=I*(3/16);e[i+4+k]=I*(5/16);e[i+8+k]=I*(1/16);w|=j<<k*8}R[x]=w}}},g:[function(R,Z,B,o,r,Y,E){var p=B[0],y=B[1],z=B[2],u=B[3],Q=o.Y,H=o.Z;
for(var T=0,C=0;T<H;T++)for(var e=0;e<Q;e++,C++){var $=e+r,x=T+Y,M=p*$+y*x,m=z*$+u*x,G=M+.5;R[C]=Z[O.L.JJ(G,E)]}},function(R,Z,B,o,r,Y,E){var p=B[0],y=B[1],z=B[2],u=B[3],Q=o.Y,H=o.Z;
for(var T=0,C=0;T<H;T++)for(var e=0;e<Q;e++,C++){var $=e+r,x=T+Y,M=p*$+y*x,m=z*$+u*x,G=2*Math.sqrt(M*M+m*m);
R[C]=Z[O.L.JJ(G,E)]}},function(R,Z,B,o,r,Y,E){var p=B[0],y=B[1],z=B[2],u=B[3],Q=o.Y,H=o.Z;for(var T=0,C=0;
T<H;T++)for(var e=0;e<Q;e++,C++){var $=e+r,x=T+Y,M=p*$+y*x,m=z*$+u*x,G=(Math.PI+Math.atan2(-m,-M))/(2*Math.PI);
R[C]=Z[O.L.JJ(G,E)]}},function(R,Z,B,o,r,Y,E){var p=B[0],y=B[1],z=B[2],u=B[3],Q=o.Y,H=o.Z;for(var T=0,C=0;
T<H;T++)for(var e=0;e<Q;e++,C++){var $=e+r,x=T+Y,M=p*$+y*x,m=z*$+u*x,G=Math.abs(M*2);R[C]=Z[O.L.JJ(G,E)]}},function(R,Z,B,o,r,Y,E){var p=B[0],y=B[1],z=B[2],u=B[3],Q=o.Y,H=o.Z;
for(var T=0,C=0;T<H;T++)for(var e=0;e<Q;e++,C++){var $=e+r,x=T+Y,M=p*$+y*x,m=z*$+u*x,G=2*(Math.abs(M)+Math.abs(m));
R[C]=Z[O.L.JJ(G,E)]}}]};O.L.O_e=function(R,Z){return R+.5};O.L.O_K=function(R,Z){return 2*Math.sqrt(R*R+Z*Z)};
O.L.O_r=function(R,Z){return(Math.PI+Math.atan2(-Z,-R))/(2*Math.PI)};O.L.O_p=function(R,Z){return Math.abs(R*2)};
O.L.O_s=function(R,Z){return 2*(Math.abs(R)+Math.abs(Z))};O.L.PT=function(R,Z,B,o,r,Y,E,p,y,z,u,Q){if(R.Clrs==null)return;
var H=new Uint32Array(Z.buffer),T=1023,C=O.L.$z(R.Clrs.v,y,z);if(Q){var e=O.L.Ohu(R,C,T+1,E);O.L.OhK(H,e,o,B,B.x-r,B.y-Y,T,p);
return}var $=O.L.gQ(R,C,T+1,E);if(p<5){O.L.g[p](H,$,o,B,B.x-r,B.y-Y,T)}else{var x=new Uint8Array($.buffer),M=B.Y,m=B.Z,G=u.TN-u.mL,K=1/G,s=u.hb.Y-B.Y>>1,L=u.hb.Z-B.Z>>1,_=u.hb.Y,P=-.6*K,i=(-.6+.4)*K,w=(-.6+2*.4)*K,k=(-.6+3*.4)*K;
for(var h=0,j=0;h<m;h++)for(var I=0;I<M;I++,j+=4){var V=0,F=0,q=0,t=0,c=(h+L)*_+I+s,f=(u._M[c]-u.mL)*K,W=0;
if(f<=0||f>=1){W=(f<=0?0:T)<<2;Z[j]=x[W];Z[j+1]=x[W+1];Z[j+2]=x[W+2];Z[j+3]=x[W+3];continue}W=Math.max(0,Math.min(T-1,Math.round((f+P)*T)))<<2;
F+=x[W];q+=x[W+1];t+=x[W+2];V+=x[W+3];W=Math.max(0,Math.min(T-1,Math.round((f+i)*T)))<<2;F+=x[W];q+=x[W+1];
t+=x[W+2];V+=x[W+3];W=Math.max(0,Math.min(T-1,Math.round((f+w)*T)))<<2;F+=x[W];q+=x[W+1];t+=x[W+2];V+=x[W+3];
W=Math.max(0,Math.min(T-1,Math.round((f+k)*T)))<<2;F+=x[W];q+=x[W+1];t+=x[W+2];V+=x[W+3];Z[j]=F>>>2;
Z[j+1]=q>>>2;Z[j+2]=t>>>2;Z[j+3]=V>>>2}}};O.L.$z=function(R,Z,B){var o=[];for(var r=0;r<R.length;r++){var Y;
if(R[r].v.Type.v.Clry=="FrgC")Y={F:Z>>16&255,S:Z>>8&255,X:Z&255};else if(R[r].v.Type.v.Clry=="BckC")Y={F:B>>16&255,S:B>>8&255,X:B&255};
else Y=O.L.iz(R[r].v.Clr.v);o.push(Y)}return o};O.L.iz=function(R){var Z,B=R.classID;if(B=="RGBC")Z={F:R.Rd.v,S:R.Grn.v,X:R.Bl.v};
else if(B=="HSBC"){Z=O.Aa(R.H.v.val/360,R.Strt.v/100,R.Brgh.v/100);Z.F*=255;Z.S*=255;Z.X*=255}else if(B=="CMYC"){var o=100-R.Cyn.v,r=100-R.Mgnt.v,Y=100-R.Ylw.v,E=100-R.Blck.v,p=255*o*E*1e-4,y=255*(.2*o+.8*r)*E*1e-4,z=255*(.2*r+.8*Y)*E*1e-4;
Z={F:p,S:y,X:z}}else if(B=="Grsc")Z={F:255-R.Gry.v,S:255-R.Gry.v,X:255-R.Gry.v};else if(B=="LbCl"){Z=O.Qf(R.Lmnc.v,R.A.v,R.B.v)}else console.log(R);
if(isNaN(Z.F))Z.F=Z.S=Z.X=0;return Z};O.L.hN=function(R){return{classID:"RGBC",Rd:{t:"doub",v:R.F},Grn:{t:"doub",v:R.S},Bl:{t:"doub",v:R.X}}};
O.L.Ohu=function(R,Z,B,o){var r=[],Y=1/(B-0);for(var E=0;E<B;E++){var p=E*4,y=O.L.gP(R,Z,(o?B-1-E:E)*Y);
r[p]=y[0];r[p+1]=y[1];r[p+2]=y[2];r[p+3]=y[3]}return r};O.L.gQ=function(R,Z,B,o){var r=new Uint32Array(B),Y=1/(B-0);
for(var E=0;E<B;E++)r[E]=O.L.$w(R,Z,(o?B-1-E:E)*Y);return r};O.L.gP=function(R,Z,B){var o=4096,r=1/4096,Y=R.Intr.v*r,E=R.Clrs.v,p=R.Trns.v,y=E.length-1,z=p.length-1,u=-1,Q=0,H=0,T=0,C=0;
while(u<z&&p[u+1].v.Lctn.v<=B*o)u++;if(u==-1){Q=p[0].v.Opct.v.val*(255/100)}else if(u==z){Q=p[u].v.Opct.v.val*(255/100)}else{var e=O.L.Pk(p,r,u,B,Y);
Q=(e*p[u].v.Opct.v.val+(1-e)*p[u+1].v.Opct.v.val)*(255/100)}u=-1;while(u<y&&E[u+1].v.Lctn.v<=B*o)u++;
if(u==-1){var $=Z[0];H=$.F;T=$.S;C=$.X}else if(u==y){var $=Z[u];H=$.F;T=$.S;C=$.X}else{var x=Z[u],M=Z[u+1],m=O.L.Pk(E,r,u,B,Y);
H=m*x.F+(1-m)*M.F;T=m*x.S+(1-m)*M.S;C=m*x.X+(1-m)*M.X}return[H,T,C,Q]};O.L.$w=function(R,Z,B){var o=O.L.gP(R,Z,B),r=~~(.5+o[0]),Y=~~(.5+o[1]),E=~~(.5+o[2]),p=~~(.5+o[3]);
return p<<24|E<<16|Y<<8|r};O.L.Pk=function(R,Z,B,o,r){if(R.length==2)r*=.5;var Y=R[B].v.Lctn.v*Z,E=R[B+1].v.Lctn.v*Z,p=Y+R[B+1].v.Mdpn.v*.01*(E-Y),y;
if(o<p)y=.5*(o-Y)/(p-Y);else y=.5+.5*(o-p)/(E-p);y=.5+.5*(r*Math.cos(Math.PI*y)+(1-r)*(1-2*y));return y};
O.L.jF=function(R,Z){var B=Math.PI*R.Angl.v.val/180,o=R.Scl.v.val/100,r=R.Ofst.v,Y=r.Hrzn.v.val/100,E=r.Vrtc.v.val/100,p=Math.cos(B),y=-Math.sin(B),z=.5*Z.Z,u=z*(p/y),Q=Math.sqrt(z*z+u*u),H=.5*Z.Y,T=H*(y/p),C=Math.sqrt(H*H+T*T),e=Math.min(Q,C)*o,$=Z.x+Z.Y/2+Y*Z.Y,x=Z.y+Z.Z/2+E*Z.Z;
return[new VP($,x),new VP($+p*e,x+y*e)]};O.L.$b=function(R,Z,B,o){var r=Z.x-R.x,Y=-(Z.y-R.y),E=Math.sqrt(r*r+Y*Y),p=Math.atan2(Y,r),y=Math.cos(p),z=-Math.sin(p),u=.5*B.Z,Q=u*(y/z),H=Math.sqrt(u*u+Q*Q),T=.5*B.Y,C=T*(z/y),e=Math.sqrt(T*T+C*C),$=E/Math.min(H,e),x=(R.x-B.x-B.Y/2)/B.Y,M=(R.y-B.y-B.Z/2)/B.Z;
o.Angl.v.val=180*p/Math.PI;o.Scl.v.val=$*100;var m=o.Ofst.v;m.Hrzn.v.val=x*100;m.Vrtc.v.val=M*100};O.L.PC=function(R,Z){for(var B=0;
B<R.length;B++){var o=R[B],r=Math.round(o[0]*4096),Y=o[1],E=o[2];if(E==null)E=1;var p=O.L.hN({F:Y[0]*255,S:Y[1]*255,X:Y[2]*255});
Z.Clrs.v[B]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:r},Mdpn:{t:"long",v:50},Clr:{t:"Objc",v:p},Type:{t:"enum",v:{Clry:"UsrS"}}}};
Z.Trns.v[B]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:r},Mdpn:{t:"long",v:50},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(E*100)}}}}}};
O.aZ={};O.aZ.OV=function(R,Z,B,o,r){var Y=!1,C=1,j=0,I=0,l=0,Gf=0;if(!Z.Uv(r)){var E=Z.fj(r),p=O.a(E.b()*4);
O.GN(R,Z,p,E);R=p;Z=E}var y=O.a(Z.b());O.WX(B,r,y,Z);O.round(y);r=r.Rg(Z);var z=r.Y,u=r.Z,Q=z*3<u?2:1,H=u*3<z?2:1;
if(r.b()*(Q*2+1)*(H*2+1)<Z.b()){var E=new N(r.x-z*Q,r.y-u*Q,z*(Q*2+1),u*(H*2+1)).Rg(Z),p=O.a(E.b()*4);
O.GN(R,Z,p,E);var T=O.a(E.b());O.WX(y,Z,T,E);Z=E;R=p;y=T}while((Z.Y+Z.Z)/2/C>400)C++;var e=R,$=Z,x=y,M=Math.floor($.Y/C),m=Math.floor($.Z/C);
R=O.a(M*m*4);O.scale.Dv(e,$.Y,$.Z,R,M,m,1/C);y=O.a(M*m);O.scale.Ov(x,$.Y,$.Z,y,M,m,1/C);O.round(y,1);
var G=O.Fs(y,new N(0,0,M,m));if(G.Pa())return;var K=Math.round((G.Y+G.Z)/2/15),s=Date.now(),L=O.a(M*m*4);
O.OYv(R,L);var _=Int16Array,P=new _(M*m*24),i=new _(64),w=new _(64),k=new _(64),h=new _(64);for(var V=3;
V<m-4;V++)for(var F=3;F<M-4;F++){var q=V*M+F;if(y[q]==255)continue;if(O.aZ.OtQ(L,y,F,V,M,m,i,w,k)!=0)continue;
O.aZ.Ik(i,h);P[j]=F;P[j+1]=V;O.aZ.VG(i,P,j+4,12);j+=16;O.aZ.Ik(w,h);O.aZ.VG(w,P,j,4);j+=4;O.aZ.Ik(k,h);
O.aZ.VG(k,P,j,4);j+=4;var t=P[j-24+5],c=P[j-24+6];P[j-24+5]=P[j-24+20];P[j-24+6]=P[j-24+16];P[j-24+16]=t;
P[j-24+20]=c;I++}if(I==0)return;if(Y)console.log(Date.now()-s,"FWHT computed");s=Date.now();var f=[];
O.aZ.jm(0,I-1,f,P,new _(2*24));if(Y)console.log(Date.now()-s,"KD tree computed");s=Date.now();var W=new Float32Array(M*m*4);
for(var g=0;g<I;g++){var v=g,Vg=O.aZ.OtE(v,P,f,K);if(Vg==-1)continue;var GE=v*24,Gy=Vg*24,GY=P[GE],Ga=P[GE+1],GO=P[Gy],J=P[Gy+1];
l+=O.aZ.getError(Gy,GE,P,1e99);var D=GO-GY,GB=J-Ga;W[(m+GB)*2*M+(M+D)]+=1}if(Y)console.log(Date.now()-s,"NN found");
s=Date.now();var Gj=[],GX=1/(2*M);for(var g=0;g<W.length;g++){if(W[g]>0){var V=Math.floor(g*GX),F=g-V*2*M;
Gj.push({x:F-M,y:V-m,k:W[g],pf:-1})}}Gj.sort(function(OB,Gb){return Gb.k-OB.k});var Gw=new Int32Array(M*m),G_=[];
for(var g=0;g<M*m;g++){if(y[g]==255){Gw[g]=Gf;G_.push(g%M,Math.floor(g/M));Gf++}else if(R[(g<<2)+3]<200){Gw[g]=-2}else{Gw[g]=-1}}var Gl=O.aZ.OSu(M,m,Gj,Gw,G_,Gf);
if(Gl==null){return}var GU=Gl.CD,top=Gl.top;GU=O.aZ.OSB(GU,R,M,m,top,Gw,G_,Gf);if(Y)console.log(Date.now()-s,"optimal labeling found");
s=Date.now();var E=r.clone();E.yj(1,1);E=E.Rg($);var GD=O.a(E.b()*4),Gi=O.a(E.b());O.GN(e,$,GD,E);var Gh=$.Y,G$=$.Z;
for(var V=0;V<G$;V++)for(var F=0;F<Gh;F++){if(x[V*Gh+F]==0)continue;var GA=Math.min(Math.floor(F/C),M-1),GJ=Math.min(Math.floor(V/C),m-1),Ge=Gw[GJ*M+GA],Gq=GU[Ge],Gv=top[Gq],yi=F+Gv.x*C,GZ=V+Gv.y*C,OU=GZ*Gh+yi<<2,GH=(V-E.y+$.y)*E.Y+(F-E.x+$.x)<<2;
GD[GH]=e[OU];GD[GH+1]=e[OU+1];GD[GH+2]=e[OU+2];GD[GH+3]=e[OU+3];GD[GH+3]=e[OU+3];Gi[GH>>2]=Gq+1}if(Y)console.log(Date.now()-s,"copied back");
s=Date.now();O.xB.OV(GD,Gi,E,null,1e3);if(Y)console.log(Date.now()-s,"poisson smooth");s=Date.now();
O.GN(GD,E,o,r)};O.aZ.Py=function(R,Z,B,o,r,Y){return O.aZ.$T(R+r.x,Z+r.y,B,o)&&Y[(Z+r.y)*B+(R+r.x)]==-1?0:1e9};
O.aZ.OSB=function(R,Z,B,o,top,r,Y,E){var p=Date.now(),y=[-1,0,0,-1,1,0,0,1],z=1e99,u=[],Q=[],H=2*(E*2*3+E*2),T=null,C=0,e=0,$=0,x=1e99;
while(!0&&Date.now()<p+12e3){$++;var M=null,m=z;for(var G=0;G<top.length;G++){var K=top[G],s=0,L=E+2,_=0;
for(var P=0;P<E;P++){var i=Y[P*2],w=Y[P*2+1],k=top[R[P]],h=O.aZ.Py(i,w,B,o,K,r),j=R[P]==G?1e9:O.aZ.Py(i,w,B,o,k,r);
for(var I=0;I<4;I++){if(I==0&&i==0||I==1&&w==0||I==2&&i==B-1||I==3&&w==o-1)continue;var V=y[2*I],F=y[2*I+1],q=i+V,t=w+F,c=r[t*B+q];
if(c==-2){}else if(c==-1){h+=3*O.aZ.Yx(q+K.x,t+K.y,q,t,B,o,Z,r);h+=2*O.aZ.Yx(q+K.x+V,t+K.y+F,q+V,t+F,B,o,Z,r);
j+=3*O.aZ.Yx(q+k.x,t+k.y,q,t,B,o,Z,r);j+=2*O.aZ.Yx(q+k.x+V,t+k.y+F,q+V,t+F,B,o,Z,r)}else if(I>1){if(R[P]==R[c]){var f=0;
f+=O.aZ.Yx(i+k.x,w+k.y,i+K.x,w+K.y,B,o,Z,r);f+=O.aZ.Yx(q+k.x,t+k.y,q+K.x,t+K.y,B,o,Z,r);u[s]=P;u[s+1]=c;
Q[s]=f;Q[s+1]=f;s+=2}else{var W=top[R[c]],l=L,g=0,v=0,Vg=0;L++;g+=O.aZ.Yx(i+k.x,w+k.y,i+K.x,w+K.y,B,o,Z,r);
g+=O.aZ.Yx(q+k.x,t+k.y,q+K.x,t+K.y,B,o,Z,r);v+=O.aZ.Yx(i+W.x,w+W.y,i+K.x,w+K.y,B,o,Z,r);v+=O.aZ.Yx(q+W.x,t+W.y,q+K.x,t+K.y,B,o,Z,r);
Vg+=O.aZ.Yx(i+W.x,w+W.y,i+k.x,w+k.y,B,o,Z,r);Vg+=O.aZ.Yx(q+W.x,t+W.y,q+k.x,t+k.y,B,o,Z,r);u[s]=P;u[s+1]=l;
Q[s]=g;Q[s+1]=g;s+=2;u[s]=c;u[s+1]=l;Q[s]=v;Q[s+1]=v;s+=2;u[s]=l;u[s+1]=E+1;Q[s]=Vg;Q[s+1]=0;s+=2}}}u[s]=E;
u[s+1]=P;Q[s]=h;Q[s+1]=0;s+=2;u[s]=P;u[s+1]=E+1;Q[s]=j;Q[s+1]=0;s+=2;_+=Math.min(h,j)}if(_>m)continue;
var GE=O.Kt.$d(L,s,E,E+1,u,Q,m);if(GE.Lj<m){m=GE.Lj;var Gy=R.slice(0);O.aZ.OSf(Gy,s,u,GE.pi,G,E);M=Gy}}if(m*1>=z){break}z=m;
R=M;if(($&3)==0){if(m*1.03>=x)break;x=m}if(($&3)==0){var GY=0*top.length;for(var P=0;P<top.length&&top.length>GY;
P++){if(R.indexOf(P)!=-1)continue;top.splice(P,1);for(var c=0;c<R.length;c++)if(R[c]>P)R[c]--;P--}}}return R};
O.aZ.OSf=function(R,Z,B,o,r,Y){for(var E=0;E<o.length;E++){var p=o[E]<<1,y=0,z=0;if(p<Z){y=B[p];z=B[p+1]}else{z=B[p];
y=B[p+1]}if(y==Y&&R[z]!=r)R[z]=r}};O.aZ.PY=function(top,R,Z,B,o,r,Y,E,p){for(var y=0;y<Z.length;y++){var z=Z[y],u=!0;
if(E!=null&&!(O.aZ.$T(E+z.x,p+z.y,r,Y)&&B[r*(p+z.y)+E+z.x]==-1))continue;if(z.pf==-1)z.pf=O.aZ.OSD(z,B,o,r,Y);
if(z.pf<=0)continue;for(var Q=0;Q<top.length;Q++){var H=top[Q],T=z.x-H.x,C=z.y-H.y;if(T*T+C*C<R){u=!1;
break}}if(u)return z}return null};O.aZ.OSD=function(R,Z,B,o,r){var Y=0;for(var E=0;E<B.length;E+=2){var p=B[E]+R.x,y=B[E+1]+R.y;
if(O.aZ.$T(p,y,o,r)&&Z[o*y+p]==-1)Y++}return Y/(B.length>>1)};O.aZ.OSu=function(R,Z,B,o,r,Y){var top=[];
for(var E=0;E<60;E++){var p=O.aZ.PY(top,25,B,o,r,R,Z);if(p==null)break;else top.push(p)}if(top.length==0)return null;
var y=[];for(var E=0;E<Y;E++){var z=r[E*2],u=r[E*2+1],Q=-1,H=0;while(!0){H++;var T=Math.random();Q=Math.floor(T*.99999*top.length);
var C=top[Q],e=z+C.x,$=u+C.y;if(O.aZ.$T(e,$,R,Z)&&o[$*R+e]==-1)break;if(H>100){var p;p=O.aZ.PY(top,0,B,o,r,R,Z,z,u);
if(p==null)return null;top.push(p);H=0}}y.push(Q)}return{top:top,CD:y}};O.aZ.Yx=function(R,Z,B,o,r,Y,E,p){if(R==B&&Z==o)return 0;
if(R<0||Z<0||R>=r||Z>=Y||B<0||o<0||B>=r||o>=Y||p[Z*r+R]!=-1||p[o*r+B]!=-1)return 1e7;var y=Z*r+R<<2,z=o*r+B<<2,u=E[y]-E[z],Q=E[y+1]-E[z+1],H=E[y+2]-E[z+2];
return 1+(u*u+Q*Q+H*H)};O.aZ.$T=function(R,Z,B,o){return R>=0&&R<B&&Z>=0&&Z<o};O.aZ.OtE=function(R,Z,B,o){var r=24*R,Y=Z[r],E=Z[r+1],p=o*o,y=0,H=1e9;
while(B[y]!=99)if(Z[r+B[y]]<B[y+1])y=B[y+2];else y=B[y+3];var z=B[y+1],u=B[y+2],Q=-1;for(var T=z;T<=u;
T++){var y=T,C=y*24,e=Z[C],$=Z[C+1];if((e-Y)*(e-Y)+($-E)*($-E)<p)continue;var x=O.aZ.getError(C,r,Z,H);
if(x<H){H=x;Q=y}}return Q};O.aZ.getError=function(R,Z,B,o){var r=0;for(var Y=4;Y<24;Y+=4){var E=B[Z+Y]-B[R+Y],p=B[Z+Y+1]-B[R+Y+1],y=B[Z+Y+2]-B[R+Y+2],z=B[Z+Y+3]-B[R+Y+3];
r+=E*E+p*p+y*y+z*z;if(r>=o)return r+1}return r};O.aZ.jm=function(R,Z,B,o,r){var Y=16,T=0;if(Z-R<=Y){B.push(99,R,Z);
return}O.aZ.Rn(R,Z,o,r);var E=-1,p=-1;for(var y=4;y<24;y++){var z=r[2*y+1]-r[2*y];if(z>p){p=z;E=y}}var u=R+Z>>1,Q=O.aZ.OtZ(u,R,Z,o,E),H=-1;
for(var y=R;y<=Z;y++)if(o[24*y+E]==Q){if(H==-1)H=y;T=y}if(R+8<H&&H-R>Z-T)u=H;else if(T+1<Z-8)u=T+1;else if(Z-R<64){B.push(99,R,Z);
return}else u=u;var C=B.length;B.push(E,Q,0,0);B[C+2]=C+4;O.aZ.jm(R,u-1,B,o,r);B[C+3]=B.length;O.aZ.jm(u,Z,B,o,r)};
O.aZ.Rn=function(R,Z,B,o){for(var r=0;r<48;r+=4){o[r]=3e4;o[r+1]=-3e4;o[r+2]=3e4;o[r+3]=-3e4}for(var r=R;
r<=Z;r++){var Y=r*24;for(var E=0;E<24;E++){var p=B[Y+E],y=o[E<<1],z=o[(E<<1)+1];if(p<y)o[E<<1]=p;if(p>z)o[(E<<1)+1]=p}}};
O.aZ.jQ=function(R,Z,B){var o=0,r=0;o=B[R+r];B[R+r]=B[Z+r];B[Z+r]=o;r++;o=B[R+r];B[R+r]=B[Z+r];B[Z+r]=o;
r++;o=B[R+r];B[R+r]=B[Z+r];B[Z+r]=o;r++;o=B[R+r];B[R+r]=B[Z+r];B[Z+r]=o;r++;o=B[R+r];B[R+r]=B[Z+r];B[Z+r]=o;
r++;o=B[R+r];B[R+r]=B[Z+r];B[Z+r]=o;r++;o=B[R+r];B[R+r]=B[Z+r];B[Z+r]=o;r++;o=B[R+r];B[R+r]=B[Z+r];B[Z+r]=o;
r++;o=B[R+r];B[R+r]=B[Z+r];B[Z+r]=o;r++;o=B[R+r];B[R+r]=B[Z+r];B[Z+r]=o;r++;o=B[R+r];B[R+r]=B[Z+r];B[Z+r]=o;
r++;o=B[R+r];B[R+r]=B[Z+r];B[Z+r]=o;r++;o=B[R+r];B[R+r]=B[Z+r];B[Z+r]=o;r++;o=B[R+r];B[R+r]=B[Z+r];B[Z+r]=o;
r++;o=B[R+r];B[R+r]=B[Z+r];B[Z+r]=o;r++;o=B[R+r];B[R+r]=B[Z+r];B[Z+r]=o;r++;o=B[R+r];B[R+r]=B[Z+r];B[Z+r]=o;
r++;o=B[R+r];B[R+r]=B[Z+r];B[Z+r]=o;r++;o=B[R+r];B[R+r]=B[Z+r];B[Z+r]=o;r++;o=B[R+r];B[R+r]=B[Z+r];B[Z+r]=o;
r++;o=B[R+r];B[R+r]=B[Z+r];B[Z+r]=o;r++;o=B[R+r];B[R+r]=B[Z+r];B[Z+r]=o;r++;o=B[R+r];B[R+r]=B[Z+r];B[Z+r]=o;
r++;o=B[R+r];B[R+r]=B[Z+r];B[Z+r]=o;r++};O.aZ.jP=function(R,Z,B,o){var r=B+o>>>1,Y=R[24*r+Z];while(B<=o){while(R[24*B+Z]<Y)B++;
while(R[24*o+Z]>Y)o--;if(B<=o){if(R[24*B+Z]!=R[24*o+Z])O.aZ.jQ(B*24,o*24,R);B++;o--}}return B};O.aZ.OtZ=function(R,Z,B,o,r){var Y=0;
while(Z!=B){Y=O.aZ.jP(o,r,Z,B);if(R<Y)B=Y-1;else Z=Y}return o[R*24+r]};O.aZ.VG=function(R,Z,B,o){for(var r=0;
r<o;r++)Z[B+r]=R[r]};O.aZ.OtQ=function(R,Z,B,o,r,Y,E,p,y){var z=(o-3)*r+(B-3),u=z<<2;for(var Q=0;Q<8;
Q++){if(Z[z]+Z[z+1]+Z[z+2]+Z[z+3]+Z[z+4]+Z[z+5]+Z[z+6]+Z[z+7]!=0||R[u+3]<200||R[u+7]<200||R[u+11]<200||R[u+15]<200||R[u+19]<200||R[u+23]<200||R[u+27]<200||R[u+31]<200)return 1;
var H=Q<<3;E[H+0]=R[u+0];p[H+0]=R[u+1];y[H+0]=R[u+2];E[H+1]=R[u+4];p[H+1]=R[u+5];y[H+1]=R[u+6];E[H+2]=R[u+8];
p[H+2]=R[u+9];y[H+2]=R[u+10];E[H+3]=R[u+12];p[H+3]=R[u+13];y[H+3]=R[u+14];E[H+4]=R[u+16];p[H+4]=R[u+17];
y[H+4]=R[u+18];E[H+5]=R[u+20];p[H+5]=R[u+21];y[H+5]=R[u+22];E[H+6]=R[u+24];p[H+6]=R[u+25];y[H+6]=R[u+26];
E[H+7]=R[u+28];p[H+7]=R[u+29];y[H+7]=R[u+30];u+=r<<2;z+=r}return 0};O.aZ.Ik=function(R,Z){Z[0]=R[32]+R[0];
Z[1]=R[33]+R[1];Z[2]=R[34]+R[2];Z[3]=R[35]+R[3];Z[4]=R[36]+R[4];Z[5]=R[37]+R[5];Z[6]=R[38]+R[6];Z[7]=R[39]+R[7];
Z[8]=R[40]+R[8];Z[9]=R[41]+R[9];Z[10]=R[42]+R[10];Z[11]=R[43]+R[11];Z[12]=R[44]+R[12];Z[13]=R[45]+R[13];
Z[14]=R[46]+R[14];Z[15]=R[47]+R[15];Z[16]=R[48]+R[16];Z[17]=R[49]+R[17];Z[18]=R[50]+R[18];Z[19]=R[51]+R[19];
Z[20]=R[52]+R[20];Z[21]=R[53]+R[21];Z[22]=R[54]+R[22];Z[23]=R[55]+R[23];Z[24]=R[56]+R[24];Z[25]=R[57]+R[25];
Z[26]=R[58]+R[26];Z[27]=R[59]+R[27];Z[28]=R[60]+R[28];Z[29]=R[61]+R[29];Z[30]=R[62]+R[30];Z[31]=R[63]+R[31];
Z[32]=R[0]-R[32];Z[33]=R[1]-R[33];Z[34]=R[2]-R[34];Z[35]=R[3]-R[35];Z[36]=R[4]-R[36];Z[37]=R[5]-R[37];
Z[38]=R[6]-R[38];Z[39]=R[7]-R[39];Z[40]=R[8]-R[40];Z[41]=R[9]-R[41];Z[42]=R[10]-R[42];Z[43]=R[11]-R[43];
Z[44]=R[12]-R[44];Z[45]=R[13]-R[45];Z[46]=R[14]-R[46];Z[47]=R[15]-R[47];Z[48]=R[16]-R[48];Z[49]=R[17]-R[49];
Z[50]=R[18]-R[50];Z[51]=R[19]-R[51];Z[52]=R[20]-R[52];Z[53]=R[21]-R[53];Z[54]=R[22]-R[54];Z[55]=R[23]-R[55];
Z[56]=R[24]-R[56];Z[57]=R[25]-R[57];Z[58]=R[26]-R[58];Z[59]=R[27]-R[59];Z[60]=R[28]-R[60];Z[61]=R[29]-R[61];
Z[62]=R[30]-R[62];Z[63]=R[31]-R[63];R[0]=Z[16]+Z[0];R[1]=Z[17]+Z[1];R[2]=Z[18]+Z[2];R[3]=Z[19]+Z[3];
R[4]=Z[20]+Z[4];R[5]=Z[21]+Z[5];R[6]=Z[22]+Z[6];R[7]=Z[23]+Z[7];R[8]=Z[24]+Z[8];R[9]=Z[25]+Z[9];R[10]=Z[26]+Z[10];
R[11]=Z[27]+Z[11];R[12]=Z[28]+Z[12];R[13]=Z[29]+Z[13];R[14]=Z[30]+Z[14];R[15]=Z[31]+Z[15];R[16]=Z[0]-Z[16];
R[17]=Z[1]-Z[17];R[18]=Z[2]-Z[18];R[19]=Z[3]-Z[19];R[20]=Z[4]-Z[20];R[21]=Z[5]-Z[21];R[22]=Z[6]-Z[22];
R[23]=Z[7]-Z[23];R[24]=Z[8]-Z[24];R[25]=Z[9]-Z[25];R[26]=Z[10]-Z[26];R[27]=Z[11]-Z[27];R[28]=Z[12]-Z[28];
R[29]=Z[13]-Z[29];R[30]=Z[14]-Z[30];R[31]=Z[15]-Z[31];Z[0]=R[8]+R[0];Z[1]=R[9]+R[1];Z[2]=R[10]+R[2];
Z[3]=R[11]+R[3];Z[4]=R[12]+R[4];Z[5]=R[13]+R[5];Z[6]=R[14]+R[6];Z[7]=R[15]+R[7];Z[8]=R[0]-R[8];Z[9]=R[1]-R[9];
Z[10]=R[2]-R[10];Z[11]=R[3]-R[11];Z[12]=R[4]-R[12];Z[13]=R[5]-R[13];Z[14]=R[6]-R[14];Z[15]=R[7]-R[15];
R[0]=Z[4]+Z[0];R[1]=Z[5]+Z[1];R[2]=Z[6]+Z[2];R[3]=Z[7]+Z[3];R[4]=Z[0]-Z[4];R[5]=Z[1]-Z[5];R[6]=Z[2]-Z[6];
R[7]=Z[3]-Z[7];R[8]=Z[12]+Z[8];R[9]=Z[13]+Z[9];R[10]=Z[14]+Z[10];R[11]=Z[15]+Z[11];R[12]=Z[8]-Z[12];
R[13]=Z[9]-Z[13];R[14]=Z[10]-Z[14];R[15]=Z[11]-Z[15];Z[0]=R[2]+R[0];Z[1]=R[3]+R[1];Z[2]=R[0]-R[2];Z[3]=R[1]-R[3];
Z[4]=R[6]+R[4];Z[5]=R[7]+R[5];Z[6]=R[4]-R[6];Z[7]=R[5]-R[7];Z[8]=R[10]+R[8];Z[9]=R[11]+R[9];Z[10]=R[8]-R[10];
Z[11]=R[9]-R[11];Z[12]=R[14]+R[12];Z[13]=R[15]+R[13];Z[14]=R[12]-R[14];Z[15]=R[13]-R[15];R[0]=Z[1]+Z[0];
R[1]=Z[0]-Z[1];R[2]=Z[3]+Z[2];R[3]=Z[2]-Z[3];R[4]=Z[5]+Z[4];R[5]=Z[4]-Z[5];R[6]=Z[7]+Z[6];R[7]=Z[6]-Z[7];
R[8]=Z[9]+Z[8];R[9]=Z[8]-Z[9];R[10]=Z[11]+Z[10];R[11]=Z[10]-Z[11];R[12]=Z[13]+Z[12];R[13]=Z[12]-Z[13];
R[14]=Z[15]+Z[14];R[15]=Z[14]-Z[15]};O.aZ.O_u=function(){var R="",Z=64,B="v",o="t",r="a",Y=5,E,p,y;for(E=Z>>1;
E>0;E>>=1,Y--){for(p=0;p<Z;p++){y=(p>>Y&1)!=0;if(y){R+=o+"["+p+"] = "+B+"["+(-E+p)+"] - "+B+"["+p+"];  "}else{R+=o+"["+p+"] = "+B+"["+(E+p)+"] + "+B+"["+p+"];  "}}r=B;
B=o;o=r;R+="\n"}console.log(R)};O.aZ.O_C=function(R,Z,B){var o=Z,r=B,Y=o,E=0,y,z,u;while(R>>E!=2)E++;
var p=E;for(y=R>>1;y>0;y>>=1,E--){for(z=0;z<R;z++){u=(z>>E&1)!=0;if(u)r[z]=o[-y+z]-o[z];else r[z]=o[y+z]+o[z]}Y=o;
o=r;r=Y}if((p&1)==1)for(y=0;y<R;y++)B[y]=o[y]};O.$g={};O.$g.IO=function(R,Z,B,o,r,Y,E,p,y){var z=Date.now(),u=new Uint32Array(R.buffer),Q=new Uint32Array(Z.buffer),H=E/B,T=p/o,C=1/H,e=1/T,$=new Float64Array(2),x=3,M=1/x,m=1/(x*x),G=0,K=0,s=B,L=o;
if(r){G=r.x;K=r.y;s=r.Y;L=r.Z}for(var _=0;_<L;_++)for(var P=0;P<s;P++){var i=G+P,w=K+_,k=w*B+i,h=k<<1,j=k<<2;
O.$g.Ofk(Y,E,p,(i+.5)*H,(w+.5)*T,$);var I=$[0]*C,V=$[1]*e;if(I==0&&V==0)Q[k]=u[k];else{O.f.Ja(i+I+.5,w+V+.5,u,B,o,Q,k,y)}}};
O.$g.Ofk=function(R,Z,B,o,r,Y){o-=.499999;r-=.499999;var E=~~o,p=~~r,y=o-E,z=r-p,u=(1-z)*(1-y),Q=(1-z)*y,H=z*(1-y),T=z*y,C=E<Z-1?E+1:E,e=p<B-1?p+1:p,$=p*Z+E<<1,x=p*Z+C<<1,M=e*Z+E<<1,m=e*Z+C<<1;
Y[0]=u*R[$]+Q*R[x]+H*R[M]+T*R[m];Y[1]=u*R[$+1]+Q*R[x+1]+H*R[M+1]+T*R[m+1]};O.$g.IB=new Float32Array(512);
O.$g.PR=function(R){if(O.$g.IB.length<R)O.$g.IB=new Float32Array(R);return O.$g.IB};O.$g.Ofy=function(R,Z,B,o,r){var Y=1/R,E=[-1,1,-R,R],p=o.length,y=O.$g.PR(p*2);
for(var z=0;z<2;z++){for(var u=0;u<p;u++){var Q=o[u],H=Q<<1,T=u<<1,C=Math.floor(Q*Y),e=Q-R*C,$=B[H],x=B[H+1],M=0,m=0;
if(e!=0&&e!=R-1){var G=Q-1<<1,K=Q+1<<1,s=B[G],L=B[K],_=B[G+1],P=B[K+1],i=$-(s+L)*.5,w=x-(_+P)*.5;M-=i*r;
m-=w*r}if(C!=0&&C!=Z-1){var G=Q-R<<1,K=Q+R<<1,s=B[G],L=B[K],_=B[G+1],P=B[K+1],i=$-(s+L)*.5,w=x-(_+P)*.5;
M-=i*r;m-=w*r}y[T]=$+M;y[T+1]=x+m}for(var u=0;u<p;u++){var H=o[u]<<1,T=u<<1;B[H]=y[T];B[H+1]=y[T+1]}}};
O.$g.Ofa=function(R,Z,B,o,r,Y,E,p,y,z,u,Q,H){var T=Math.max(0,Math.floor(r-E*p-1)),C=Math.min(Z,Math.ceil(r+E*p+1)),e=Math.max(0,Math.floor(Y-E-1)),$=Math.min(B,Math.ceil(Y+E+1)),x=2*Z,M=E*E,m=1/E,G=0,K=O.$g.PR((C-T)*($-e)*2);
for(var s=e;s<$;s++)for(var L=T;L<C;L++){var _=s*Z+L,P=_<<1,i=(r-L)/p,w=Y-s,k=i*i+w*w;if(k<M){Q[G]=_;
var h=Math.sqrt(k),j=h*m,I=h==0?1:j/h;i*=I;w*=I;var V=Math.exp(-4*j),F=.96*(1-j*j),q=z*((1-y)*V+y*F);
if(o==1){K[G<<1]=R[P]*(1-q*.05);K[(G<<1)+1]=R[P+1]*(1-q*.05)}else{var t=0,c=0,l,g,v,Vg;if(o==0){t=u.x*q;
c=u.y*q}else if(o==2){}else if(o==3){if(H)q=-q;t=q*w;c=-q*i}else if(o==4){t=q*i;c=q*w}else if(o==5){t=-q*i;
c=-q*w}else if(o==6){if(H)q=-q;t=u.y*q;c=-u.x*q}var f=R[P],W=R[P+1];if(L==0||L!=Z-1&&t<0){l=1+R[P+2]-f;
v=R[P+3]-W}else{l=f-R[P-2]+1;v=W-R[P-1]}if(s==0||s!=B-1&&c<0){g=R[P+x]-f;Vg=1+R[P+x+1]-W}else{g=f-R[P-x];
Vg=W-R[P-x+1]+1}K[G<<1]=-(l*t+g*c-f);K[(G<<1)+1]=-(v*t+Vg*c-W)}G++}}for(var GE=0;GE<G;GE++){var P=Q[GE]<<1,Gy=GE<<1;
R[P]=K[Gy];R[P+1]=K[Gy+1]}};O.$g.O_c=function(R){var Z=R[0],B=R[0],o=R[1],r=R[1];for(var Y=0;Y<R.length;
Y+=2){var E=R[Y],p=R[Y+1];if(E<Z)Z=E;else if(E>B)B=E;if(p<o)o=p;else if(p>r)r=p}return[Z,o,B,r]};O.Oft=function(R,Z,B,o,r){function Y(GO,J,D,GB){return Math.sqrt((GO-D)*(GO-D)+(J-GB)*(J-GB))}function E(GO,J){return GO>=0&&GO<Z&&J>=0&&J<B}function p(GO){if(GO<0)return 0;
if(GO>=Z)return Z-1;return GO}function y(GO){if(GO<0)return 0;if(GO>=B)return B-1;return GO}function z(g,GO){var J=GO[3]*(1/255),D=o[g]+GO[0]*J;
if(D>255)D=255;o[g]=D;D=o[g+1]+GO[1]*J;if(D>255)D=255;o[g+1]=D;D=o[g+2]+GO[2]*J;if(D>255)D=255;o[g+2]=D}function u(GO,J,D){if(!f(GO,J))return;
if(D[3]<0)D[3]=0;z((J*Z+GO)*4,D)}function Q(GO){var J=GO.slice(0,3);J[3]=0;return J}var H=Z/800;function T(GO){return Math.round(GO*H)}function C(){for(var g=0;
g<=300;g++){l[g]=e(g)}}function e(B){var GO=.8,J=.2,D=GO*J,GB=B/60%2-1,Gj=D*(1-GB*GB),GX=J-D,Gw;if(B<60){Gw=[D+GX,Gj,0]}else if(B<120){Gw=[Gj,D,0]}else if(B<180){Gw=[0,D,Gj]}else if(B<240){Gw=[0,Gj,D]}else if(B<300){Gw=[Gj,0,D]}else{Gw=[D,0,Gj]}return[(Gw[0]+GX)*255,(Gw[1]+GX)*255,(Gw[2]+GX)*255]}function $(B){return l[~~B]}function x(GO){return 1-M(GO)}function M(GO){return GO-~~GO}function m(GO,J,D,GB){t(GO,J,D,0,J+1,1,GB)}function G(GO,J,D,GB,Gj,GX){t(GO,J,D,0,GB,1,Gj,GX)}function K(GO){for(var g=0;
g<o.length;g+=4){z(g,GO)}}function s(GO,J,D,GB,Gj,GX,Gw,G_){L(GO,J,D,GB,Gj,1,GX,Gw,G_)}function L(GO,J,D,GB,Gj,GX,Gw,G_,Gf){if(GX==null)GX=.5;
if(Gw==null)Gw=0;if(G_==null)G_=0;if(Gf==null)Gf=!1;var Gl=GO.x,GU=GO.y,GD=D.slice(0),Gi=~~(D[3]*Vg);
GB=GB*Vg;if(!Gf){J=c(J);Gj=c(Gj);Gw=c(Gw);G_=c(G_)}var Gh=p(Gl-J),G$=p(Gl+J);for(var GA=Gh;GA<=G$;GA++){var GJ=GA-Gl,Ge=Math.floor(Math.sqrt(J*J-GJ*GJ)),Gq=y(GU-Ge),Gv=y(GU);
for(var yi=Gq;yi<=Gv;yi++){var GZ=Y(GA,yi,Gl,GU);if(GZ>J||GZ<=J-Gj)break;var OU=(GZ-J+Gj)/Gj;GD[3]=Gi-GB*(GX==1?OU:Math.pow(OU,GX));
z((yi*Z+GA)*4,GD)}Gq=y(GU+Ge);for(var yi=Gq;yi>Gv;yi--){var GZ=Y(GA,yi,Gl,GU);if(GZ>J||GZ<=J-Gj)break;
var OU=(GZ-J+Gj)/Gj;GD[3]=Gi-GB*(GX==1?OU:Math.pow(OU,GX));z((yi*Z+GA)*4,GD)}}if(Gw>0){t(GO,J+Gw,GD,GD[3],Gw,1,0,0,!0)}if(G_>0){t(GO,J-Gj,W(D),-D[3],G_,1,0,0,!0)}}function _(GO,J,D,GB,Gj,GX){t(GO,J,D,D[3],J+1,1,GB,Gj,GX)}function P(GO,J,D,GB,Gj){if(Gj==null)Gj=!1;
var GX=GO.x,Gw=GO.y;GB*=Vg;if(!Gj){J=c(J);D=c(D)}var G_=p(GX-J),Gf=p(GX+J);for(var Gl=G_;Gl<Gf;Gl++){var GU=Gl-GX,GD=~~Math.sqrt(J*J-GU*GU),Gi=y(Gw-GD),Gh=y(Gw);
for(var G$=Gi;G$<=Gh;G$++){var GA=Y(Gl,G$,GX,Gw);if(GA>J||GA<=J-D)break;var GJ=(J-GA)/D,Ge=$(300*GJ);
Ge[3]=GB;z((G$*Z+Gl)*4,Ge)}Gi=y(Gw+GD);for(var G$=Gi;G$>Gh;G$--){var GA=Y(Gl,G$,GX,Gw);if(GA>J||GA<=J-D)break;
var GJ=(J-GA)/D,Ge=$(300*GJ);Ge[3]=GB;z((G$*Z+Gl)*4,Ge)}}}function i(v,GO){var J=v._b,D=v.px,GB=GO.slice(0),Gj=GO[3]*Vg,GX=Math.abs(D.y-J.y)>Math.abs(D.x-J.x);
if(GX){var Gw=J.x;J.x=J.y;J.y=Gw;Gw=D.x;D.x=D.y;D.y=Gw}if(J.x>D.x){var Gw=J;J=D;D=Gw}var G_=D.x-J.x,Gf=D.y-J.y,Gl=G_==0?1:Gf/G_,GU=Math.round(J.x),GD=J.y+Gl*(GU-J.x),Gi=x(J.x+.5),Gh=GU,G$=~~GD;
if(GX){GB[3]=Gj*x(GD)*Gi;u(G$,Gh,GB);GB[3]=Gj*M(GD)*Gi;u(G$+1,Gh,GB)}else{GB[3]=Gj*x(GD)*Gi;u(Gh,G$,GB);
GB[3]=Gj*M(GD)*Gi;u(Gh,G$+1,GB)}var GA=GD-Gl;GU=Math.round(D.x);GD=D.y+Gl*(GU-D.x);Gi=M(D.x+.5);var GJ=GU,Ge=~~GD;
if(GX){GB[3]=Gj*x(GD)*Gi;u(Ge,GJ,GB);GB[3]=Gj*M(GD)*Gi;u(Ge+1,GJ,GB)}else{GB[3]=Gj*x(GD)*Gi;u(GJ,Ge,GB);
GB[3]=Gj*M(GD)*Gi;u(GJ,Ge+1,GB)}if(GX){for(var Gq=Gh+1;Gq<=GJ-1;Gq++){GB[3]=Gj*x(GA);u(~~GA,Gq,GB);GB[3]=Gj*M(GA);
u(~~GA+1,Gq,GB);GA+=Gl}}else{for(var Gq=Gh+1;Gq<=GJ-1;Gq++){GB[3]=Gj*x(GA);u(Gq,~~GA,GB);GB[3]=Gj*M(GA);
u(Gq,~~GA+1,GB);GA+=Gl}}}function w(GO,J,D,GB){for(var g=0;g<4;g++){var Gj=GO._m(J+1.3*g,D);i(Gj,GB,1)}}function VP(GO,J){this.x=Math.round(GO);
this.y=Math.round(J)}var k=Math.PI/180;VP.prototype._m=function(GO,J){GO=GO*k;var D=this.x+J*Math.cos(GO),GB=this.y+J*Math.sin(GO);
return new h(this.x,this.y,D,GB)};VP.prototype.Ofr=function(GO,J){GO=GO*k;var D=this.s$+J*Math.cos(GO),GB=this.Oje+J*Math.sin(GO);
return new VP(D,GB)};function h(GO,J,D,GB){this._b=new VP(GO,J);this.px=new VP(D,GB)}h.prototype.ZQ=function(GO){var J=GO*this._b.x+(1-GO)*this.px.x,D=GO*this._b.y+(1-GO)*this.px.y;
return new VP(J,D)};var j=s,I=_,V=m,F=G,q=P,t=L,c=T,f=E,W=Q,l=[];C();for(var g=0;g<R.length;g++){o[g]=R[g]}var v=new h(Z*r[2],B*r[3],Z/2,B/2),Vg=r[1],GE=[];
GE[0]=function Gy(){var GO=[80,40,15,60],D=0,GB=0;V(v.ZQ(1.4),260,GO,10);V(v.ZQ(1),100,[240,50,50,30],30);
I(v.ZQ(1),60,[255,40,0,40]);var J=[255,255,255,255];t(v.ZQ(1),70,J,J[3],58,.5);V(v.ZQ(1),12,J);J[3]=40;
j(v.ZQ(1),150,J,J[3],150);for(var g=0;g<40;g++){D+=Math.random()*25;GB=Math.random()*c(300)+c(100);var Gj=v.ZQ(1)._m(D,GB);
i(v.ZQ(1)._m(D,GB),[110,110,110,30])}I(v.ZQ(1),130,[255,255,255,8]);var GX=[170,30,23,70];F(v.ZQ(1),70,GX,1,3,3);
var Gw=[60,60,130,40];V(v.ZQ(.47),44,Gw,5);V(v.ZQ(.43),22,Gw,3);Gw[3]=16;V(v.ZQ(.53),15,Gw,2);var G_=[138,94,42,100];
V(v.ZQ(.2),16,G_,2);var Gf=[130,255,170,180];I(v.ZQ(0),4,Gf);I(v.ZQ(-.25),5,Gf);G_=[150,90,0,50];j(v.ZQ(-.45),55,W(G_),-G_[3],40,2);
V(v.ZQ(-.42),35,G_,2);V(v.ZQ(-.5),15,G_,2);q(v.ZQ(-1.28),145,11,70);var Gl=$(0);Gl[3]=50;j(v.ZQ(-1.28),149,Gl,Gl[3],4);
Gl=$(300);Gl[3]=50;j(v.ZQ(-1.28),155-1,W(Gl),-Gl[3],3);var GU=[130,130,10,50];F(v.ZQ(-1),73,GU,3,2);
var GD=[40,130,70,40];j(v.ZQ(-1),70,W(GD),-GD[3],35);GD=[40,170,60,50];V(v.ZQ(-.7),25,GD,4);var GD=[70,110,50,60];
j(v.ZQ(1.3),30,W(GD),-GD[3],11,3);Gw=[0,50,210,80];I(v.ZQ(-.72),20,Gw)};GE[1]=function GY(){I(v.ZQ(1),150,[240,70,70,60]);
V(v.ZQ(1),100,[200,60,60,40],30);var GO=[255,255,255,255],J=0,D=0;t(v.ZQ(1),75,GO,GO[3],63);V(v.ZQ(1),12,GO);
I(v.ZQ(1),270,[200,200,200,20],10);for(var g=0;g<10;g++){J+=10+Math.random()*40;D=Math.random()*c(250)+c(80);
var GB=v.ZQ(1)._m(J,D);i(GB,[110,110,110,35])}J=5;D=100;for(var g=0;g<12;g++){J+=30;w(v.ZQ(1),J,D,[90,90,90,40])}var Gj=[150,40,23,100];
F(v.ZQ(1),70,Gj,1,3,3);var GX=[30,100,60,40];I(v.ZQ(-.9),180,[255,255,255,20]);V(v.ZQ(-.9),140,GX,15);
var Gw=[170,80,25,15];F(v.ZQ(-.9),120,Gw,1,4,4);var G_=[110,240,190,200];I(v.ZQ(-.6),3,G_);G_[3]=100;
I(v.ZQ(-.6),7,G_);var Gf=[230,120,40,85];I(v.ZQ(-.73),9,Gf);var Gl=[60,60,190,50];V(v.ZQ(.3),28,Gl,6);
Gl[3]=25;V(v.ZQ(.34),20,Gl,3)};GE[2]=function Ga(){var GO=[255,255,255,255],D=0,GB=0;V(v.ZQ(1),13,GO);
t(v.ZQ(1),150,GO,GO[3],137);var J=[120,80,35,20];V(v.ZQ(1.4),260,J,10);for(var g=0;g<40;g++){D+=5+Math.random()*30;
GB=Math.random()*c(300);i(v.ZQ(1)._m(D,GB),[110,110,110,20])}var Gj=[10,30,255,30];V(v.ZQ(1),70,Gj,50);
var GX=[15,90,170,15];V(v.ZQ(1.5),60,GX);var Gw=[220,220,20,50];V(v.ZQ(-1.15),8,Gw,2);var GO=[255,255,255,40];
I(v.ZQ(-1.18),6,GO);I(v.ZQ(-1.18),4,GO);Gw=[110,110,10,8];j(v.ZQ(-1.2),32,W(Gw),-Gw[3],20,3);var G_=[5,0,16,255];
for(var g=0;g<4;g++){V(v.ZQ(-1.36),10,G_,3)}var Gf=[90,200,150,20],Gl=Gf.slice(0);Gl[3]*=2;V(v.ZQ(-1.32),7,Gl,3);
V(v.ZQ(-1.36),7,Gl,3);V(v.ZQ(-1.4),7,Gl,3);var GO=[230,230,230,100];I(v.ZQ(-1.36),2,GO);GO[3]=3;V(v.ZQ(-.55),10,GO);
Gw=[120,100,10,18];V(v.ZQ(-.55),160,Gw,8);V(v.ZQ(-.55),80,Gw,4);Gf[3]=3;Gl[3]=6;j(v.ZQ(-.49),13,W(Gl),-Gl[3],13,2);
j(v.ZQ(-.55),13,W(Gl),-Gl[3],13,2);Gf[3]=20;V(v.ZQ(.15),25,Gf,3);Gw[3]=100;I(v.ZQ(-.52),3,Gw);Gw=[200,200,50,40];
V(v.ZQ(.27),1,Gw,4);var GU=[150,40,23,30];j(v.ZQ(1),80,W(GU),-GU[3],2,1)};return GE[r[0]]()};O.lN={};
O.lN.PB=function(R){var Z=~~(R+.5);return Z<0?0:Z>255?255:Z};O.lN.transform=function(R,Z,B){var o=O.lN.PB,r=R.F.length;
for(var Y=0;Y<r;Y++){var E=R.F[Y],p=R.S[Y],y=R.X[Y];Z.F[Y]=o(B[0]*E+B[1]*p+B[2]*y+B[3]*255);Z.S[Y]=o(B[4]*E+B[5]*p+B[6]*y+B[7]*255);
Z.X[Y]=o(B[8]*E+B[9]*p+B[10]*y+B[11]*255)}};O.lN.I_=function(R,Z,B){var o=O.lN.PB,r=R.length;for(var Y=0;
Y<r;Y+=4){var E=R[Y],p=R[Y+1],y=R[Y+2];Z[Y]=o(B[0]*E+B[1]*p+B[2]*y+B[3]*255);Z[Y+1]=o(B[4]*E+B[5]*p+B[6]*y+B[7]*255);
Z[Y+2]=o(B[8]*E+B[9]*p+B[10]*y+B[11]*255)}};O.lN.Il=function(R){var Z=R[0]+R[1]+R[2],B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(Z==1){var o=R.indexOf(1);B[o]=B[o+4]=B[o+8]=1}else{B[0]=R[0];B[5]=R[1];B[10]=R[2]}return B};O.lN.OB=function(R,Z,B){return[1,0,0,R,0,1,0,Z,0,0,1,B,0,0,0,1]};
O.lN.O_=function(R,Z,B){return[R,0,0,0,0,Z,0,0,0,0,B,0,0,0,0,1]};O.lN.OLY=function(R){return[R[0],R[1],R[2],R[4],R[5],R[6],R[8],R[9],R[10]]};
O.lN.MT=function(R){return[R[0],R[1],R[2],0,R[3],R[4],R[5],0,R[6],R[7],R[8],0,0,0,0,1]};O.lN.$C=function(R,Z){return[R[0]*Z[0]+R[1]*Z[1]+R[2]*Z[2]+R[3]*Z[3],R[4]*Z[0]+R[5]*Z[1]+R[6]*Z[2]+R[7]*Z[3],R[8]*Z[0]+R[9]*Z[1]+R[10]*Z[2]+R[11]*Z[3],R[12]*Z[0]+R[13]*Z[1]+R[14]*Z[2]+R[15]*Z[3]]};
O.lN._J=function(R){var Z=[];Z[0]=R[0];Z[1]=R[4];Z[2]=R[8];Z[3]=R[12];Z[4]=R[1];Z[5]=R[5];Z[6]=R[9];
Z[7]=R[13];Z[8]=R[2];Z[9]=R[6];Z[10]=R[10];Z[11]=R[14];Z[12]=R[3];Z[13]=R[7];Z[14]=R[11];Z[15]=R[15];
return Z};O.lN.multiply=function(R,Z){var B=[];B[0]=R[0]*Z[0]+R[1]*Z[4]+R[2]*Z[8]+R[3]*Z[12];B[1]=R[0]*Z[1]+R[1]*Z[5]+R[2]*Z[9]+R[3]*Z[13];
B[2]=R[0]*Z[2]+R[1]*Z[6]+R[2]*Z[10]+R[3]*Z[14];B[3]=R[0]*Z[3]+R[1]*Z[7]+R[2]*Z[11]+R[3]*Z[15];B[4]=R[4]*Z[0]+R[5]*Z[4]+R[6]*Z[8]+R[7]*Z[12];
B[5]=R[4]*Z[1]+R[5]*Z[5]+R[6]*Z[9]+R[7]*Z[13];B[6]=R[4]*Z[2]+R[5]*Z[6]+R[6]*Z[10]+R[7]*Z[14];B[7]=R[4]*Z[3]+R[5]*Z[7]+R[6]*Z[11]+R[7]*Z[15];
B[8]=R[8]*Z[0]+R[9]*Z[4]+R[10]*Z[8]+R[11]*Z[12];B[9]=R[8]*Z[1]+R[9]*Z[5]+R[10]*Z[9]+R[11]*Z[13];B[10]=R[8]*Z[2]+R[9]*Z[6]+R[10]*Z[10]+R[11]*Z[14];
B[11]=R[8]*Z[3]+R[9]*Z[7]+R[10]*Z[11]+R[11]*Z[15];B[12]=R[12]*Z[0]+R[13]*Z[4]+R[14]*Z[8]+R[15]*Z[12];
B[13]=R[12]*Z[1]+R[13]*Z[5]+R[14]*Z[9]+R[15]*Z[13];B[14]=R[12]*Z[2]+R[13]*Z[6]+R[14]*Z[10]+R[15]*Z[14];
B[15]=R[12]*Z[3]+R[13]*Z[7]+R[14]*Z[11]+R[15]*Z[15];return B};O.lN.za=function(R){var Z=[];Z[0]=R[5]*R[10]*R[15]-R[5]*R[14]*R[11]-R[6]*R[9]*R[15]+R[6]*R[13]*R[11]+R[7]*R[9]*R[14]-R[7]*R[13]*R[10];
Z[1]=-R[1]*R[10]*R[15]+R[1]*R[14]*R[11]+R[2]*R[9]*R[15]-R[2]*R[13]*R[11]-R[3]*R[9]*R[14]+R[3]*R[13]*R[10];
Z[2]=R[1]*R[6]*R[15]-R[1]*R[14]*R[7]-R[2]*R[5]*R[15]+R[2]*R[13]*R[7]+R[3]*R[5]*R[14]-R[3]*R[13]*R[6];
Z[3]=-R[1]*R[6]*R[11]+R[1]*R[10]*R[7]+R[2]*R[5]*R[11]-R[2]*R[9]*R[7]-R[3]*R[5]*R[10]+R[3]*R[9]*R[6];
Z[4]=-R[4]*R[10]*R[15]+R[4]*R[14]*R[11]+R[6]*R[8]*R[15]-R[6]*R[12]*R[11]-R[7]*R[8]*R[14]+R[7]*R[12]*R[10];
Z[5]=R[0]*R[10]*R[15]-R[0]*R[14]*R[11]-R[2]*R[8]*R[15]+R[2]*R[12]*R[11]+R[3]*R[8]*R[14]-R[3]*R[12]*R[10];
Z[6]=-R[0]*R[6]*R[15]+R[0]*R[14]*R[7]+R[2]*R[4]*R[15]-R[2]*R[12]*R[7]-R[3]*R[4]*R[14]+R[3]*R[12]*R[6];
Z[7]=R[0]*R[6]*R[11]-R[0]*R[10]*R[7]-R[2]*R[4]*R[11]+R[2]*R[8]*R[7]+R[3]*R[4]*R[10]-R[3]*R[8]*R[6];Z[8]=R[4]*R[9]*R[15]-R[4]*R[13]*R[11]-R[5]*R[8]*R[15]+R[5]*R[12]*R[11]+R[7]*R[8]*R[13]-R[7]*R[12]*R[9];
Z[9]=-R[0]*R[9]*R[15]+R[0]*R[13]*R[11]+R[1]*R[8]*R[15]-R[1]*R[12]*R[11]-R[3]*R[8]*R[13]+R[3]*R[12]*R[9];
Z[10]=R[0]*R[5]*R[15]-R[0]*R[13]*R[7]-R[1]*R[4]*R[15]+R[1]*R[12]*R[7]+R[3]*R[4]*R[13]-R[3]*R[12]*R[5];
Z[11]=-R[0]*R[5]*R[11]+R[0]*R[9]*R[7]+R[1]*R[4]*R[11]-R[1]*R[8]*R[7]-R[3]*R[4]*R[9]+R[3]*R[8]*R[5];Z[12]=-R[4]*R[9]*R[14]+R[4]*R[13]*R[10]+R[5]*R[8]*R[14]-R[5]*R[12]*R[10]-R[6]*R[8]*R[13]+R[6]*R[12]*R[9];
Z[13]=R[0]*R[9]*R[14]-R[0]*R[13]*R[10]-R[1]*R[8]*R[14]+R[1]*R[12]*R[10]+R[2]*R[8]*R[13]-R[2]*R[12]*R[9];
Z[14]=-R[0]*R[5]*R[14]+R[0]*R[13]*R[6]+R[1]*R[4]*R[14]-R[1]*R[12]*R[6]-R[2]*R[4]*R[13]+R[2]*R[12]*R[5];
Z[15]=R[0]*R[5]*R[10]-R[0]*R[9]*R[6]-R[1]*R[4]*R[10]+R[1]*R[8]*R[6]+R[2]*R[4]*R[9]-R[2]*R[8]*R[5];var B=R[0]*Z[0]+R[1]*Z[4]+R[2]*Z[8]+R[3]*Z[12];
for(var o=0;o<16;o++)Z[o]/=B;return Z};O.lN.OLa=function(R){var Z=[],B=R[5]*R[10]*R[15]-R[5]*R[14]*R[11]-R[6]*R[9]*R[15]+R[6]*R[13]*R[11]+R[7]*R[9]*R[14]-R[7]*R[13]*R[10],o=-R[4]*R[10]*R[15]+R[4]*R[14]*R[11]+R[6]*R[8]*R[15]-R[6]*R[12]*R[11]-R[7]*R[8]*R[14]+R[7]*R[12]*R[10],r=R[4]*R[9]*R[15]-R[4]*R[13]*R[11]-R[5]*R[8]*R[15]+R[5]*R[12]*R[11]+R[7]*R[8]*R[13]-R[7]*R[12]*R[9],Y=-R[4]*R[9]*R[14]+R[4]*R[13]*R[10]+R[5]*R[8]*R[14]-R[5]*R[12]*R[10]-R[6]*R[8]*R[13]+R[6]*R[12]*R[9];
return R[0]*B+R[1]*o+R[2]*r+R[3]*Y};O.lN.It=O.lN.MT([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
O.lN.OLB=O.lN.MT([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
O.lN.Ofd=O.lN.za(O.lN.It);O.Kt={};O.Kt.JD=new Uint32Array(1);O.Kt.PA=function(R,Z,B,o,r,Y){var E=new Uint32Array(R),p=0,y=O.Kt.JD;
if(y.length<Z*4)O.Kt.JD=y=new Uint32Array(Z*4);var z=new Float64Array(y.buffer);for(var u=0;u<Z;u+=2){var Q=r[u],H=r[u+1],T=Y[u],C=Y[u+1];
y[p]=H;z[p+2>>1]=T;y[p+1]=E[Q];E[Q]=p+1;p+=4;y[p]=Q;z[p+2>>1]=C;y[p+1]=E[H];E[H]=p+1;p+=4}return{Cs:y,OAE:z,OAh:E}};
O.Kt.$d=function(R,Z,B,o,r,Y,E){var p=1,y=O.Kt.PA(R,Z,B,o,r,Y),z=y.Cs,u=y.OAE,Q=y.OAh,H=new Uint32Array(R),T=new O.Kt.Iq(R),e=1,G=0;
T.push(B);T.push(o);var C=new O.Kt.Iq(R),$=new Uint8Array(R),x=new Uint32Array(R);$[B]=1;$[o]=2;var M=new Uint32Array(R),m=new Uint32Array(R);
m[B]=m[o]=0;M[B]=M[o]=1;while(!0){var K=-1,k=0,F=1e30;while(!T.xk()&&K==-1){var s=T.top(),L=$[s],_=Q[s]-1;
while(_!=-1){var P=z[_],i=$[P],w=_^L-1<<2;if(u[w+2>>1]!=0){if(i==0){O.Kt.If(s,_,P,$,x,m,M);T.push(P)}else if(i==L&&M[P]<=M[s]&&m[P]>m[s])O.Kt.If(s,_,P,$,x,m,M);
else if(i!=L){K=w}}_=z[_+1]-1}if(K!=-1)break;T.pop()}if(K==-1){break}e++;var h=K;while(h!=-1){H[k]=h;
k++;h=x[z[h^4]]-1}var j=k>>1;for(var I=0;I<j;I++){var V=H[I];H[I]=H[k-I-1];H[k-I-1]=V}h=x[z[K]]-1;while(h!=-1){H[k]=h^4;
k++;h=x[z[h^4]]-1}for(var I=0;I<k;I++)F=Math.min(F,u[H[I]+2>>1]);G+=F;if(G>=E)return{pi:null,Lj:G};for(var I=0;
I<k;I++){var q=H[I],t=q^4,s=z[t],P=z[q];u[q+2>>1]-=F;u[t+2>>1]+=F;if(u[q+2>>1]==0&&$[s]==$[P]){if($[s]==1){x[P]=0;
C.push(P)}if($[s]==2){x[s]=0;C.push(s)}}}while(!C.xk()){var s=C.pop(),L=$[s],_=Q[s]-1,c=L==1?4:0,f=0,W=0,l=1e9;
while(_!=-1){var P=z[_],g=_^4,w=_^c;if($[P]==L&&u[w+2>>1]>0&&O.Kt.Ofn(P,B,o,x,z,e,M,m)+1<l){f=P;W=g;
l=m[P]+1}_=z[_+1]-1}if(W!=0){O.Kt.If(f,W,s,$,x,m,M);continue}_=Q[s]-1;while(_!=-1){var P=z[_],w=_^c;
if($[P]==L){if(u[w+2>>1]>0){T.push(P)}if(x[P]==_+1){x[P]=0;C.push(P)}}_=z[_+1]-1}$[s]=0;T.remove(s)}}var v=[];
for(var I=0;I<Z;I+=2){var s=r[I],P=r[I+1];if($[s]==1&&$[P]!=1){v.push(I>>1)}if($[P]==1&&$[s]!=1){v.push(Z+I>>1)}}return{pi:v,Lj:G}};
O.Kt.If=function(R,Z,B,o,r,Y,E){o[B]=o[R];r[B]=Z+1;Y[B]=Y[R]+1;E[B]=E[R]};O.Kt.Ofn=function(R,Z,B,o,r,Y,E,p){var y=R,z=o[R]-1,u=0;
while(z!=-1&&E[R]!=Y){R=r[z^4];z=o[R]-1;u++}if(z==-1&&R!=Z&&R!=B)return 1e9;var Q=p[R]+u;u=0;z=o[y]-1;
while(y!=R){p[y]=Q-u;u++;E[y]=Y;y=r[z^4];z=o[y]-1}return Q};O.Kt.OLL=function(R,Z,B,o,r,Y){var E=O.Kt.PA(R,Z,B,o,r,Y),p=E.Cs,y=E.OAE,z=E.OAh,u=0,Q=0,H=new Uint32Array(R*2),T=new O.Kt.P_(R),C=0;
while(!0){T.reset();T.push(B);for(var e=0;e<R;e++)H[e<<1]=0;while(!T.xk()){var $=T.pop(),x=z[$]-1;while(x!=-1){C=p[x];
if(H[C<<1]==0&&y[x+2>>1]>0&&C!=B){H[C<<1]=$+1;H[(C<<1)+1]=x;T.push(C)}x=p[x+1]-1}if(H[o<<1]!=0){break}}if(H[o<<1]==0){break}var M=1e30;
C=o;while(!0){var m=H[C<<1]-1;if(m==-1)break;var G=H[(C<<1)+1];M=Math.min(M,y[G+2>>1]);C=m}C=o;while(!0){var m=H[C<<1]-1;
if(m==-1)break;var G=H[(C<<1)+1],K=G^4;y[G+2>>1]-=M;y[K+2>>1]+=M;C=m}u+=M}var s=[];for(var e=0;e<Z;e+=2){var m=r[e],C=r[e+1];
if((H[m<<1]!=0||m==B)&&H[C<<1]==0&&C!=B){s.push(e>>1)}if((H[C<<1]!=0||C==B)&&H[m<<1]==0&&m!=B){s.push(Z+e>>1)}}return{pi:s,Lj:u}};
O.Kt.P_=function(R){R|=R>>1;R|=R>>2;R|=R>>4;R|=R>>8;R|=R>>16;this.iC=new Uint32Array(R+1);this.Yc=R;
this.$k=0;this.$v=0};O.Kt.P_.prototype={push:function(R){var Z=this.$v;this.iC[Z]=R;this.$v=Z+1&this.Yc},pop:function(){var R=this.$k,Z=this.iC[R];
this.$k=R+1&this.Yc;return Z},xk:function(){return this.$k==this.$v},reset:function(){this.$k=0;this.$v=0}};
O.Kt.Iq=function(R){R|=R>>1;R|=R>>2;R|=R>>4;R|=R>>8;R|=R>>16;this.iC=new Uint32Array(R+1);this.oA=new Uint32Array(R+1);
this.Yc=R;this.$k=0;this.$v=0};O.Kt.Iq.prototype={top:function(){return this.iC[this.$k]},OLl:function(){return this.iC[this.$v]},push:function(R){if(this.oA[R]!=0)return;
this.oA[R]=this.$v+1;var Z=this.$v;this.iC[Z]=R;this.$v=Z+1&this.Yc},pop:function(){var R=this.$k,Z=this.iC[R];
this.oA[Z]=0;this.$k=R+1&this.Yc;return Z},xk:function(){return this.$k==this.$v},remove:function(R){var Z=this.oA[R]-1;
if(Z==-1)return;this.oA[R]=0;if(Z==this.$k){this.pop();return}var B=this.pop();this.iC[Z]=B;this.oA[B]=Z+1},lJ:function(R){return R+this.Yc+1&this.Yc}};
O.Kt.Pt=function(R,Z,B){var o=O.Kt.jP(R,Z,B);if(Z<o-1)O.Kt.Pt(R,Z,o-1);if(o<B)O.Kt.Pt(R,o,B)};O.Kt.jP=function(R,Z,B){var o=R[Z+B>>>1];
while(Z<=B){while(R[Z]<o)Z++;while(R[B]>o)B--;if(Z<=B){O.Kt.jQ(R,Z,B);Z++;B--}}return Z};O.Kt.jQ=function(R,Z,B){var o=R[Z];
R[Z]=R[B];R[B]=o};O.je={};O.je.OfQ=function(R){for(var Z=0;Z<R.length;Z++)O.je.xV(R,Z)};O.je.xV=function(R,Z){R[Z].v.keyShapeInvalidated={t:"bool",v:!0}};
O.je.Ofg=function(R){for(var Z=0;Z<R.length;Z++)R[Z].v.keyOriginIndex.v=Z};O.je.GP=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
O.je.Pq=function(R){R=R.v;var Z={Rctn:2,Ln:4,Elps:5},B=Z[R.classID],o=R.topLeft?O.je.PN(R):null,r=null,Y=0;
if(B==4){var E=R.Strt.v,p=R.End.v;r=[E.Hrzn.v.val,E.Vrtc.v.val,p.Hrzn.v.val,p.Vrtc.v.val];Y=R.Wdth.v.val}if(B==null)return null;
return O.je.Rs(B,B==4?null:O.je.IN(R),o,r,Y)};O.je.HL=function(R,Z,B,o,r,Y){var E={classID:R,unitValueQuadVersion:{t:"long",v:1}};
if(Z)O.je.qE(E,["Left","Top","Rght","Btom"],Z);if(B)O.je.qE(E,["topLeft","topRight","bottomRight","bottomLeft"],B);
if(R=="Ln"){E.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:o[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:o[1]}}}},E.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:o[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:o[3]}}}},E.Wdth={t:"UntF",v:{type:"#Pxl",val:r}}}if(Y)E.Nm={t:"TEXT",v:Y};
return{t:"Objc",v:E}};O.je.Rs=function(R,Z,B,o,r){var Y=O.je.GP(),E=Y.v;delete E.keyShapeInvalidated;
E.keyOriginType={t:"long",v:R};E.keyOriginResolution={t:"doub",v:75};if(R==4){E.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:o[0]},Vrtc:{t:"doub",v:o[1]}}};
E.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:o[2]},Vrtc:{t:"doub",v:o[3]}}};Z=[Math.min(o[0],o[2]),Math.min(o[1],o[3]),Math.max(o[0],o[2]),Math.max(o[1],o[3])];
E.keyOriginLineWeight={t:"doub",v:r},E.keyOriginLineArrowSt={t:"bool",v:!1};E.keyOriginLineArrowEnd={t:"bool",v:!1};
E.keyOriginLineArrWdth={t:"doub",v:0};E.keyOriginLineArrLngth={t:"doub",v:0};E.keyOriginLineArrConc={t:"long",v:0}}var p={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
E.keyOriginShapeBBox={t:"Objc",v:p};O.je.Iz(E,Z);if(B!=null){var y={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
E.keyOriginRRectRadii={t:"Objc",v:y};O.je.IK(E,B)}return Y};O.je.P=function(R,Z,B,o){var r=O.f.gF(Z),Y=O.f.gs(Z),E=Math.max(Math.abs(Z[0]),Math.abs(Z[1])),p=Math.max(Math.abs(Z[3]),Math.abs(Z[4]));
for(var y=0;y<R.length;y++){var z=R[y].v,u=z.keyShapeInvalidated;if(u&&u.v||z.keyOriginType==null)continue;
if(B.length!=0&&B.indexOf(y)==-1)continue;var Q=z.keyOriginType.v;if(!r||!Y||o&&Q==2&&Math.abs(1-E/p)>.01){O.je.xV(R,y);
continue}var H=O.je.xR(z);O.f.apply(Z,H);O.je.Iz(z,[Math.min(H[0],H[2]),Math.min(H[1],H[3]),Math.max(H[0],H[2]),Math.max(H[1],H[3])]);
if(Q==2){var T=O.je.I$(z),C=new GN(Z[0],Z[1],Z[3],Z[4],0,0);C.SN();if(C.t==0){T.push(T.shift());C.rotate(Math.PI/2);
C.SN()}if(C.t<0){var e=T[0];T[0]=T[1];T[1]=e;e=T[2];T[2]=T[3];T[3]=e}if(C._l<0){var e=T[0];T[0]=T[3];
T[3]=e;e=T[1];T[1]=T[2];T[2]=e}if(o)for(var $=0;$<4;$++)T[$]=T[$]*E;O.je.IK(z,T)}if(Q==4){z.keyOriginLineWeight.v*=E;
var x=O.je.Pv(z);O.f.apply(Z,x);O.je.OJl(z,x)}}};O.je.xY=function(R,Z){var B=Z.u;for(var o=0;o<R.length;
o++){var r=R[o].v,Y=r.keyShapeInvalidated,H;if(Y&&Y.v||r.keyOriginType==null)continue;var E=r.keyOriginType.v,p=O.je.xR(r),y=p[0],z=p[1],u=p[2],Q=p[3];
if(E==1)H=O.V.hk.Rect(y,z,u-y,Q-z,0);else if(E==2){var T=O.je.I$(r);H=O.V.hk.Rect(y,z,u-y,Q-z,T)}else if(E==4){var C=O.je.Pv(r);
H=O.V.hk.qG(C[0],C[1],C[2],C[3],r.keyOriginLineWeight.v)}else if(E==5)H=O.V.hk.oD(y,z,u-y,Q-z);var e=O.V.qY(B,o),$=O.V.Bz(B,o);
H[2].lz=B[e].lz;var x=B;B=B.slice(0,e);for(var M=2;M<H.length;M++)B.push(H[M]);for(var M=e+$;M<x.length;
M++)B.push(x[M])}Z.u=B;Z.Zr=!0};O.je.ik=function(R){var Z=1e9,B=-Z,o=1e9,r=-o,Y=null,E=R.dm(),p=E[0],y=E[1];
for(var z=0;z<y.length;z++){var u=p[y[z]],Q=u.add.vogk;if(Q==null)continue;var H=u.add.vmsk.C;for(var T=0;
T<Q.length;T++){var C=Q[T].v,e=C.keyShapeInvalidated;if(e&&e.v||C.keyOriginType==null)continue;if(y.length==1&&H.length!=0&&H.indexOf(T)==-1)continue;
var $=C.keyOriginType.v;if($!=4){var x=O.je.xR(C);Z=Math.min(Z,x[0]);o=Math.min(o,x[1]);B=Math.max(B,x[2]);
r=Math.max(r,x[3])}if($==2&&Y==null){Y=O.je.I$(C)}}}return[Z<B?[Z,o,B,r]:null,Y]};O.je.OfP=function(R,Z,B){var o=O.je.ik(R)[0],r;
if(o){var Y=new GN;Y.translate(-o[0],-o[1]);Y.scale(1/(o[2]-o[0]),1/(o[3]-o[1]));Y.scale(Z[2]-Z[0],Z[3]-Z[1]);
Y.translate(Z[0],Z[1]);r=O.f._B(Y)}var E=R.dm(),p=E[0],y=E[1];for(var z=0;z<y.length;z++){var u=p[y[z]],Q=u.add.vogk;
if(Q==null)continue;var H=u.add.vmsk.C;for(var T=0;T<Q.length;T++){var C=Q[T].v,e=C.keyShapeInvalidated;
if(e&&e.v||C.keyOriginType==null)continue;if(y.length==1&&H.length!=0&&H.indexOf(T)==-1)continue;var $=C.keyOriginType.v;
if($!=4&&Z[0]!=null){var Z=O.je.xR(C);O.f.apply(r,Z);O.je.Iz(C,Z)}if($==2&&B!=null){O.je.IK(C,B)}}}};
O.je.xR=function(R){return O.je.IN(R.keyOriginShapeBBox.v)};O.je.IN=function(R){var Z=R.Left.v.val,B=R.Rght.v.val,o=R.Top.v.val,r=R.Btom.v.val;
return[Z,o,B,r]};O.je.Iz=function(R,Z){O.je.qE(R.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],Z)};
O.je.I$=function(R){return O.je.PN(R.keyOriginRRectRadii.v)};O.je.PN=function(R){var Z=[],B=["topLeft","topRight","bottomRight","bottomLeft"];
for(var o=0;o<4;o++)Z.push(R[B[o]].v.val);return Z};O.je.IK=function(R,Z){O.je.qE(R.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],Z)};
O.je.qE=function(R,Z,B){for(var o=0;o<4;o++)if(B[o]!=null)R[Z[o]]={t:"UntF",v:{type:"#Pxl",val:B[o]}}};
O.je.Pv=function(R){var Z=R.keyOriginLineStart.v,B=R.keyOriginLineEnd.v;return[Z.Hrzn.v,Z.Vrtc.v,B.Hrzn.v,B.Vrtc.v]};
O.je.OJl=function(R,Z){var B=R.keyOriginLineStart.v,o=R.keyOriginLineEnd.v;B.Hrzn.v=Z[0];B.Vrtc.v=Z[1];
o.Hrzn.v=Z[2];o.Vrtc.v=Z[3]};O.W={};O.W.clone=function(R){return{J:R.J.slice(0),I:R.I.slice(0)}};O.W.Pz=function(R){if(R.length<6)return!0;
var Z=R.length-4;for(var B=0;B<Z;B+=2)if(!O.W.IZ(R[B],R[B+1],R[B+2],R[B+3],R[B+4],R[B+5]))return!1;if(!O.W.IZ(R[Z],R[Z+1],R[Z+2],R[Z+3],R[0],R[1]))return!1;
if(!O.W.IZ(R[Z+2],R[Z+3],R[0],R[1],R[2],R[3]))return!1;return!0};O.W.IZ=function(R,Z,B,o,r,Y){return(Z-o)*(r-B)+(B-R)*(Y-o)>=0};
O.W.Io=function(R){var Z={},B=null,o=0,r={M:2,L:2,Q:4,C:6};for(var Y=0;Y<R.J.length;Y++){var E=R.J[Y];
if(E.charAt(0)=="#"){if(Z[E]==null)Z[E]={I:[],J:[]};B=Z[E]}else if(E!="X"){B.J.push(E);var p=r[E];if(p==null)p=0;
for(var y=0;y<p;y++)B.I.push(R.I[o+y]);o+=p}}return Z};O.W.un=function(R,Z){R=O.W.Ol(R);var B=R.I,o=R.J,r=0,Y=[],E=null;
for(var p=0;p<o.length;p++){var y=o[p];if(y=="M"){E={OAt:r,Ah:0,Cm:!1};Y.push(E);r+=2}if(y=="C"){E.Ah++;
r+=6}if(y=="Z"){E.Cm=!0}}var z=[];for(var p=0;p<Y.length;p++)if(Y[p].Ah!=0)z.push(Y[p]);Y=z;for(var p=0;
p<Y.length;p++){var u=Y[p],Q=u.OAt,H=Q+2+u.Ah*6,C=0;u.pS=O.W.Rn(B,Q,H);var T=B[Q]==B[H-2]&&B[Q+1]==B[H-1];
for(var e=0;e<u.Ah;e++){var $=Q+e*6,x=$+6;C+=(B[x]-B[$])*(B[x+1]+B[$+1])}if(u.Ah==2){var M=function(v,Vg,GE){var Gy=1-GE;
return Gy*Gy*Gy*v[Vg]+3*Gy*Gy*GE*v[Vg+2]+3*Gy*GE*GE*v[Vg+4]+GE*GE*GE*v[Vg+6]},m=B[Q],G=B[Q+1],K=B[Q+6],s=B[Q+7],L=B[Q+6],_=B[Q+7],P=M(B,Q,.5),i=M(B,Q+1,.5),w=M(B,Q+6,.5),k=M(B,Q+7,.5);
C=(P-m)*(i-G)+(K-P)*(s-i)+(w-K)*(k-s)+(L-w)*(_-k)}if(!T)C+=(B[Q]-B[H-2])*(B[Q+1]+B[H-1]);u.Cb=C<=0}for(var p=0;
p<Y.length-1;p++)for(var $=p+1;$<Y.length;$++){var h=Y[p],j=Y[$];if(j.pS.Uv(h.pS)){Y[p]=j;Y[$]=h}}var I=Y.length==0?!0:Y[0].Cb,V=[{type:6},{type:8,all:0}];
for(var p=0;p<Y.length;p++){var u=Y[p],Q=u.OAt,H=Q+2+u.Ah*6,T=B[Q]==B[H-2]&&B[Q+1]==B[H-1],F=u.Cm||T?0:3,q=u.Cb==I&&!Z?1:0;
if(!Z&&p!=0){if(Y[p-1].pS.Uv(u.pS)&&Y[p-1].Cb!=u.Cb)q=0;for(var $=0;$<Y.length;$++)if($!=p&&Y[$].pS.Uv(u.pS))q=0}V.push({type:F,length:u.Ah+(T?0:1),lz:q,DN:2});
for(var $=0;$<u.Ah;$++){var r=Q+$*6,t=new VP(B[r],B[r+1]),c=new VP(B[r+2],B[r+3]),f;if($==0){if(T)f=new VP(B[H-4],B[H-3]);
else f=t.clone()}else f=new VP(B[r-2],B[r-1]);V.push({type:F+2,EY:f,N:t,IJ:c})}if(!T){var W=new VP(B[H-2],B[H-1]);
V.push({type:F+2,EY:new VP(B[H-4],B[H-3]),N:W,IJ:W.clone()})}}for(var $=0;$<V.length;$++){var l=V[$];
if(l.type>5||l.type==0||l.type==3)continue;var g=l.EY.EW(l.N)||l.IJ.EW(l.IJ);if(!g){var h=l.EY.x*(l.N.y-l.IJ.y)+l.N.x*(l.IJ.y-l.EY.y)+l.IJ.x*(l.EY.y-l.N.y);
if(Math.abs(h)<1e-6)g=!0}if(g)l.type--}return V};O.W.mM=function(){function R(o,r,Y,E){if(!E&&o.IJ.EW(o.N)&&r.EY.EW(r.N)){Y.I.push(r.N.x,r.N.y);
Y.J.push("L")}else{Y.I.push(o.IJ.x,o.IJ.y,r.EY.x,r.EY.y,r.N.x,r.N.y);Y.J.push("C")}}function Z(o,r,Y,E,p,y){var z=r[Y];
o.I.push(z.N.x,z.N.y);o.J.push("M");for(var u=Y;u<Y+E-1;u++)R(r[u],r[u+1],o,y);if(!p)R(r[u],r[Y],o,y)}function B(o,r){if(r==null)r=!1;
var Y={I:[],J:[]};for(var E=0;E<o.length;E++){if(o[E].type>5)continue;var p=o[E].length;if(p==0)continue;
if(E==o.length-1)break;var y=o[E].type==3;Z(Y,o,E+1,p,y,r);if(!y)Y.J.push("Z");E+=p}return Y}return B}();
O.W.OLo=function(R){var Z=R.I,B=[],o,r=0;for(var Y=0;Y<R.J.length;Y++){var E=R.J[Y];if(E=="C"){o.push(Z[r++],Z[r++],Z[r++],Z[r++],Z[r++],Z[r++])}else if(E=="Z"){}else{o=[];
if(E!="M"){o.push(E);Y++}o.push(Z[r++],Z[r++]);B.push(o)}}return B};O.W.xI=function(R,Z,B,o){if(o==null)o=1e9;
var r=1e9,Y=0;for(var E=0;E<R.length;E+=2){var p=Z-R[E],y=B-R[E+1],z=p*p+y*y;if(z<r){r=z;Y=E>>>1}}return r<o*o?Y:-1};
O.W.IM=function(R,Z,B,o){for(var r=0;r<R.length;r+=2){var Y=R[r],E=R[r+1],p=Z[r],y=Z[r+1];B[r]=Y+(p-Y)*o;
B[r+1]=E+(y-E)*o}};O.W.P=function(R,Z,B){for(var o=0;o<R.length;o+=2){var r=R[o],Y=R[o+1];B[o]=r*Z.t+Y*Z.f_+Z.ec;
B[o+1]=r*Z.X+Y*Z._l+Z.Cf}};O.W.Rn=function(R,Z,B){if(Z==null)Z=0;if(B==null)B=R.length;var o=99999999999,r=-o,Y=99999999999,E=-Y;
for(var p=Z;p<B;p+=2){var y=R[p],z=R[p+1];o=Math.min(o,y);Y=Math.min(Y,z);r=Math.max(r,y);E=Math.max(E,z)}return new N(o,Y,r-o,E-Y)};
O.W.Pi=function(R,Z){var B=Math.max(Z.x,Math.min(Z.x+Z.Y,R.x)),o=Math.max(Z.y,Math.min(Z.y+Z.Z,R.y)),r=R.x-B,Y=R.y-o;
return Math.sqrt(r*r+Y*Y)};O.W.Hx=function(R){if(R.Pa())return new N(Math.floor(R.x),Math.floor(R.y),Math.ceil(R.Y),Math.ceil(R.Z));
var Z=Math.floor(R.x),B=Math.ceil(R.x+R.Y),o=Math.floor(R.y),r=Math.ceil(R.y+R.Z);return new N(Z,o,B-Z,r-o)};
O.W.bE=function(R){return O.W.Hx(O.W.Rn(R))};O.W.Bu=function(R){var Z=R.x,B=R.y,o=R.x+R.Y,r=R.y+R.Z;
return{J:["M","L","L","L","Z"],I:[Z,B,o,B,o,r,Z,r]}};O.W.concat=function(R,Z,B){if(B==null)B=new GN;
for(var o=0;o<Z.I.length;o+=2){var r=Z.I[o],Y=Z.I[o+1];R.I.push(r*B.t+Y*B.f_+B.ec);R.I.push(r*B.X+Y*B._l+B.Cf)}for(var o=0;
o<Z.J.length;o++)R.J.push(Z.J[o])};O.W.Ol=function(R){var Z=R.I,B=[],o=[],r=0,Y=0,E=0,p=0,y=0,z=0,u=0,Q=0,H=0;
for(var T=0;T<R.J.length;T++){var C=R.J[T];if(C=="M"){Y=Z[r];E=Z[r+1];r+=2;o.push(C);B.push(Y,E)}else if(C=="C"){p=Z[r];
y=Z[r+1];z=Z[r+2];u=Z[r+3];Q=Z[r+4];H=Z[r+5];r+=6;o.push(C);B.push(p,y,z,u,Q,H);Y=Q;E=H}else if(C=="Q"){p=Z[r];
y=Z[r+1];z=Z[r+2];u=Z[r+3];r+=4;var e=p-Y,$=y-E,x=z-p,M=u-y;o.push("C");B.push(Y+2/3*e,E+2/3*$,p+1/3*x,y+1/3*M,z,u);
Y=z;E=u}else if(C=="L"){p=Z[r];y=Z[r+1];r+=2;var m=p-Y,G=y-E;o.push("C");B.push(Y,E,p,y,p,y);Y=p;E=y}else o.push(C)}return{J:o,I:B}};
O.W.OJf=function(R){var Z=R.I,B=[],o=[],r=0;for(var Y=0;Y<R.J.length;Y++){var E=R.J[Y];if(E=="Q"){var p=Z[r-2],y=Z[r-1],z=Z[r],u=Z[r+1],Q=Z[r+2],H=Z[r+3];
r+=4;var T=z-p,C=u-y,e=Q-z,$=H-u;o.push("C");B.push(p+2/3*T,y+2/3*C,z+1/3*e,u+1/3*$,Q,H)}else{var x=0;
if(E=="M"||E=="L")x=2;else if(E=="C")x=6;for(var M=0;M<x;M++)B.push(Z[r+M]);r+=x;o.push(E)}}return{J:o,I:B}};
O.W.Of=function(R,Z){var B=R.I,o=[],r=[],Y=0,E=0,p=0,y=0,z=0,u=0,Q=0,H=0,T=0;for(var C=0;C<R.J.length;
C++){var e=R.J[C];if(e=="M"){E=B[Y];p=B[Y+1];Y+=2;r.push(e);o.push(E,p)}else if(e=="C"){y=B[Y];z=B[Y+1];
u=B[Y+2];Q=B[Y+3];H=B[Y+4];T=B[Y+5];Y+=6;O.W.Is(E,p,y,z,u,Q,H,T,Z,r,o,0);E=H;p=T}else r.push(e)}return{J:r,I:o}};
O.W.Is=function(R,Z,B,o,r,Y,E,p,y,z,u,Q){var H=Math.sqrt((E-R)*(E-R)+(p-Z)*(p-Z)),T=Math.sqrt((E-r)*(E-r)+(p-Y)*(p-Y))+Math.sqrt((r-B)*(r-B)+(Y-o)*(Y-o))+Math.sqrt((B-R)*(B-R)+(o-Z)*(o-Z)),C=(H+T)/2;
if(C<=y){z.push("C");u.push(B,o,r,Y,E,p)}else{var e=0,$=0,x=0,M=0,m=0,G=0,K=0,s=0,L=0,_=0,P=0,i=0,w=0;
$=(R+B)/2;x=(Z+o)/2;M=(B+r)/2;m=(o+Y)/2;G=(r+E)/2;K=(Y+p)/2;s=($+M)/2;L=(x+m)/2;_=(M+G)/2;P=(m+K)/2;
i=(s+_)/2;w=(L+P)/2;O.W.Is(R,Z,$,x,s,L,i,w,y,z,u,Q+1);O.W.Is(i,w,_,P,G,K,E,p,y,z,u,Q+1)}};O.W.Ib=function(R,Z){var B=R.length-2,o=R[0],r=R[1],Y=R[B],E=R[B+1],p=Y-o,y=E-r,z=1/Math.sqrt(p*p+y*y),u=Y*r-E*o,Q=-1,H=-1;
for(var T=2;T<B;T+=2){var C=R[T],e=R[T+1],$=Math.abs(y*C-p*e+u)*z;if($>H){H=$;Q=T}}if(H<Z)return[o,r,Y,E];
var x=O.W.Ib(R.slice(0,Q+2),Z),M=O.W.Ib(R.slice(Q),Z);for(var T=2;T<M.length;T++)x.push(M[T]);return x};
O.W.OJZ=function(){var R=function(o,r,Y,E,p,y){return(r-E)*(p-Y)+(Y-o)*(y-E)>=0},Z=function(o,r,Y,E,p,y,z,u){var Q=z-Y,H=u-E,T=p-Y,C=y-E,e=o-Y,$=r-E,x=Q*Q+H*H,M=Q*T+H*C,m=Q*e+H*$,G=T*T+C*C,K=T*e+C*$,s=1/(x*G-M*M),L=(G*m-M*K)*s,_=(x*K-M*m)*s;
return L>=0&&_>=0&&L+_<1},B=function(o){var r=o.length>>>1,p=0;if(r<3)return[];var Y=[],E=[];for(var p=0;
p<r;p++)E.push(p);var y=r;while(y>3){var z=E[(p+0)%y],u=E[(p+1)%y],Q=E[(p+2)%y],H=o[2*z],T=o[2*z+1],C=o[2*u],e=o[2*u+1],$=o[2*Q],x=o[2*Q+1],M=!1;
if(R(H,T,C,e,$,x)){M=!0;for(var m=0;m<y;m++){var G=E[m];if(G==z||G==u||G==Q)continue;if(Z(o[2*G],o[2*G+1],H,T,C,e,$,x)){M=!1;
break}}}if(M){Y.push(z,u,Q);E.splice((p+1)%y,1);y--;p=0}else if(p++>3*y)break}Y.push(E[0],E[1],E[2]);
return Y};return B}();O.W.ODk=function(R,Z){var B={},o={J:[],I:[]};for(var r=0;r<Z.length;r+=3){var Y=Z[r]*2,E=Z[r+1]*2,p=Z[r+2]*2;
O.W.IT(R,Y,E,o,B);O.W.IT(R,Y,p,o,B);O.W.IT(R,E,p,o,B)}return o};O.W.IT=function(R,Z,B,o,r){if(Z>B){var Y=B;
B=Z;Z=Y}if(r[Z+","+B])return;r[Z+","+B]=!0;o.J.push("M","L");o.I.push(R[Z],R[Z+1],R[B],R[B+1])};O.W.P$=function(R,Z){var B=[],o=R.length;
for(var r=0;r<o;r+=2){var Y=R[r],E=R[r+1],p=R[(r+2)%o],y=R[(r+3)%o];if(y<E){var z=E;E=y;y=z}if(E<Z&&Z<y){var u=(Z-E)/(y-E);
B.push(Y+u*(p-Y))}}B.sort(function(Q,H){return Q-H});return B};O.W.ODR=function(R,Z){var B=Z.slice(0),o=R.length/2,r=[],Y=[];
for(var E=0;E<o;E++){var p=(E+1)%o,y=R[2*E]-R[2*p],z=R[2*E+1]-R[2*p+1];Y[E]=Math.sqrt(y*y+z*z)}for(var E=0;
E<o;E++){var u=(E-1+o)%o,p=(E+1)%o,Q=Z[E],H=Q+Z[u],T=Q+Z[p];if(H!=0)B[E]=Math.min(B[E],Y[u]*Q/H);if(T!=0)B[E]=Math.min(B[E],Y[E]*Q/T)}for(var E=0;
E<o;E++){var p=(E+1)%o,C=(E+2)%o,e=B[E],$=B[p],x=R[2*E],M=R[2*E+1],m=R[2*p],G=R[2*p+1],K=R[2*C],s=R[2*C+1],L=Y[E],_=Y[p],P=O.W.PZ(x,M,m,G,K,s,e,$,L,_);
r.push(P[0],P[1],P[0],P[1],P[2],P[3]);r.push(P[2],P[3],P[4],P[5],P[6],P[7])}return r};O.W.PZ=function(R,Z,B,o,r,Y,E,p,y,z){if(y==null)y=Math.sqrt((B-R)*(B-R)+(o-Z)*(o-Z));
if(z==null)z=Math.sqrt((r-B)*(r-B)+(Y-o)*(Y-o));var u=.553,Q=0,H=0,T=0,C=0;if(y!=0){Q=(B-R)/y;H=(o-Z)/y}if(z!=0){T=(r-B)/z;
C=(Y-o)/z}var e=R+E*Q,$=Z+E*H,x=B-p*Q,M=o-p*H;return[e,$,x,M,B-p*Q*(1-u),o-p*H*(1-u),B+p*T*(1-u),o+p*C*(1-u),B+p*T,o+p*C]};
O.xB=function(){};O.xB.OV=function(R,Z,B,o,r){var Y=B.Y,E=B.Z,p=Y*E,y=new Int32Array(p),z=0;for(var u=0;
u<p;u++)if(Z[u]!=0){y[u]=z;z++}else if(R[(u<<2)+3]<200){y[u]=-2}else y[u]=-1;if(z==0)return;var Q=new O.iF(z,z),H=new Array(3*z),T=new Array(3*z);
for(var u=0;u<T.length;u++)T[u]=H[u]=0;var C=1/255,e=[-Y,-1,1,Y],$=[],x=[];for(var M=0;M<E;M++)for(var m=0;
m<Y;m++){var G=M*Y+m,K=G<<2,u=y[G],s=u*3,L=0,_=0,P=0;if(u==-1||u==-2)continue;for(var i=0;i<4;i++){if(i==2){_=P;
$[P]=0;x[P]=u;P++}var w=G+e[i],k=w<<2,h=y[w];if(i==0&&M==0||i==1&&m==0||i==2&&m==Y-1||i==3&&M==E-1||h==-2)continue;
L++;if(h==-1){H[s+0]+=R[k+0];H[s+1]+=R[k+1];H[s+2]+=R[k+2]}else{$[P]=-1;x[P]=h;P++;if(Z[G]==Z[w]){H[s+0]+=R[K+0]-R[k+0];
H[s+1]+=R[K+1]-R[k+1];H[s+2]+=R[K+2]-R[k+2]}}}$[_]=L;Q.Yv($,x,P)}for(var u=0;u<p;u++)if(y[u]!=-1){var j=u<<2,I=y[u],V=I*3;
T[V]=R[j+0];T[V+1]=R[j+1];T[V+2]=R[j+2]}var F=Date.now();Q.ONu(T,H,o,r);console.log(Date.now()-F);for(var u=0;
u<p;u++){var I=y[u],q=I*3,j=u<<2;if(I==-1||R[j+3]!=255)continue;R[j+0]=~~(.5+Math.max(0,Math.min(255,T[q+0])));
R[j+1]=~~(.5+Math.max(0,Math.min(255,T[q+1])));R[j+2]=~~(.5+Math.max(0,Math.min(255,T[q+2])))}};O.rect={};
O.rect.Po=function(R,Z){var B=[R],o=[];for(var r=0;r<Z.length;r++){var Y=Z[r],E=!1;for(var p=r+1;p<Z.length;
p++){var y=Z[p];if(y[0]<=Y[0]&&y[1]<=Y[1]&&Y[2]<=y[2]&&Y[3]<=y[3]){E=!0;break}}if(!E)o.push(Y)}Z=o;for(var r=0;
r<Z.length;r++){var Y=Z[r];for(var p=0;p<B.length;p++){var y=B[p],z=Math.max(Y[0],y[0]),u=Math.min(Y[2],y[2]),Q=Math.max(Y[1],y[1]),H=Math.min(Y[3],y[3]);
if(z<u&&Q<H){var T=[];if(y[1]<Y[1]){var C=y.slice(0);C[3]=Y[1];T.push(C)}if(y[0]<Y[0]){var e=y.slice(0);
e[1]=Q;e[2]=Y[0];T.push(e)}if(Y[2]<y[2]){var $=y.slice(0);$[1]=Q;$[0]=Y[2];T.push($)}if(Y[3]<y[3]){var x=[z,H,u,y[3]];
T.push(x)}if(T.length!=0){B[p]=T[0];for(var M=1;M<T.length;M++)B.push(T[M])}}}B.push(Y);B=O.rect.ODI(B)}B.sort(function(Y,y){return Y[1]!=y[1]?Y[1]-y[1]:Y[0]-y[0]});
return B};O.rect.ODI=function(R){R=R.slice(0);for(var Z=0;Z<R.length;Z++){var B=R[Z],o=null;if(B[4]!=null)continue;
for(var r=0;r<R.length;r++){var Y=R[r];if(Z==r||Y[4]!=null)continue;var E=B[0]==Y[0],p=B[1]==Y[1],y=B[2]==Y[2],z=B[3]==Y[3];
if(p&&z&&(B[2]==Y[0]||B[0]==Y[2])){o=[Math.min(B[0],Y[0]),B[1],Math.max(B[2],Y[2]),B[3]]}if(E&&y&&(B[3]==Y[1]||B[1]==Y[3])){o=[B[0],Math.min(B[1],Y[1]),B[2],Math.max(B[3],Y[3])]}if(o){R[Z]=o;
R.splice(r,1);break}}if(o){Z--}}return R};O.rect.xZ=function(R){var Z=new N;for(var B=0;B<R.length;B++)Z=Z.fj(R[B]);
return Z};O.rect.ODJ=function(R,Z){var B=O.rect.xZ,o=new UnionFind(R.length),L=1e3,_=1e3;for(var r=0;
r<R.length;r++)for(var Y=r+1;Y<R.length;Y++){if(!Z)continue;var E=R[r],p=R[Y],H=1e9,T=1e9;if(E.nl(p)){o.link(r,Y);
continue}var y=E.x+E.Y,z=E.y+E.Z,u=p.x+p.Y,Q=p.y+p.Z;if((y<p.x||u<E.x)&&(z<p.y||Q<E.y))continue;if(!(z<p.y||Q<E.y))H=Math.min(Math.abs(y-p.x),Math.abs(E.x-u));
if(!(y<p.x||u<E.x))T=Math.min(Math.abs(z-p.y),Math.abs(E.y-Q));var C=Math.min(H,T),e=Math.min(E.Y,E.Z,p.Y,p.Z);
if(C<.3*e)o.link(r,Y)}var $=[],x={};for(var r=0;r<R.length;r++){var M=o.find(r),m=R[r];if(x[M]==null){x[M]=$.length;
$.push([])}$[x[M]].push(m)}var G=[],K=[];for(var r=0;r<$.length;r++){G.push(B($[r]));var s=B($[r]);s.lJ=r;
K.push(s)}K.sort(function(q,t){return Math.max(t.Z,t.Y)-Math.max(q.Z,q.Y)});var P=new NETXUS.RectanglePacker(L,_);
while(!0){var i=!1;P.reset(L,_);for(var r=0;r<K.length;r++){var w=P.findCoords(K[r].Y,K[r].Z);if(w){K[r].x=w.x;
K[r].y=w.y}else{L=Math.floor(L*1.1);_=Math.floor(_*1.1);i=!0;break}}if(i)continue;break}for(var r=0;
r<$.length;r++){var k=K[r],h=k.lJ,j=G[h],I=$[h],V=k.x-j.x,F=k.y-j.y;for(var Y=0;Y<I.length;Y++)I[Y].offset(V,F)}};
O.uO=function(){};O.uO.sx=Math.floor(16*window.devicePixelRatio);O.uO.Bk={};O.uO.HT=0;O.uO.OD=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
O.uO.ODT=["px","in","cm","mm","%"];O.uO.PM=function(R,Z,B){var o=Z.ag,r=[1,o,o/2.54,o/25.4,Z.Y/100][B];
return R*r};O.uO.Tk=function(R,Z,B,o,r){var Y=B.Al.zn,E=[1,Z,Z/2.54,Z/25.4,o/100][Y],p=[2,3,2,1,2][Y];
R=R/E;var y=Math.round(R),z=Y==0&&Math.abs(R-y)<1e-6?y+"":R.toFixed(p);if(r)z+=" "+O.uO.ODT[Y];return z};
O.uO.Oqq=function(R,Z,B,o){var r=B.Al.zn,Y=[1,Z,Z/2.54,Z/25.4,o/100][r];R=parseFloat(R)*Y;return R};
O.uO.OqN=function(R,Z){var B=Math.round(O.uO.sx*.5);O.uO.HT=B;var o=document.createElement("canvas");
o.width=o.height=B;var r=o.getContext("2d");r.font=B*1.5+"px monospace";var Y="0 1 2 3 4 5 6 7 8 9 -".split(" ");
for(var E=0;E<Y.length;E++){r.fillStyle="#"+O.ue(Z);r.fillRect(0,0,B,B);r.fillStyle="#"+O.ue(R);r.fillText(Y[E],0,B);
O.uO.Bk[Y[E]]=r.getImageData(0,0,B,B).data}};O.uO.Oqz=function(R,Z,B){var o=0,r=0,Y=4*O.uO.sx;for(var E=9;
E>=0;E--){var p=Math.pow(10,E);if(5*p*R<=Y){o=5*p;r=10;break}if(2*p*R<=Y){o=2*p;r=4;break}if(1*p*R<=Y){o=1*p;
r=10;break}}if(o==0){o=1;r=10}var y=Math.ceil(o*R),z=O.a(y*O.uO.sx*4);O.yg(z,4278190080|B);for(var E=0;
E<O.uO.sx;E++)O.uO.BO(z,4*E*y,Z);for(var E=0;E<y;E++)O.uO.BO(z,4*((O.uO.sx-1)*y+E),Z);if(o==2)r=2;if(o==5)r=5;
if(o>1||o==1&&y>20)for(var E=1;E<r;E++)O.uO.Oq$(z,E*(y/r),y,(E&1)==1?.8:.7,Z);return{Ti:z,step:o}};O.uO.Oq$=function(R,Z,B,o,r){var Z=Math.round(Z);
for(var Y=Math.round(O.uO.sx*o);Y<O.uO.sx-1;Y++)O.uO.BO(R,4*(Y*B+Z),r)};O.uO.BO=function(R,Z,B){R[Z+0]=B>>16&255;
R[Z+1]=B>>8&255;R[Z+2]=B&255};O.uO.OqK=function(R,Z,B){var o=Z&255,r=Z>>8&255,Y=Z>>16&255,x,M,m,G;Z=Math.round(o*.6)<<16|Math.round(r*.6)<<8|Math.round(Y*.6);
O.uO.OqN(Math.round(o*.8)<<16|Math.round(r*.8)<<8|Math.round(Y*.8),B);var E=this.Oqz(R.h,Z,B),p=R.JQ(0,0),y=R.JQ(R.p.Y,R.p.Z),z=Math.floor(p.x/E.step)*E.step,u=Math.ceil(y.x/E.step)*E.step,Q=Math.floor(p.y/E.step)*E.step,H=Math.ceil(y.y/E.step)*E.step,T=R.Nv(z,Q),C=R.Nv(u,Q),e=E.step*R.h,$=Math.ceil(e);
x=R.oe.data;M=new N(0,0,R.p.Y,O.uO.sx);m=new N(0,0,$,O.uO.sx);G=new N(0,Math.round(O.uO.sx*.08),O.uO.HT,O.uO.HT);
for(var K=0;K<(u-z)/E.step;K++){m.x=Math.round(T.x+K*e);O.GN(E.Ti,m,x,M,m);var s=(z+K*E.step).toString(10);
for(var L=0;L<s.length;L++){G.x=m.x+3+L*Math.round(O.uO.HT*.8);var _=O.uO.Bk[s[L]];O.GN(_,G,x,M,G)}}var P=new Uint32Array(E.Ti.buffer),i=new Uint32Array(E.Ti.length);
for(var w=0;w<$;w++)for(var k=0;k<O.uO.sx;k++){i[w*O.uO.sx+k]=P[k*$+w]}E.Ti=new Uint8Array(i.buffer);
x=R._T.data;M=new N(0,0,O.uO.sx,R.p.Z);m=new N(0,0,O.uO.sx,$);G=new N(Math.round(O.uO.sx*.2),0,O.uO.HT,O.uO.HT);
for(var K=0;K<(H-Q)/E.step;K++){m.y=Math.round(T.y+K*e);O.GN(E.Ti,m,x,M,m);var s=Math.abs(Q+K*E.step).toString(10);
for(var L=0;L<s.length;L++){G.y=m.y+3+L*Math.round(O.uO.HT*1.15);var _=O.uO.Bk[s[L]];O.GN(_,G,x,M,G)}}};
O.scale={};O.scale.Fy=document.createElement("canvas");O.scale.IH=O.scale.Fy.getContext("2d");O.scale.Oqo=document.createElement("canvas");
O.scale.OLM=O.scale.Oqo.getContext("2d");O.scale.TA=function(R,Z,B){var o=O.scale.Fy,r=O.scale.IH;o.width=Z;
o.height=B;var Y=new ImageData(new Uint8ClampedArray(R.buffer),Z,B);r.putImageData(Y,0,0);return r.createPattern(o,"repeat")};
O.scale.OLC=function(R,Z,B,o,r,Y,E,p){var y=O.scale.Ps(R,B,o,r,Y,E,p);O.AB(y.data,Z)};O.scale.OqF=function(R,Z,B,o,r,Y,E,p){var y=O.scale.Ps(R,B,o,r,Y,E,p);
O.VG(y.data,Z)};O.scale.Ps=function(R,Z,B,o,r,Y,E){var p=O.scale.Fy,y=O.scale.IH;p.width=Z;p.height=B;
y.rect(0,0,Z,B);y.translate(Y,E);y.scale(o,r);y.fillStyle=R;y.fill();return y.getImageData(0,0,Z,B)};
O.scale.Ov=function(R,Z,B,o,r,Y,E){if(E<1)O.scale.OWA(R,Z,B,o,r,Y,Math.round(1/E));else O.scale.Oqu(R,Z,B,o,r,Y,E)};
O.scale.Dv=function(R,Z,B,o,r,Y,E,p){if(p)p=p.Rg(new N(0,0,Z,B));R=new Uint32Array(R.buffer);o=new Uint32Array(o.buffer);
if(E<1)O.scale.OWH(R,Z,B,o,r,Y,Math.round(1/E),p);else O.scale.OWJ(R,Z,B,o,r,Y,E)};O.scale.Oqu=function(R,Z,B,o,r,Y,E){for(var p=0;
p<B;p++)for(var y=0;y<Z;y++){var z=R[p*Z+y],u=Math.min(E,r-y*E),Q=Math.min(E,Y-p*E);for(var H=0;H<Q;
H++)for(var T=0;T<u;T++)o[(E*p+H)*r+E*y+T]=z}};O.scale.OWA=function(R,Z,B,o,r,Y,E){for(var p=0;p<Y;p++)for(var y=0;
y<r;y++){var z=0,u=Math.min(E,Z-y*E),Q=Math.min(E,B-p*E);for(var H=0;H<Q;H++)for(var T=0;T<u;T++)z+=R[(E*p+H)*Z+(E*y+T)];
o[p*r+y]=Math.round(z/(u*Q))}};O.scale.OWJ=function(R,Z,B,o,r,Y,E){for(var p=0;p<B;p++)for(var y=0;y<Z;
y++){var z=R[p*Z+y],u=Math.min(E,r-y*E),Q=Math.min(E,Y-p*E);for(var H=0;H<Q;H++)for(var T=0;T<u;T++)o[(E*p+H)*r+E*y+T]=z}};
O.scale.OWH=function(R,Z,B,o,r,Y,E,p){var y=0,z=r,u=0,Q=Y;if(p){y=Math.floor(p.x/E);z=Math.ceil((p.x+p.Y)/E);
u=Math.floor(p.y/E);Q=Math.ceil((p.y+p.Z)/E)}for(var H=u;H<Q;H++)for(var T=y;T<z;T++){var C=0,e=0,$=0,x=0,M=Math.min(E,Z-T*E),m=Math.min(E,B-H*E);
for(var G=0;G<m;G++)for(var K=0;K<M;K++){var s=R[(E*H+G)*Z+E*T+K],L=s>>>24;C+=L;e+=L*(s>>>16&255);$+=L*(s>>>8&255);
x+=L*(s&255)}if(C!=0){var _=1/C;o[H*r+T]=C/(M*m)<<24|e*_<<16|$*_<<8|x*_}else o[H*r+T]=0}};O.O={};O.O.OWn=function(R,Z,B){var o=128,r=0,Y=B.Y,E=B.Z;
for(var p=0;p<E;p++)for(var y=0;y<Y;y++){if(R[r]>=o&&(y==0||R[r-1]<o||(y==Y-1||R[r+1]<o)||(p==0||R[r-Y]<o)||(p==E-1||R[r+Y]<o)))Z[r]=255;
r++}};O.O.ONy=function(R,Z,B,o){var r=new Uint32Array([4278190080,4294967295]),Y=B.Y,E=B.Z,p=0,y=0,z=Y,u=E;
if(o){p=o.x-B.x;y=o.y-B.y;z=p+o.Y;u=y+o.Z}var Q=new Uint8Array(Z.buffer),H=new Uint32Array(Z.buffer);
for(var T=y;T<u;T++)for(var C=p;C<z;C++){var e=T*Y+C;if((R[e]&128)!=0&&(T==0||(R[e-Y]&128)==0||C==0||(R[e-1]&128)==0||C==Y-1||(R[e+1]&128)==0||T==E-1||(R[e+Y]&128)==0)){H[e]=r[(C+T&4)>>>2]}}};
O.O.ONR=function(R,Z,B,o,r,Y){var E=B.Y,p=B.Z,y=0,z=0,u=E,Q=p;if(o){y=o.x-B.x;z=o.y-B.y;u=y+o.Y;Q=z+o.Z}var H=new Uint8Array(Z.buffer),T=new Uint32Array(Z.buffer);
for(var C=z;C<Q;C++)for(var e=y;e<u;e++){var $=C*E+e,x=R[$];if(r==1)T[$]=255-x>>>1<<24|Y;else T[$]=255<<24|(x<<16|x<<8|x)}};
O.zg={};O.zg.BG=function(R,Z,B){var o,r;if(B=="front"){o=R.rect.clone();r=O.zg.ONA}if(B=="union"){o=R.rect.fj(Z.rect);
r=O.zg.fj}if(B=="difference"){o=Z.rect.clone();r=O.zg.ON$}if(B=="intersection"){o=R.rect.Rg(Z.rect);
r=O.zg.Rg}if(B=="xor"){o=R.rect.fj(Z.rect);r=O.zg.ONM}if(o.Pa())return null;var Y=O.a(o.b());O.WX(Z.channel,Z.rect,Y,o);
var E=O.a(o.b());O.WX(R.channel,R.rect,E,o);r(E,Y,Y);var p=O.Fs(Y,o);if(p.Pa())return null;if(!p.EW(o)){var y=O.a(p.b());
O.WX(Y,o,y,p);Y=y;o=p}return{channel:Y,rect:o}};O.zg.ONA=function(R,Z,B){for(var o=0;o<R.length;o++)B[o]=R[o]};
O.zg.fj=function(R,Z,B){for(var o=0;o<R.length;o++)B[o]=Math.min(R[o]+Z[o],255)};O.zg.ON$=function(R,Z,B){for(var o=0;
o<R.length;o++)B[o]=Math.max(Z[o]-R[o],0)};O.zg.Rg=function(R,Z,B){var o=1/255;for(var r=0;r<R.length;
r++)B[r]=R[r]*Z[r]*o};O.zg.ONM=function(R,Z,B){var o=1/255;for(var r=0;r<R.length;r++)B[r]=Math.min(R[r]+Z[r],255)-R[r]*Z[r]*o};
O.iF=function(R,Z){this.l=[];this.DH=[0];this.ig=[];this.os=[];this.Lk=[0];this.Ly=[];this.od=[];this.rows=R;
this.cols=Z};O.iF.prototype.clone=function(){var R=this,Z=R.rows,B=R.cols,o=new O.iF(Z,B);o.l=R.l.slice(0);
o.DH=R.DH.slice(0);o.ig=R.ig.slice(0);o.os=R.os.slice(0);o.Lk=R.Lk.slice(0);o.Ly=R.Ly.slice(0);o.od=R.od.slice(0);
return o};O.iF.prototype.Yv=function(R,Z,B){var o=this.DH.length-1;for(var r=0;r<B;r++){var Y=R[r],E=Z[r];
this.l.push(Y);this.ig.push(E);if(E==o){this.od.push(Y==0?0:1/Y)}else{this.os.push(Y);this.Ly.push(E)}}this.DH.push(this.l.length);
this.Lk.push(this.os.length)};O.iF.prototype.OK=function(R,Z){var B=this,o=B.rows,r=B.l,Y=B.ig;if(Z==null)Z=new Array(o);
for(var E=0;E<o;E++){var p=B.DH[E],y=B.DH[E+1],z=0;while((y-p&3)!=0){z+=r[p]*R[Y[p]];p++}for(var u=p;
u<y;u+=4)z+=r[u]*R[Y[u]]+r[u+1]*R[Y[u+1]]+r[u+2]*R[Y[u+2]]+r[u+3]*R[Y[u+3]];Z[E]=z}return Z};O.iF.prototype.multiply=function(R){return this.BX(R._J())};
O.iF.prototype.BX=function(R){var Z=this,B=Z.rows,o=Z.cols,r=R.rows,Y=new O.iF(B,r),E=Z.ig,p=R.ig;for(var y=0;
y<B;y++){var z=[],u=[],Q=Z.DH[y],H=Z.DH[y+1];for(var T=0;T<r;T++){var C=R.DH[T],e=R.DH[T+1],$=0,x=Q,M=C;
while(x<H&&M<e){var m=Math.max(E[x],p[M]);while(x<H&&E[x]<m)x++;while(M<e&&p[M]<m)M++;if(x<H&&M<e&&E[x]==p[M])$+=Z.l[x++]*R.l[M++]}if($!=0){z.push($);
u.push(T)}}Y.Yv(z,u,z.length)}return Y};O.iF.prototype._J=function(){var R=this.rows,Z=this.cols,B=[];
for(var o=0;o<Z;o++)B.push([[],[]]);var r=this.l,Y=this.DH,E=this.ig;for(var o=0;o<R;o++){var p=Y[o],y=Y[o+1];
for(var z=p;z<y;z++){var u=B[E[z]];u[0].push(r[z]);u[1].push(o)}}var Q=new O.iF(Z,R);for(var o=0;o<Z;
o++)Q.Yv(B[o][0],B[o][1],B[o][1].length);return Q};O.iF.prototype.jR=function(){var R=this.rows,Z=this.cols,B=new Array(R),o=this.l,r=this.DH,Y=this.ig;
for(var E=0;E<R;E++){var p=B[E]=new Array(Z);for(var y=0;y<Z;y++)p[y]=0;var z=r[E],u=r[E+1];for(var Q=z;
Q<u;Q++)p[Y[Q]]=o[Q]}return B};O.iF.prototype.BI=function(R,Z,B,o,r){function Y(L,Z,_,P){var i=L.length;
for(var w=0;w<i;w++)P[w]=L[w]-Z[w]*_}function E(L,Z,_,P){var i=L.length,w=0;while((i-w&3)!=0){P[w]=L[w]+Z[w]*_;
w++}for(var k=w;k<i;k+=4){P[k]=L[k]+Z[k]*_;P[k+1]=L[k+1]+Z[k+1]*_;P[k+2]=L[k+2]+Z[k+2]*_;P[k+3]=L[k+3]+Z[k+3]*_}}function p(L,Z,_){var P=L.length;
for(var i=0;i<P;i++)_[i]=L[i]*Z[i]}function y(L,Z){var _=L.length,P=0,i=0;while((_-P&3)!=0){i+=L[P]*Z[P];
P++}for(var w=P;w<_;w+=4)i+=L[w]*Z[w]+L[w+1]*Z[w+1]+L[w+2]*Z[w+2]+L[w+3]*Z[w+3];return i}var z=o!=null?2:1,u=Date.now(),Q=0,H=this,T=R.slice(0),C=R.slice(0);
H.OK(R,C);Y(Z,C,1,T);var e=this.od;if(z==0){e=T.slice(0);e.fill(1)}var $=T.slice(0);p(e,T,$);var x=$.slice(0),M=y(T,$);
while(!0){H.OK(x,C);var m=M/y(x,C);E(R,x,m,R);Y(T,C,m,T);if((Q&7)==0&&Math.sqrt(y(T,T))<B)break;if(z<=1)p(e,T,$);
else{var G=T.slice(0);o.OEZ(G,T);r.OEo($,G)}var K=y(T,$),s=K/M;E($,x,s,x);M=K;Q++}};O.iF.prototype.OLc=function(R,Z,B,o){var r=Date.now(),Y=1.96,y=0;
if(B==null)B=5e-6;if(o==null)o=1e9;var E=1-Y,p=this.rows,z=this.os,u=this.Lk,Q=this.Ly,H=this.od;while(!0){var T=0;
for(var C=0;C<p;C++){var e=Z[C],$=u[C],x=u[C+1];if(x-$==4)e-=z[$]*R[Q[$]]+z[$+1]*R[Q[$+1]]+z[$+2]*R[Q[$+2]]+z[$+3]*R[Q[$+3]];
else for(var M=$;M<x;M++)e-=z[M]*R[Q[M]];var m=R[C]*E+H[C]*e*Y,G=m-R[C];T+=G*G;R[C]=m}if(T/p<B||Date.now()>r+o)break}};
O.iF.prototype.ONu=function(R,Z,B,o){var r=Date.now(),Y=1.96,y=0;if(B==null)B=5e-5;if(o==null)o=1e9;
var E=1-Y,p=this.rows,z=this.os,u=this.Lk,Q=this.Ly,H=this.od;while(!0){var T=0;for(var C=0;C<p;C++){var e=C*3,$=Z[e],x=Z[e+1],M=Z[e+2],m=u[C],G=u[C+1];
for(var K=m;K<G;K++){var s=z[K],L=Q[K]*3;$-=s*R[L+0];x-=s*R[L+1];M-=s*R[L+2]}var _=H[C]*Y,P=R[e+0]*E+$*_,i=R[e+1]*E+x*_,w=R[e+2]*E+M*_,k=P-R[e+0],h=i-R[e+1],j=w-R[e+2];
T+=.4*k*k+.5*h*h+.1*j*j;R[e+0]=P;R[e+1]=i;R[e+2]=w}if(T/p<B||Date.now()>r+o)break}};O.An={};O.An.Hn=function(R,Z,B){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:R},Vrtc:{t:"doub",v:Z},Cnty:{t:"bool",v:B}}}};
O.An.P=function(R,Z){for(var B=0;B<R.length;B++){var o=R[B].v,r=Z.qS(new VP(o.Hrzn.v,o.Vrtc.v));o.Hrzn.v=Math.round(r.x);
o.Vrtc.v=Math.round(r.y)}};O.An.qV={};O.An.qV.$d=function(R,Z){var B=R.length;for(var o=0;o<B;o++){var r=0,Y=Number.NEGATIVE_INFINITY;
for(var E=o;E<B;E++)if(Math.abs(R[E][o])>Y){r=E;Y=Math.abs(R[E][o])}O.An.qV.ONd(R,o,r);for(var E=o+1;
E<B;E++){if(R[o][o]==0)return 1;var p=R[E][o]/R[o][o];for(var y=o;y<B+1;y++)R[E][y]-=R[o][y]*p}}for(var E=B-1;
E>=0;E--){if(R[E][E]==0)return 1;var z=R[E][B]/R[E][E];Z[E]=z;for(var y=E-1;y>=0;y--){R[y][B]-=R[y][E]*z;
R[y][E]=0}}return 0};O.An.qV.ONc=function(R,Z){var B=[];for(var o=0;o<R;o++){B.push([]);for(var r=0;
r<Z;r++)B[o].push(0)}return B};O.An.qV.Olk=function(R){for(var Z=0;Z<R.length;Z++)console.log(JSON.stringify(R[Z]))};
O.An.qV.ONd=function(R,Z,B){var o=R[Z];R[Z]=R[B];R[B]=o};O.An.PH=function(R,Z,B){var o=R.length-1,r=O.An.qV.ONc(o+1,o+2);
for(var Y=1;Y<o;Y++){r[Y][Y-1]=1/(R[Y]-R[Y-1]);r[Y][Y]=2*(1/(R[Y]-R[Y-1])+1/(R[Y+1]-R[Y]));r[Y][Y+1]=1/(R[Y+1]-R[Y]);
r[Y][o+1]=3*((Z[Y]-Z[Y-1])/((R[Y]-R[Y-1])*(R[Y]-R[Y-1]))+(Z[Y+1]-Z[Y])/((R[Y+1]-R[Y])*(R[Y+1]-R[Y])))}r[0][0]=2/(R[1]-R[0]);
r[0][1]=1/(R[1]-R[0]);r[0][o+1]=3*(Z[1]-Z[0])/((R[1]-R[0])*(R[1]-R[0]));r[o][o-1]=1/(R[o]-R[o-1]);r[o][o]=2/(R[o]-R[o-1]);
r[o][o+1]=3*(Z[o]-Z[o-1])/((R[o]-R[o-1])*(R[o]-R[o-1]));O.An.qV.$d(r,B)};O.An.Ovm=function(R,Z,B,o){if(R<=Z[0])return B[0];
if(R>=Z[Z.length-1])return B[Z.length-1];var r=1;while(Z[r]<R)r++;var Y=Z[r],E=Z[r-1],p=B[r],y=B[r-1],z=(R-E)/(Y-E),u=o[r-1]*(Y-E)-(p-y),Q=-o[r]*(Y-E)+(p-y),H=(1-z)*y+z*p+z*(1-z)*(u*(1-z)+Q*z);
return H};O.An.PF=function(R,Z,B,o){var r={qk:[R[0]],qa:[Z[0]],CC:[]};o[0]=r;for(var Y=1;Y<R.length-1;
Y++){r.qk.push(R[Y]);r.qa.push(Z[Y]);if(B[Y]==!1){O.An.PH(r.qk,r.qa,r.CC);r={qk:[R[Y]],qa:[Z[Y]],CC:[]}}o[Y]=r}r.qk.push(R[Y]);
r.qa.push(Z[Y]);O.An.PH(r.qk,r.qa,r.CC);o[Y]=r};O.An.Pm=function(R,Z,B,o){if(R<=Z[0])return B[0];if(R>=Z[Z.length-1])return B[Z.length-1];
var r=1;while(Z[r]<R)r++;var Y=o[r-1];return O.An.Ovm(R,Y.qk,Y.qa,Y.CC)};O.An.Pb=function(R){var Z={qk:[],qa:[],oQ:[]};
for(var B=0;B<R.length;B++){Z.qk[B]=R[B].v.Hrzn.v;Z.qa[B]=R[B].v.Vrtc.v;Z.oQ[B]=R[B].v.Cnty?R[B].v.Cnty.v:!0}return Z};
O.An.Or=function(R,Z,B){var o=0,r=255;if(B){o=-1e9;r=1e9}var Y=O.An.Pb(R),E=[];O.An.PF(Y.qk,Y.qa,Y.oQ,E);
var p=[];for(var y=0;y<Z;y++)p[y]=1/255*Math.max(o,Math.min(r,O.An.Pm(y*(255/(Z-1)),Y.qk,Y.qa,E)));return p};
O.An.Ovb=function(R,Z,B){var o=Math.round(R.length/20),r=Z-R.length,Y=B?(R[o]-R[0])/o:0,E=B?R[0]-r*Y:R[R.length-1],p=[];
for(var y=0;y<r;y++)p.push(E+y*Y);return B?p.concat(R):R.concat(p)};O.An.Di=function(R,Z,B){var o=O.An.Pb(R),r=[];
O.An.PF(o.qk,o.qa,o.oQ,r);var Y=new Uint8Array(Z),E=Z/256;for(var p=0;p<Z;p++)Y[p]=Math.max(0,Math.min(Z-1,O.An.Pm(p*E,o.qk,o.qa,r)));
if(B){Y[0]=0;if(Y[1]>100)Y[1]=.4*Y[1];if(Y[2]>150)Y[1]=.7*Y[2]}return Y};O.An.Pn=function(R,Z){var B=new Uint8Array(R.length);
for(var o=0;o<R.length;o++)B[o]=Z[R[o]];return B};O.An.uj=function(R,Z,B){var o=X.T("canvas","");o.width=Z;
o.height=B;var r=o.getContext("2d"),Y=O.An.Di(R,256);r.scale(Z/255,B/255);r.fillStyle="#fff";r.fillRect(0,0,255,255);
r.fillStyle="#333";r.beginPath();r.moveTo(0,255);for(var E=0;E<Y.length;E++)r.lineTo(E,255-Y[E]);r.lineTo(255,255);
r.closePath();r.fill();return o.toDataURL()};O.style={};O.style.stroke=function(R,Z,B,o){var r=B.Y,Y=B.Z,E=new Float64Array(r*Y);
O.style.DP(R,E,r,Y);O.style.BB(Z,B,E,B,o)};O.style.BB=function(R,Z,B,o,r){var Y=Z.Rg(o),E=Y.Y,p=Y.Z;
r+=.5;var y=Y.x-Z.x,z=Y.y-Z.y,u=Z.Y,Q=Y.x-o.x,H=Y.y-o.y,T=o.Y;for(var C=0;C<p;C++){var e=(C+H)*T+Q,$=(C+z)*u+y;
for(var x=0;x<E;x++){var M=Math.max(0,Math.min(1,r-B[e+x]));R[$+x]=Math.round(M*255)}}};O.style.OlK=function(R,Z,B,o){for(var r=0;
r<B;r++)for(var Y=0;Y<Z;Y++){var E=r*Z+Y,p=0,y=0,z=R[E];if(Y==0||r==0){p=R[E+1]-z;y=R[E+Z]-z}else if(Y==B-1||r==Z-1){p=z-R[E-1];
y=z-R[E-Z]}else{p=R[E+1]-R[E-1];y=R[E+Z]-R[E-Z]}if(p!=0||y!=0){var u=1/Math.sqrt(p*p+y*y);p*=u;y*=u}o[E+E]=p;
o[E+E+1]=y}};O.style.DP=function(R,Z,B,o){var r=0,Y=B*o;for(var E=0;E<Y;E++)r|=R[E];if(r==0){Z.fill(1e9);
return}var p=O.style.BA(R,B,o);for(var y=0;y<o;y++)for(var z=0;z<B;z++){var E=y*B+z,u=p[E*2],Q=p[E*2+1],H=(y+Q)*B+z+u;
if(u==0&&Q==0){Z[E]=0;continue}var T=Math.sqrt(u*u+Q*Q),C=R[H]*(1/255),e=1/T,$=Math.abs(u)*e,x=Math.abs(Q)*e;
if(x>$){var M=x;x=$;$=M}Z[E]=T+O.style.OvT($,x,C)}};O.style.BA=function(R,Z,B,o){if(o==null){o=!0;for(var r=0;
r<R.length;r++)o=o&&(R[r]==0||R[r]==255)}var Y=new Int16Array(Z*B*2);if(o)O.style.OzE(R,Y,Z,B);else O.style.Ovd(R,Y,Z,B);
return Y};O.style.OvT=function(R,Z,B){return(.5-B)*R};O.style.Ovd=function(R,Z,B,o){var r=B*o;for(var Y=0;
Y<r;Y++)if(R[Y]==0){Z[Y*2]=16383;Z[Y*2+1]=16383}for(var E=1;E<=o-1;E++){var Y=E*B;for(var p=0;p<=B-1;
p++)O.style.yW(Z,R,B,Y+p<<1,-1);for(var p=1;p<=B-1;p++)O.style.xM(Z,R,B,Y+p<<1,-1);for(var p=B-2;p>=0;
p--)O.style.xM(Z,R,B,Y+p<<1,1)}for(var E=o-2;E>=0;E--){var Y=E*B;for(var p=0;p<=B-1;p++)O.style.yW(Z,R,B,Y+p<<1,1);
for(var p=1;p<=B-1;p++)O.style.xM(Z,R,B,Y+p<<1,-1);for(var p=B-2;p>=0;p--)O.style.xM(Z,R,B,Y+p<<1,1)}};
O.style.xM=function(R,Z,B,o,r){var Y=(o>>>1)+r<<1,E=R[o],p=R[o+1],y=R[Y]+r,z=R[Y+1],u=y*y+z*z,Q=E*E+p*p;
if(z!=16383&&(E==16383||Math.sqrt(u)+(.5-Z[(o>>>1)+z*B+y]*(1/255))<Math.sqrt(Q)+(.5-Z[(o>>>1)+p*B+E]*(1/255)))){R[o]=y;
R[o+1]=z}};O.style.yW=function(R,Z,B,o,r){var Y=(o>>>1)+r*B<<1,E=R[o],p=R[o+1],y=R[Y],z=R[Y+1]+r,u=y*y+z*z,Q=E*E+p*p;
if(y!=16383&&(E==16383||Math.sqrt(u)+(.5-Z[(o>>>1)+z*B+y]*(1/255))<Math.sqrt(Q)+(.5-Z[(o>>>1)+p*B+E]*(1/255)))){R[o]=y;
R[o+1]=z}};O.style.OzE=function(R,Z,B,o){var r=B*o;for(var Y=0;Y<r;Y++)if(R[Y]==0){Z[Y*2]=16383;Z[Y*2+1]=16383}for(var E=1;
E<=o-1;E++){var Y=E*B;for(var p=0;p<=B-1;p++)O.style.yU(Z,R,B,Y+p<<1,-1);for(var p=1;p<=B-1;p++)O.style.xs(Z,R,B,Y+p<<1,-1);
for(var p=B-2;p>=0;p--)O.style.xs(Z,R,B,Y+p<<1,1)}for(var E=o-2;E>=0;E--){var Y=E*B;for(var p=0;p<=B-1;
p++)O.style.yU(Z,R,B,Y+p<<1,1);for(var p=1;p<=B-1;p++)O.style.xs(Z,R,B,Y+p<<1,-1);for(var p=B-2;p>=0;
p--)O.style.xs(Z,R,B,Y+p<<1,1)}};O.style.xs=function(R,Z,B,o,r){var Y=(o>>>1)+r<<1,E=R[o],p=R[o+1],y=R[Y]+r,z=R[Y+1],u=y*y+z*z,Q=E*E+p*p;
if(z!=16383&&(E==16383||u<Q)){R[o]=y;R[o+1]=z}};O.style.yU=function(R,Z,B,o,r){var Y=(o>>>1)+r*B<<1,E=R[o],p=R[o+1],y=R[Y],z=R[Y+1]+r,u=y*y+z*z,Q=E*E+p*p;
if(y!=16383&&(E==16383||u<Q)){R[o]=y;R[o+1]=z}};O.style.OlC=function(R,Z,B,o,r){var Y=B*o,E=(B+o+1)*1.01;
for(var p=0;p<Y;p++)if(R[p]<=r)Z[p]=E;for(var y=1;y<B;y++)Z[y]=Math.min(Z[y],Z[y-1]);for(var z=1;z<o;
z++){var p=z*B;Z[p]=Math.min(Z[p],Math.min(Z[p-B]+1,Z[p-B+1]+Math.SQRT2));for(var y=1;y<B-1;y++){var u=Z[++p],Q=Math.min(Z[p-1]+1,Math.min(Z[p-B-1]+Math.SQRT2,Math.min(Z[p-B]+1,Z[p-B+1]+Math.SQRT2)));
if(Q<u)Z[p]=Q}p++;Z[p]=Math.min(Z[p],Math.min(Z[p-1]+1,Math.min(Z[p-B-1]+Math.SQRT2,Z[p-B]+1)))}for(var y=B-2;
y>=0;y--)Z[y+Y-B]=Math.min(Z[y+Y-B],Z[y+Y-B+1]);for(var z=o-2;z>=0;z--){var p=z*B+B-1;Z[p]=Math.min(Z[p],Math.min(Z[p+B]+1,Z[p+B-1]+Math.SQRT2));
for(var y=B-2;y>=1;y--){var u=Z[--p],Q=Math.min(Z[p+1]+1,Math.min(Z[p+B-1]+Math.SQRT2,Math.min(Z[p+B]+1,Z[p+B+1]+Math.SQRT2)));
if(Q<u)Z[p]=Q}p--;Z[p]=Math.min(Z[p],Math.min(Z[p+1]+1,Math.min(Z[p+B]+1,Z[p+B+1]+Math.SQRT2)))}};O.style.OhI=function(R,Z,B,o,r){var Y=new Int32Array(B*o);
O.style.OzG(R,Y,B,o,r);O.style.Ozp(Y,Z,B,o)};O.style.OzG=function(R,Z,B,o,r){var Y=new Int32Array(o);
for(var E=0;E<B;E++){var p=B+o;for(var y=o-1;y>=0;y--){if(R[y*B+E]>r)p=0;else p++;Y[y]=p}p=B+o;for(var y=0;
y<o;y++){if(R[y*B+E]>r)p=0;else p++;Z[y*B+E]=p<Y[y]?-p:Y[y]}}};O.style.Ozp=function(R,Z,B,o){var r=(B+o)*(B+o),Y=new Float64Array(B),E=new Uint16Array(B);
for(var p=0;p<o;p++){var y=p*B,z=0;E[0]=0;Y[0]=-r;Y[1]=+r;for(var u=1;u<B;u++){var Q=R[u+y]*R[u+y]+u*u,H=(Q-(R[E[z]+y]*R[E[z]+y]+E[z]*E[z]))/(2*u-2*E[z]);
while(H<=Y[z]){z--;H=(Q-(R[E[z]+y]*R[E[z]+y]+E[z]*E[z]))/(2*u-2*E[z])}z++;E[z]=u;Y[z]=H;Y[z+1]=r}z=0;
for(var u=0;u<B;u++){while(Y[z+1]<u)z++;var T=E[z]-u,C=R[E[z]+y],e=p*B+u<<1;Z[e]=T;Z[e+1]=C}}};O.style.B_=function(R,Z,B){if(B)for(var o=0;
o<R.length;o++){var r=R[o];if(r>0)R[o]=Math.max(0,Math.min(255,r+Z*2*(O.style.uk(o)-128)))}else for(var o=0;
o<R.length;o++){var r=R[o];if(r>0)R[o]=Math.max(0,Math.min(255,r+Math.min(r*3,Z*2*(O.style.uk(o)-128))))}};
O.style.uk=function(R){R=R^61^R>>16;R=R+(R<<3);R=R^R>>4;R=R*668265261;R=R^R>>15;return R&255};O.Zz={};
O.Zz.Tt=function(R,Z,B){var o=R.canvas,r=X.D(),Y=Math.floor;if(o.width!=Y(Z*r)||o.height!=Y(B*r))X.hl(o,Z,B,R)};
O.Zz.Op=function(R,Z,B,o,r,Y){O.Zz.Tt(R,Z,B);if(Y==null)Y=!1;var E=r.channel,p=r.rect,y=!r.isEnabled;
Z=Math.floor(Z*X.D());B=Math.floor(B*X.D());if(Z*B==0)return;var z=R.createImageData(Z,B),u=z.data,Q=1/Z,H=1/B;
for(var T=0;T<B;T++)for(var C=0;C<Z;C++){var e=T*Z+C,$=e*4,x=Math.round(o.x+C*Q*o.Y),M=Math.round(o.y+T*H*o.Z),m=0;
if(x<p.x||x>=p.x+p.Y||M<p.y||M>=p.y+p.Z)m=r.color;else m=E[(M-p.y)*p.Y+(x-p.x)];m=255*(255-r.ed)+m*r.ed>>>8;
if(Y)m=170+Math.round(.4*(m-170));u[$]=m;u[$+1]=m;u[$+2]=m;u[$+3]=255}R.putImageData(z,0,0);if(y)O.Zz.Bl(R,Z,B)};
O.Zz.OzZ=function(R,Z,B,o){R.fillStyle="#eeeeee";R.fillRect(.6*Z,.6*B,Z,B);R.lineWidth=1.5;var r=.65*Z,Y=.95*Z,E=.65*B,p=.95*B,y=.75*Z,z=.85*Z,u=.75*B,Q=.85*B;
R.beginPath();R.moveTo(r,E);R.lineTo(Y,E);R.lineTo(Y,p);R.lineTo(r,p);R.lineTo(r,E);R.moveTo(y,u);R.lineTo(z,u);
R.lineTo(z,Q);R.lineTo(y,Q);R.lineTo(y,u);R.closePath();R.stroke()};O.Zz.yT=[];O.Zz.Ozo=function(R,Z,B){var o,r,Y,E=X.D();
Z=Math.floor(E*Z);B=Math.floor(E*B);o=Math.ceil(Math.max(Z,B)*.35);r=Z-o;Y=B-o;var p=O.Zz.yT[o];if(p==null){R.save();
R.scale(1/E,1/E);R.fillStyle="#eeeeee";R.fillRect(r,Y,Z,B);R.lineWidth=1;R.strokeRect(r+2.5,Y+2.5,Z-r-5,B-Y-5);
var y=R.createImageData(3,3);O.yg(y.data,4278190080);y.data[4*4]=y.data[4*4+1]=y.data[4*4+2]=238;R.putImageData(y,r+1,Y+1);
R.putImageData(y,Z-4,Y+1);R.putImageData(y,r+1,B-4);R.putImageData(y,Z-4,B-4);R.restore();O.Zz.yT[o]=R.getImageData(r,Y,Z,B)}else R.putImageData(p,r,Y)};
O.Zz.OzM=function(R,Z,B,o,r){O.Zz.Tt(R,Z,B);Z=Math.floor(Z*X.D());B=Math.floor(B*X.D());var Y=Z/o.Y;
if(Z*B==0)return;R.fillStyle="#999999";R.setTransform(1,0,0,1,0,0);R.clearRect(0,0,Z,B);var E=O.Zz.RX;
if(E==null){E=O.Zz.RX=JSON.parse(JSON.stringify(Gk.uI.default));E.strokeEnabled.v=!0}E.strokeStyleLineWidth.v.val=1*X.D()/Y;
R.fillStyle="#ffffff";R.scale(Y,Y);O.V.Br(r.u,R,0,0);O.V.Br(r.u,R,0,0,E)};O.Zz.TZ=null;O.Zz.Os=function(R,Z,B,o,r,Y,E,p){O.Zz.Tt(R,Z,B);
Z=Math.floor(Z*X.D());B=Math.floor(B*X.D());if(Z*B==0)return;var y=Math.max(Z,B),z=O.Zz.TZ;if(z==null||z.width<y||z.height<y){O.Zz.TZ=z=R.createImageData(y,y)}y=z.width;
var u=z.data,Q=o.Y/Z,H=o.Z/B,T=1/255,C=Y.x,e=Y.x+Y.Y,$=Y.y,x=Y.y+Y.Z;for(var M=0;M<B;M++)for(var m=0;
m<Z;m++){var G=M*y+m,K=G*4,s=~~(o.x+m*Q),L=~~(o.y+M*H),_=O.QS(M,m,2);if(s<C||s>=e||L<$||L>=x){u[K]=_;
u[K+1]=_;u[K+2]=_;u[K+3]=255}else{var P=(L-Y.y)*Y.Y+(s-Y.x)<<2,i=r[P+3]*T;u[K]=r[P+0]*i+_*(1-i);u[K+1]=r[P+1]*i+_*(1-i);
u[K+2]=r[P+2]*i+_*(1-i);u[K+3]=255}}if(p!=null)for(var M=0;M<u.length;M+=4)u[M]=u[M+1]=u[M+2]=u[M+p];
R.putImageData(z,0,0);if(E)O.Zz.Bl(R,Z,B)};O.Zz.Ozs=function(R,Z,B,o){O.Zz.Tt(R,Z,B);R.fillStyle=O.Zz.iz(o.Clr.v);
R.fillRect(0,0,Z,B);O.Zz.Bh(R,Z,B)};O.Zz.yn=null;O.Zz.OzH=function(R,Z,B,o){O.Zz.Tt(R,Z,B);var r=R.canvas.width,Y=R.canvas.height,E=O.Zz.yn;
if(E==null||E.width!=r||E.height!=Y){R.fillStyle="#ffffff";R.fillRect(0,0,Z,B);R.fillStyle="#000000";
R.font=""+B*.7+"px serif";R.fillText("T",(Z-B*.43)/2,B*.75);R.fillText("T",(Z-B*.43)/2,B*.75);O.Zz.yn=R.getImageData(0,0,r,Y)}else R.putImageData(E,0,0)};
O.Zz.Oii=function(R,Z,B){O.Zz.Tt(R,Z,B);R.clearRect(0,0,Z,B);R.font=B*.7+"px serif";R.fillText(":(",(Z-B*.43)/2,B*.7)};
O.Zz.OiU=function(R,Z,B,o){O.Zz.Tt(R,Z,B);var r=GK.get(o),Y=Ok.get(GK.names[r]).substring(0,3);R.fillStyle="#ffffff";
R.fillRect(0,0,Z,B);R.fillStyle="#000000";R.font=B*.55+"px sans-serif";var E=R.measureText(Y);R.fillText(Y,(Z-E.width)/2,B*.67);
R.fillRect(0,0,Z,B*.1);R.fillRect(0,B*.9,Z,B*.1)};O.Zz.OUy=function(R,Z,B,o){O.Zz.Tt(R,Z,B);var r=R.canvas.width,Y=R.canvas.height,E=R.getImageData(0,0,r,Y);
O.L.PT(o.Grad.v,new Uint8Array(E.data.buffer),new N(0,0,r,Y),[1/r,0,0,1/Y],r/2,Y/2,!1,0,16711680,65280);
R.putImageData(E,0,0);O.Zz.Bh(R,Z,B)};O.Zz.OUX=function(R,Z,B,o,r){O.Zz.Tt(R,Z,B);var Y=R,E=GS.rf(o.Ptrn.v,r.add.Patt),p=E._;
O.Zz.Os(R,Z,B,p,E.Y$,p,!1);O.Zz.Bh(Y,Z,B)};O.Zz.Bl=function(R,Z,B){R.strokeStyle="#bb0000";R.lineWidth=3;
R.beginPath();R.moveTo(Z*.15,B*.15);R.lineTo(Z*.85,B*.85);R.moveTo(Z*.85,B*.15);R.lineTo(Z*.15,B*.85);
R.closePath();R.stroke()};O.Zz.Bl=function(R,Z,B){R.strokeStyle="#bb0000";R.lineWidth=3;R.beginPath();
R.moveTo(Z*.15,B*.15);R.lineTo(Z*.85,B*.85);R.moveTo(Z*.85,B*.15);R.lineTo(Z*.15,B*.85);R.closePath();
R.stroke()};O.Zz.Bh=function(R,Z,B){R.fillStyle="#eeeeee";R.fillRect(0,B*.75,Z,B*.25);R.beginPath();
R.moveTo(0,B*.75);R.lineTo(Z,B*.75);R.moveTo(Z*.1,B*.875);R.lineTo(Z*.9,B*.875);R.moveTo(Z*.65,B*.825);
R.lineTo(Z*.65,B*.95);R.closePath();R.stroke()};O.Zz.iz=function(R){var Z=O.L.iz(R),B=Math.round(Z.F)<<16|Math.round(Z.S)<<8|Math.round(Z.X);
return"#"+O.ue(B)};O.V={};O.V.Fa=function(R,Z,B){var o=[],r=-1;for(var Y=0;Y<R.length;Y++){var E=R[Y];
if((E.type==0||E.type==3)&&E.lz!=-1)r++;if(E.type>5||E.type==0||E.type==3)continue;if(Z!=null&&Z.indexOf(r)==-1)continue;
if(B!=null&&B.indexOf(Y)==-1)continue;o.push(E.EY.x);o.push(E.EY.y);o.push(E.N.x);o.push(E.N.y);o.push(E.IJ.x);
o.push(E.IJ.y)}return o};O.V.BW=function(R,Z,B,o){var r=0,Y=-1;for(var E=0;E<Z.length;E++){var p=Z[E];
if((p.type==0||p.type==3)&&p.lz!=-1)Y++;if(p.type>5||p.type==0||p.type==3)continue;if(B!=null&&B.indexOf(Y)==-1)continue;
if(o!=null&&o.indexOf(E)==-1)continue;p.EY.wh(R[r],R[r+1]);p.N.wh(R[r+2],R[r+3]);p.IJ.wh(R[r+4],R[r+5]);
r+=6}};O.V.lC=function(R,Z,B,o){var r=O.V.Fa(R,B,o);O.W.P(r,Z,r);O.V.BW(r,R,B,o)};O.V.OUI=function(R,Z,B,o){var r=O.V.Fa(R,B,o);
O.f.apply(Z,r);O.V.BW(r,R,B,o)};O.V.OUt=function(R,Z,B,o){if(B==null&&o==null){var r=O.V.OUq(R,40);for(var Y=0;
Y<r.length;Y++)R[Y]=r[Y]}var E=O.V.Fa(R,B,o);O.Va.apply(Z,E,O.W.Rn(E));O.V.BW(E,R,B,o)};O.V.OUq=function(R,Z){var B=[];
for(var o=0;o<R.length;o++){var r=R[o];if(r.type>5){B.push(JSON.parse(JSON.stringify(r)));continue}var Y=O.V.OUz(R,o+1,r.length);
Y=O.W.Of(Y,Z);var E=O.V.OUi(Y);o+=r.length;r=JSON.parse(JSON.stringify(r));r.length=E.length;B.push(r);
for(var p=0;p<E.length;p++)B.push(E[p])}return B};O.V.OUz=function(R,Z,B){var o={J:["M"],I:[]},r=R[Z],Y=R[Z+B-1];
o.I.push(r.N.x,r.N.y);for(var E=1;E<B;E++){var p=R[Z+E-1],y=R[Z+E];o.J.push("C");o.I.push(p.IJ.x,p.IJ.y,y.EY.x,y.EY.y,y.N.x,y.N.y)}o.J.push("C");
o.I.push(Y.IJ.x,Y.IJ.y,r.EY.x,r.EY.y,r.N.x,r.N.y);return o};O.V.OUi=function(R){var Z=[],B=R.J,o=R.I,r=0,Y=o.length;
Z.push({type:2,EY:new VP(o[Y-4],o[Y-3]),N:new VP(o[0],o[1]),IJ:new VP(o[2],o[3])});for(var E=0;E<B.length-2;
E++){var p=E*6+4;Z.push({type:2,EY:new VP(o[p],o[p+1]),N:new VP(o[p+2],o[p+3]),IJ:new VP(o[p+4],o[p+5])})}return Z};
O.V.OU$=function(R){for(var Z=0;Z<R.length;Z++){if(R[Z].type>5)continue;var B=R[Z].length;if(!(B==4||B==6||B==8)){Z+=B;
continue}for(var o=0;o<B;o++){var r=R[Z+1+o],Y=R[Z+1+(o+1)%B],E=Math.min(r.N.x,Y.N.x),p=Math.min(r.N.y,Y.N.y),y=0,z=0;
if(r.N.x<Y.N.x){y=r.N.y-p;z=y-(Y.N.x-E)}else{y=Y.N.y-p;z=y-(r.N.x-E)}if(Math.abs(z)<.2*y)return y}}return-1};
O.V.pA=function(R,Z){var B=null,o=-1;for(var r=0;r<R.length;r++){if(R[r].type>5)continue;var Y=R[r].length;
if((R[r].type==0||R[r].type==3)&&R[r].lz!=-1)o++;if(Z!=null&&Z.indexOf(o)==-1)continue;if(r==R.length-1)break;
var E=R[r].type==3;if(B==null)B=O.V.EE(R,r+1,Y,E);else{var p=O.V.EE(R,r+1,Y,E);if(Z!=null||R[r].lz==0||R[r].lz==-1||R[r].lz==1){var y=Math.min(B.x,p.x),z=Math.min(B.y,p.y),u=Math.max(B.x+B.Y,p.x+p.Y),Q=Math.max(B.y+B.Z,p.y+p.Z);
B.x=y;B.y=z;B.Y=u-y;B.Z=Q-z}else if(R[r].lz==2)B=B;else if(R[r].lz==3)B=B.Rg(p)}r+=Y}if(B==null||B.Y<0||B.Z<0)B=new N(0,0,0,0);
return B};O.V.OUo=new Float64Array(4);O.V.EE=function(R,Z,B,o){var r=O.V.OUo;r[0]=1e30;r[1]=1e30;r[2]=-1e30;
r[3]=-1e30;var Y=R[Z+B-1];if(!o)O.V.EG(Y.N.x,Y.N.y,Y.IJ.x,Y.IJ.y,R[Z].EY.x,R[Z].EY.y,R[Z].N.x,R[Z].N.y,r);
for(var E=Z;E<Z+B-1;E++){var p=R[E],y=R[E+1];if(p.N.EW(p.IJ)&&y.EY.EW(y.N)){r[0]=Math.min(r[0],Math.min(p.N.x,y.N.x));
r[1]=Math.min(r[1],Math.min(p.N.y,y.N.y));r[2]=Math.max(r[2],Math.max(p.N.x,y.N.x));r[3]=Math.max(r[3],Math.max(p.N.y,y.N.y))}else O.V.EG(p.N.x,p.N.y,p.IJ.x,p.IJ.y,y.EY.x,y.EY.y,y.N.x,y.N.y,r)}return new N(r[0],r[1],r[2]-r[0],r[3]-r[1])};
O.V.EG=function(R,Z,B,o,r,Y,E,p,y){var z=1e30,u=1e30,Q=-1e30,H=-1e30,T=40,C=B-R,e=o-Z,$=r-B,x=Y-o,M=E-r,m=p-Y,G=1/T;
for(var K=0;K<T+1;K++){var s=K*G,L=R+s*C,_=Z+s*e,P=B+s*$,i=o+s*x,w=r+s*M,k=Y+s*m,h=L+s*(P-L),j=_+s*(i-_),I=P+s*(w-P),V=i+s*(k-i),F=h+s*(I-h),q=j+s*(V-j);
if(F<z)z=F;if(q<u)u=q;if(F>Q)Q=F;if(q>H)H=q}y[0]=Math.min(y[0],z);y[1]=Math.min(y[1],u);y[2]=Math.max(y[2],Q);
y[3]=Math.max(y[3],H)};O.V.EX=function(R,Z){var B=R.length-3,o=Z%B,r=Math.floor(o);if(Z<0||r>=B)return null;
var Y=R[3+r],E=R[3+(r+1)%B],p=Y.N,y=Y.IJ,z=E.EY,u=E.N,Q=o-r,H=1-Q,T=H*H*H*p.x+3*H*H*Q*y.x+3*H*Q*Q*z.x+Q*Q*Q*u.x,C=H*H*H*p.y+3*H*H*Q*y.y+3*H*Q*Q*z.y+Q*Q*Q*u.y;
return new VP(T,C)};O.V.Eq=function(R){var Z=2,B=O.V._D(R),o=!1,r=!1;for(var Y=2;Y<R.length;Y++){var E=R[Y].lz;
if(E!=null){if(E==2||E==0)o=!0;if(E==-1)r=!0}}if(r){var p=O.W.mM(R);return{pH:Typr.U.pathToSVG({crds:p.I,cmds:p.J},Z),Zj:o?1:0}}if(o&&R.length<5e3&&B>1)R=O.V.BN(R);
var p=O.W.mM(R);return{pH:Typr.U.pathToSVG({crds:p.I,cmds:p.J},Z),Zj:o?1:0}};O.V.BN=function(R){O.V.Om();
var Z,B=O.V.B$(R),o=[];for(var r=0;r<B.length;r++){var Y=B[r][0],E=B[r][1];if(Math.abs(Y.area)<1e-5)o.push(Y);
else if(Z==null)Z=Y;else{Z=Z[E](Y);Z.remove()}}if(Z==null)Z=new paper.CompoundPath(o);else{if(Z.segments)Z=new paper.CompoundPath(Z);
for(var r=0;r<o.length;r++){Z.children.push(o[r])}}var p=R.slice(0,2);p=p.concat(O.V.Ee(Z));if(p[2])p[2].lz=1;
for(var r=3;r<p.length;r++)if(p[r].lz!=null)p[r].lz=-1;return p};O.V.Om=function(){if(O.V.OWx==null){var R=X.T("canvas");
paper.setup(R);O.V.OWx=!0}};O.V.OUc=function(R,Z){O.V.Om();var B=[],o=O.V.B$(R),r=new paper.Path.Rectangle(new paper.Rectangle(Z.x,Z.y,Z.Y,Z.Z));
r.remove();r.fillColor=new paper.Color(1,0,0);for(var Y=0;Y<o.length;Y++)if(r.intersects(o[Y][0])||r.contains(o[Y][0].segments[0].point))B.push(Y);
return B};O.V.AK=function(R,Z,B,o){O.V.Om();var r=B?{curves:!0,tolerance:o}:null,Y=new paper.Point(Z.x,Z.y),E=O.V.B$(R);
for(var p=E.length-1;p>=0;p--){var y=E[p][0],z=y.hitTest(Y,r);if(z!=null)return{qp:p,tv:B?z.location.index:null}}return{qp:-1}};
O.V.eE=function(R,Z){var B=[[],[],[]];for(var o=0;o<R.length;o++){var r=R[o];if(r.type>5||r.type==0||r.type==3)continue;
if(Z.a_(r.N))B[0].push(o);if(Z.a_(r.EY))B[1].push(o);if(Z.a_(r.IJ))B[2].push(o)}return B};O.V.OUQ=function(R,Z,B){var o=B.slice(0),r=[null,null],Y=-1,y=null;
for(var E=2;E<R.length;E++){if((R[E].type==0||R[E].type==3)&&R[E].lz!=-1)Y++;r[E]=B[Y]}B=r;var p=R.slice(0,2);
r=B.slice(0,2);for(var E=2;E<R.length;E++){if(R[E].type==0||R[E].type==3){y=R[E];p.push(y);r.push(B[E])}else{if(Z.indexOf(E)==-1){p.push(R[E]);
r.push(B[E])}else{y.length--;O.je.xV(B,E)}}}for(var E=2;E<p.length;E++){var z=p[E];if(z.type!=0&&z.type!=3)continue;
if(z.length==0){if(p[E+1]&&p[E+1].lz==-1){p[E+1].lz=z.lz}r.splice(E,1);p.splice(E,1);E--}}for(var E=0;
E<o.length;E++)if(r.indexOf(o[E])==-1){o.splice(E,1);E--}return p};O.V.O$R=function(R,Z){var B=R.slice(0,2),o=-1;
for(var r=2;r<R.length;r++){if((R[r].type==0||R[r].type==3)&&R[r].lz!=-1)o++;if(Z.indexOf(o)==-1)B.push(R[r])}return B};
O.V.O$X=function(R,Z){var B=R.slice(0,2),o=-1;for(var r=2;r<R.length;r++){if((R[r].type==0||R[r].type==3)&&R[r].lz!=-1)o++;
if(Z.indexOf(o)!=-1)B.push(R[r])}return B};O.V.OSV=function(R){var Z=0;for(var B=0;B<R.length;B++)if(R[B].type==0||R[B].type==3)Z=B;
return R[Z]};O.V._D=function(R){var Z=-1;for(var B=0;B<R.length;B++)if((R[B].type==0||R[B].type==3)&&R[B].lz!=-1)Z++;
return Z+1};O.V.qY=function(R,Z){var B=-1;for(var o=0;o<R.length;o++)if((R[o].type==0||R[o].type==3)&&R[o].lz!=-1){B++;
if(B==Z)return o}return-1};O.V.Ei=function(R,Z){var B=-1;for(var o=0;o<R.length;o++)if((R[o].type==0||R[o].type==3)&&R[o].lz!=-1){if(o>=Z)return B;
B++}return B};O.V.Bz=function(R,Z){var B=-1,o=0;for(var r=0;r<R.length;r++){if((R[r].type==0||R[r].type==3)&&R[r].lz!=-1)B++;
if(B==Z)o++}return o};O.V.Ee=function(R){var Z=R.segments?[R]:R.children,B=[];for(var o=0;o<Z.length;
o++){var r=Z[o],Y=r.segments,E=r.closed?0:3,p=B.length,y=null;if(Y.length<=1)continue;B.push({type:E,length:Y.length,lz:0,DN:2});
for(var z=0;z<Y.length;z++){var u=Y[z],Q=new VP(u.handleIn.x,u.handleIn.y),H=new VP(u.handleOut.x,u.handleOut.y),T=new VP(u.point.x,u.point.y),C={type:E+1,EY:T.add(Q),N:T,IJ:T.add(H)};
if(y==null)y=C;B.push(C);if(z+1==Y.length&&VP.HP(y.N,C.N)<1e-5){B.pop();B[p].length--;y.EY=C.EY;if(E==3)for(var e=p;
e<B.length;e++)B[e].type-=3}}}return B};O.V.B$=function(R){O.V.Om();var Z=[],B,o=new paper.Color(1,0,0);
for(var r=0;r<R.length;r++){if(R[r].type>5)continue;var Y=R[r].length,E;if(r==R.length-1)break;var p=R[r].type==3;
if(r==2){if(!O.V.Oc(R))E="subtract";else E="unite"}else{if(R[r].lz==0)E="exclude";if(R[r].lz==1)E="unite";
if(R[r].lz==2)E="subtract";if(R[r].lz==3)E="intersect"}if(R[r].lz!=-1)B=[];for(var y=0;y<Y;y++){var z=R[r+1+y],u=z.EY.ye(z.N),Q=z.IJ.ye(z.N);
B.push([[z.N.x,z.N.y],[u.x,u.y],[Q.x,Q.y]])}if(R[r+1+Y]==null||R[r+1+Y].lz!=-1){var H=new paper.Path(B);
H.remove();H.closed=!p;H.fillRule="evenodd";H.fillColor=o;Z.push([H,E])}r+=Y}return Z};O.V.BK=function(R){for(var Z=0;
Z<R.length;Z++){var B=R[Z];if(B.N==null)continue;if(!B.N.EW(B.EY)||!B.N.EW(B.IJ))return!1}return!0};
O.V.OSG=function(R){if(R.length<=5)return 0;var Z=0,B=R.length-3-1;for(var o=0;o<B;o++){var r=R[3+o],Y=R[3+o+1];
if(r.type==0||Y.type==0)return 0;Z+=(Y.N.x-r.N.x)*(r.N.y+Y.N.y)}Z+=(R[3].N.x-R[3+B].N.x)*(R[3+B].N.y+R[3+1].N.y);
return-Z*.5};O.V.Oc=function(R){if(R.length==2)return R[1].all==0;var Z=R[2];if(R[1].all==1){if(Z.lz==1||Z.lz==3)return!0;
return!1}else{if(Z.lz==1||Z.lz==3||Z.lz==0)return!0;return!1}};O.V.O$a=0;O.V.EM=0;O.V.OSY=0;O.V.O$l=function(R,Z,B,o){if(B.Pa())return;
var r=B.b(),z=16384;O.V.O$a+=r;if(r>O.V.EM){O.V.EM=r}var Y=B.Y,E=B.Z,p=O.qI,y=O.p,u=Math.ceil(Y/z),Q=Math.ceil(E/z),H=Math.ceil(Y/u),T=Math.ceil(E/Q),C=Date.now();
for(var e=0;e<Q;e++)for(var $=0;$<u;$++){var x=$*H,M=e*T,m=H,G=T;p.width=m;p.height=G;if(!O.V.Oc(R))y.fillRect(0,0,m,G);
O.V.Br(R,y,-B.x-x,-B.y-M,o);var K=new Uint8Array(y.getImageData(0,0,m,G).data.buffer);if(m==Y&&G==E)O.KT(K,Z,3);
else O.am(K,new N(x,M,m,G),Z,new N(0,0,Y,E))}};O.V.Br=function(R,Z,B,o,r){if(r!=null&&r.fillEnabled.v){var Y=!1,E=!1,p=0;
for(var y=0;y<R.length;y++){var z=R[y].lz;if(z!=null)p++;if(z==-1)Y=!0;if(z>0)E=!0}if(!Y&&p<20)R=O.V.BN(R)}for(var y=0;
y<R.length;y++){if(R[y].type>5)continue;var u=R[y].length;if(u==0)continue;if(y==R.length-1)break;var Q=R[y].type==3;
if(y==2){if(!O.V.Oc(R))Z.globalCompositeOperation="destination-out";else Z.globalCompositeOperation="source-over"}else{var H;
if(R[y].lz==0)H="xor";if(R[y].lz==1)H="source-over";if(R[y].lz==2)H="destination-out";if(R[y].lz==3)H="source-in";
if(R[y].lz!=-1&&r==null)Z.globalCompositeOperation=H}if(R[y].lz!=-1){Z.beginPath();if(r){var T=r.strokeStyleLineWidth.v.val,C=r.strokeStyleLineAlignment.v.strokeStyleLineAlignment,e=r.strokeStyleLineCapType.v.strokeStyleLineCapType,$=r.strokeStyleLineJoinType.v.strokeStyleLineJoinType,x=r.strokeStyleMiterLimit.v,M=[],m=r.strokeStyleLineDashSet.v;
for(var G=0;G<m.length;G++)M.push(m[G].v.val*T);Z.setLineDash(M);Z.lineCap=["butt","round","square"][Gk.uI.vw.indexOf(e)];
Z.lineJoin=["miter","round","bevel"][Gk.uI.join.indexOf($)];Z.lineWidth=Gk.uI.vl.indexOf(C)==1?T:T*=2;
Z.miterLimit=x}}O.V.Oxk(Z,R,y+1,u,B,o,Q);if(Q){}else Z.closePath();if(R[y+1+u]==null||R[y+1+u].lz!=-1){if(r)Z.stroke();
else Z.fill("evenodd")}y+=u}};O.V.Oxk=function(R,Z,B,o,r,Y,E){var p=Z[B],y=null;R.moveTo(p.N.x+r,p.N.y+Y);
for(var z=B;z<B+o-1;z++){p=Z[z];y=Z[z+1];R.bezierCurveTo(p.IJ.x+r,p.IJ.y+Y,y.EY.x+r,y.EY.y+Y,y.N.x+r,y.N.y+Y)}if(!E){p=Z[z];
y=Z[B];R.bezierCurveTo(p.IJ.x+r,p.IJ.y+Y,y.EY.x+r,y.EY.y+Y,y.N.x+r,y.N.y+Y)}};O.V.eV=function(R,Z,B){var o=[],r=B?4:1,Y=!1;
if(Z!=null)for(var E=0;E<Z.length;E++)if(Z[E]!=0){Y=!0;break}if(Z!=null&&Y){var p=O.W.ODR(R,Z),y=p.length/6;
for(var E=0;E<y;E++){var z=E*6,u=(E-1+y)%y*6,Q=p[z],H=p[z+1],T=p[z+2],C=p[z+3],e=p[u+4],$=p[u+5];o.push({type:r,EY:new VP(e,$),N:new VP(Q,H),IJ:new VP(T,C)})}}else{for(var E=0;
E<R.length;E+=2){var x=new VP(R[E],R[E+1]);o.push({type:r,EY:x.clone(),N:x.clone(),IJ:x.clone()})}}return o};
O.V.Bp=function(R,Z){O.V.Om();var B=new paper.Path;B.remove();var o=R.length-1,r=Math.sqrt((R[o-1]-R[0])*(R[o-1]-R[0])+(R[o]-R[1])*(R[o]-R[1]))<3;
B.closed=r;for(var Y=0;Y<R.length;Y+=2)B.add(new paper.Point(R[Y],R[Y+1]));B.simplify(Z);var E=[{type:6},{type:8,all:0}];
E=E.concat(O.V.Ee(B));return E};O.V.Oxj=function(R,Z,B){var o=R[Z].length,r=R[Z].type,Y=0,E=R.slice(Z+1,Z+1+o);
for(var p=0;p<o;p++){var y=B[p];if(y!=0){var z=E[(p-1+o)%o].N,u=E[(p+0+o)%o].N,Q=E[(p+1+o)%o].N;y=Math.min(y,VP.HP(z,u)/2,VP.HP(u,Q)/2);
var H=O.W.PZ(z.x,z.y,u.x,u.y,Q.x,Q.y,0,y),T={type:r+1,EY:new VP(H[2],H[3]),N:new VP(H[2],H[3]),IJ:new VP(H[4],H[5])},C={type:r+1,EY:new VP(H[6],H[7]),N:new VP(H[8],H[9]),IJ:new VP(H[8],H[9])};
R.splice(Z+Y+1,1,T,C);Y++;R[Z].length++}Y++}};O.V.BK=function(R){for(var Z=0;Z<R.length;Z++){var B=R[Z],o=B.type;
if(o==1||o==2||o==4||o==5)if(!B.N.EW(B.EY)||!B.N.EW(B.IJ))return!1}return!0};O.V.Ox_=function(R){if(R.length!=7||!O.V.BK(R))return!1;
for(var Z=0;Z<4;Z++){var B=!0;for(var o=0;o<4;o++){var r=R[3+(Z+o&3)],Y=R[3+(Z+o+1&3)];if(r.N.x!=Y.N.x&&r.N.y!=Y.N.y)B=!1}if(B)return!0}return!1};
O.V.hk={};O.V.hk.FT=function(R,Z,B){var o=[{type:6},{type:8,all:0}],r=null;o.push({type:B?3:0,lz:1,length:0,UE:0,UY:0,DN:1});
if(Z==0)r==null;else if(Z instanceof Array)r=Z;else{r=[];for(var Y=0;Y<R.length;Y+=2)r.push(Z)}o=o.concat(O.V.eV(R,r,B));
o[2].length=o.length-3;return o};O.V.hk.OxS=function(R,Z,B,o,r){var Y=[],E=[],p=.553,y=1,z=-1;Y.push({type:1,EY:new VP(0,p),N:new VP(0,0),IJ:new VP(0,-p)});
r+=2;for(var u=0;u<r;u++){var Q={type:1};if(u==0){Q.N=new VP(1,-1);Q.EY=new VP(1-p,-1);Q.IJ=new VP(1+p,-1)}else{var H=-(u+2)*Math.PI/2,T=1+((u&1)==1?u-1:u),C=Math.sin(H),e=Math.cos(H);
y+=T*(C-e);z+=T*(e+C);Q.N=new VP(y,z);Q.EY=new VP(y+T*e*p,z-T*C*p);if((u&1)==1)T+=2;Q.IJ=new VP(y-T*e*p,z+T*C*p)}var $={type:1,EY:new VP(-Q.IJ.x,-Q.IJ.y),N:new VP(-Q.N.x,-Q.N.y),IJ:new VP(-Q.EY.x,-Q.EY.y)};
Y.push(Q);if(u<r-2)E.push($)}E.reverse();Y=Y.concat(E);var x=[{type:6},{type:8,all:0}];x.push({type:0,lz:1,length:Y.length,UE:0,UY:0,DN:1});
x=x.concat(Y);var M=new GN(B/r,0,0,B/r,0,0);M.rotate(o);M.translate(R,Z);O.V.lC(x,M);return x};O.V.hk.Rect=function(R,Z,B,o,r){var Y=[R,Z,R+B,Z,R+B,Z+o,R,Z+o];
return O.V.hk.FT(Y,r)};O.V.hk.BZ=function(R,Z,B,o,r,Y){var E=[],p=2*Math.PI/r;for(var y=0;y<r;y++)E.push(Math.cos(y*p),Math.sin(y*p));
var z=new GN(B,0,0,B,0,0);z.rotate(o);z.translate(R,Z);O.W.P(E,z,E);return O.V.hk.FT(E,Y)};O.V.hk.OxJ=function(R,Z,B,o,r,Y,E){var p=[],y=Math.PI/r;
for(var z=0;z<r*2;z++){var u=(z&1)==0?1:E;p.push(u*Math.cos(z*y),u*Math.sin(z*y))}var Q=new GN(B,0,0,B,0,0);
Q.rotate(o);Q.translate(R,Z);O.W.P(p,Q,p);return O.V.hk.FT(p,Y)};O.V.hk.qG=function(R,Z,B,o,r){return O.V.hk.Es(0,R,Z,B,o,r)};
O.V.hk.OxD=function(R,Z,B,o,r,Y){return O.V.hk.Es(1,R,Z,B,o,r,Y)};O.V.hk.Es=function(R,Z,B,o,r,Y,E){var p=Math.sqrt((o-Z)*(o-Z)+(r-B)*(r-B)),y;
Y/=2;if(R==0)y=[-Y,0,Y,0,Y,p,-Y,p];else{var z=Y*2*E*1.3/1.5,u=Y*E;y=[-Y,0,Y,0,Y,p-z,u,p-z,0,p,-u,p-z,-Y,p-z]}var Q=new GN(1,0,0,1,0,0);
Q.rotate(Math.atan2(-r+B,o-Z)+Math.PI/2);Q.translate(Z,B);O.W.P(y,Q,y);return O.V.hk.FT(y,0)};O.V.hk.oD=function(R,Z,B,o){var r=[{type:6},{type:8,all:0}],Q=.553;
r.push({type:0,lz:1,length:4,UE:0,UY:0,DN:1});var Y=R,E=Z,p=R+B,y=Z+o,R=(Y+p)/2,Z=(E+y)/2,z=(Y-p)/2,u=(E-y)/2;
r.push({type:1,EY:new VP(R-Q*z,Z-u),N:new VP(R,Z-u),IJ:new VP(R+Q*z,Z-u)});r.push({type:1,EY:new VP(R+z,Z-Q*u),N:new VP(R+z,Z),IJ:new VP(R+z,Z+Q*u)});
r.push({type:1,EY:new VP(R+Q*z,Z+u),N:new VP(R,Z+u),IJ:new VP(R-Q*z,Z+u)});r.push({type:1,EY:new VP(R-z,Z+Q*u),N:new VP(R-z,Z),IJ:new VP(R-z,Z-Q*u)});
return r};O.V.hk.OxM=function(R,Z,B,o,r){var Y=[{type:6},{type:8,all:0}];Y.push({type:3,lz:1,length:5,UE:0,UY:0,DN:1});
var E=(r-o)/4;for(var p=0;p<5;p++){var y=p*E,z=Math.cos(y),u=Math.sin(y),Q=.553*(E/(Math.PI/2)),H=u*Q,T=-z*Q,C=new VP(z,u);
Y.push({type:4,EY:p==0?C.clone():new VP(z+H,u+T),N:C,IJ:p==4?C.clone():new VP(z-H,u-T)})}var e=new GN;
e.rotate(-o);e.scale(B,B);e.translate(R,Z);O.V.lC(Y,e);return Y};O.Ef={};O.Ef.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
O.Ef.oU=function(R){var Z=R.warpStyle.v.warpStyle;if(Z=="warpNone")return!0;else if(Z=="warpCustom"){var B=!1,o=R.customEnvelopeWarp.v.meshPoints.v.arr,r=o[0].arr,Y=o[1].arr;
for(var E=0;E<4;E++)for(var p=0;p<4;p++){if(Math.abs(r[E]-r[p*4+E])>1||Math.abs(Y[E*4]-Y[E*4+p])>1)B=!0}return!B}else return R.warpValue.v==0&&R.warpPerspective.v==0&&R.warpPerspectiveOther.v==0};
O.Ef.a=function(R){var Z={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(R){Z.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:R.y}},Left:{t:"UntF",v:{type:"#Pxl",val:R.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:R.y+R.Z}},Rght:{t:"UntF",v:{type:"#Pxl",val:R.x+R.Y}}}};
Z.uOrder={t:"long",v:4};Z.vOrder={t:"long",v:4}}return Z};O.Ef.OxQ=function(R,Z,B,o){for(var r=0;r<R.length;
r+=2){var Y=R[r],E=R[r+1],p=(Y-Z.x)/Z.Y,y=(E-Z.y)/Z.Z,z=(1-B)/2,u=1-z,Q=z+p*(u-z);y=.5+(y-.5)*Q*2;var H=(1-o)/2,T=1-H,C=H+y*(T-H);
p=.5+(p-.5)*C*2;Y=Z.x+p*Z.Y;E=Z.y+y*Z.Z;R[r]=Y;R[r+1]=E}};O.Ef.Em=function(R,Z){var B=[],o=[];for(var r=0;
r<R.length;r+=2){B.push(R[r]);o.push(R[r+1])}var Y=[];Y.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:B});
Y.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:o});Z.warpStyle.v.warpStyle="warpCustom";Z.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:Y}}}}};
O.Ef.zT=function(R,Z){if(Z==null){var B=R.bounds.v,o=B.Left.v.val,r=B.Rght.v.val,Y=B.Top.v.val,E=B.Btom.v.val;
Z=new N(o,Y,r-o,E-Y)}if(Z.Pa())Z.Y=Z.Z=1;var p=[],y=R.warpStyle.v.warpStyle;if(y=="warpCustom"){var z=R.customEnvelopeWarp.v.meshPoints.v.arr,u=z[0].arr,Q=z[1].arr;
for(var H=0;H<16;H++)p.push(u[H],Q[H])}else p=O.Ef.Ef(Z,y,R.warpRotate.v.Ornt=="Hrzn",R.warpValue.v/100,R.warpPerspective.v/100,R.warpPerspectiveOther.v/100);
return p};O.Ef.Ef=function(R,Z,B,o,r,Y){var E=O.Va.a(R.x,R.y,R.Y,R.Z);if(Z=="warpNone")return E;var p=JSON.parse(JSON.stringify(R)),y=new GN;
if(!B){y.translate(-R.x,-R.y);y.rotate(-Math.PI/2);y.translate(R.Z,0);O.W.P(E,y,E);R=new N(0,0,R.Z,R.Y);
E=O.Va.gS(E,!1)}O.Ef.Oek(E,R,Z,o,r,Y);if(!B){E=O.Va.gS(E,!0);R=p;y.za();O.W.P(E,y,E)}if(o==0)O.Ef.OxQ(E,R,r,Y);
else{var y=new GN(1/R.Y,0,0,1/R.Z,-R.x,-R.y);y.translate(-.5,-.5);O.W.P(E,y,E);O.Ef.Oea(E,Y,r);y.za();
O.W.P(E,y,E)}return E};O.Ef.Oek=function(R,Z,B,o,r,Y){for(var E=0;E<4;E++){for(var p=0;p<4;p++){var y=2*(4*E+p),z=R[y]-Z.x,u=R[y+1]-Z.y,Q=z,H=u;
if(o!=0){var T=Z.Y/2,C=Z.Z/2;Q-=T;H-=C;var e=Q,$=Q,x=-C,M=C,m=Math.abs(o),G=Math.tan((1-m)*Math.PI/2),K=Math.sqrt(G*G+1),s=Math.atan2(1,G),L=Q/T*s,_=T*K,P=T*K+Z.Z,i=Math.cos(s),w=Math.sin(s),k=O.Ef.Oep(i,w),h=O.Ef.OeF(i,w),j=-G*T+k*_;
if(B=="warpArc"){e=Math.sin(L)*P;x=G*T-Math.cos(s)*P+C;$=Math.sin(L)*_;M=G*T-Math.cos(s)*_+C;if(p==1||p==2){e=p==1?-h*P:h*P;
$=p==1?-h*_:h*_;x=G*T+C-k*P;M=G*T+C-k*_}if(o<0){var I=e;e=$;$=I;I=x;x=-M;M=-I}}if(B=="warpArcLower"){if(p==1||p==2){$=p==1?-h*_:h*_;
M=o<0?C-j:C+j}}if(B=="warpArcUpper"||B=="warpArch"||B=="warpBulge"){if(p==1||p==2){e=p==1?-h*_:h*_;x=o<0?-C+j:-C-j}if(B=="warpArch"){$=e;
M=x+2*C}if(B=="warpBulge"){$=e;M=-x}}if(B=="warpFish"||B=="warpFlag"||B=="warpWave"){if(p==1){x-=o*4*C;
M+=o*4*C}if(p==2){x+=o*4*C;M-=o*4*C}if(B=="warpFlag"||B=="warpWave")x=M-2*C}if(B=="warpRise"){if(p<2)x=-C+o*C*4;
M=x+2*C}var V=(H+C)/Z.Z;Q=e+V*($-e);H=x+V*(M-x);if(B=="warpWave"){if(E==0)H=-C;if(E==3)H=C;if(E==1||E==2)H=2*C*(E/3-.5)*(1/3)+H*(2/3)}if(B=="warpFisheye"){if((E==1||E==2)&&(p==1||p==2)){Q=Q+4*Q*o;
H=H+4*H*o}}if(B=="warpInflate"){var F=2/3;if((E==1||E==2)&&(p==1||p==2)){Q=Q+.5*Q*o;H=H+.5*H*o}else if(E==1||E==2)Q=Q+F*Q*o;
else if(p==1||p==2)H=H+F*H*o}if(B=="warpSqueeze"){var F=2/3;if((E==1||E==2)&&(p==1||p==2)){if(o>0)Q=Q-F*Q*o;
else H=H+F*H*o}else if(E==1||E==2)Q=Q-F*Q*o;else if(p==1||p==2)H=H+F*H*o}if(B=="warpTwist"){if((E==1||E==2)&&(p==1||p==2)){var q=o*Math.PI/2,K=1+Math.abs(o)*2,t=Q*Math.cos(q)-H*Math.sin(q),c=Q*Math.sin(q)+H*Math.cos(q);
Q=t*K;H=c*K}}if(B=="warpShellLower"||B=="warpShellUpper"){if(B=="warpShellUpper"){E=3-E;H=-H}if(E>2||E==2&&(p==0||p==3)){if(o>0){var f=_+E/3*2*C;
Q=Math.sin(L)*f;H=-G*T-C+Math.cos(L)*f;if(p==1||p==2){Q=p==1?-h*f:h*f;H=-G*T-C+k*f}}else{if((p==1||p==2)&&E==3){Q=p==1?-h*_:h*_;
H=G*T-k*_+C}else if(E==2){H=C-C*(2/3)*Math.cos(L);Q=Q+C*(2/3)*Math.sin(L)}}}if(B=="warpShellUpper"){E=3-E;
H=-H}}Q+=T;H+=C}z=Q,u=H;R[y]=z+Z.x;R[y+1]=u+Z.y}}};O.Ef.Oea=function(R,Z,B){var o=[];for(var r=0;r<4;
r++)o.push(1-B+r/3*2*B);var Y=[];for(var r=0;r<4;r++)Y.push(1-Z+r/3*2*Z);var E=[0,0,0,0],p=[0,0,0,0];
for(var y=0;y<4;y++)for(var r=0;r<4;r++){var z=2*(4*y+r),u=R[z],Q=R[z+1];E[r]+=u/4;p[r]+=Q/4}for(var y=0;
y<4;y++)for(var r=0;r<4;r++){var H=o[r],z=2*(4*y+r),u=R[z],Q=R[z+1],T=E[r],C=p[r];R[z]=T+H*(u-T);R[z+1]=C+H*(Q-C)}var e=R.slice(0);
for(var y=0;y<4;y++)for(var r=1;r<3;r++){var z=2*(4*y+r),u=R[z],Q=R[z+1],$=z+(r==1?-2:2),x=R[$],M=R[$+1];
R[z]=u-x;R[z+1]=Q-M}var m=R[0],G=R[1],K=R[8],s=R[9],L=R[16],_=R[17],P=R[24],i=R[25],w=R[6],k=R[7],h=R[14],j=R[15],I=R[22],V=R[23],F=R[30],q=R[31],t=w-m,c=k-G,f=h-K,W=j-s,l=I-L,g=V-_,v=F-P,Vg=q-i;
for(var y=0;y<4;y++){var GE=2*y*4,Gy=0,GY=0,Ga=y==1?.33:.66,GO=1-Ga;if(y==0){Gy=t;GY=c}if(y==1){Gy=GO*t+Ga*-v;
GY=GO*c+Ga*-Vg}if(y==2){Gy=GO*t+Ga*-v;GY=GO*c+Ga*-Vg}if(y==3){Gy=-v;GY=-Vg}R[GE]=R[GE]+Gy/2;R[GE+1]=R[GE+1]+GY/2;
R[GE+6]=R[GE+6]-Gy/2;R[GE+7]=R[GE+7]-GY/2}for(var y=0;y<4;y++)for(var r=1;r<3;r++){var z=2*(4*y+r),u=R[z],Q=R[z+1],$=z+(r==1?-2:2),x=R[$],M=R[$+1],H=2*y/3;
R[z]=x+H*u;R[z+1]=M+H*Q}for(var y=1;y<3;y++)for(var r=1;r<3;r++){var z=2*(4*y+r),u=R[z],Q=R[z+1],J=y==1?-8:-16,D=y==1?16:8,GB=R[z+J],Gj=R[z+J+1],GX=R[z+D],Gw=R[z+D+1],H=y/3;
u=(1-H)*GB+H*GX;Q=(1-H)*Gj+H*Gw;R[z]=u;R[z+1]=Q}O.W.IM(e,R,R,Z)};O.Ef.Oep=function(R,Z){return(4-R)*(1/3)};
O.Ef.OeF=function(R,Z){return(1-R)*(3-R)/(3*Z)};O.Jg={};O.Jg.Ov=function(R,Z,B,o,r,Y,E,p,y,z){var u=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],Q=1/y,H=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],T=new Uint32Array(6);
for(var C=0;C<p;C++){for(var e=0;e<E;e++){var $=3*(C*E+e),x=C+Y,M=e+r;T[0]=0;T[1]=0;T[2]=0;T[3]=0;T[4]=0;
T[5]=0;for(var m=0;m<16;m+=2){var G=M+H[m],K=x+H[m+1],s=G-y*~~(G*Q),L=K-y*~~(K*Q),_=z[L*y+s];T[_]+=R[K*Z+G];
T[_+3]++}var G=M,K=x,s=G-y*~~(G*Q),L=K-y*~~(K*Q),_=z[L*y+s];T[_]=R[x*Z+M];T[_+3]=1;o[$]=T[0]*u[T[3]];
o[$+1]=T[1]*u[T[4]];o[$+2]=T[2]*u[T[5]]}}};O.Jg.EC=function(R,Z,B){for(var o=0;o<B;o+=2)R[Z+o]=R[Z+o+1];
Z=Z+B;for(var o=0;o<B;o+=2)R[Z+o+1]=R[Z+o]};O.Jg.EQ=function(R,Z,B,o){for(var r=0;r<o;r+=2){var Y=Z+r*B;
R[Y]=R[Y+B];R[Y+B+1]=R[Y+1]}};O.Jg.Vv=function(R,Z,B,o,r,Y){var E=o[r],p=o[r+1],y=o[Y],z=o[Y+1],u=p+y>>>1;
R[Z]=R[Z+3]=R[B]=R[B+3]=E;R[Z+1]=u;R[Z+4]=p;R[B+1]=y;R[B+4]=u;R[Z+2]=R[Z+5]=R[B+2]=R[B+5]=z};O.Jg.Oeu=function(R,Z,B,o,r,Y){var E=Y*3;
for(var p=0;p<Y;p+=2){var y=Z+p,z=r+p*3;O.Jg.Vv(o,z,z+E,R,y,y+B)}};O.Jg.OeP=function(R,Z,B,o,r,Y,E){var p=Y*3;
for(var y=0;y<E;y+=2){var z=Z+y*B,u=r+y*Y*3;O.Jg.Vv(o,u,u+p,R,z,z+B)}};O.Jg.Gc=function(R,Z,B){var o=R[Z-B-B],r=R[Z-B],Y=R[Z-2],E=R[Z-1],p=R[Z],y=R[Z+1],z=R[Z+2],u=R[Z+B],Q=R[Z+B+B],H=Math.abs(r-u),T=Math.abs(E-y),C=Math.abs(p-o)*2+H,e=Math.abs(p-z)*2+T,$=Math.abs(p-Y)*2+T,x=Math.abs(p-Q)*2+H,M=Math.min(C,Math.min(e,Math.min($,x)));
if(M==C)return r*3+u+p-o>>2;if(M==e)return y*3+E+p-z>>2;if(M==$)return E*3+y+p-Y>>2;return u*3+r+p-Q>>2};
O.Jg.qX=function(R,Z,B,o,r){if(R<Z&&Z<B||R>Z&&Z>B)return~~(.5+o+(r-o)*(Z-R)/(B-R));else return(o+r>>1)+(Z+Z-R-B>>2)};
O.Jg.YK=function(R,Z,B,o){var r=Z[B-o-1],Y=Z[B-o+1],E=Z[B],p=Z[B+o-1],y=Z[B+o+1],z=R[B-o-1],u=R[B-o+1],Q=R[B],H=R[B+o-1],T=R[B+o+1],C=Math.abs(u-H)+Math.abs(R[B-o-o+2]-Q)+Math.abs(Q-R[B+o+o-2])+Math.abs(Y-E)+Math.abs(E-p),e=Math.abs(z-T)+Math.abs(R[B-o-o-2]-Q)+Math.abs(Q-R[B+o+o+2])+Math.abs(r-E)+Math.abs(E-y);
if(C<e)return O.Jg.qX(Y,E,p,u,H);else return O.Jg.qX(r,E,y,z,T)};O.Jg.eI=function(R,Z,B,o,r,Y){R[Z+0]=B[r];
R[Z+1]=o[r];R[Z+2]=O.Jg.YK(B,o,r,Y)};O.Jg.et=function(R,Z,B,o,r,Y){var E=o[r];R[Z+0]=O.Jg.qX(o[r-1],E,o[r+1],B[r-1],B[r+1]);
R[Z+1]=E;R[Z+2]=O.Jg.qX(o[r-Y],E,o[r+Y],B[r-Y],B[r+Y])};O.Jg.eD=function(R,Z,B,o,r,Y){var E=o[r];R[Z+0]=O.Jg.qX(o[r-Y],E,o[r+Y],B[r-Y],B[r+Y]);
R[Z+1]=E;R[Z+2]=O.Jg.qX(o[r-1],E,o[r+1],B[r-1],B[r+1])};O.Jg.ez=function(R,Z,B,o,r,Y){R[Z+0]=O.Jg.YK(B,o,r,Y);
R[Z+1]=o[r];R[Z+2]=B[r]};O.Jg.OKw=function(R,Z,B,o,r,Y,E,p,y){var z=Date.now(),u=2,Q=Z-2,H=2;if((r&1)==1){u++;
Q--}var T=B-2;if((Y&1)==1){H++;T--}if(y==1||y==3){u++;Q--}var C=R.slice(0);O.Jg.EC(C,0,Z);O.Jg.EQ(C,0,Z,B);
O.Jg.EQ(C,Z-2,Z,B);O.Jg.EC(C,(B-2)*Z,Z);for(var e=H;e<T;e+=2)for(var $=u;$<Q;$+=2){var x=e*Z+$,M=O.Jg.Gc(C,x,Z),m=O.Jg.Gc(C,x+Z+1,Z);
C[x]=Math.max(0,M);C[x+Z+1]=Math.max(0,m)}var G=E,K=p;if(Y+p==B){K-=2;O.Jg.Oeu(R,(B-2)*Z+r,Z,o,(p-2)*E*3,E)}if(r+E==Z){G-=2;
O.Jg.OeP(R,Y*Z+r+E-2,Z,o,(E-2)*3,E,p)}if(y==0)for(var e=0;e<K;e+=2)for(var $=0;$<G;$+=2){var s=(e+Y)*Z+$+r,L=(e*E+$)*3;
O.Jg.eI(o,L,R,C,s,Z);O.Jg.et(o,L+3,R,C,s+1,Z);s+=Z;L+=3*E;O.Jg.eD(o,L,R,C,s,Z);O.Jg.ez(o,L+3,R,C,s+1,Z)}else if(y==1)for(var e=0;
e<K;e+=2)for(var $=0;$<G;$+=2){var s=(e+Y)*Z+$+r,L=(e*E+$)*3;O.Jg.et(o,L,R,C,s,Z);O.Jg.eI(o,L+3,R,C,s+1,Z);
s+=Z;L+=3*E;O.Jg.ez(o,L,R,C,s,Z);O.Jg.eD(o,L+3,R,C,s+1,Z)}else if(y==2)for(var e=0;e<K;e+=2)for(var $=0;
$<G;$+=2){var s=(e+Y)*Z+$+r,L=(e*E+$)*3;O.Jg.ez(o,L,R,C,s,Z);O.Jg.eD(o,L+3,R,C,s+1,Z);s+=Z;L+=3*E;O.Jg.et(o,L,R,C,s,Z);
O.Jg.eI(o,L+3,R,C,s+1,Z)}else if(y==3)for(var e=0;e<K;e+=2)for(var $=0;$<G;$+=2){var s=(e+Y)*Z+$+r,L=(e*E+$)*3;
O.Jg.eD(o,L,R,C,s,Z);O.Jg.ez(o,L+3,R,C,s+1,Z);s+=Z;L+=3*E;O.Jg.eI(o,L,R,C,s,Z);O.Jg.et(o,L+3,R,C,s+1,Z)}};
O.raw={};O.raw.OKD=function(R){var Z=R.width,B=R.height,o=Date.now(),r=O.raw.OkU(R),Y=0,E=0;O.raw.BM(2,R,r,Z,B);
var p=Z,y=B;if(R.t50829){var z=R.t50829;Y=z[1];E=z[0];p=z[3];y=z[2]}if(R.t50719){var u=R.t50719;Y+=u[0]>>1<<1;
E+=u[1]>>1<<1}if(R.t50720){var Q=R.t50720;p=Y+Q[0];y=E+Q[1]}var H=p-Y,T=y-E,C=new Float32Array(H*T*3);
if(R.t277[0]==1){var e=R.t33421;if(e.length!=2||e[0]!=2||e[1]!=2){console.log("Unknown CFA pattern size",e);
O.Jg.Ov(r,Z,B,C,Y,E,H,T,e[0],R.t33422)}else{var $=R.t33422.join(","),x=0;if($=="0,1,1,2")x=0;else if($=="1,0,2,1")x=1;
else if($=="2,1,1,0")x=2;else if($=="1,2,0,1")x=3;else throw"Unknown CFA pattern "+$;if((H&1)!=0||(T&1)!=0)throw"e";
O.Jg.OKw(r,Z,B,C,Y,E,H,T,x)}}else{for(var M=0;M<T;M++)for(var m=0;m<H;m++){var G=((M+E)*Z+m+Y)*3,K=(M*H+m)*3;
C[K+0]=r[G+0];C[K+1]=r[G+1];C[K+2]=r[G+2]}}var s=C,L=C.length,_=O.raw.Okm(R),P=1/_;for(var i=0;i<L;i+=3){C[i]=Math.min(1,s[i]*P);
C[i+1]=Math.min(1,s[i+1]*P);C[i+2]=Math.min(1,s[i+2]*P)}O.raw.BM(3,R,C,H,T);var w=R._U,k=H,h=T;if(w==1||w==9){}else{var j=O.raw.Yr(w,H,T),K=0;
k=j[0];h=j[1];var I=C.slice(0);for(var M=0;M<h;M++)for(var m=0;m<k;m++){var V=j[2]*m+j[3]*M+j[4],F=j[5]*m+j[6]*M+j[7],G=(F*H+V)*3;
C[K]=I[G];C[K+1]=I[G+1];C[K+2]=I[G+2];K+=3}}return{Y$:C,Rj:k,RI:h}};O.raw.Yr=function(R,Z,B){var o=Z,r=B;
if(R==3)return[Z,B,-1,0,Z-1,0,-1,B-1];else if(R==6)return[B,Z,0,1,0,-1,0,B-1];else if(R==8)return[B,Z,0,-1,Z-1,1,0,0];
else throw"unknown orientation "+R};O.raw.Bo=function(R,Z,B,o){var r=R.Y$,Y=Math.round(r.length/3),E=yZ.OES(o[0],o[1]),p=O.raw.OyY(B,E),y=O.lN.multiply(O.lN.It,p),z=Math.pow(2,o[2]+(B.t50730?B.t50730[0]:0));
y=O.lN.multiply(y,O.lN.O_(z,z,z));var u=B.t50728,Q=[u[1]/u[0],u[2]/u[0],u[0]/u[1],u[2]/u[1],u[0]/u[2],u[1]/u[2]],H=new Float64Array(1e3);
for(var T=0;T<1e3;T++){var C=T*(1/999);C=T==999?1:O.aU(T*(1/999));C=O.raw.hF.OkR(C,o[3]/100);H[T]=C}var e=Date.now();
for(var T=0;T<Y;T++){var $=T<<2,x=$-T,M=r[x],m=r[x+1],G=r[x+2];if(m>=.92){var K=Math.min(M,G);if(K==M){m=Math.max(m,Q[0]*M);
G=Math.max(G,Q[1]*M)}else{M=Math.max(M,Q[4]*G);m=Math.max(m,Q[5]*G)}}var s=y[0]*M+y[1]*m+y[2]*G,L=y[4]*M+y[5]*m+y[6]*G,_=y[8]*M+y[9]*m+y[10]*G;
if(s<0)s=0;else if(s>1)s=1;if(L<0)L=0;else if(L>1)L=1;if(_<0)_=0;else if(_>1)_=1;s=H[~~(s*999)];L=H[~~(L*999)];
_=H[~~(_*999)];Z[$]=~~(.5+s*255);Z[$+1]=~~(.5+L*255);Z[$+2]=~~(.5+_*255)}};O.raw.hF={OkR:function(R,Z){var B=.5-.5*Math.cos(R*3.2),o=0;
if(Z>0){var r=R*.2;o=r*R+(1-r)*B}else{var Y=Math.pow(R,.33);o=(1-Y)*Y+Y*(R+(R-B)*.63)}var E=Math.abs(Z);
return E*o+(1-E)*R},OSR:function(R,Z){var B=0;if(Z>0){var o=R*1.47,r=Math.pow(R,2.4);B=Math.min(1,r*R+(1-r)*o)}else{var o=R*.68,r=Math.pow(R,3);
B=r*R*.5+(1-r)*o}var Y=Math.abs(Z);return Y*B+(1-Y)*R},OSh:function(R,Z){var B=0;if(Z>0){var o=Math.pow(R,.3),r=R;
B=(1-R)*o+R*r}else{var o=Math.pow(R,2.5),Y=R,r=R;B=Math.min(1,(1-Y)*o+Y*r)}var E=Math.abs(Z);return E*B+(1-E)*R}};
O.raw.OkU=function(R){var Z=R.width,B=R.height,o=Z*B*R.t277,r=new Uint16Array(o),Y=null,E=0;O.raw.OOZ(R,r);
O.raw.BM(1,R,r,Z,B);if(R.t50712){Y=R.t50712;E=Y.length-1;if(Y[E]>65535)throw"too big values"}var p=O.raw.Yp(R),y=O.raw.YZ(R);
if(Y==null)for(var z=0;z<o;z++)r[z]=Math.max(0,r[z]-p);else for(var z=0;z<o;z++){var u=r[z];if(u>E)u=E;
u=Y[u];r[z]=Math.max(0,u-p)}return r};O.raw.Yp=function(R){var Z=R.t50714,B=Z?Z[0]:0,o=R.t50715,r=R.t50716;
if(o)B+=o[0];if(r)B+=r[0];return Math.round(B)};O.raw.YZ=function(R){var Z=null,B=0;if(R.t50712){Z=R.t50712;
B=Z.length-1}var o=R.t50717[0];if(Z)o=Math.min(o,Z[B]);return o};O.raw.Okm=function(R){var Z=O.raw.Yp(R),B=O.raw.YZ(R);
return B-Z};O.raw.OOZ=function(R,Z){var B=Z.length,o=R.data,r=R.t258[0];if(r!=16&&r!=14&&r!=12&&r!=10&&r!=8)throw"Unsupported Bits Per Sample:"+r;
r=Math.round(o.length*8/B);if(r==16&&R.isLE){O.VG(o,Z);return}for(var Y=0;Y<B;Y+=2){var E=0,p=0,y=0;
if(r==16){E=Y<<1;p=o[E]<<8|o[E+1];y=o[E+2]<<8|o[E+3]}else if(r==14){var z=Y*14,u=z>>>3,Q=o[u]<<24|o[u+1]<<16|o[u+2]<<8|o[u+3];
if((z&7)==0){p=Q>>>18;y=Q>>>4&16383}else{p=Q>>>14&16383;y=Q&16383}}else if(r==12){E=Y+(Y>>>1);p=o[E]<<4|o[E+1]>>4;
y=(o[E+1]&15)<<8|o[E+2]}else if(r==10){var z=Y*10,u=z>>>3;if((z&7)==0){p=(o[u]<<2|o[u+1]>>6)&1023;y=(o[u+1]<<4|o[u+2]>>4)&1023}else{p=(o[u]<<6|o[u+1]>>2)&1023;
y=(o[u+1]<<8|o[u+2]>>0)&1023}}else if(r==8){E=Y;p=o[E];y=o[E+1]}Z[Y]=p;Z[Y+1]=y}};O.raw.BM=function(R,Z,B,o,r){var Y=Z["t"+[51008,51009,51022][R-1]],u=0;
if(Y==null)return;var E=o*r,p=U.n,y=U.AG,z=new Uint8Array(Y),Q=U.n(z,u);u+=4;for(var H=0;H<Q;H++){var T=p(z,u);
u+=4;var C=p(z,u);u+=4;var e=p(z,u);u+=4;var $=p(z,u);u+=4;if(!1){}else if(T==1&&R==3){var x=u,M=p(z,x);
x+=4;var m=y(z,x);x+=8;var G=y(z,x);x+=8;var K=y(z,x);x+=8;var s=y(z,x);x+=8;var L=y(z,x);x+=8;var _=y(z,x);
x+=8;x+=(M-1)*8*6;var P=y(z,x);x+=8;var i=y(z,x);x+=8;var w=P*o,k=i*r,h=Math.max(w,o-w),j=Math.max(k,r-k),I=Math.sqrt(h*h+j*j),V=1/I,F=B.slice(0);
for(var q=0;q<r;q++)for(var t=0;t<o;t++){var c=(t+.5-w)*V,f=(q+.5-k)*V,W=c*c+f*f,l=m+G*W+K*(W*W)+s*(W*W)*W,g=L*(2*c*f)+_*(W+2*c*c),v=_*(2*c*f)+L*(W+2*f*f),Vg=~~(w+I*(l*c+g)),GE=~~(k+I*(l*f+v)),Gy=(GE*o+Vg)*3,GY=(q*o+t)*3;
B[GY]=F[Gy];B[GY+1]=F[Gy+1];B[GY+2]=F[Gy+2]}}else if(T==3&&R==3){var x=u,Ga=y(z,x);x+=8;var GO=y(z,x);
x+=8;var J=y(z,x);x+=8;var D=y(z,x);x+=8;var GB=y(z,x);x+=8;var P=y(z,x);x+=8;var i=y(z,x);x+=8;var w=P*o,k=i*r,h=Math.max(w,o-w),j=Math.max(k,r-k),I=Math.sqrt(h*h+j*j),V=1/I;
for(var q=0;q<r;q++)for(var t=0;t<o;t++){var c=(t+.5-w)*V,f=(q+.5-k)*V,W=c*c+f*f,Gj=1+(Ga+(GO+(J+(D+GB*W)*W)*W)*W)*W,GY=(q*o+t)*3;
B[GY]=Gj*B[GY];B[GY+1]=Gj*B[GY+1];B[GY+2]=Gj*B[GY+2]}}else if(T==4&&R==1){var x=u,GX=p(z,x);x+=4;var Gw=p(z,x);
x+=4;for(var G_=0;G_<E;G_++)if(B[G_]==GX)B[G_]=B[G_-2]+B[G_+2]>>1}else if(T==5&&R==1){var x=u,Gf=p(z,x);
x+=4;var Gl=p(z,x);x+=4;var GU=p(z,x);x+=4;for(var G_=0;G_<Gl;G_++){var GD=p(z,x);x+=4;var Gi=p(z,x);
x+=4;var G_=GD*o+Gi;B[G_]=B[G_-2]+B[G_+2]>>1}}else if(T==7&&R==1){var x=u,Gh=U.mV(z,x);x+=16;var G$=p(z,x);
x+=4;var GA=p(z,x);x+=4;var GJ=p(z,x),Ge=p(z,x+4);x+=8;var Gq=p(z,x);x+=4;var Gv=new Uint16Array(Gq);
for(var G_=0;G_<Gq;G_++)Gv[G_]=U.at(z,x+2*G_);var yi=Gh.Y,GZ=Gh.Z;for(var q=0;q<GZ;q+=GJ)for(var t=0;
t<yi;t+=Ge){var G_=(Gh.y+q)*o+(Gh.x+t);B[G_]=Gv[B[G_]]}}else if(T==9&&R==2){var x=u,Gh=U.mV(z,x),YR=!0;
x+=16;var G$=p(z,x);x+=4;var GA=p(z,x);x+=4;var GJ=p(z,x),Ge=p(z,x+4);x+=8;var OU=p(z,x),GH=p(z,x+4);
x+=8;var OB=y(z,x),Gb=y(z,x+8);x+=16;var Gu=y(z,x),GP=y(z,x+8);x+=16;var Gn=p(z,x);x+=4;if(Gn!=1)throw"more than one map plane";
var Yy=OU*GH,Gm=new Float32Array(Yy);for(var GW=0;GW<Yy;GW++)Gm[GW]=U.cn(z,x+GW*4);for(var GW=0;GW<Yy;
GW++)if(Gm[GW]!=1)YR=!1;if(!YR){var yi=Gh.Y,GZ=Gh.Z,YE=.9999*(GH-1)/yi,Yq=.9999*(OU-1)/GZ;for(var q=0;
q<GZ;q+=GJ)for(var t=0;t<yi;t+=Ge){var G_=(Gh.y+q)*o+(Gh.x+t),YX=t*YE,O_=q*Yq,Y_=Math.floor(YX),OY=Math.floor(O_),GT=YX-Y_,YY=O_-OY,GY=OY*GH+Y_,Of=Gm[GY]*(1-GT)+Gm[GY+1]*GT,Ox=Gm[GY+GH]*(1-GT)+Gm[GY+1+GH]*GT,yR=Of*(1-YY)+Ox*YY;
B[G_]=~~(B[G_]*yR+.5)}}}else console.log("Unknown opcode "+T+" in OpcodeList"+R+". Length: "+$);u+=$}};
O.raw.OyY=function(R,Z){var B=yZ.Rq(Z),o=O.raw.Yo(R,Z),r=O.lN.za(o),Y=yZ.OEH(B,yZ.Rq(yZ.OyM)),E=O.lN.multiply(Y,r);
return E};O.raw.Oyj=function(R){var Z=R.t50728.slice(0),o=1;Z.push(0);var B={x:.34567,y:.3585};do{var r=O.lN.za(O.raw.Yo(R,B)),Y=O.lN.$C(r,Z),E=yZ.OEf(Y);
o=Math.abs(B.x-E.x)+Math.abs(B.y-E.y);B=E}while(o>1e-7);return B};O.raw.Yo=function(R,Z){var B=yZ.RL(Z),o=O.raw.Oyo,r=R.t50779?R.t50779[0]:0,Y=o(R.t50721,R.t50722,R.t50778[0],r,B.pu),E=o(R.t50723,R.t50724,R.t50778[0],r,B.pu);
E=E||[1,0,0,0,1,0,0,0,1];var p=R.t50727?[R.t50727[0],0,0,0,R.t50727[1],0,0,0,R.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return O.lN.multiply(O.lN.MT(p),O.lN.multiply(O.lN.MT(E),O.lN.MT(Y)))};O.raw.Oyo=function(R,Z,B,o,r){if(!R&&!Z){return null}else if(R&&!Z){return R}else if(r<B){return R}else if(r>o){return Z}else{var Y=(1/r-1/o)/(1/B-1/o),E=1-Y,p=[];
for(var y=0;y<9;y++)p[y]=R[y]*Y+Z[y]*E;return p}};var yZ={};yZ.OyM={x:.34567,y:.3585};yZ.R_=[{F:0,jp:.18006,ct:.26352,RN:-.24341},{F:10,jp:.18066,ct:.26589,RN:-.25479},{F:20,jp:.18133,ct:.26846,RN:-.26876},{F:30,jp:.18208,ct:.27119,RN:-.28539},{F:40,jp:.18293,ct:.27407,RN:-.3047},{F:50,jp:.18388,ct:.27709,RN:-.32675},{F:60,jp:.18494,ct:.28021,RN:-.35156},{F:70,jp:.18611,ct:.28342,RN:-.37915},{F:80,jp:.1874,ct:.28668,RN:-.40955},{F:90,jp:.1888,ct:.28997,RN:-.44278},{F:100,jp:.19032,ct:.29326,RN:-.47888},{F:125,jp:.19462,ct:.30141,RN:-.58204},{F:150,jp:.19962,ct:.30921,RN:-.70471},{F:175,jp:.20525,ct:.31647,RN:-.84901},{F:200,jp:.21142,ct:.32312,RN:-1.0182},{F:225,jp:.21807,ct:.32909,RN:-1.2168},{F:250,jp:.22511,ct:.33439,RN:-1.4512},{F:275,jp:.23247,ct:.33904,RN:-1.7298},{F:300,jp:.2401,ct:.34308,RN:-2.0637},{F:325,jp:.24792,ct:.34655,RN:-2.4681},{F:350,jp:.25591,ct:.34951,RN:-2.9641},{F:375,jp:.264,ct:.352,RN:-3.5814},{F:400,jp:.27218,ct:.35407,RN:-4.3633},{F:425,jp:.28039,ct:.35577,RN:-5.3762},{F:450,jp:.28863,ct:.35714,RN:-6.7262},{F:475,jp:.29685,ct:.35823,RN:-8.5955},{F:500,jp:.30505,ct:.35907,RN:-11.324},{F:525,jp:.3132,ct:.35968,RN:-15.628},{F:550,jp:.32129,ct:.36011,RN:-23.325},{F:575,jp:.32931,ct:.36038,RN:-40.77},{F:600,jp:.33724,ct:.36051,RN:-116.45}];
yZ.RL=function(R){var Z=yZ.R_,B=2*R.x/(1.5-R.x+6*R.y),o=3*R.y/(1.5-R.x+6*R.y),r=0,Y=0,E=0;for(;E<31;
E++){r=o-Z[E].ct-Z[E].RN*(B-Z[E].jp);if(E>0&&r<0){break}Y=r}while(E>=Z.length)E--;r/=Math.sqrt(1+Z[E].RN*Z[E].RN);
Y/=Math.sqrt(1+Z[E-1].RN*Z[E-1].RN);var p=Y/(Y-r),y=1e6/((Z[E].F-Z[E-1].F)*p+Z[E-1].F),z=B-((Z[E].jp-Z[E-1].jp)*p+Z[E-1].jp),u=o-((Z[E].ct-Z[E-1].ct)*p+Z[E-1].ct),Q=Math.sqrt(1+Z[E].RN*Z[E].RN),H=1/Q,T=Z[E].RN/Q,C=Math.sqrt(1+Z[E-1].RN*Z[E-1].RN),e=1/C,$=Z[E-1].RN/C,x=(H-e)*p+e,M=(T-$)*p+$,m=Math.sqrt(x*x+M*M);
x/=m;M/=m;var G=(z*x+u*M)*-3e3;return{pu:y,ck:G}};yZ.OES=function(R,Z){var B=yZ.R_,o=1e6/R,r=1;for(;
r<31;r++){if(o<B[r].F){break}}var Y=(B[r].F-o)/(B[r].F-B[r-1].F),E=(B[r-1].jp-B[r].jp)*Y+B[r].jp,p=(B[r-1].ct-B[r].ct)*Y+B[r].ct,y=Math.sqrt(1+B[r].RN*B[r].RN),z=1/y,u=B[r].RN/y,Q=Math.sqrt(1+B[r-1].RN*B[r-1].RN),H=1/Q,T=B[r-1].RN/Q,C=(H-z)*Y+z,e=(T-u)*Y+u,$=Math.sqrt(C*C+e*e);
C/=$;e/=$;E+=C*Z/-3e3;p+=e*Z/-3e3;return{x:1.5*E/(E-4*p+2),y:p/(E-4*p+2)}};yZ.OEf=function(R){var Z=R[0]+R[1]+R[2];
return{x:R[0]/Z,y:R[1]/Z}};yZ.Rq=function(R){return{x:R.x/R.y,y:1,vk:(1-R.x-R.y)/R.y}};yZ.OEH=function(R,Z){var B=O.lN.MT([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),o=[R.x,R.y,R.vk,0],r=[Z.x,Z.y,Z.vk,0];
o=O.lN.$C(B,o);r=O.lN.$C(B,r);var Y=r[0]/o[0],E=r[1]/o[1],p=r[2]/o[2],y=O.lN.MT([Y,0,0,0,E,0,0,0,p]),z=O.lN.za(B);
return O.lN.multiply(O.lN.multiply(z,y),B)};O.raw.WL={};O.raw.Bs=function(R){R*=8;var Z=[8,10,12,14,16];
for(var B in O.raw.eU){var o=O.raw.eU[B];if(o.length==4)continue;var r=o[4],Y=o[5];for(var E=0;E<Z.length;
E++)if(r*Y*Z[E]==R)return[B,Z[E]]}var p=[[4e3,3e3]];for(var E=0;E<p.length;E++){var o=p[E],r=o[0],Y=o[1];
for(var E=0;E<Z.length;E++)if(r*Y*Z[E]==R)return[o,Z[E]]}return null};O.raw.OVk=function(R){var R=new Uint8Array(R);
for(var Z=0;Z<R.length;Z+=2){var B=R[Z];R[Z]=R[Z+1];R[Z+1]=B}var o=O.raw.Bs(R.length),r=O.raw.eU[o[0]];
if(r==null)r=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,o[0][0],o[0][1]];var Y=r[4],E=r[5],p=Math.max(r[2],116),y={data:R,_U:1,width:Y,height:E,t256:[Y],t257:[E],t258:[o[1]],t277:[1],t33421:[2,2],t33422:O.raw.Rr[r[1]],t50706:[1,2,0,0],t50714:[p,p,p,p],t50717:[r[3]],t50721:r[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var Z=0;Z<9;Z++)y.t50721[Z]/=1e4;return y};O.raw.Rx=function(R){if(R==null||R.length==0||typeof R[0]=="number")return R;
var Z=[];for(var B=0;B<R.length;B++)Z[B]=R[B][1]==0?0:R[B][0]/R[B][1];return Z};O.raw.Rr=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
O.raw.normalize=function(R,Z){if(R.t50706!=null){var B=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var o=0;o<B.length;o++)if(R["t"+B[o]]!=null)R["t"+B[o]]=O.raw.Rx(R["t"+B[o]]);return}var r=R.t258[0],Y=R.exifIFD,Z=new Uint8Array(Z);
R.t50706=[1,2,0,0];var E=R.t272[0].trim();if(E.indexOf(" ")==-1)E=R.t271[0].trim()+" "+E;R.t50708=[E];
var p=O.raw.eU,y=p[E.toLowerCase()];if(y==null)for(var z in p)if(E.toLowerCase().startsWith(z))y=p[z];
if(y==null)throw E;var u=y[2];R.t50714=[u,u,u,u];R.t50717=[y[3]];R.t50721=y[0].slice(0);for(var o=0;
o<9;o++)R.t50721[o]=R.t50721[o]*(1/1e4);R.t50723=[1,0,0,0,1,0,0,0,1];if(R.t50728==null)R.t50728=[.35,1,.6];
R.t50778=[17];if(R.t271[0].startsWith("SONY")){var Q=UTIF["_bin"+(R.isLE?"LE":"BE")],H=R.t28688,m;if(JSON.stringify(H)!="[8000,10400,12900,14100]")console.log(H);
if(H){var T=[0,0,0,0,0,4095],C=new Uint16Array(16385);for(var o=0;o<4;o++){var e=H[o]>>>2;T[o+1]=e;if(e>4095)throw"e"}for(var o=0;
o<16385;o++)C[o]=o;for(var o=0;o<5;o++)for(var $=T[o]+1;$<=T[o+1];$++)C[$]=C[$-1]+(1<<o);var x=Z.length*8<R.width*R.height*r;
if(x)R.t50712=C}else console.log("no curve");var M=R.dngPrvt;if(M){var G=M.t29184[0],K=M.t29185[0],s=(R.isLE?U.Kq:U.n)(M.t29217,0),L=new Uint32Array(Z.slice(G,G+(K&4294967292)).buffer),_=new Uint32Array(K>>>2);
O.raw.OVq(L,_,K>>>2,s);var P=new Uint8Array(G+K);P.set(new Uint8Array(_.buffer),G);var i=[];UTIF._readIFD(Q,P,G,i,0,!1);
var w=i.pop(),k=w.t29458;R.t50728=[k[1]/k[0],1,k[1]/k[3]];R.t50730=[.5];var h=w.t29891;R.t50829=[h[1],h[0],h[3],h[2]]}else if(Y.makerNote&&Y.makerNote.t8208){var m=Y.makerNote,j=m.t8208,I=j.length,V=0,F=new Uint8Array(256);
for(var o=249;o<256;o++)F[o]=o;for(var o=0;o<249;o++)F[o*o*o%249]=o;for(var o=0;o<I;o++)j[o]=F[j[o]];
if(I==6604)V=612;else throw"e";var k=[];for(var o=0;o<3;o++)k.push(U.Kr(j,V+o*2));console.log(k);R.t50728=[k[1]/k[0],1,k[1]/k[2]]}else console.log("no white balance");
if(R.width*R.height*1.5==R.t279[0]){u=u>>>2;R.t50714=[u,u,u,u];R.t50717=[y[3]>>>2]}}else if(R.t271[0].startsWith("Canon")){var Z=R.data,q=Z.slice(0),t=R.t50752,c=[],W=0;
if(t==null||t[0]==0&&t[1]==0)c.push(R.width);else{for(var o=0;o<t[0];o++)c.push(t[1]);c.push(t[2])}var f=R.width*2;
for(var l=0;l<c.length;l++){var g=c[l],v=2*W,Vg=2*g;for(var GE=0;GE<R.height;GE+=2){var Gy=GE*f+v,GY=R.height*v+(GE>>1)*Vg*2;
for(var o=0;o<Vg;o++){Z[Gy+o]=q[GY+o];Z[Gy+o+f]=q[GY+o+Vg]}}W+=g}var m=Y.makerNote;if(m.t16385){var Ga=m.t224,D=0;
if(Ga){R.t50719=[Ga[5],Ga[6]];R.t50720=[Ga[7]+1-Ga[5],Ga[8]+1-Ga[6]]}var GO=m.t16385,J=GO.length;if(J==582)D=1;
else if(J==653)D=2;else if(J==796)D=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(J)!=-1)D=4;
else if(J==5120){D=5;GO=new Int16Array(GO.slice(0).buffer)}else if(J==1273||J==1275)D=6;else if([1312,1313,1316,1506].indexOf(J)!=-1)D=7;
else if([1560,1592,1353,1602].indexOf(J)!=-1)D=8;else throw"e"+J;var GB=GO[0],Gj=[null,[25,166],[34,286],[63,196],[63],[71,GB==-4?333:264],[63,251],[63,GB==10?504:728],[63,326]],V=Gj[D][0],GX=Gj[D][1];
if(D==4){if(GO[0]==2)GX=231;else if(GO[0]==3)GX=231;else if(GO[0]==4)GX=231;else if(GO[0]==5)GX=231;
else if(GO[0]==6)GX=231;else if(GO[0]==7)GX=231;else if(GO[0]==9)GX=231;else throw"e"}R.t50728=[GO[V+1]/GO[V],1,GO[V+1]/GO[V+3]];
var u=GX==null?1024:GO[GX];R.t50714=[u,u,u,u]}else{R.t50728=[.4,1,.6]}}else if(R.t271[0].startsWith("NIKON")){var m=Y.makerNote,Gw=R.isLE?U.Kr:U.mj,Gi=0,Gh=0,Gq,Gu=0;
if(m.t61){var G_=m.t61,Gf=[];for(var o=0;o<4;o++)Gf[o]=G_[o]/Math.pow(2,14-r);R.t50714=Gf}if(m.t3585){var Gl=m.t3585,o=0,G=22;
while(G<Gl.length&&o!=-4){var GU=U.Kq(Gl,G);G+=4;G+=14;o=U.Kq(Gl,G)-4;G+=4;if(GU==1990472198){if(Gl[G]!=0)throw"Flip"}if(GU==1990472199){var GD=U.Kr(Gl,G);
if(GD==0)R._U=1;else if(GD==270)R._U=8;else throw"e "+GD}G+=o}}if(m.t183){var G$=m.t183,GA=[];for(var o=0;
o<6;o++)GA.push(Gw(G$,16+o*2));Gi=GA[0];Gh=GA[1]}if(m.t3614){var GJ=m.t3614;Gi=U.Kq(GJ,8);Gh=U.Kq(GJ,12)}if(Gi!=0){if(Gi<Gh){var Ge=Gi;
Gi=Gh;Gh=Ge}var W=R.width-Gi>>>1,GE=R.height-Gh>>>1;R.t50829=[GE,W,GE+Gh,W+Gi]}if(m.t12){var Gv=O.raw.Rx(m.t12);
Gq=[1/Gv[0],1,1/Gv[1]]}else if(m.t151){var yi=O.raw.OGV(m,151),GZ=yi[0],OU=yi[1],GH=yi[2];if(GZ=="0100"&&OU>=80)throw"e";
else if(GZ=="0103"&&OU>=26){var OB=[];for(var o=0;o<4;o++)OB.push(Gw(GH,16+o*2));Gq=[OB[1]/OB[0],1,OB[3]/OB[2]]}else if(GZ=="0204"&&OU>=564||GZ=="0205"&&OU>=284){var G=GZ=="0204"?6:14,OB=[];
for(var o=0;o<4;o++)OB.push(Gw(GH,G+o*2));Gq=[OB[1]/OB[0],1,OB[1]/OB[3]]}else throw"e"}else console.log("no white balance info");
if(E=="NIKON D1")Gq=[1,1,1];if(Gq)R.t50728=Gq;var Gb=m.t150?m.t150:m.t140;if(Gb){var GP=Gb[Gu++],Gn=Gb[Gu++],GW;
if(GP==73||Gn==88)Gu+=2110;Gu+=8;var Yy=1<<r&32767,Gm=Gw(Gb,Gu);Gu+=2;var C=[];if(Gm>1)GW=Math.floor(Yy/(Gm-1));
if(GP==68&&Gn==32&&GW>0){for(o=0;o<Gm;o++){C[o*GW]=Gw(Gb,Gu);Gu+=2}for(o=0;o<Yy;o++)C[o]=Math.floor((C[o-o%GW]*(GW-o%GW)+C[o-o%GW+GW]*(o%GW))/GW)}else if(GP!=70&&Gm<=16385){Yy=Gm;
for(var o=0;o<Gm;o++)C[o]=Gw(Gb,Gu+2*o);Gu+=2*Gm}if(C.length!=0)R.t50712=new Uint16Array(C)}}else if(E.startsWith("FujiFilm")){}else alert("Unknown camera "+E)};
O.raw.OVq=function(R,Z,B,o){if(0==B)return;var r=new Uint32Array(128),Y=new Uint8Array(r.buffer),E=127,p=0,y=0;
for(var E=0;E<4;E++)r[E]=o=(o*15625>>>0)*3125+1>>>0;r[3]=r[3]<<1|(r[0]^r[2])>>>31;for(var E=4;E<127;
E++)r[E]=(r[E-4]^r[E-2])<<1|(r[E-3]^r[E-1])>>>31;for(var E=0;E<127;E++)r[E]=U.n(Y,E*4);for(;B>0;B--){r[E&127]=r[E+1&127]^r[E+1+64&127];
var z=r[E&127],u=R[p];u^=z;Z[y]=u;p++;y++;E++}};O.raw.OGy=function(R,Z){var B=U.XG(Z,0,4),o=O.raw.OGG;
for(var r=0;r<o.length;r++)if(o[r][0]==R&&B.startsWith(o[r][1])&&(o[r][2]==0||o[r][2]==Z.length))return o[r];
throw"e"};O.raw.OGE=function(R){if(R.t29==null)return[];var Z=O.raw.OGa,B=O.raw.OGj,o=R.t29[0],r=0,p=0;
for(var Y=0;Y<o.length;Y++){var E=o.charCodeAt(Y);r=r*10+(48<=E&&E<=57?E-48:E%10)}var y=R.t167[0];for(var Y=0;
Y<4;Y++)p^=y>>>(Y<<3)&255;var z=Z[r&255],u=B[p&255];return[z,u,96]};O.raw.OGV=function(R,Z){var B=R["t"+Z],o=B.length,r=O.raw.OGy(Z,B),Y=U.XG(B,0,4),E,p=r[4];
if(p==null)E=B.slice(4);else{E=new Uint8Array(o-p);var y=O.raw.OGE(R),z=y[0],u=y[1],Q=y[2];for(var H=0;
H<E.length;H++){u=u+z*Q++&255;E[H]=B[p++]^u}}return[Y,o,E]};O.raw.OGG=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
O.raw.OGa=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
O.raw.OGj=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
O.raw.eU={"canon eos 100d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos rebel sl1":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos kiss x7":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos 200d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos rebel sl2":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos kiss x9":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos 300d":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos digital rebel":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos kiss digital":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos d30":[[9805,-2689,-1312,-5803,13064,3068,-2438,3075,8775],1,126,4095],"canon eos d60":[[6188,-1341,-890,-7168,14489,2937,-2640,3228,8483],1,127,4e3],"canon eos 10d":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,127,4e3],"canon eos 20d":[[6599,-537,-891,-8071,15783,2424,-1983,2234,7462],1,126,4095],"canon eos 30d":[[6257,-303,-1e3,-7880,15621,2396,-1714,1904,7046],1,127,3398],"canon eos 350d":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos digital rebel xt":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos kiss digital n":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 350d":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 350d digital":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 40d":[[6071,-747,-856,-7653,15365,2441,-2025,2553,7315],1,1021,13600],"canon eos 450d":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos digital rebel xsi":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos kiss digital x2":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos kiss x2":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos 50d":[[4920,616,-593,-6493,13964,2784,-1774,3178,7005],3,1020,13653],"canon eos 60d":[[6719,-994,-925,-4408,12426,2211,-887,2129,6051],3,2026,14200],"canon eos 70d":[[7034,-804,-1014,-4420,12564,2058,-851,1994,5758],1,2026,13653],"canon eos 80d":[[7457,-671,-937,-4849,12495,2643,-1213,2354,5492],1,512,11892],"canon eos 700d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos rebel t5i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos kiss x7i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos 750d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos rebel t6i":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos kiss x8i":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 800d":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos rebel t7i":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos kiss x9i":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos 760d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos rebel t6s":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 8000d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 77d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2048,14338],"canon eos 9000d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2048,14338],"canon eos 500d":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos rebel t1i":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos kiss x3":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos 550d":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos rebel t2i":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos kiss x4":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos 600d":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos rebel t3i":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos kiss x5":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos 650d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos rebel t4i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos kiss x6i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos 5d":[[6347,-479,-972,-8297,15954,2480,-1968,2131,7649],1,127,3692],"canon eos 5d mark ii":[[4716,603,-830,-7798,15474,2480,-1496,1937,6651],3,1024,12995],"canon eos 5d mark iii":[[6722,-635,-963,-4287,12460,2028,-908,2162,5668],1,2060,16383],"canon eos 5d mark iv":[[6446,-366,-864,-4436,12204,2513,-952,2496,6348],1,2049,14448],"canon eos 5ds":[[6250,-711,-808,-5153,12794,2636,-1249,2198,5610],1,2048,15181],"canon eos 5ds r":[[6250,-711,-808,-5153,12794,2636,-1249,2198,5610],1,2048,15181],"canon eos 6d":[[7034,-804,-1014,-4420,12564,2058,-851,1994,5758],1,2048,15e3],"canon eos 6d mark ii":[[6875,-970,-932,-4691,12459,2501,-874,1953,5809],1,2049,14558],"canon eos 7d":[[6844,-996,-856,-3876,11761,2396,-593,1772,6198],3,1025,8150],"canon eos 7d mark ii":[[7268,-1082,-969,-4186,11839,2663,-825,2029,5839],1,2047,13400],"canon eos 1000d":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos digital rebel xs":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos kiss digital f":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos 1100d":[[6444,-904,-893,-4563,12308,2535,-903,2016,6728],1,2036,15500],"canon eos rebel t3":[[6444,-904,-893,-4563,12308,2535,-903,2016,6728],1,2036,15500],"canon eos 1200d":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos rebel t5":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos kiss x70":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos 1300d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos rebel t6":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos kiss x80":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos 2000d":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos rebel t7":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos 1500d":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos 4000d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos rebel t100":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos 3000d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos 400d":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos digital rebel xti":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos kiss digital x":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos m":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos m2":[[6400,-480,-888,-5294,13416,2047,-1296,2203,6137],1,2026,13584],"canon eos m3":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2048,16e3],"canon eos m5":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos m6":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos m10":[[6400,-480,-888,-5294,13416,2047,-1296,2203,6137],1,2048,16e3],"canon eos m100":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos-1d":[[6806,-179,-1020,-8097,16415,1687,-3267,4236,7690],2,0,3588],"canon eos-1ds":[[4374,3631,-1743,-7520,15212,2472,-2892,3632,8161],2,0,3500],"canon eos d2000c":[[24542,-10860,-3401,-1490,11370,-297,2858,-605,3225],2,96,4095],"canon eos-1d mark ii":[[6264,-582,-724,-8312,15948,2504,-1744,1919,8664],1,127,3700],"canon eos-1d mark ii n":[[6240,-466,-822,-8180,15825,2500,-1801,1938,8042],1,127,3700],"canon eos-1d mark iii":[[6291,-540,-976,-8350,16145,2311,-1714,1858,7326],1,1023,15100],"canon eos-1d mark iv":[[6014,-220,-795,-4109,12014,2361,-561,1824,5787],3,2e3,13e3],"canon eos-1ds mark ii":[[6517,-602,-867,-8180,15926,2378,-1618,1771,7633],3,126,4060],"canon eos-1ds mark iii":[[5859,-211,-930,-8255,16017,2353,-1732,1887,7448],1,1021,15100],"canon eos-1d x":[[6847,-614,-1014,-4669,12737,2139,-1197,2488,6846],1,2050,15100],"canon eos-1d x mark ii":[[7596,-978,-967,-4808,12571,2503,-1398,2567,5752],1,2048,14888],"canon powershot pro1":[[10062,-3522,-999,-7643,15117,2730,-765,817,7323],1,129,4095],"canon powershot g1":[[-4778,9467,2172,4743,-1141,4344,-5146,9908,6077,-1566,11051,557],0,31,1023],"canon powershot g2":[[9087,-2693,-1049,-6715,14382,2537,-2291,2819,7790],1,0,1023],"canon powershot g3":[[9212,-2781,-1073,-6573,14189,2605,-2300,2844,7664],1,0,4095],"canon powershot g3 x":[[9701,-3857,-921,-3149,11537,1817,-786,1817,5147],1,2047,16e3],"canon powershot g5":[[9757,-2872,-933,-5972,13861,2301,-1622,2328,7212],1,0,4095],"canon powershot g5 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g6":[[9877,-3775,-871,-7613,14807,3072,-1448,1305,7485],1,128,4095],"canon powershot g7 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,511,4e3],"canon powershot g7 x mark ii":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g1 x":[[7378,-1255,-1043,-4088,12251,2048,-876,1946,5805],1,0,16383],"canon powershot g1 x mark ii":[[7378,-1255,-1043,-4088,12251,2048,-876,1946,5805],1,0,16e3],"canon powershot g1 x mark iii":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon powershot g12":[[13244,-5501,-1248,-1508,9858,1935,-270,1083,4366],1,120,4095],"canon powershot g11":[[12177,-4817,-1069,-1612,9864,2049,-98,850,4471],1,120,4095],"canon powershot g10":[[11093,-3906,-1028,-5047,12492,2879,-1003,1750,5561],3,128,4095],"canon powershot g9":[[7368,-2141,-598,-5621,13254,2625,-1418,1696,5743],1,125,4095],"canon powershot g9 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g9 x mark ii":[[10056,-4131,-944,-2576,11143,1625,-238,1294,5179],1,2048,16e3],"canon powershot g15":[[7474,-2301,-567,-4056,11456,2975,-222,716,4181],3,500,2800],"canon powershot g16":[[8020,-2687,-682,-3704,11879,2052,-965,1921,5556],1,0,4095],"canon powershot sx1 is":[[6578,-259,-502,-5974,13030,3309,-308,1058,4970],1,125,4095],"canon powershot s30":[[10566,-3652,-1129,-6552,14662,2006,-2197,2581,7670],1,31,1023],"canon powershot s40":[[8510,-2487,-940,-6869,14231,2900,-2318,2829,9013],1,0,1023],"canon powershot s45":[[8163,-2333,-955,-6682,14174,2751,-2077,2597,8041],1,129,4095],"canon powershot s50":[[8882,-2571,-863,-6348,14234,2288,-1516,2172,6569],1,129,4095],"canon powershot s60":[[8795,-2482,-797,-7804,15403,2573,-1422,1996,7082],1,129,4095],"canon powershot s70":[[9976,-3810,-832,-7115,14463,2906,-901,989,7889],1,129,4095],"canon powershot s90":[[12374,-5016,-1049,-1677,9902,2078,-83,852,4683],1,125,4095],"canon powershot s95":[[13440,-5896,-1279,-1236,9598,1931,-180,1001,4651],1,125,4095],"canon powershot s100":[[7968,-2565,-636,-2873,10697,2513,180,667,4211],3,125,4095],"canon powershot s110":[[8039,-2643,-654,-3783,11230,2930,-206,690,4194],3,500,3072],"canon powershot s120":[[6961,-1685,-695,-4625,12945,1836,-1114,2152,5518],1,0,4e3],"canon powershot sx50 hs":[[12432,-4753,-1247,-2110,10691,1629,-412,1623,4926],1,127,4095],"canon powershot sx60 hs":[[13161,-5451,-1344,-1989,10654,1531,-47,1271,4955],1,128,4e3],"nikon d100":[[5902,-933,-782,-8983,16719,2354,-1402,1455,6464],2,0,4095],"nikon d1":[[16772,-4726,-2141,-7611,15713,1972,-2846,3494,9521],0,0,4095],"nikon d1h":[[7577,-2166,-926,-7454,15592,1934,-2377,2808,8606],0,0,4095],"nikon d1x":[[7702,-2245,-975,-9114,17242,1875,-2679,3055,8521],0,0,4095],"nikon d200":[[8367,-2248,-763,-8758,16447,2422,-1527,1550,8053],2,0,3880],"nikon d2h":[[5710,-901,-615,-8594,16617,2024,-2975,4120,6830],3,0,3880],"nikon d2hs":[[5710,-901,-615,-8594,16617,2024,-2975,4120,6830],3,0,3880],"nikon d2x":[[10231,-2769,-1255,-8301,15900,2552,-797,680,7148],1,0,3880],"nikon d2xs":[[10231,-2769,-1255,-8301,15900,2552,-797,680,7148],1,0,3880],"nikon d3":[[8139,-2171,-663,-8747,16541,2295,-1925,2008,8093],1,0,15892],"nikon d3s":[[8828,-2406,-694,-4874,12603,2541,-660,1509,7587],1,0,15520],"nikon d3x":[[7171,-1986,-648,-8085,15555,2718,-2170,2512,7457],1,0,15892],"nikon d300":[[9030,-1992,-715,-8465,16302,2255,-2689,3217,8069],1,0,15236],"nikon d300s":[[9030,-1992,-716,-8465,16302,2256,-2689,3217,8069],1,0,15236],"nikon d3000":[[8736,-2458,-935,-9075,16894,2251,-1354,1242,8263],3,0,3880],"nikon d3200":[[7013,-1408,-635,-5268,12902,2640,-1470,2801,7379],1,0,3880],"nikon d3300":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3880],"nikon d3400":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3880],"nikon d3500":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d4":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,0,15520],"nikon d5":[[9200,-3522,-992,-5755,13803,2117,-753,1486,6338],1,400,15520],"nikon z 6":[[8210,-2534,-683,-5355,13338,2212,-1143,1929,6464],1,1008,15520],"nikon z 7":[[10405,-3755,-1270,-5461,13787,1793,-1040,2015,6785],1,1008,15520],"nikon df":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,0,15520],"nikon d5100":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon d3100":[[7911,-2167,-813,-5327,13150,2408,-1288,2483,7968],3,0,3880],"nikon d40":[[6992,-1668,-806,-8138,15748,2543,-874,850,7897],0,0,3880],"nikon d40x":[[8819,-2543,-911,-9025,16928,2151,-1329,1213,8449],3,0,3880],"nikon d50":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d500":[[8813,-3210,-1036,-4703,12868,2021,-1054,1940,6129],1,400,15520],"nikon d5000":[[7309,-1403,-519,-8474,16008,2622,-2433,2826,8064],3,0,3767],"nikon d5200":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,0,15892],"nikon d5300":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3972],"nikon d5500":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d5600":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d60":[[8736,-2458,-935,-9075,16894,2251,-1354,1242,8263],3,0,3880],"nikon d600":[[8178,-2245,-609,-4857,12394,2776,-1207,2086,7298],1,0,15520],"nikon d610":[[8178,-2245,-609,-4857,12394,2776,-1207,2086,7298],1,0,15520],"nikon d70":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d700":[[8139,-2171,-663,-8747,16541,2295,-1925,2008,8093],1,0,3972],"nikon d750":[[9020,-2890,-715,-4535,12436,2348,-934,1919,7086],1,150,3880],"nikon d7000":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon d7100":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,0,15892],"nikon d7200":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,600,15892],"nikon d7500":[[8813,-3210,-1036,-4703,12868,2021,-1054,1940,6129],1,100,3880],"nikon d70s":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d80":[[8629,-2410,-883,-9055,16940,2171,-1490,1363,8520],3,0,3880],"nikon d800":[[7866,-2108,-555,-4869,12483,2681,-1176,2069,7501],1,0,15520],"nikon d800e":[[7866,-2108,-555,-4869,12483,2681,-1176,2069,7501],1,0,15520],"nikon d810":[[9369,-3195,-791,-4488,12430,2301,-893,1796,6872],1,150,3880],"nikon d850":[[10405,-3755,-1270,-5461,13787,1793,-1040,2015,6785],1,100,3880],"nikon d4s":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,192,3880],"nikon d90":[[7309,-1403,-519,-8474,16008,2622,-2434,2826,8064],3,0,3767],"nikon 1 j1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 j2":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,4095],"nikon 1 j3":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon 1 j4":[[5958,-1559,-571,-4021,11453,2939,-634,1548,5087],1,200,4e3],"nikon 1 j5":[[7520,-2518,-645,-3844,12102,1945,-913,2249,6835],1,200,3800],"nikon 1 s1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 s2":[[6612,-1342,-618,-3338,11055,2623,-174,1792,5075],1,200,4095],"nikon 1 v1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 v2":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon 1 v3":[[5958,-1559,-571,-4021,11453,2939,-634,1548,5087],1,200,4e3],"nikon 1 aw1":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon e5400":[[9349,-2987,-1001,-7919,15766,2266,-2098,2680,6839],0,0,4095],"nikon e5700":[[-5368,11478,2368,5537,-113,3148,-4969,10021,5782,778,9028,211],0,0,4095],"nikon coolpix p330":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p340":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,200,3800],"nikon coolpix a":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon coolpix b700":[[14387,-6014,-1299,-1357,9975,1616,467,1047,4744],1,200,4e3],"nikon coolpix p6000":[[9698,-3367,-914,-4706,12584,2368,-837,968,5801],1,0,4095],"nikon coolpix p7000":[[11432,-3679,-1111,-3169,11239,2202,-791,1380,4455],1,0,4095],"nikon coolpix p7100":[[11053,-4269,-1024,-1976,10182,2088,-526,1263,4469],1,0,3800],"nikon coolpix p7700":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p7800":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p1000":[[14294,-6116,-1333,-1628,10219,1637,-14,1158,5022],1,200,4095],"panasonic dmc-cm1":[[8770,-3194,-820,-2871,11281,1803,-513,1552,4434],1,142,4095],"panasonic dmc-fx150":[[9082,-2907,-925,-6119,13377,3058,-1797,2641,5609],0,15,3986],"panasonic dmc-fz28":[[10109,-3488,-993,-5412,12812,2916,-1305,2140,5543],0,15,3986],"panasonic dmc-fz150":[[11904,-4541,-1189,-2355,10899,1662,-296,1586,4289],3,145,3956],"panasonic dmc-fz200":[[8112,-2563,-740,-3730,11784,2197,-941,2075,4933],3,150,3956],"panasonic dmc-fz2000":[[7386,-2443,-743,-3437,11864,1757,-608,1660,4766],3,142,2095],"panasonic dmc-fz2500":[[7386,-2443,-743,-3437,11864,1757,-608,1660,4766],3,142,2095],"panasonic dmc-fz300":[[8378,-2798,-769,-3068,11410,1877,-538,1792,4623],3,143,4095],"panasonic dmc-g1":[[8199,-2065,-1056,-8124,16156,2033,-2458,3022,7220],3,15,3986],"panasonic dmc-g2":[[10113,-3400,-1114,-4765,12683,2317,-377,1437,6710],3,0,3900],"panasonic dmc-g10":[[10113,-3400,-1114,-4765,12683,2317,-377,1437,6710],3,0,3900],"panasonic dmc-gh1":[[6299,-1466,-532,-6535,13852,2969,-2331,3112,5984],3,0,3986],"panasonic dmc-gh3":[[6559,-1752,-491,-3672,11407,2586,-962,1875,5130],3,155,3956],"panasonic dmc-gh4":[[7122,-2108,-512,-3155,11201,2231,-541,1423,5045],0,142,4095],"panasonic dmc-gf1":[[7888,-1902,-1011,-8106,16085,2099,-2353,2866,7330],3,15,3986],"panasonic dmc-gf2":[[7888,-1902,-1011,-8106,16085,2099,-2353,2866,7330],3,150,3956],"panasonic dmc-gm1":[[6770,-1895,-744,-5232,13145,2303,-1664,2691,5703],0,143,3971],"panasonic dmc-gm5":[[8238,-3244,-679,-3921,11814,2384,-836,2022,5852],0,143,4095],"panasonic dmc-g3":[[6763,-1919,-863,-3868,11515,2684,-1216,2387,5879],2,143,3956],"panasonic dmc-g5":[[7798,-2562,-740,-3879,11584,2613,-1055,2248,5434],0,150,3956],"panasonic dmc-g6":[[8294,-2891,-651,-3869,11590,2595,-1183,2267,5352],0,142,3956],"panasonic dmc-g7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g70":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g8":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g80":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g81":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g85":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-gf3":[[9051,-2468,-1204,-5212,13276,2121,-1197,2510,6890],3,150,3956],"panasonic dmc-gf5":[[8228,-2945,-660,-3938,11792,2430,-1094,2278,5793],3,150,3956],"panasonic dmc-gf6":[[8130,-2801,-946,-3520,11289,2552,-1314,2511,5791],2,150,3956],"panasonic dmc-gf7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-gh2":[[7780,-2410,-806,-3913,11724,2484,-1018,2390,5298],3,15,3800],"panasonic dmc-fz35":[[9938,-2780,-890,-4604,12393,2480,-1117,2304,4620],0,150,3986],"panasonic dmc-fz38":[[9938,-2780,-890,-4604,12393,2480,-1117,2304,4620],0,150,3986],"panasonic dmc-fz45":[[13639,-5535,-1371,-1698,9633,2430,316,1152,4108],3,150,3986],"panasonic dmc-fz40":[[13639,-5535,-1371,-1698,9633,2430,316,1152,4108],3,150,3986],"panasonic dmc-fz70":[[11532,-4324,-1066,-2375,10847,1749,-564,1699,4351],1,120,3971],"panasonic dmc-fz72":[[11532,-4324,-1066,-2375,10847,1749,-564,1699,4351],1,120,3971],"panasonic dmc-fz100":[[16197,-6146,-1761,-2393,10765,1869,366,2238,5248],3,120,3986],"panasonic dmc-fz1000":[[7830,-2696,-763,-3325,11667,1866,-641,1712,4824],3,143,4095],"panasonic dmc-gx1":[[6763,-1919,-863,-3868,11515,2684,-1216,2387,5879],2,150,3956],"panasonic dmc-gx7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,150,3956],"panasonic dmc-gx8":[[7564,-2263,-606,-3148,11239,2177,-540,1435,4853],3,143,4095],"panasonic dmc-gx85":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-gx80":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-gx7mk2":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-lf1":[[9379,-3267,-816,-3227,11560,1881,-926,1928,5340],1,143,3971],"panasonic dmc-lx3":[[8128,-2668,-655,-6134,13307,3161,-1782,2568,6083],0,15,3971],"panasonic dmc-lx15":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"panasonic dmc-lx9":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"panasonic dmc-lx10":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"leica c (typ 112)":[[9379,-3267,-816,-3227,11560,1881,-926,1928,5340],1,146,3956],"leica digilux 2":[[11340,-4069,-1275,-7555,15266,2448,-2960,3426,7685],1,0,4095],"leica d-lux 3":[[8048,-2810,-623,-6450,13519,3272,-1700,2146,7049],0,0,3986],"leica v-lux 1":[[7906,-2709,-594,-6231,13351,3220,-1922,2631,6537],0,0,3986],"panasonic dmc-l10":[[8025,-1942,-1050,-7920,15904,2100,-2456,3005,7039],3,0,3986],"panasonic dmc-fz30":[[10976,-4029,-1141,-7918,15491,2600,-1670,2071,8246],1,0,3971],"panasonic dmc-fz50":[[7906,-2709,-594,-6231,13351,3220,-1922,2631,6537],0,0,3986],"panasonic dmc-fz8":[[8986,-2755,-802,-6341,13575,3077,-1476,2144,6379],1,0,3986],"panasonic dmc-fz18":[[9932,-3060,-935,-5809,13331,2753,-1267,2155,5575],0,0,3986],"panasonic dmc-l1":[[8054,-1885,-1025,-8349,16367,2040,-2805,3542,7629],3,0,3986],"panasonic dmc-lx2":[[8048,-2810,-623,-6450,13519,3272,-1700,2146,7049],0,0,3986],"leica d-lux 4":[[8128,-2668,-655,-6134,13307,3161,-1782,2568,6083],0,15,3971],"panasonic dmc-lx5":[[10909,-4295,-948,-1333,9306,2399,22,1738,4582],2,150,3986],"leica d-lux 5":[[10909,-4295,-948,-1333,9306,2399,22,1738,4582],2,150,3986],"panasonic dmc-lx7":[[10148,-3743,-991,-2837,11366,1659,-701,1893,4899],2,150,3971],"leica d-lux 6":[[10148,-3743,-991,-2837,11366,1659,-701,1893,4899],2,150,3971],"leica d-lux (typ 109)":[[8844,-3538,-768,-3709,11762,2200,-698,1792,5220],0,143,4095],"panasonic dmc-lx1":[[10704,-4187,-1230,-8314,15952,2501,-920,945,8927],1,0,3971],"panasonic dmc-lx100":[[8844,-3538,-768,-3709,11762,2200,-698,1792,5220],0,143,4095],"panasonic dc-lx100m2":[[8585,-3127,-833,-4005,12250,1953,-650,1494,4862],0,143,4095],"panasonic dmc-tz60":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-tz61":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-zs40":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-tz71":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-zs50":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-tz70":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-tz81":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-zs60":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz85":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz100":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-zs100":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-zs110":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tz101":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tz110":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tx1":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dc-fz82":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dc-fz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dmc-fz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dmc-fz85":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dc-gh5":[[7641,-2336,-605,-3218,11299,2187,-485,1338,5121],1,143,4095],"panasonic dc-gh5s":[[6929,-2355,-708,-4192,12534,1828,-1097,1989,5195],1,510,8e3],"panasonic dc-g9":[[7685,-2375,-634,-3687,11700,2249,-748,1546,5111],1,148,4095],"panasonic dc-gf9":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx800":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx850":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx9":[[7564,-2263,-606,-3148,11239,2177,-540,1435,4853],0,143,4095],"panasonic dc-tz90":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-zs70":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz91":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz92":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz93":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-tz202":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dc-tz200":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"pentax k100d":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,3950],"pentax k110d":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,4095],"pentax k100d super":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,4095],"pentax *ist d":[[9651,-2059,-1189,-8881,16512,2487,-1460,1345,10687],1,128,4095],"pentax *ist dl":[[10829,-2838,-1115,-8339,15817,2696,-837,680,11939],1,128,4095],"pentax *ist dl2":[[10504,-2438,-1189,-8603,16207,2531,-1022,863,12242],1,127,3950],"pentax *ist ds":[[10371,-2333,-1206,-8688,16231,2602,-1230,1116,11282],1,128,3950],"pentax k10d":[[9566,-2863,-803,-7170,15172,2112,-818,803,9705],1,0,4095],"pentax k20d":[[9427,-2714,-868,-7493,16092,1373,-2199,3264,7180],0,0,4095],"pentax k200d":[[9186,-2678,-907,-8693,16517,2260,-1129,1094,8524],1,0,4095],"pentax k-s1":[[8512,-3211,-787,-4167,11966,2487,-638,1288,6054],1,32,4062],"pentax k-s2":[[8662,-3280,-798,-3928,11771,2444,-586,1232,6054],1,0,3839],"pentax k-70":[[8113,-2078,-1275,-4359,12953,1514,-1091,1955,6044],1,64,16319],"pentax k-1":[[8827,-2829,-1238,-3611,12203,1549,-897,1687,6291],1,64,16316],"pentax k-1 mark ii":[[8952,-2869,-1256,-3612,12204,1550,-934,1757,6549],1,64,16316],"pentax k-3":[[7415,-2052,-721,-5186,12788,2682,-1446,2157,6773],1,1,15868],"pentax k-3 ii":[[7415,-2052,-721,-5186,12788,2682,-1446,2157,6773],1,1,15865],"pentax k-5":[[8713,-2833,-743,-4342,11900,2772,-722,1543,6247],0,512,16383],"pentax k-5 ii":[[8170,-2725,-639,-4440,12017,2744,-771,1465,6599],0,512,16383],"pentax k-5 ii s":[[8170,-2725,-639,-4440,12017,2744,-771,1465,6599],0,512,15863],"pentax k-7":[[9142,-2947,-678,-8648,16967,1663,-2224,2898,8615],0,0,4095],"pentax k-m":[[11057,-3604,-1155,-5152,13046,2329,-282,375,8104],1,0,4095],"pentax k-x":[[8843,-2837,-625,-5025,12644,2668,-411,1234,7410],0,41,4095],"pentax k-r":[[9895,-3077,-850,-5304,13035,2521,-883,1768,6936],0,64,4e3],"pentax kp":[[8617,-3228,-1034,-4674,12821,2044,-803,1577,5728],1,128,16254],"pentax k2000":[[11057,-3604,-1155,-5152,13046,2329,-282,375,8104],1,0,4095],"pentax 645d":[[9814,-2716,-1439,-5049,13907,1166,-1830,3836,5706],0,0,15767],"pentax 645z":[[9551,-3012,-1235,-3685,12133,1721,-1019,1887,6544],1,1,16316],"samsung ex2f":[[10648,-3897,-1055,-2022,10573,1668,-492,1611,4742],1,0,4095],"samsung ex1":[[8898,-2498,-994,-3144,11328,2066,-760,1381,4576],1,0,16383],"samsung nx1":[[10686,-4042,-1052,-3595,13238,276,-464,1259,5931],2,1024,16100],"samsung nx5":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx10":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx11":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx100":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx1000":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx1100":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx20":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx200":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx210":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx2000":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx30":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx300":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx300m":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx3000":[[8060,-2933,-761,-4504,12890,1762,-630,1489,5227],2,0,4095],"samsung nx500":[[10686,-4042,-1052,-3595,13238,276,-464,1259,5931],2,1024,16100],"samsung ek-gn120":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],3,0,4095],"samsung wb2000":[[12093,-3557,-1155,-1e3,9534,1733,-22,1787,4576],1,0,4095],"sony dsc-rx0":[[9396,-3507,-843,-2497,11111,1572,-343,1355,5089],1,800,16620],"sony dsc-rx10":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m2":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m3":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m4":[[7699,-2566,-629,-2967,11270,1928,-378,1286,4807],1,800,16380],"sony dsc-rx100":[[8651,-2754,-1057,-3464,12207,1373,-568,1398,4434],1,800,16620],"sony dsc-rx100m2":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m3":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m4":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m5":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m5a":[[11176,-4700,-965,-4004,12184,2032,-763,1726,5876],1,800,16300],"sony dsc-rx100m6":[[7325,-2321,-596,-3494,11674,2055,-668,1562,5031],1,800,16300],"sony dsc-rx1r":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,512,33192],"sony dsc-rx1rm2":[[6629,-1900,-483,-4618,12349,2550,-622,1381,6514],1,512,16300],"sony dslr-a100":[[9437,-2811,-774,-8405,16215,2290,-710,596,7181],2,0,4095],"sony dslr-a200":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a230":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a290":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a300":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a330":[[9847,-3091,-929,-8485,16346,2225,-714,595,7103],1,0,4095],"sony dslr-a350":[[6038,-1484,-578,-9146,16746,2513,-875,746,7217],1,0,4095],"sony dslr-a380":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a390":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a450":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],1,500,16e3],"sony dslr-a500":[[6046,-1127,-278,-5574,13076,2786,-691,1419,7625],0,500,16600],"sony dslr-a550":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],0,512,16372],"sony dslr-a560":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],0,476,16596],"sony dslr-a580":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],0,520,16596],"sony dslr-a700":[[5775,-805,-359,-8574,16295,2391,-1943,2341,7249],0,520,16383],"sony dslr-a850":[[5413,-1162,-365,-5665,13098,2866,-608,1179,8440],0,500,15e3],"sony dslr-a900":[[5209,-1072,-397,-8845,16120,2919,-1618,1803,8654],1,520,16383],"sony nex-3":[[6907,-1256,-645,-4940,12621,2320,-1710,2581,6230],1,520,16360],"sony nex-3n":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-5":[[6807,-1350,-342,-4216,11649,2567,-1089,2001,6420],1,520,16383],"sony nex-5n":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony nex-5r":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-5t":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,512,16300],"sony nex-6":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-7":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,512,16300],"sony nex-c3":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony nex-f3":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16360],"sony ilce-3000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-3500":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-5000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-5100":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-6000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-6300":[[5973,-1695,-419,-3826,11797,2293,-639,1398,5789],1,512,16300],"sony ilce-6500":[[5973,-1695,-419,-3826,11797,2293,-639,1398,5789],1,512,16300],"sony ilce-7":[[5271,-712,-347,-6153,13653,2763,-1601,2366,7242],1,512,16300],"sony ilce-7m2":[[5271,-712,-347,-6153,13653,2763,-1601,2366,7242],1,512,16300],"sony ilce-7m3":[[7374,-2389,-551,-5435,13162,2519,-1006,1795,6552],1,512,16300],"sony ilce-7r":[[4913,-541,-202,-6130,13513,2906,-1564,2151,7183],1,512,16300],"sony ilce-7rm2":[[6629,-1900,-483,-4618,12349,2550,-622,1381,6514],1,512,16300],"sony ilce-7rm3":[[6640,-1847,-503,-5238,13010,2474,-993,1673,6527],1,512,16383],"sony ilce-7s":[[5838,-1430,-246,-3497,11477,2297,-748,1885,5778],1,512,16300],"sony ilce-7sm2":[[5838,-1430,-246,-3497,11477,2297,-748,1885,5778],1,512,16300],"sony ilce-9":[[6389,-1703,-378,-4562,12265,2587,-670,1489,6550],1,512,16383],"sony dsc-rx1":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16628],"sony slt-a33":[[6069,-1221,-366,-5221,12779,2734,-1024,2066,6834],1,520,16596],"sony slt-a35":[[5986,-1618,-415,-4557,11820,3120,-681,1404,6971],1,545,16596],"sony slt-a37":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16500],"sony slt-a55":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],1,520,16596],"sony slt-a55v":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],1,520,16596],"sony slt-a57":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16596],"sony slt-a58":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony slt-a65":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a65v":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a77":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a77v":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony ilca-77m2":[[5991,-1732,-443,-4100,11989,2381,-704,1467,5992],1,512,16300],"sony ilca-68":[[6435,-1903,-536,-4722,12449,2550,-663,1363,6517],1,512,16300],"sony ilca-99m2":[[6660,-1918,-471,-4613,12398,2485,-649,1433,6447],1,512,16300],"sony slt-a99":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16596],"sony slt-a99v":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16596],"sinar hy6":[[16442,-2956,-2422,-2877,12128,750,-1136,6066,4559],1,0,0],"fujifilm finepix s6000fd":[[12628,-4887,-1401,-6861,14996,1962,-2198,2782,7091],3,0,15872],"fujifilm finepix s100fs":[[11521,-4355,-1065,-6524,13767,3058,-1466,1984,6045],3,512,16383],"fujifilm finepix s200exr":[[11401,-4498,-1312,-5088,12751,2613,-838,1568,5941],1,519,16250],"fujifilm finepix f600exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix f700":[[10004,-3219,-1201,-7036,15047,2107,-1863,2565,7736],3,0,16383],"fujifilm finepix f770exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix f900exr":[[12085,-4727,-953,-3257,11489,2002,-511,2046,4592],0,256,3900],"fujifilm finepix e550":[[11044,-3888,-1120,-7248,15168,2208,-1531,2277,8069],3,0,15875],"fujifilm is-1":[[21461,-10807,-1441,-2332,10599,1999,289,875,7703],3,0,15872],"fujifilm finepix s3pro":[[11807,-4612,-1294,-8927,16968,1988,-2120,2741,8006],3,0,15872],"fujifilm finepix s5pro":[[12300,-5110,-1304,-9117,17143,1998,-1947,2448,8100],3,0,15872],"fujifilm finepix s5600":[[9636,-2804,-988,-7442,15040,2589,-1803,2311,8621],3,0,15872],"fujifilm finepix e900":[[9183,-2526,-1078,-7461,15071,2574,-2022,2440,8639],3,0,15872],"fujifilm finepix s2pro":[[12492,-4690,-1402,-7033,15423,1647,-1507,2111,7697],3,128,4095],"fujifilm finepix s5000":[[8754,-2732,-1019,-7204,15069,2276,-1702,2334,6982],3,0,15872],"fujifilm finepix s5200":[[9636,-2804,-988,-7442,15040,2589,-1803,2311,8621],3,0,15872],"fujifilm finepix s5500":[[11940,-4431,-1255,-6766,14428,2542,-993,1165,7421],1,0,15872],"fujifilm finepix s6500fd":[[12628,-4887,-1401,-6861,14996,1962,-2198,2782,7091],3,0,15872],"fujifilm finepix s9500":[[10491,-3423,-1145,-7385,15027,2538,-1809,2275,8692],3,0,15872],"fujifilm finepix s9000":[[10491,-3423,-1145,-7385,15027,2538,-1809,2275,8692],3,0,15872],"fujifilm finepix s9600":[[12343,-4515,-1285,-7165,14899,2435,-1895,2496,8800],3,0,15872],"fujifilm finepix s9600fd":[[12343,-4515,-1285,-7165,14899,2435,-1895,2496,8800],3,0,15872],"fujifilm finepix hs10 hs11":[[12440,-3954,-1183,-1123,9674,1708,-83,1614,4086],0,50,3900],"fujifilm finepix hs20exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix hs30exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,258,3900],"fujifilm finepix hs50exr":[[12085,-4727,-953,-3257,11489,2002,-511,2046,4592],0,256,3900],"fujifilm finepix x100":[[12161,-4457,-1069,-5034,12874,2400,-795,1724,6904],0,254,4e3],"fujifilm finepix x10":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,256,4e3],"fujifilm x-s1":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,260,4e3],"fujifilm gfx 50s":[[11756,-4754,-874,-3056,11045,2305,-381,1457,6006],1,65,16383],"fujifilm x-pro1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,256,4094],"fujifilm x-pro2":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x70":[[10450,-4329,-878,-3217,11105,2421,-752,1758,6519],1,1024,16383],"fujifilm xf1":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,257,4e3],"fujifilm x-e1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,255,4094],"fujifilm x20":[[11768,-4971,-1133,-4904,12927,2183,-480,1723,4605],3,257,4094],"fujifilm x30":[[12328,-5256,-1144,-4469,12927,1675,-87,1291,4351],3,257,4094],"fujifilm x100f":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x100s":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x100t":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x-h1":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x-m1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,256,4094],"fujifilm x-a1":[[11086,-4555,-839,-3512,11310,2517,-815,1341,5940],1,256,4094],"fujifilm x-a2":[[10763,-4560,-917,-3346,11311,2322,-475,1135,5843],1,256,4094],"fujifilm x-a3":[[12407,-5222,-1086,-2971,11116,2120,-294,1029,5284],1,1024,16383],"fujifilm x-a5":[[11673,-4760,-1041,-3988,12058,2166,-771,1417,5569],1,1024,16383],"fujifilm xq1":[[9252,-2704,-1064,-5893,14265,1717,-1101,2341,4349],3,257,4094],"fujifilm xq2":[[9252,-2704,-1064,-5893,14265,1717,-1101,2341,4349],3,257,4094],"fujifilm x-e2":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-e3":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1023,16383],"fujifilm x-e2s":[[11562,-5118,-961,-3022,11007,2311,-525,1569,6097],1,1024,16383],"fujifilm x-t1":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-t2":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x-t3":[[16393,-7740,-1436,-4238,12131,2371,-633,1424,6553],2,1022,16383],"fujifilm x-t10":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-t20":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x-t30":[[16393,-7740,-1436,-4238,12131,2371,-633,1424,6553],2,1022,16383],"fujifilm x-t100":[[11673,-4760,-1041,-3988,12058,2166,-771,1417,5569],1,1024,16383],"minolta dimage a1":[[9274,-2547,-1167,-8220,16323,1943,-2273,2720,8340],1,0,3965],"minolta dimage 5":[[8983,-2942,-963,-6556,14476,2237,-2426,2887,8014],1,0,3965],"minolta dimage 7":[[9144,-2777,-998,-6676,14556,2281,-2470,3019,7744],1,0,3965],"minolta dimage 7i":[[10880,-3638,-1186,-6496,14313,2364,-2456,3092,7485],1,0,3965],"minolta dimage 7hi":[[11368,-3894,-1242,-6521,14358,2339,-2475,3056,7285],1,0,3965],"sony dsc-f828":[[7924,-1910,-777,-8226,15459,2998,-1517,2199,6818,-7242,11401,3481],0,495,16383],"sony dsc-hx99":[[13076,-5686,-1481,-4027,12851,1251,-167,725,4937],1,800,16300],"sony dsc-r1":[[8512,-2641,-694,-8042,15670,2526,-1821,2117,7414],2,511,16383],"mamiya zd":[[7645,2579,-1363,-8689,16717,2015,-3712,5941,5961],1,0,4e3],"leaf aptus 22":[[8236,1746,-1314,-8251,15953,2428,-3673,5786,5771],1,0,16191],"leaf credo 40":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf credo 60":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf credo 80":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf aptus-ii 5":[[1846,7955,-1222,-12994,19563,3596,-2035,3340,5136],2,0,15e3],"phase one p30":[[4516,-245,-37,-7020,14976,2173,-3206,4671,7087],2,0,16383],"phase one p65+":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"phase one iq140":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,65535],"phase one iq250":[[3984,0,0,0,1e4,0,0,0,7666],1,1024,65535],"kodak dcs pro slr/n":[[5494,2393,-232,-6427,13850,2846,-1876,3997,5445],2,0,4095],"kodak dcs pro 14n":[[5494,2393,-232,-6427,13850,2846,-1876,3997,5445],2,0,3700],"kodak dcs pro 14nx":[[5494,2393,-232,-6427,13850,2846,-1876,3997,5445],2,0,3700],"kodak dcs460":[[10592,-2206,-967,-1944,11685,230,2206,670,1273],2,7,6664],"kodak dcs520c":[[24542,-10860,-3401,-1490,11370,-297,2858,-605,3225],2,176,4095],"kodak dcs560c":[[20482,-7172,-3125,-1033,10410,-285,2542,226,3136],2,208,4095],"kodak dcs760c":[[16623,-6309,-1411,-4344,13923,323,2285,274,2926],2,0,3500],"kodak p880":[[12805,-4662,-1376,-7480,15267,2360,-1626,2194,7904],0,0,4095],"kodak easyshare z980 digital camera":[[11313,-3559,-1101,-3893,11891,2257,-1214,2398,4908],1,0,4095],"kodak z1015 is":[[11265,-4286,-992,-4694,12343,2647,-1090,1523,5447],0,0,4095],"epson r-d1":[[6827,-1878,-732,-8429,16012,2564,-704,592,7145],1,63,4095],"hasselblad cfv-50":[[5656,-659,-346,-3923,12306,1791,-1602,3509,5442],1,256,65535],"hasselblad h3d":[[3857,452,-46,-6008,14477,1596,-2627,4481,5718],1,0,31456],"hasselblad h5d-40":[[6159,-1402,-177,-5439,12762,3007,-955,2200,7104],1,256,62914],"hasselblad h5d-50c":[[4932,-835,141,-4878,11868,3437,-1138,1961,7067],1,256,62914],"canon powershot a610":[[15591,-6402,-1592,-5365,13198,2168,-1300,1824,5075],1,0,1023,2672,1968],"canon powershot s3 is":[[14062,-5199,-1446,-4712,12470,2243,-1286,2028,4836],1,0,1023,2888,2136],"canon powershot a620":[[15265,-6193,-1558,-4125,12116,2010,-888,1639,5220],1,0,1023,3152,2340],"canon powershot a720 is":[[14573,-5482,-1546,-1266,9799,1468,-1040,1912,3810],3,0,1023,3336,2480],"canon powershot a630":[[14201,-5308,-1757,-6087,14472,1617,-2191,3105,5348],1,0,1023,3344,2484],"canon powershot a640":[[13124,-5329,-1390,-3602,11658,1944,-1612,2863,4885],1,0,1023,3736,2772],"canon powershot a650":[[9427,-3036,-959,-2581,10671,1911,-1039,1982,4430],1,0,1023,4104,3048],"canon powershot sx110 is":[[14134,-5576,-1527,-1991,10719,1273,-1158,1929,3581],1,0,4095,3720,2772],"gitup git2":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,3200,65535,4608,3456],"gitup git2p":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,4160,65535,4624,3488],"paralenz dive camera":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,1024,16383,3840,2160],"sjcam sj6 legend":[[9489,-3814,-225,-6650,13742,3236,-627,797,7550],1,0,4095,4024,3036]};
O.Ls={};O.Ls.Ls=function(R,Z,B,o,r){if(o==null)o=3;if(r==null)r==!0;var Y=R.Y,E=R.Z,p=1/Y,y=Y*E,z=Date.now(),u=!1,Q=O.Ls.RZ(B,Y,E,255,128),H=O.Ls.RZ(B,Y,E,0,128),EB=0;
if(u)console.log("extract contours",Date.now()-z);z=Date.now();var T=function(Gn,Yy){var Gm=Gn<<2,GW=Yy<<2;
return Z[Gm]+Z[Gm+1]+Z[Gm+2]-(Z[GW]+Z[GW+1]+Z[GW+2])};Q.sort(T);H.sort(T);var C=O.a(y),e=O.a(y),$=[],x=new Uint32Array(Y*E);
x.fill(4294967295);for(var M=0;M<y;M++)if(B[M]==0)e[M]=255;else if(B[M]==255)C[M]=255;else{x[M]=$.length;
$.push(M)}var m=Q.length,G=H.length,K=$.length;function s(Gn,Yy,Gm,GW){var YR=Gn.length,YE=new Array(YR*2);
for(var M=0;M<YR;M++){var q=Gn[M],t=~~(q*GW),c=q-t*Gm,Gb=q<<2;YE[M*2]=c<<16|t;YE[M*2+1]=Yy[Gb]<<16|Yy[Gb+1]<<8|Yy[Gb+2]}return YE}var L=s(Q,Z,Y,p),_=s(H,Z,Y,p),P=s($,Z,Y,p);
if(u)console.log("Itemize",Date.now()-z,"Unknown:",K,m,G);z=Date.now();var i=O.style.BA(C,Y,E,!0),w=O.style.BA(e,Y,E,!0),k=new Array(K),h=new Array(K),j=new Array(K),I=new Array(K),V=new Array(K);
if(u)console.log("Dist transform",Date.now()-z);z=Date.now();var F=O.Ls.Lj;for(var M=0;M<K;M++){var q=$[M],t=~~(q*p),c=q-t*Y,f=i[q<<1],W=i[(q<<1)+1],l=Math.sqrt(f*f+W*W),g=w[q<<1],v=w[(q<<1)+1],Vg=Math.sqrt(g*g+v*v);
k[M]=1/l;h[M]=1/Vg;var GE=Math.floor(O.e.uk(q*17)*m),Gy=Math.floor(O.e.uk(q*19)*G);j[M]=GE;I[M]=Gy;V[M]=F(P[M*2],P[M*2+1],L[GE*2],L[GE*2+1],_[Gy*2],_[Gy*2+1],k[M],h[M],1e9)}var GY=[-Y-1,-Y,-Y+1,-1,1,Y-1,Y,Y+1];
while(Math.floor(Math.max(m,G)*Math.pow(.5,EB))>1)EB++;for(var Ga=0;Ga<o;Ga++){var GO=0;for(var M=0;
M<K;M++){var q=$[M],t=~~(q*p),c=q-t*Y,J=k[M],D=h[M],GB=P[M*2],Gj=P[M*2+1],GX=V[M],GE=j[M],Gy=I[M],GD=1;
if(t!=0&&c!=0&&c!=Y-1&&t!=E-1)for(var Gw=0;Gw<8;Gw++){var G_=x[q+GY[Gw]];if(G_==4294967295)continue;
var Gf=j[G_],Gl=I[G_];if(Gf==GE&&Gl==Gy)continue;var GU=F(GB,Gj,L[Gf*2],L[Gf*2+1],_[Gl*2],_[Gl*2+1],J,D,GX);
if(GU<GX){GX=GU;GE=Gf;Gy=Gl}}for(var Gi=0;Gi<EB;Gi++){var Gh=~~(m*GD),G$=~~(G*GD);GD*=.5;var GA=O.e.uk(q+Ga*17+Gi*31),GJ=O.e.uk(q+Ga*29+Gi*63),Ge=Math.max(0,GE-Gh),Gq=Math.min(GE+Gh,m-1),Gv=Math.max(0,Gy-G$),yi=Math.min(Gy+G$,G-1),Gf=Ge+~~(GA*(Gq-Ge)),Gl=Gv+~~(GJ*(yi-Gv)),GU=F(GB,Gj,L[Gf*2],L[Gf*2+1],_[Gl*2],_[Gl*2+1],J,D,GX);
if(GU<GX){GX=GU;GE=Gf;Gy=Gl}}V[M]=GX;j[M]=GE;I[M]=Gy;GO+=GX}}if(u)console.log(GO);if(u)console.log("iterations",Date.now()-z);
z=Date.now();var GZ=B.slice(0);for(var M=0;M<K;M++){var OU=O.Ls.alpha(P[M*2+1],L[j[M]*2+1],_[I[M]*2+1]);
GZ[$[M]]=~~(.5+255*OU)}GZ=O.pg.OYq(GZ,Z,new N(0,0,Y,E),16,.01*.01);if(u)console.log("guided filter",Date.now()-z);
z=Date.now();if(r)for(var M=0;M<y;M++)if(B[M]==255||B[M]==0)GZ[M]=B[M];var GH=Z.slice(0);for(var M=0;
M<K;M++){var OB=$[M],GE=Q[j[M]],GX=V[M],Gb=OB<<2,Gu=GZ[OB],GP=(Gu>=250?OB:GE)<<2;GH[Gb]=Z[GP];GH[Gb+1]=Z[GP+1];
GH[Gb+2]=Z[GP+2]}O.qH(GZ,GH,3);if(u)console.log(Date.now()-z);z=Date.now();return GH};O.Ls.Lj=function(R,Z,B,o,r,Y,E,p,y){var z=R>>>16,u=R&65535,Q=z-(B>>>16),H=u-(B&65535),T=z-(r>>>16),C=u-(r&65535),e=Math.sqrt(Q*Q+H*H)*E,$=Math.sqrt(T*T+C*C)*p;
if(e+$>=y)return 1e9;var x=O.Ls.OYX(Z,o,Y);return x+e+$};O.Ls.OYX=function(R,Z,B){var o=R>>>16,r=R>>>8&255,Y=R&255,E=Z>>>16,p=Z>>>8&255,y=Z&255,z=B>>>16,u=B>>>8&255,Q=B&255,H=O.Ls.alpha(R,Z,B),T=o-(H*E+(1-H)*z),C=r-(H*p+(1-H)*u),e=Y-(H*y+(1-H)*Q);
return Math.sqrt(T*T+C*C+e*e)};O.Ls.alpha=function(R,Z,B){var o=R>>>16,r=R>>>8&255,Y=R&255,E=Z>>>16,p=Z>>>8&255,y=Z&255,z=B>>>16,u=B>>>8&255,Q=B&255,H=E-z,T=p-u,C=y-Q,e=o-z,$=r-u,x=Y-Q,M=H*H+T*T+C*C,m=M==0?.5:(e*H+$*T+x*C)/M;
return Math.max(0,Math.min(1,m))};O.Ls.OSN=function(R){};O.Ls.RZ=function(R,Z,B,o,r){var Y=[],E=Z-1,p=B-1;
for(var y=1;y<p;y++)for(var z=1;z<E;z++){var u=y*Z+z;if(R[u]==o&&(R[u-Z-1]==r||R[u-Z]==r||R[u-Z+1]==r||(R[u-1]==r||R[u+1]==r)||(R[u+Z-1]==r||R[u+Z]==r||R[u+Z+1]==r)))Y.push(u)}return Y};
O.pg={};O.pg.OSv=function(R,Z,B,o,r){var Y=B.Y,E=B.Z,p=Y*E,y=O.pg.Rb,z=O.a(p*4),u;O.yg(z,4294967295);
var Q=B,H=R,T=Z,C=o;O.qH(R,z,0);u=O.to(z,B);u=O.to(u.Y$,u.rect);Q=u.rect;C=o>>>2;console.log(Q,C);H=O.a(Q.b());
O.KT(u.Y$,H,0);O.qH(Z,z,0);u=O.to(z,B);u=O.to(u.Y$,u.rect);T=O.a(Q.b());O.KT(u.Y$,T,0);var e=O.pg.OYw(H,T,Q,C,r),$=e[0],x=e[1],M=new N(0,0,Q.Y*2,Q.Z*2);
$=y($,Q,M,!0);$=y($,M,B,!0);x=y(x,Q,M,!0);x=y(x,M,B,!0);var m=O.a(p);for(var G=0;G<p;G++)m[G]=Math.max(0,Math.min(255,Math.floor(.5+($[G]*Z[G]+255*x[G]))));
return m};O.pg.Rb=function(R,Z,B,o){var r=B.Y,Y=B.Z,E=Z.Y,p=Z.Z,y=O.pg.Ja,z=new Float32Array(r*Y);for(var u=0;
u<p;u++){var Q=(u+u)*r;for(var H=0;H<E;H++){if(!0||H==0||u==0||H==E-1||u==p-1)z[Q]=z[Q+1]=z[Q+r]=z[Q+r+1]=R[u*E+H];
else{z[Q]=y(H+.25,u+.25,R,E,p);z[Q+1]=y(H+.75,u+.25,R,E,p);z[Q+r]=y(H+.25,u+.75,R,E,p);z[Q+r+1]=y(H+.75,u+.75,R,E,p)}Q+=2}}return z};
O.pg.Ja=function(R,Z,B,o,r){R-=.499999;Z-=.499999;var Y=Math.floor(R),E=Math.floor(Z),p=E*o+Y,y=R-Y,z=Z-E,u=(1-z)*(1-y),Q=(1-z)*y,H=z*(1-y),T=z*y;
if(B[p]==null||B[p+o+1]==null){console.log(R,Z,o,r);throw"e"}return u*B[p+0]+Q*B[p+1]+H*B[p+o+0]+T*B[p+o+1]};
O.pg.OYw=function(R,Z,B,o,r){var Y=B.Y,E=B.Z,p=Y*E,y=O.pg.Rd,z=O.pg.a,u=O.blur.jq,Q=O.pg.Bm,Z=y(Z),R=y(R),H=z(p);
u(Z,H,B,o);var T=z(p);u(R,T,B,o);var C=z(p);Q(Z,Z,C);u(C,C,B,o);var e=z(p);Q(Z,R,e);u(e,e,B,o);var $=z(p),x=z(p);
for(var M=0;M<p;M++){var m=H[M],G=T[M],K=C[M]-m*m,s=e[M]-m*G,L=s/(K+r),_=G-L*m;$[M]=L;x[M]=_}var P=z(p);
u($,P,B,o);var i=z(p);u(x,i,B,o);return[P,i]};O.pg.OYq=function(R,Z,B,o,r){var Y=B.Y,E=B.Z,p=Y*E,y=O.pg.Rb,z=Date.now(),u=!1,Q=B,H=R,T=Z,C=o;
Q=new N(0,0,Y>>>2,E>>>2);C=o>>>2;H=O.pg.OYP(R,Y,E);T=O.pg.ORB(Z,Y,E);if(u)console.log(Date.now()-z);
z=Date.now();var e=O.pg.ORl(H,T,Q,C,r),$=e[0],x=e[1],M=e[2],m=e[3];if(u)console.log(Date.now()-z);z=Date.now();
var G=O.a(p);for(var K=0;K<E;K++)for(var s=0;s<Y;s++){var L=K*Y+s,_=(K>>>2)*(Y>>>2)+(s>>>2),P=L<<2,i=$[_]*Z[P]+x[_]*Z[P+1]+M[_]*Z[P+2]+m[_]*255;
G[L]=Math.max(0,Math.min(255,~~(.5+i)))}if(u)console.log(Date.now()-z);z=Date.now();return G};O.pg.OYP=function(R,Z,B){var o=Z>>>2,r=B>>>2,Y=O.a(Z*B);
for(var E=0;E<r;E++)for(var p=0;p<o;p++)Y[E*o+p]=R[E*Z+p<<2];return Y};O.pg.ORB=function(R,Z,B){var o=Z>>>2,r=B>>>2,Y=O.a(Z*B*4);
for(var E=0;E<r;E++)for(var p=0;p<o;p++){var y=E*o+p<<2,z=E*Z+p<<4;Y[y]=R[z];Y[y+1]=R[z+1];Y[y+2]=R[z+2];
Y[y+3]=R[z+3]}return Y};O.pg.ORl=function(R,Z,B,o,r){var Y=B.Y,E=B.Z,p=Y*E,y=O.pg.Rd,z=O.pg.a,u=O.blur.jq,Q=O.pg.Bm,R=y(R),H=new O.ZF(Y*E);
O.AB(Z,H);var Z=[y(H.F),y(H.S),y(H.X)],T=O.pg.ORt(R,Z,B,o,r),C=z(p);u(R,C,B,o);var e=z(p);Q(Z[0],R,e);
u(e,e,B,o);var $=z(p);Q(Z[1],R,$);u($,$,B,o);var x=z(p);Q(Z[2],R,x);u(x,x,B,o);var M=z(p),m=z(p),G=z(p),K=z(p);
for(var s=0;s<p;s++){var L=C[s],_=T.ZX[s],P=T.Zv[s],i=T.Zm[s],w=e[s]-_*L,k=$[s]-P*L,h=x[s]-i*L;M[s]=T.O_i[s]*w+T.ZC[s]*k+T.Zn[s]*h;
m[s]=T.ZC[s]*w+T.OLt[s]*k+T.oV[s]*h;G[s]=T.Zn[s]*w+T.oV[s]*k+T.Oll[s]*h;K[s]=L-M[s]*_-m[s]*P-G[s]*i}u(M,M,B,o);
u(m,m,B,o);u(G,G,B,o);u(K,K,B,o);return[M,m,G,K]};O.pg.ORt=function(R,Z,B,o,r){var Y=B.Y,E=B.Z,p=Y*E,y=O.pg.a,z=O.blur.jq,u=O.pg.Bm,Q={};
Q.ZX=y(p);z(Z[0],Q.ZX,B,o);Q.Zv=y(p);z(Z[1],Q.Zv,B,o);Q.Zm=y(p);z(Z[2],Q.Zm,B,o);var H=y(p);u(Z[0],Z[0],H);
z(H,H,B,o);var T=y(p);u(Z[0],Z[1],T);z(T,T,B,o);var C=y(p);u(Z[0],Z[2],C);z(C,C,B,o);var e=y(p);u(Z[1],Z[1],e);
z(e,e,B,o);var $=y(p);u(Z[1],Z[2],$);z($,$,B,o);var x=y(p);u(Z[2],Z[2],x);z(x,x,B,o);Q.O_i=H;Q.ZC=T;
Q.Zn=C;Q.OLt=e;Q.oV=$;Q.Oll=x;for(var M=0;M<p;M++){var m=Q.ZX[M],G=Q.Zv[M],K=Q.Zm[M],s=H[M]-m*m+r,L=T[M]-m*G,_=C[M]-m*K,P=e[M]-G*G+r,i=$[M]-G*K,w=x[M]-K*K+r,k=P*w-i*i,h=i*_-L*w,j=L*i-P*_,I=s*w-_*_,V=_*L-s*i,F=s*P-L*L,q=k*s+h*L+j*_,t=1/q;
Q.O_i[M]=k*t;Q.ZC[M]=h*t;Q.Zn[M]=j*t;Q.OLt[M]=I*t;Q.oV[M]=V*t;Q.Oll[M]=F*t}return Q};O.pg.a=function(R){return new Float32Array(R)};
O.pg.Rd=function(R){var Z=R.length,B=new Float32Array(Z);for(var o=0;o<Z;o++)B[o]=R[o]*(1/255);return B};
O.pg.Bm=function(R,Z,B){for(var o=0;o<R.length;o++)B[o]=R[o]*Z[o]};O.mr={};O.mr.Bn=function(R,Z,B,o){var r=R[Z]-B[o],Y=R[Z+1]-B[o+1],E=R[Z+2]-B[o+2];
return Math.sqrt(r*r+Y*Y+E*E)*(1/441.7)};O.mr.getSelection=function(R,Z,B){var o=Z*B,r=O.a(o),Y=!1,E=Math.round(B*.7),p=1,y=new Uint32Array(12),z=O.a(12);
for(var u=0;u<E;u++)for(var Q=0;Q<Z;Q++){if(Q<p||u<p||Q>Z-p-1||u>B-p-1){var H=u*Z+Q,T=H<<2,C=0;if(u<p)C=4;
else if(Q>Z-p-1)C=8;y[C]+=R[T];y[C+1]+=R[T+1];y[C+2]+=R[T+2];y[C+3]++;r[H]=255}}for(var H=0;H<12;H+=4)for(var e=0;
e<3;e++)z[H+e]=y[H+e]/y[H+3];var $=new Float32Array(o);for(var H=0;H<o;H++){var T=H*4,x=O.mr.Bn(R,T,z,0),M=O.mr.Bn(R,T,z,4),m=O.mr.Bn(R,T,z,8),G=Math.max(x,Math.max(M,m));
$[H]=x+M+m-G}O.mr.BQ($);var K=Date.now(),s=new Float32Array(o),L=[],_=O.a(o);for(var H=0;H<3;H++){O.KT(R,_,H);
var P=new Uint16Array(o);L.push(P);O.mr.ORq(_,r,Z,B,P)}if(Y)console.log("MBD",Date.now()-K);K=Date.now();
for(var H=0;H<o;H++)s[H]=L[0][H]+L[1][H]+L[2][H];O.mr.BQ(s);for(var H=0;H<o;H++)s[H]+=.4*$[H];var i=Z>>>1,E=B>>>1,w=1/Math.sqrt(i*i+E*E);
for(var u=0;u<B;u++)for(var Q=0;Q<Z;Q++){var k=Q-i,h=u-E,j=1-Math.sqrt(k*k+h*h)*w;s[u*Z+Q]*=j}if(Y)console.log("Centeredness",Date.now()-K);
K=Date.now();for(var H=0;H<o;H++)r[H]=s[H]*255;var I=Math.round(Z/120),V=Math.round(I*.8);if(Y)console.log(I,V);
O.AO.Jy(r,_,Z,B,I,O.AO.gx,[]);r.set(_);if(Y)console.log("erosion",Date.now()-K);K=Date.now();for(var H=0;
H<o;H++)s[H]=r[H];O.mr.BQ(s);var F=O.a(256);for(var H=0;H<256;H++)F[H]=256/(1+Math.exp(-20*(H/255-.5)));
for(var H=0;H<o;H++){var q=~~(s[H]*255+.5);r[H]=F[q]}if(Y)console.log("Simoid",Date.now()-K);K=Date.now();
return r};O.mr.BQ=function(R){var Z=R.length,B=0;for(var o=0;o<Z;o++)B=Math.max(B,R[o]);var r=1/B;for(var o=0;
o<Z;o++)R[o]=R[o]*r};O.mr.ORq=function(R,Z,B,o,r){var Y=B*o,E=R.slice(0),p=R.slice(0);for(var y=0;y<Y;
y++)r[y]=Z[y]==255?0:65535;O.mr.XD(R,p,E,r,B,o);O.mr.aa(R,p,E,r,B,o);O.mr.XD(R,p,E,r,B,o);O.mr.aa(R,p,E,r,B,o);
return r};O.mr.XD=function(R,Z,B,o,r,Y){for(var E=1;E<r;E++)O.mr.qR(E,-1,R,Z,B,o);for(var p=1;p<Y;p++){O.mr.qR(p*r,-r,R,Z,B,o);
for(var E=1;E<r;E++){var y=p*r+E;O.mr.qR(y,-1,R,Z,B,o);O.mr.qR(y,-r,R,Z,B,o)}}};O.mr.aa=function(R,Z,B,o,r,Y){for(var E=r-2;
E>=0;E--)O.mr.qR(r*Y-r+E,1,R,Z,B,o);for(var p=Y-2;p>=0;p--){O.mr.qR(p*r+r-1,r,R,Z,B,o);for(var E=r-2;
E>=0;E--){var y=p*r+E;O.mr.qR(y,1,R,Z,B,o);O.mr.qR(y,r,R,Z,B,o)}}};O.mr.qR=function(R,Z,B,o,r,Y){var E=R+Z,p=B[R],y=o[E],z=r[E];
if(y<p)y=p;else if(p<z)z=p;var u=y-z;if(Y[E]!=65535&&u<Y[R]){Y[R]=u;o[R]=y;r[R]=z}};O.ux={};O.ux.filter=function(R,Z,B,o){var r=Z.Y,Y=Z.Z,E=r*Y,p=o[0],y=o[1],z=o[2],u=o[3],Q=o[4],H=o[5],T=o[6],C=Date.now(),e=new Float32Array(r*Y*4);
O.ux.OX_(R,r,Y,e);var $=Math.ceil(p*Math.sqrt(-2*Math.log(.1))),x=new ArrayBuffer(E*4),M=new Float32Array(x),m=new Float32Array(E),G=new Float32Array(E);
for(var K=0;K<E;K++){var s=K*4;M[K]=e[s];m[K]=e[s+1];G[K]=e[s+2]}O.blur.Dj(M,M,Z,$*1/2.4,2);O.blur.Dj(m,m,Z,$*1/2.4,2);
O.blur.Dj(G,G,Z,$*1/2.4,2);for(var K=0;K<E;K++){var s=K*4;e[s]=M[K];e[s+1]=m[K];e[s+2]=G[K]}var L=new Uint8Array(x);
for(var K=0;K<E;K++){var s=K*4,_=K*4,M=e[s],m=e[s+1],G=e[s+2],P=Math.sqrt((M-G)*(M-G)+4*m*m),i=(M+G+P)*.5,w=(M+G-P)*.5,k=w-G,h=m,j=k*k+h*h;
if(j!=0){var I=Math.sqrt(j),V=1/I;k*=V;h*=V}L[_]=128+127*k;L[_+1]=128+127*h}var F=1.3*y+2,q=u*(2/10),t=R.slice();
if(d.lx){var c=new Float32Array([1/r,1/Y]),f=d.yY(0,r,Y);f.set(t);var W=d.yY(1,r,Y);W.set(L);d._H(f,Z);
if(Q){f.TT(Z);d.filter.lA({type:d.filter.wT,RA:c,OWe:1/z,OWb:q},f.na)}f.TT(Z);d.filter.lA({type:d.filter.yO,oR:W.NZ,RA:c,OlP:F,OSE:2},f.na);
if(Q){f.TT(Z);d.filter.lA({type:d.filter.wp,RA:c,OWT:new Float32Array(T),OWg:H},f.na)}f.get(B)}else{if(Q)O.ux.B_(1/z,q,t,r,Y);
O.ux.yO(t,B,L,r,Y,F);if(Q)O.ux.ORU(r,Y,B,T,H)}var l=E*4;for(var K=3;K<l;K+=4)B[K]=R[K]};O.ux.yO=function(R,Z,B,o,r,Y){var E=Math.ceil(2*Y),p=-1/(2*Y*Y),y=[],z=1;
for(var u=0;u<E+20;u++)y[u]=Math.exp(u*u*p);var Q=[0,0,0,0];for(var H=0;H<r;H++){for(var T=0;T<o;T++){var C=H*o+T,e=C*4,$=1,x=R[e],M=R[e+1],m=R[e+2],G=R[e+3],K=(B[e]-128)*(1/127),s=(B[e+1]-128)*(1/127),L=K,_=s,P=T==0?.51:.49,i=H==0?.51:.49;
for(var u=0;u<2;u++){var w=T+P,k=H+i,h=0;while(h<E){if(w<.5||o-.5<w||k<.5||r-.5<k)break;var j=~~w,I=~~k,V=I*o+j,F=V*4,q=(B[F]-128)*(1/127),t=(B[F+1]-128)*(1/127);
if(q*L+t*_<0){q=-q;t=-t}L=q;_=t;w+=z*q;k+=z*t;if(w<.5||o-.5<w||k<.5||r-.5<k)break;var c=~~w,f=~~k,W=f*o+c<<2;
h+=z;var l=y[~~h];O.f.gb(w,k,R,o,r,Q);x+=Q[0]*l;M+=Q[1]*l;m+=Q[2]*l;G+=Q[3]*l;$+=l}L=-K;_=-s}var g=1/$;
Z[e]=~~(.5+x*g);Z[e+1]=~~(.5+M*g);Z[e+2]=~~(.5+m*g);Z[e+3]=~~(.5+G*g)}}};O.ux.ORU=function(R,Z,B,o,r){for(var Y=0;
Y<Z;Y++)for(var E=0;E<R;E++){var p=Y*R+E<<2,y=1+O.ux.OR$(E,Y,B,R,Z,o)*r;B[p]=Math.max(0,Math.min(255,B[p]*y));
B[p+1]=Math.max(0,Math.min(255,B[p+1]*y));B[p+2]=Math.max(0,Math.min(255,B[p+2]*y))}};O.ux.OR$=function(R,Z,B,o,r,Y){var E=B[(Z*o+Math.max(0,R-1))*4+3],p=B[(Z*o+Math.min(o-1,R+1))*4+3],y=B[(Math.max(0,Z-1)*o+R)*4+3],z=B[(Math.min(r-1,Z+1)*o+R)*4+3],u=.7,Q=(p-E)*(1/255),H=.7,T=(z-y)*(1/255),C=-Q*H,e=-u*T,$=u*H,x=Math.sqrt(C*C+e*e+$*$),M=1/x,m=C*M,G=e*M,K=$*M,s=Y[0]*m+Y[1]*G+Y[2]*K;
return s};O.ux.B_=function(R,Z,B,o,r){function Y(p,z,u){return Math.max(z,Math.min(u,p))}for(var E=0;
E<r;E++)for(var p=0;p<o;p++){var y=O.ux.ORr(p+.5,E+.5,R,Z);B[(E*o+p)*4+3]=Math.max(0,Math.min(255,y*255))}};
O.ux.ORr=function(R,Z,B,o){function r(_,P,i){return(1-i)*_+i*P}var Y=(R+613)*B,E=(Z+117)*B,p=~~Y,y=~~E,z=Y-p,u=E-y,Q=Math.sin(11),H=Math.cos(p)*Q,T=Math.cos(p+1)*Q,C=Math.cos(y)*Q,e=Math.cos(y+1)*Q,$=O.ux.hash(H,C),x=O.ux.hash(T,C),M=O.ux.hash(H,e),m=O.ux.hash(T,e),G=r($,x,z),K=r(M,m,z),s=r(G,K,u);
s=s<.5?0:1;var L=s+o*O.ux.hash(Math.cos(Y)*Q,Math.cos(E)*Q);return L*(1/3)};O.ux.hash=function(R,Z){var B=Math.sin(R*11.697096+Z*73.32456)*12157.47691;
return B-Math.floor(B)};O.ux.OX_=function(R,Z,B,o){var r=[-1,0,1,-2,0,2,-1,0,1],Y=[-1,-2,-1,0,0,0,1,2,1],E=Z-1,p=B-1,y=Z*4;
for(var z=1;z<p;z++)for(var u=1;u<E;u++){var Q=z*Z+u,H=Q*4,T=O.ux.DM(R,H,y,r),C=O.ux.DM(R,H,y,Y),e=O.ux.DM(R,H+1,y,r),$=O.ux.DM(R,H+1,y,Y),x=O.ux.DM(R,H+2,y,r),M=O.ux.DM(R,H+2,y,Y);
o[H]=T*T+e*e+x*x;o[H+1]=T*C+e*$+x*M;o[H+2]=C*C+$*$+M*M}O.ux.OXJ(o,Z,B)};O.ux.DM=function(R,Z,B,o){return R[Z-B-4]*o[0]+R[Z-B]*o[1]+R[Z-B+4]*o[2]+R[Z-4]*o[3]+R[Z]*o[4]+R[Z+4]*o[5]+R[Z+B-4]*o[6]+R[Z+B]*o[7]+R[Z+B+4]*o[8]};
O.ux.OXJ=function(R,Z,B){function o(y,z,u){var Q=z*4,H=u*4;y[H]=y[Q];y[H+1]=y[Q+1];y[H+2]=y[Q+2]}var r=Z-1,Y=B-1;
o(R,Z+1,0);o(R,2*Z-2,Z-1);for(var E=1;E<r;E++)o(R,Z+E,E);for(var p=1;p<Y;p++){o(R,p*Z+1,p*Z);o(R,p*Z+Z-2,p*Z+Z-1)}for(var E=1;
E<r;E++)o(R,(B-2)*Z+E,(B-1)*Z+E);o(R,(p-2)*Z+1,(p-1)*Z);o(R,(p-1)*Z-2,p*Z-1)};O.DE={};O.DE.Bg=function(R,Z,B,o){var r=R[Z*2],Y=R[Z*2+1],E=R[B*2],p=R[B*2+1],y=R[o*2],z=R[o*2+1];
return r*p+E*z+y*Y-y*p-E*Y-r*z};O.DE.aI=function(R,Z){var B=[],o=[],r=[],Y={};for(var E=0;E<Z.length;
E+=3){var p=~~(E*(1/3)),y=Z[E+0],z=Z[E+1],u=Z[E+2],Q=O.DE.Bg(R,y,z,u);if(Q>0){var H=z;z=u;u=H}var T=Y[u+"-"+z],C=Y[z+"-"+y],e=Y[y+"-"+u],$=[u,T,p,null],x=[z,C,p,$],M=[y,e,p,x];
$[3]=M;if(T)T[1]=$;if(C)C[1]=x;if(e)e[1]=M;Y[u+"-"+y]=M;Y[y+"-"+z]=x;Y[z+"-"+u]=$;B[y]=x;r[E]=x;B[z]=$;
r[E+1]=$;B[u]=M;r[E+2]=M;o[p]=x}return{UH:B,Ub:o,VI:r}};O.DE.Oar=function(R){var Z=[],B=R.Ub;for(var o=0;
o<B.length;o++){var r=B[o];Z.push(r[0]);r=r[3];Z.push(r[0]);r=r[3];Z.push(r[0])}return Z};O.DE.Oao=function(R,Z,B,o){var r=R[Z*2],Y=R[Z*2+1],E=R[B*2],p=R[B*2+1],y=R[o*2],z=R[o*2+1],u=E-r,Q=p-Y,H=y-r,T=z-Y,C=u*(r+E)+Q*(Y+p),e=H*(r+y)+T*(Y+z),$=2*(u*(z-p)-Q*(y-E));
if(Math.abs($)<1e-5){var x=Math.min(r,E,y),M=Math.min(Y,p,z),m=(Math.max(r,E,y)-x)*.5,G=(Math.max(Y,p,z)-M)*.5;
return[x+m,M+G,m*m+G*G,1]}var K=(T*C-Q*e)/$,s=(u*e-H*C)/$,m=K-r,G=s-Y;return[K,s,m*m+G*G,0]};O.DE.OaP=function(R,Z,B){var o=B[1],r=B[3],Y=r[3],E=o[3],p=E[3],y=B[2],z=o[2],u=B[0],Q=o[0],H=r[0],T=E[0],C=O.DE.Oao(R,Q,T,H),e=R[u*2]-C[0],$=R[u*2+1]-C[1],x=e*e+$*$>C[2]&&C[3]==0&&O.DE.Bg(R,T,u,H)<0&&O.DE.Bg(R,H,Q,T)<0;
if(x){B[0]=H;o[0]=T;B[3]=Y;Y[3]=E;E[3]=B;o[3]=p;p[3]=r;r[3]=o;r[2]=z;E[2]=y;Z.Ub[z]=p;Z.Ub[y]=Y;Z.UH[Q]=E;
Z.UH[u]=r}return x};O.DE.jU=function(R,Z,B){var o=R[Z*2]-R[B*2],r=R[Z*2+1]-R[B*2+1];return Math.sqrt(o*o+r*r)};
O.DE.Ojk=function(R,Z,B){var o=B[1],r=B[3],Y=r[3],E,p,y=B[2],z,u=B[0],Q=Y[0],H=r[0],T;if(o){E=o[3];p=E[3];
z=o[2];T=E[0]}var C=R.length>>>1;R[2*C]=(R[2*Q]+R[2*u])*.5;R[2*C+1]=(R[2*Q+1]+R[2*u+1])*.5;if(!0){var e=y,$=B,x=Z.Ub.length,M=[C,null,e,$],m=[H,M,x,Y];
M[1]=m;var G=[C,null,x,m];r[3]=M;Y[3]=G;Y[2]=x;Z.Ub[e]=r;Z.Ub[x]=G;Z.UH[u]=r;Z.UH[H]=Y;Z.VI.push(M,m,G)}if(o){var K=z,s=o,L=x+1;
G[1]=s,s[1]=G;var _=[C,null,K,s],P=[T,_,L,p];_[1]=P;var i=[C,$,L,P];$[1]=i;E[3]=_;p[3]=i;p[2]=L;Z.Ub[K]=E;
Z.Ub[L]=p;Z.UH[Q]=E;Z.UH[T]=p;Z.VI.push(_,P,i)}Z.UH[C]=$};O.DE.ar=function(R,Z){var B=0;while(!0){var o=B;
for(var r=0;r<Z.VI.length;r++){var Y=Z.VI[r];if(Y[1]==null)continue;var E=O.DE.OaP(R,Z,Y);if(E){B++;
break}}if(o==B)break}return B!=0};O.DE.Ojh=function(R,Z,B,o){var r=0;for(var Y=0;Y<o;Y++){var E=null,p=0;
for(var y=0;y<Z.VI.length;y++){var z=Z.VI[y],u=O.DE.jU(R,z[0],z[3][3][0])*(z[1]?1:2);if(u>p){E=z;p=u}}if(p>B){O.DE.Ojk(R,Z,E);
r++}}return r!=0};O.DE.Ojq=function(R,Z){var B=[],T=0;for(var o=0;o<R.length;o++)B.push(0);for(var o=0;
o<Z.VI.length;o++){var r=Z.VI[o],Y=r[0],E=r[3][3][0],p=R[Y*2],y=R[Y*2+1],z=R[E*2],u=R[E*2+1],Q=p-z,H=y-u;
B[Y*2]+=-Q;B[Y*2+1]+=-H;B[E*2]+=Q;B[E*2+1]+=H}for(var o=0;o<R.length;o+=2){var C=o>>>1,e=Z.UH[C],r=e,$=!0;
do{if(r[1]==null){$=!1;break}r=r[1][3]}while(r!=e);if($){var x=.02;R[o]+=x*B[o];R[o+1]+=x*B[o+1];T+=x*(B[o]*B[o]+B[o+1]*B[o+1])}}return T};
O.DE.Ojm=function(R,Z,B){var o=O.W.Rn(R),r=O.DE.aI(R,Z);O.DE.ar(R,r);for(var Y=0;Y<300;Y++){var E=!1,p=!1;
E=O.DE.Ojh(R,r,B,5);if(E)p=O.DE.ar(R,r);var y=O.DE.Ojq(R,r);if(!E&&!p&&y<1e-4){break}}return O.DE.Oar(r)};
O.Dh={};O.Dh.OIz=function(R,Z){var B=R.length,o=R[0].length,r=Z[0].length;if(o!=Z.length)throw"e";if((o&1)!=0)throw"e";
var Y=new Array(B);for(var E=0;E<B;E++)Y[E]=new Array(r);for(var E=0;E<B;E++){var p=R[E],y=Y[E];for(var z=0;
z<r;z++){var u=0;for(var Q=0;Q<o;Q+=2)u+=p[Q]*Z[Q][z]+p[Q+1]*Z[Q+1][z];y[z]=u}}return Y};O.Dh.aH=function(R){var Z=R.cy,B=R.GW,o=R.LF,r=R.oj,Y=R.RY,E=R.Cc,p=R.RK,m,G,K=0;
function y(J,D){var GB=J.length,Gj=J[0].length,Q=new Array(GB);for(var e=0;e<GB;e++){var GX=0;for(var Gw=0;
Gw<Gj;Gw++)GX+=J[e][Gw]*D[Gw];Q[e]=GX}return Q}function z(J){var D=new Array(J);for(var e=0;e<J;e++)D[e]=0;
return D}var u=B.length>>>1,Q=z(Z.ow*2),H=z(Z.ow),T=z(Z.ow),C=Date.now();for(var e=0;e<R.vy.length;e++){var $=Z.ONS+e,x=Z.ZA*(E[e*2]+p[e*2]),M=Z.ZA*(E[e*2+1]+p[e*2+1]);
Q[$*2]=x;Q[$*2+1]=M;H[$]=x;T[$]=M}Z.ONf.BI(r,Z.ONK.OK(Q),.01,m,G);for(var e=0;e<Z.OSK.VI.length;e++){var s=Z.OSK.VI[e],L=s[3][3][0],_=s[0],P=s[3][0],i=s[1]?s[1][3][0]:P;
if(s[1]&&L>_)continue;var w=B[L*2],k=B[L*2+1],h=B[_*2],j=B[_*2+1],I=r[L*2],V=r[L*2+1],F=r[_*2],q=r[_*2+1],t=r[P*2],c=r[P*2+1],f=r[i*2],W=r[i*2+1],l=[I,V,F,q,t,c];
if(s[1])l.push(f,W);var g=y(Z.ONs[K],l),v=g[0],Vg=g[1],GE=1/Math.sqrt(v*v+Vg*Vg);v*=GE;Vg*=GE;var Gy=h-w,GY=j-k;
H[K]=v*Gy+Vg*GY;T[K]=-Vg*Gy+v*GY;K++}var Ga=new Array(u),GO=new Array(u);for(var e=0;e<u;e++){Ga[e]=Y[e*2];
GO[e]=Y[e*2+1]}Z.OtW.BI(Ga,Z.OtN.OK(H),.5);Z.OtW.BI(GO,Z.OtN.OK(T),.5);for(var e=0;e<u;e++){Y[e*2]=Ga[e];
Y[e*2+1]=GO[e]}};O.Dh.jk=function(R){var Z=R.GW,B=R.LF,o=R.vy,u=0,x=0,Gy=1e3;function r(GB){var Gj=GB.length,GX=GB[0].length,Gw=new Array(GX);
for(var Q=0;Q<GX;Q++)Gw[Q]=new Array(Gj);for(var Q=0;Q<GX;Q++)for(var GE=0;GE<Gj;GE++)Gw[Q][GE]=GB[GE][Q];
return Gw}function Y(GB,Gj){var GX=GB.length,Gw=GB[0].length,G_=new Array(GX);for(var Q=0;Q<GX;Q++)G_[Q]=new Array(Gw);
for(var Q=0;Q<GX;Q++)for(var GE=0;GE<Gw;GE++)G_[Q][GE]=GB[Q][GE]-Gj[Q][GE];return G_}var E=O.Dh.OIz,p=Date.now(),y=O.DE.aI(Z,B),z=Z.length>>>1;
for(var Q=0;Q<y.VI.length;Q++)u+=y.VI[Q][1]?.5:1;var H=u+o.length,T=[],C=new O.iF(H*2,z*2),e=new O.iF(H,z),$=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],M=[],m=[];
for(var Q=0;Q<y.VI.length;Q++){var G=y.VI[Q],K=G[3][3][0],s=G[0],L=G[3][0],_=G[1]?G[1][3][0]:L;if(G[1]&&K>s)continue;
var P=Z[K*2],i=Z[K*2+1],w=Z[s*2],k=Z[s*2+1],h=Z[L*2],j=Z[L*2+1],I=Z[_*2],V=Z[_*2+1],F=[[P,i,1,0],[i,-P,0,1],[w,k,1,0],[k,-w,0,1],[h,j,1,0],[j,-h,0,1]];
if(G[1])F.push([I,V,1,0],[V,-I,0,1]);var q=r(F),t=E(linear.invert(E(q,F)),q);t.pop();t.pop();T.push(t);
var c=w-P,f=k-i,W=$[G[1]?1:0];W=Y(W,E([[c,f],[f,-c]],t));var l=[K*2,K*2+1,s*2,s*2+1,L*2,L*2+1,_*2,_*2+1],g=G[1]?8:6,v=[];
for(var Vg=0;Vg<g;Vg++)v.push([l[Vg],W[0][Vg],W[1][Vg]]);v.sort(function(GB,Gj){return GB[0]-Gj[0]});
for(var GE=0;GE<2;GE++){for(var Vg=0;Vg<g;Vg++){M[Vg]=v[Vg][0];m[Vg]=v[Vg][1+GE]}C.Yv(m,M,g)}if(K<s)e.Yv([-1,1],[K,s],2);
else e.Yv([1,-1],[s,K],2);x++}for(var Q=0;Q<o.length;Q++){var GY=o[Q];C.Yv([Gy],[GY*2],1);C.Yv([Gy],[GY*2+1],1);
e.Yv([Gy],[GY],1)}var Ga=C._J(),GO=Ga.BX(Ga),J=e._J(),D=J.BX(J);return{ONS:u,ow:H,ONK:Ga,ONf:GO,OtN:J,OtW:D,OSK:y,ONs:T,ZA:Gy}};
O.Dh.OIC=function(R,Z,B,o,r){var Y=new N(0,0,Z,B),E=O.a(Y.b());O.KT(R,E,3);O.round(E,70);var p=O.Fs(E,Y),y=[.1,.065,.035][o]*Math.max(p.Y,p.Z),z=r+1,u=Z+z*2,Q=B+z*2,H=new N(-z,-z,u,Q),T=O.a(H.b());
O.WX(E,Y,T,H);var C=T.slice(0);for(var e=0;e<r;e++){for(var $=1;$<Q-1;$++){for(var x=1;x<u-1;x++){var M=$*u+x;
C[M]=T[M-u]|T[M-1]|T[M]|T[M+1]|T[M+u]}}var m=C;C=T;T=m}var G=RB.BP(T,u,Q,Math.round(p.b()*5e-4)),K=RB.dm(G),s=new GN(1,0,0,1,-z,-z);
for(var M=0;M<K.length;M++){var L=K[M];O.W.P(L.path.I,s,L.path.I);L.GW=O.Dh.OIP(L.path);L.LF=O.W.OJZ(L.GW);
L.LF=O.DE.Ojm(L.GW,L.LF,y)}return K};O.Dh.OIP=function(R){var Z=[],B=R.I,o=R.J.length-1,r=0,Y=0;for(var E=0;
E<o;E++){var p=E*6,y=B[p+6]-B[p+0],z=B[p+7]-B[p+1],u=Math.ceil(Math.sqrt(y*y+z*z));for(var Q=0;Q<u;Q++){var H=Q/u,T=1-H,C=T*T*T*B[p+0]+3*T*T*H*B[p+2]+3*T*H*H*B[p+4]+H*H*H*B[p+6],e=T*T*T*B[p+1]+3*T*T*H*B[p+3]+3*T*H*H*B[p+5]+H*H*H*B[p+7];
Z.push(C,e);r=C;Y=e}}Z=O.W.Ib(Z,1);var $=[],x=Z.length;for(var p=0;p<x;p+=2){var e=Z.pop(),C=Z.pop();
$.push(C,e)}return $};O.Dh.OBl=function(R,Z,B,o){function r(P,i,w,k,h){var j=h[P*2]-h[i*2],I=h[P*2+1]-h[i*2+1],V=Math.sqrt(j*j+I*I);
if(w[P].indexOf(i)==-1){w[P].push(i);k[P].push(V)}if(w[i].indexOf(P)==-1){w[i].push(P);k[i].push(V)}}var Y=R.length>>>1,E=new Array(Y);
if(B.length==0){E.fill(0);return E}var p=new Array(Y),y=new Array(Y);for(var z=0;z<Y;z++){p[z]=[];y[z]=[]}for(var z=0;
z<Z.length;z+=3){r(Z[z],Z[z+1],p,y,R);r(Z[z],Z[z+2],p,y,R);r(Z[z+1],Z[z+2],p,y,R)}var u=new Float64Array(Y*2),Q=new Uint32Array(Y*2);
u.fill(1e9);var H=new Uint8Array(Y);for(var T=0;T<B.length;T++){H.fill(0);var C=["---",[0,B[T]]];while(C.length!=1){var e=O.Qc.Oaz(C),$=e[0],x=e[1];
if(H[x]==1)continue;var M=x<<1;if($<u[M]){u[M+1]=u[M];Q[M+1]=Q[M];u[M]=$;Q[M]=T}else if($<u[M+1]){u[M+1]=$;
Q[M+1]=T}H[x]=1;var m=p[x],G=y[x];for(var z=0;z<m.length;z++){var K=m[z];if(H[K]!=1){O.Qc.OaJ(C,[$+G[z],K])}}}}for(var z=0;
z<Y;z++){var M=z<<1,s=u[M],L=u[M+1],_=1/(s+L);E[z]=(1-s*_)*o[Q[M]]+(1-L*_)*o[Q[M+1]]}return E};O.Dh.OSz=function(R){var Z={J:[],I:[]},B=[R];
while(B.length!=0){var o=B.pop(),r=o.pS;if(o.ONH instanceof Array||o.OvV instanceof Array){Z.J.push("M","L","L","L","Z");
Z.I.push(r[0],r[1],r[2],r[1],r[2],r[3],r[0],r[3])}else B.push(o.ONH,o.OvV)}return Z};O.Dh.uV=function(R,Z,B,o,r,Y,E){var p=B.Y,y=B.Z,z=Math.round(E.length/3),u=new Array(z);
for(var Q=0;Q<z;Q++)u[Q]=Q;u.sort(function(T,C){return Y[E[T*3]]-Y[E[C*3]]});for(var Q=0;Q<z;Q++){var H=u[Q]*3;
O.Dh.OBe(E[H]*2,E[H+1]*2,E[H+2]*2,o,r,R,Z,p,y)}};O.Dh.OBe=function(R,Z,B,o,r,Y,E,p,y){var z=O.Dh.jj,u=[R,Z,B,1.2,1.2,1.2,0],Q=[0,0,0,0],H=r[R],T=r[R+1],C=r[Z],e=r[Z+1],$=r[B],x=r[B+1],M=Math.max(0,Math.min(p-1,o[R])),m=Math.max(0,Math.min(p-1,o[Z])),G=Math.max(0,Math.min(p-1,o[B])),K=Math.max(0,Math.min(y-1,o[R+1])),s=Math.max(0,Math.min(y-1,o[Z+1])),L=Math.max(0,Math.min(y-1,o[B+1])),_=C-H,P=e-T,i=$-H,w=x-T,k=1/(_*w-i*P+1e-9),h=Math.max(0,Math.floor(Math.min(H,C,$))),j=Math.min(p,Math.ceil(Math.max(H,C,$))),I=Math.max(0,Math.floor(Math.min(T,e,x))),V=Math.min(y,Math.ceil(Math.max(T,e,x)));
for(var F=I;F<V;F++)for(var q=h;q<j;q++){var t=q+.5-H,c=F+.5-T,f=(t*w-i*c)*k,W=(_*c-t*P)*k;if(f>=0&&W>=0&&f+W<=1){var l=1-f-W,g=M*l+m*f+G*W,v=K*l+s*f+L*W;
O.f.gb(g,v,Y,p,y,Q);O.Dh.OBn(Q,E,F*p+q<<2)}}};O.Dh.OBn=function(R,Z,B){var o=Z[B],r=Z[B+1],Y=Z[B+2],E=Z[B+3],p=1-R[3]*(1/255);
Z[B]=~~(.5+R[0]+o*p);Z[B+1]=~~(.5+R[1]+r*p);Z[B+2]=~~(.5+R[2]+Y*p);Z[B+3]=~~(.5+R[3]+E*p)};O.Dh.jj=function(){var R=function(B,o,r,Y){var E=Y[0],p=Y[1],y=Y[2],z=B[E+0],u=B[E+1],Q=B[p+0],H=B[p+1],T=B[y+0],C=B[y+1],e=Q-z,$=H-u,x=T-z,M=C-u,m=o-z,G=r-u,K=e*M-x*$,s=1/(K+1e-9),L=(m*M-x*G)*s,_=(e*G-m*$)*s;
if(L>=0&&_>=0&&L+_<=1){Y[3]=1-L-_;Y[4]=L;Y[5]=_;return 1}return 0},Z=function(B,o,r,Y){var E=[0,0,0,0,0,0];
for(var p=0;p<o.length;p+=3){E[0]=o[p]*2;E[1]=o[p+1]*2;E[2]=o[p+2]*2;if(R(B,r,Y,E)==1)return!0}return!1};
return{OVF:R,OvG:Z}}();O.WA={};O.WA.Owy=function(R,Z,B,o,r){var Y=O.WA.jI(R.buffer,Z,B).DY,E=Date.now(),p=new Uint32Array(Y.length);
for(var y=0;y<Y.length;y++)p[y]=Y[y].f_;var z=UPNG.quantize.getKDtree(new Uint8Array(p.buffer),o),u=[Z,1,-Z,-1,Z+1,-Z+1,-Z-1,Z-1,Z+Z,2,-Z-Z,-2,Z+Z-1,Z+Z+1,Z+2,-Z+2,-Z-Z+1,-Z-Z-1,-Z-2,Z-2,Z+Z+2,-Z-Z+2-Z-Z-2,Z+Z-2],Q=new Uint8Array(Z*B),H=R;
for(var T=0;T<B;T++)for(var C=0;C<Z;C++){var y=T*Z+C<<2,e=H[y]*(1/255),$=H[y+1]*(1/255),x=H[y+2]*(1/255),M=H[y+3]*(1/255),m=O.WA.eK(z,e,$,x,M,r);
if(m==null){var G=[],K=0;while(K<20){var s=T*Z+C+u[K]<<2,L=H[s]*(1/255),_=H[s+1]*(1/255),P=H[s+2]*(1/255),i=H[s+3]*(1/255),w=O.WA.eK(z,L,_,P,i,.005);
if(w!=null){if(G.indexOf(w)==-1){G.push(w);w.LE=1}else w.LE++}K++}G.sort(function(M,x){return x.LE-M.LE});
while(G.length!=0&&G[G.length-1].LE<3)G.pop();if(G.length==0)m=O.WA.eK(z,e,$,x,M,100);else if(G.length==1)m=G[0];
else if(G.length==2){var k=G[0],h=G[1],j=k.est.q,I=h.est.q,V=I[0]-j[0],F=I[1]-j[1],q=I[2]-j[2],t=I[3]-j[3],c=e-j[0],f=$-j[1],W=x-j[2],l=M-j[3],g=V*V+F*F+q*q+t*t,v=c*c+f*f+W*W+l*l,Vg=(c*V+f*F+W*q+l*t)/g,GE=v-Vg*Vg*g;
if(GE<.5)m=Vg<.5?k:h;else{m=O.WA.eK(z,e,$,x,M,100)}}else{var k=G[0],h=G[1],Gy=G[2],j=k.est.q,I=h.est.q,GY=Gy.est.q,Ga=j[0]-GY[0],GO=j[1]-GY[1],J=j[2]-GY[2],D=j[3]-GY[3],GB=I[0]-GY[0],Gj=I[1]-GY[1],GX=I[2]-GY[2],Gw=I[3]-GY[3],G_=GY[0]-e,Gf=GY[1]-$,Gl=GY[2]-x,GU=GY[3]-M,GD=Ga*Ga+GO*GO+J*J+D*D,Gi=Ga*GB+GO*Gj+J*GX+D*Gw,Gh=G_*Ga+Gf*GO+Gl*J+GU*D,G$=Ga*GB+GO*Gj+J*GX+D*Gw,GA=GB*GB+Gj*Gj+GX*GX+Gw*Gw,GJ=G_*GB+Gf*Gj+Gl*GX+GU*Gw,Ge=1/(Gi*G$-GD*GA),Vg=(GA*Gh-GJ*Gi)*Ge,Gq=(GJ*GD-Gh*G$)*Ge,Gv=1-Vg-Gq,yi=Math.max(Vg,Gq,Gv);
if(yi==Vg)m=k;else if(yi==Gq)m=h;else m=Gy}}Q[y>>2]=m.ind}return{LF:Q,DY:z[1]}};O.WA.jI=function(R,Z,B){var o=[],r={},Y=Z-1,E=B-1,p=0,y=new Uint32Array(R),z=[-Z-1,-Z,-Z+1,-1,1,Z-1,Z,Z+1,Z+Z,2,-Z-Z,-2,Z+Z-1,Z+Z+1,Z+2,-Z+2,-Z-Z+1,-Z-Z-1,-Z-2,Z-2,Z+Z+2,-Z-Z+2-Z-Z-2,Z+Z-2];
for(var u=1;u<E;u++)for(var Q=1;Q<Y;Q++){var H=u*Z+Q,T=y[H],C=!0;for(var e=0;e<8;e++)C=C&&y[H+z[e]]==T;
if(C){p++;var $=r[T];if($==null){r[T]=o.length;o.push({f_:T,xu:1})}else o[$].xu++}}return{DY:o,OvY:p}};
O.WA.eK=function(R,Z,B,o,r,Y){var E=UPNG.quantize.getNearest(R[0],Z,B,o,r);return O.WA.OwV(E,Z,B,o,r)<Y?E:null};
O.WA.OwV=function(R,Z,B,o,r){var Y=R.est.q,E=Z-Y[0],p=B-Y[1],y=o-Y[2],z=r-Y[3];return E*E+p*p+y*y+z*z};
O.WA.OSi=function(R,Z,B,o){var r=O.WA.OwA(R,Z,B,o),Y=r.LF,E=r.DY,p=r.OvR,y=UPNG.quantize.getKDtree(new Uint8Array(p.buffer.slice(0)),200),z=[];
for(var u=0;u<E.length;u++){var Q=E[u].uh,H=Q[0],T=Q[1],C=Q[2],e=Q[3];if(Math.min(H,T,C,e)<0)throw"e";
var $=UPNG.quantize.getNearest(y[0],H/255,T/255,C/255,e/255);z.push(y[1].indexOf($))}for(var u=0;u<Z*B;
u++)Y[u]=z[Y[u]];return{LF:Y,DY:y[1]}};O.WA.OwA=function(R,Z,B,o){var r=Z*B,Y=2*r,E=O.WA.Ow_(R,Z,B),p=65535+1,y=new Uint32Array(p),Q=0;
for(var z=0;z<Y;z++)y[E[z]]++;var u=new Uint32Array(p);for(var z=0;z<p;z++){u[z]=Q;Q+=y[z]}var H=new Uint32Array(Y);
for(var z=0;z<Y;z++){var T=E[z];H[u[T]]=z;u[T]++}var C=new UnionFind(r),e=new Uint16Array(r),$=new Uint32Array(r);
for(var z=0;z<r;z++)$[z]=1;var x=r,M=1e5/(o*10);for(var m=0;m<Y;m++){var G=H[m],K=E[G];if(K==65535)continue;
var z=G>>1,s=z+((G&1)==0?1:Z),L=C.find(z),_=C.find(s),P=Math.min(e[L]+M/Math.sqrt($[L]),e[_]+M/Math.sqrt($[_]));
if(L!=_&&K<=P){C.link(z,s);x--;var i=C.find(z);$[i]=$[L]+$[_];e[i]=K}}var w=[],k={},h=new Uint16Array(r);
for(var z=0;z<r;z++){var i=C.find(z),j=k[i];if(j==null){k[i]=j=w.length;w.push({xu:0,uh:[0,0,0,0]})}w[j].xu++;
for(var s=0;s<4;s++)w[j].uh[s]+=R[(z<<2)+s];h[z]=j}var I=new Uint32Array(w.length);for(var z=0;z<w.length;
z++){var j=w[z];for(var s=0;s<4;s++)j.uh[s]=Math.round(j.uh[s]/j.xu);I[z]=j.uh[3]<<24|j.uh[2]<<16|j.uh[1]<<8|j.uh[0]}return{LF:h,DY:w,OvR:I}};
O.WA.Ow_=function(R,Z,B){var o=new Uint16Array(Z*B*2);for(var r=0;r<B;r++)for(var Y=0;Y<Z;Y++){var E=r*Z+Y;
o[E+E]=Y<Z-1?O.WA.Iy(R,E,E+1):65535;o[E+E+1]=r<B-1?O.WA.Iy(R,E,E+Z):65535}return o};O.WA.Iy=function(R,Z,B){var o=Z<<2,r=B<<2,Y=R[o],E=R[o+1],p=R[o+2],y=R[o+3],z=R[r],u=R[r+1],Q=R[r+2],H=R[r+3],T=Y-z,C=E-u,e=p-Q,$=y-H;
return T*T+C*C+e*e+$*$>>2};O.WA.Ij=function(){function R(x,M,m,G,K,s){var L=[],_=s,P=s,i=s>>>2;for(var w=0;
w<K;w++)for(var k=0;k<G;k++){var h=~~((k+.5)*_),j=~~((w+.5)*P),I=1e9,V=Math.max(0,h-i),F=Math.min(M,h+i+1),q=Math.max(0,j-i),t=Math.min(m,j+i+1);
for(var c=q;c<t;c++)for(var f=V;f<F;f++){var W=Z(x,M,f,c);if(W<I){h=f;j=c;I=W}}var l=(j*M+h)*4;L.push(x[l],x[l+1],x[l+2],h,j)}return L}function Z(x,M,m,G){var K=(G*M+m)*4,s=M*4,L=B(x,K-4,K)+B(x,K,K+4),_=B(x,K-s,K)+B(x,K,K+s);
return L+_}function B(x,M,m){var G=x[M]-x[m],K=x[M+1]-x[m+1],s=x[M+2]-x[m+2];return G*G+K*K+s*s}var o=0,r=0;
function Y(x,M,m,G){r++;if(G<o)o=G;x[G].push(M,m)}function E(x){r--;while(x[o].length==0)o++}function p(x,M,m){o=0;
r=0;var G=M*m,K=Math.round(Math.min(M,m)/50),s=30/K,L=Math.floor(M/K),_=Math.floor(m/K),P=L*_,I=0,V=16;
if(P>65535)throw"e";var i=new Uint16Array(G);for(var w=0;w<G;w++)i[w]=65535;var k=R(x,M,m,L,_,K),h=[];
for(var w=0;w<1e3+m;w++)h.push([]);var j=[0,1,0,-1,-1,0,1,0],F=Math.min(_,5),q=new Uint32Array(P*6);
for(var t=0;t<_;t+=F){var c=Math.min(t+F+1,_);for(var f=t;f<c;f++)for(var W=0;W<L;W++){var w=f*L+W,l=w*5,g=k[l+4]<<16|k[l+3];
Y(h,g,w,k[l+4]>>>V)}var v=Math.min(m,c*K);if(t+F>=_)v=m;while(r!=0){E(h);var Vg=h[o].pop(),GE=h[o].pop(),Gy=GE>>>16,GY=GE&65535,w=Gy*M+GY;
if(i[w]==65535){var Ga=Vg*6,GO=w<<2;i[w]=Vg;q[Ga]+=x[GO];q[Ga+1]+=x[GO+1];q[Ga+2]+=x[GO+2];q[Ga+3]+=GY;
q[Ga+4]+=Gy;q[Ga+5]++;var J=Gy>>>V;if(Gy!=v-1&&i[w+M]==65535)Y(h,Gy+1<<16|GY,Vg,y(x,M,s,GY,Gy+1,q,Ga)+J);
if(Gy!=0&&i[w-M]==65535)Y(h,Gy-1<<16|GY,Vg,y(x,M,s,GY,Gy-1,q,Ga)+J);if(GY!=0&&i[w-1]==65535)Y(h,Gy<<16|GY-1,Vg,y(x,M,s,GY-1,Gy,q,Ga)+J);
if(GY!=M-1&&i[w+1]==65535)Y(h,Gy<<16|GY+1,Vg,y(x,M,s,GY+1,Gy,q,Ga)+J)}}if(v!=Gy){var D=(t+F)*L;q.fill(0,D*6,(D+L)*6);
for(var Gy=(t+F-2)*K;Gy<v;Gy++)for(var GY=0;GY<M;GY++){var w=Gy*M+GY;if(i[w]>=D){i[w]=65535}}}}return{LF:i,qQ:P,LB:q}}O.WA.Bp=function(x,M,m,G,K){var s=x.qQ,L=M*m,_=x.LB,P=x.LF,i=T(G,P,s,L),w=new UnionFind(s),q=0;
for(var k=1;k<m;k++)for(var h=1;h<M;h++){var j=k*M+h,I=P[j],V=0;if((V=P[j-1])!=I&&i[V]==i[I]&&z(_,0,I*6,V*6)<K)w.link(I,V);
if((V=P[j-M])!=I&&i[V]==i[I]&&z(_,0,I*6,V*6)<K)w.link(I,V)}var F=new Uint16Array(s);F.fill(65535);var t=new Uint16Array(s);
for(var j=0;j<s;j++){var c=w.find(j);if(F[c]==65535)F[c]=q++;t[j]=F[c]}var f=new Uint16Array(L);for(var j=0;
j<L;j++)f[j]=t[P[j]];return{LF:f,qQ:q}};O.WA.OfI=function(x,M,m,G){var K=O.a(m),s=M.length,L=0;for(var _=0;
_<s&&L!=3;_++){var P=G[_];if(P==0||P==255){var i=M[_],w=2-(P>>>7);K[i]=L=K[i]|w}}return L!=3};function y(x,M,m,G,K,s,L){var _=(K*M+G)*4,P=s[L+5],i=1/P,w=x[_]*P-s[L],k=x[_+1]*P-s[L+1],h=x[_+2]*P-s[L+2],j=G*P-s[L+3],I=K*P-s[L+4],V=Math.sqrt(w*w+k*k+h*h),F=Math.sqrt(j*j+I*I);
return~~((V+m*F)*i+.5)}function z(x,M,m,G){var K=1/x[m+5],s=1/x[G+5],L=x[m]*K-x[G]*s,_=x[m+1]*K-x[G+1]*s,P=x[m+2]*K-x[G+2]*s,i=x[m+3]*K-x[G+3]*s,w=x[m+4]*K-x[G+4]*s,k=Math.sqrt(L*L+_*_+P*P),h=Math.sqrt(i*i+w*w);
return~~(k+M*h+.5)}function u(x,M,m){var G=O.QN(x,new N(0,0,M,m)),K=G.rect.Y,s=G.rect.Z,L=p(G.Y$,K,s),_=L.LF,P=Date.now(),i=new Uint16Array(M*m);
i.fill(65535);for(var w=0;w<s;w++){for(var k=0;k<K;k++){var h=w*K+k,j=(w<<1)*M+(k<<1),I=_[h];if(_[h-K]!=I||_[h-1]!=I||_[h+1]!=I||_[h+K]!=I)I=65535;
i[j]=I;i[j+1]=I;i[j+M]=I;i[j+M+1]=I}}L.LF=i;return L}function Q(x,M){var m=0,G=x.length;while(m!=G&&x[m]!=M)m+=2;
return m==G?-1:m}function H(x,M){if(M==x.length-2){x.pop();x.pop()}else{x[M+1]=x.pop();x[M]=x.pop()}}O.WA.Ovt=function(x,M,m,G,K){var s=new Uint32Array(K*4400),Z=[];
for(var L=0;L<K;L++)Z.push([]);for(var _=0;_<m;_++)for(var P=0;P<M;P++){var L=_*M+P,i=L<<2,w=G[L],k=0,h=x[i]>>>4,j=x[i+1]>>>4,I=x[i+2]>>>4;
s[w*4400+(h<<8|j<<4|I)]++;s[w*4400+4096]++;s[w*4400+4100+(h<<4|j)]++;s[w*4400+4360+h]++;if(P!=0&&(k=G[L-1])!=w&&Q(Z[w],k)==-1){Z[w].push(k,0);
Z[k].push(w,0)}if(_!=0&&(k=G[L-M])!=w&&Q(Z[w],k)==-1){Z[w].push(k,0);Z[k].push(w,0)}}for(var L=0;L<K;
L++){var I=Z[L];for(var V=0;V<I.length;V+=2)I[V+1]=$(s,L,I[V])}return[s,Z]};function T(x,M,m,G){var K=O.a(m);
for(var s=0;s<G;s++){var L=x[s];if(L==0||L==255)K[M[s]]=2-(L>>>7)}return K}O.WA.OvJ=function(x,M,m,G,K,s,L){var _=M*m,P=L[0],Z=L[1],i=new UnionFind(G),w=T(K,x,G,_),k=-1,j=!0,I=0;
for(var h=0;h<G;h++)if(w[h]==1){if(k==-1)k=h;else i.link(h,k)}if(k==-1){for(var h=0;h<_;h++)s[h]=K[h]==255?255:0;
return}while(j){while(j){j=!1;for(var h=0;h<G;h++){if(w[h]==0){var V=C(Z[h]);if(w[V]==1){w[h]=w[V];j=!0;
i.link(h,V)}}}}j=!0;I=0;while(j){j=!1;for(var h=0;h<G;h++){if(w[h]==0){var V=C(Z[h]);if(w[V]==0){var F=h*4400,q=V*4400;
for(var t=0;t<4400;t+=2){P[F+t]+=P[q+t];P[F+t+1]+=P[q+t+1]}e(Z,P,h,V);I++;w[V]=3;j=!0;i.link(h,V)}}}}j=I!=0}var c=i.find(k);
for(var h=0;h<G;h++)w[h]=i.find(h)==c?255:0;for(var h=0;h<_;h++){s[h]=w[x[h]]}for(var h=0;h<_;h++){var V=K[h];
if(V==0||V==255)s[h]=V}};function C(x){var M=0,m=0,G=x.length;for(var K=0;K<G;K+=2){var s=x[K+1];if(s>m){m=s;
M=K}}return x[M]}function e(Z,x,M,m){var G=Z[M],K=Z[m];H(G,Q(G,m));H(K,Q(K,M));for(var s=0;s<K.length;
s+=2){var L=K[s],_=Z[L];H(_,Q(_,m));if(Q(_,M)==-1){_.push(M,0);G.push(L,0)}}for(var s=0;s<G.length;s+=2){var L=G[s],_=Z[L],P=$(x,M,L);
G[s+1]=P;_[Q(_,M)+1]=P}}function $(x,M,m){var G=0,K=4096,s=M*4400,L=m*4400;for(var _=0;_<16;_++){if(x[s+4360+_]==0||x[L+4360+_]==0)continue;
for(var P=0;P<16;P++){var i=_<<4|P;if(x[s+4100+i]==0||x[L+4100+i]==0)continue;var w=s+(i<<4),k=L+(i<<4);
for(var h=0;h<16;h++)G+=Math.sqrt(x[w+h]*x[k+h])}}var j=G/Math.sqrt(x[s+K]*x[L+K]);return~~(999.99999*j)}return p}();
var RB=function(){function R(){this.b=0;this.Ah=0;this.Xi={};this.CJ=[];this.cE=1e5;this.cX=1e5;this.cq=-1;
this.cv=-1;this.color=0}function Z(r){this.Rh=r;this.Ln=new Array(r);this.f_=new Array(r*6);this.OGR=0;
this.qL=new Array(r*2);this.alpha=new Array(r);this.cz=new Array(r);this.ci=new Array(r)}function B(r,Y,E,p){function y(x,M,r,Y){return r[Y*M+x]}function z($){var _=r.length;
while($<_&&r[$]==0)$++;return $<_?$:-1}function u(x,M,_){for(var $=2;$<5;$++){var P=0;for(var i=-$+1;
i<=$-1;i++){P+=y(x+i,M+$-1,r,Y)==_?1:-1;P+=y(x+$-1,M+i-1,r,Y)==_?1:-1;P+=y(x+i-1,M-$,r,Y)==_?1:-1;P+=y(x-$,M+i,r,Y)==_?1:-1}if(P>0)return 1;
else if(P<0)return 0}return 0}function Q(_,C){var e=new R,x=_,M=C,P=0,i=1,w;e.color=r[C*Y+_];e.sign=y(_,C,r,Y)==e.color?"+":"-";
while(1){e.CJ.push(x,M);if(x>e.cq)e.cq=x;if(x<e.cE)e.cE=x;if(M>e.cv)e.cv=M;if(M<e.cX)e.cX=M;e.Ah++;x+=P;
M+=i;e.b-=x*i;if(x==_&&M==C)break;var k=y(x+(P+i-1>>1),M+(i-P-1>>1),r,Y)==e.color,h=y(x+(P-i-1>>1),M+(i+P-1>>1),r,Y)==e.color;
if(h&&!k){if(p.Lw=="right"||p.Lw=="black"&&e.sign=="+"||p.Lw=="white"&&e.sign=="-"||p.Lw=="majority"&&u(x,M,e.color)||p.Lw=="minority"&&!u(x,M,e.color)){w=P;
P=-i;i=w}else{w=P;P=i;i=-w}}else if(h){w=P;P=-i;i=w}else if(!k){w=P;P=i;i=-w}}return e}var H=0,T=[];
while(!0){var H=z(H);if(H==-1)break;var C=Math.floor(H/Y),e=Q(H-C*Y,C);for(var $=0;$<e.CJ.length-2;$+=2){var x=e.CJ[$],M=e.CJ[$+1],m=M*Y+x;
if(x==e.CJ[$+2]&&M+1==e.CJ[$+3]&&r[m]!=0)RB.fill(m,r,Y,0)}if(e.b>p.Ovp)T.push(e)}for(var $=0;$<T.length;
$++)T[$].parent=-1;var G=Date.now();for(var $=1;$<T.length;$++){var K=T[$];for(var s=$-1;s>=0;s--){var L=T[s];
if(K.cE<L.cE||K.cq>L.cq||K.cX<L.cX||K.cv>L.cv)continue;if(!RB.OwW(L.CJ,K.CJ[0]+.5,K.CJ[1]+.5))continue;
K.parent=s;break}}return T}function o(r,Y){function E(P,i,w,k,h){this.x=P;this.y=i;this.RF=w;this.RC=k;
this.Xk=h}function p(P,i){return(i+P)%i}function y(P,i,w,k){return P*k-w*i}function z(P,i,w,k){return P*w+i*k}function u(P,i,w){if(P<=w)return P<=i&&i<w;
else return P<=i||i<w}function Q(P,i,w){var k=0;k+=i*P[0]*i;k+=i*P[1]*w;k+=i*P[2];k+=w*P[3]*i;k+=w*P[4]*w;
k+=w*P[5];k+=P[6]*i;k+=P[7]*w;k+=P[8];return k}function H(P,i,w){return i+P*(w-i)}function T(P,i,w,k){var h=Math.sign(w-P),j=-Math.sign(k-i);
return h*(w-P)-j*(k-i)}function C(P,i){return Math.sqrt(P*P+i*i)}function e(P,i,w,k,h){var j=1-P;return j*j*j*i+3*(j*j*P)*w+3*(P*P*j)*k+P*P*P*h}function $(P,i,w,k,h,j,I,V){var F=y(P,i,I,V),q=y(w,k,I,V),t=y(h,j,I,V),c=F-2*q+t,f=-2*F+2*q,W=F,l=f*f-4*c*W;
if(c==0||l<0)return-1;var g=Math.sqrt(l),v=(-f+g)/(2*c),Vg=(-f-g)/(2*c);if(v>=0&&v<=1)return v;else if(Vg>=0&&Vg<=1)return Vg;
else return-1}function x(_){var L,P,i;_.LZ=_.CJ[0];_.OJw=_.CJ[1];_.oJ=[];var w=_.oJ;w.push(new E(0,0,0,0,0));
for(L=0;L<_.Ah;L++){P=_.CJ[L<<1]-_.LZ;i=_.CJ[(L<<1)+1]-_.OJw;w.push(new E(w[L].x+P,w[L].y+i,w[L].RF+P*i,w[L].RC+P*P,w[L].Xk+i*i))}}function M(_){var P=_.Ah,i=_.CJ,w,k=new Array(P),h=new Array(P),j=new Array(4),I,V,F,q,t,c,f,W,l,g,v,L,Vg,GE,Gy,GY,Ga,GO,J=0;
_.Lo=new Array(P);for(L=P-1;L>=0;L--){if(i[L<<1]!=i[J<<1]&&i[(L<<1)+1]!=i[(J<<1)+1])J=L+1;h[L]=J}for(L=P-1;
L>=0;L--){var D=p(L+1,P)<<1;j[0]=j[1]=j[2]=j[3]=0;w=(3+3*(i[D]-i[L<<1])+(i[D+1]-i[(L<<1)+1]))/2;j[w]++;
I=0;V=0;F=0;q=0;J=h[L];GE=L;while(1){v=0;w=(3+3*Math.sign(i[J*2]-i[GE*2])+Math.sign(i[J*2+1]-i[GE*2+1]))/2;
j[w]++;if(j[0]&&j[1]&&j[2]&&j[3]){k[L]=GE;v=1;break}l=i[J*2]-i[L*2];g=i[J*2+1]-i[L*2+1];if(y(I,V,l,g)<0||y(F,q,l,g)>0){break}if(Math.abs(l)<=1&&Math.abs(g)<=1){}else{t=l+(g>=0&&(g>0||l<0)?1:-1);
c=g+(l<=0&&(l<0||g<0)?1:-1);if(y(I,V,t,c)>=0){I=t;V=c}t=l+(g<=0&&(g<0||l<0)?1:-1);c=g+(l>=0&&(l>0||g<0)?1:-1);
if(y(F,q,t,c)<=0){F=t;q=c}}GE=J;J=h[GE];if(!u(J,L,GE)){break}}if(v==0){f=Math.sign(i[J*2]-i[GE*2]);W=Math.sign(i[J*2+1]-i[GE*2+1]);
l=i[GE*2]-i[L*2];g=i[GE*2+1]-i[L*2+1];Gy=y(I,V,l,g);GY=y(I,V,f,W);Ga=y(F,q,l,g);GO=y(F,q,f,W);Vg=1e7;
if(GY<0){Vg=Math.floor(Gy/-GY)}if(GO>0){Vg=Math.min(Vg,Math.floor(-Ga/GO))}k[L]=p(GE+Vg,P)}}Vg=k[P-1];
_.Lo[P-1]=Vg;for(L=P-2;L>=0;L--){if(u(L+1,k[L],Vg)){Vg=k[L]}_.Lo[L]=Vg}for(L=P-1;u(p(L+1,P),Vg,_.Lo[L]);
L--){_.Lo[L]=Vg}}function m(_){function P(_,L,i){var h=_.Ah,l=_.CJ,g=_.oJ,v,Vg,GE,Gy,GY,k,Ga,GO,W,J,D,GB,Gj,GX,Gw=0;
if(i>=h){i-=h;Gw=1}if(Gw==0){v=g[i+1].x-g[L].x;Vg=g[i+1].y-g[L].y;Gy=g[i+1].RC-g[L].RC;GE=g[i+1].RF-g[L].RF;
GY=g[i+1].Xk-g[L].Xk;k=i+1-L}else{v=g[i+1].x-g[L].x+g[h].x;Vg=g[i+1].y-g[L].y+g[h].y;Gy=g[i+1].RC-g[L].RC+g[h].RC;
GE=g[i+1].RF-g[L].RF+g[h].RF;GY=g[i+1].Xk-g[L].Xk+g[h].Xk;k=i+1-L+h}D=(l[L<<1]+l[i<<1])/2-l[0];GB=(l[(L<<1)+1]+l[(i<<1)+1])/2-l[1];
GX=l[i<<1]-l[L<<1];Gj=-(l[(i<<1)+1]-l[(L<<1)+1]);Ga=(Gy-2*v*D)/k+D*D;GO=(GE-v*GB-Vg*D)/k+D*GB;W=(GY-2*Vg*GB)/k+GB*GB;
J=Gj*Gj*Ga+2*Gj*GX*GO+GX*GX*W;return Math.sqrt(J)}var L,i,w,k,h=_.Ah,j=new Array(h+1),I=new Array(h+1),V=new Array(h),F=new Array(h+1),q=new Array(h+1),t=new Array(h+1),c,f,W;
for(L=0;L<h;L++){W=p(_.Lo[p(L-1,h)]-1,h);if(W==L){W=p(L+1,h)}if(W<L){V[L]=h}else{V[L]=W}}i=1;for(L=0;
L<h;L++){while(i<=V[L]){F[i]=L;i++}}L=0;for(i=0;L<h;i++){q[i]=L;L=V[L]}q[i]=h;w=i;L=h;for(i=w;i>0;i--){t[i]=L;
L=F[L]}t[0]=0;j[0]=0;for(i=1;i<=w;i++){for(L=t[i];L<=q[i];L++){f=-1;for(k=q[i-1];k>=F[L];k--){c=P(_,k,L)+j[k];
if(f<0||c<f){I[L]=k;f=c}}j[L]=f}}_.Uc=w;_.OJK=new Array(w);for(L=h,i=w-1;L>0;i--){L=I[L];_.OJK[i]=L}}function G(_){function P(_,L,c,V,F,G_){var k=_.Ah,Gf=_.oJ,Gl=0,W;
while(c>=k){c-=k;Gl+=1}while(L>=k){L-=k;Gl-=1}while(c<0){c+=k;Gl-=1}while(L<0){L+=k;Gl+=1}var GU=Gf[c+1].x-Gf[L].x+Gl*Gf[k].x,GD=Gf[c+1].y-Gf[L].y+Gl*Gf[k].y,Gi=Gf[c+1].RC-Gf[L].RC+Gl*Gf[k].RC,Gh=Gf[c+1].RF-Gf[L].RF+Gl*Gf[k].RF,G$=Gf[c+1].Xk-Gf[L].Xk+Gl*Gf[k].Xk,f=c+1-L+Gl*k;
V[G_]=GU/f;V[G_+1]=GD/f;var GA=(Gi-GU*GU/f)/f,GJ=(Gh-GU*GD/f)/f,Ge=(G$-GD*GD/f)/f,Gq=(GA+Ge+Math.sqrt((GA-Ge)*(GA-Ge)+4*GJ*GJ))/2;
GA-=Gq;Ge-=Gq;if(Math.abs(GA)>=Math.abs(Ge)){W=Math.sqrt(GA*GA+GJ*GJ);if(W!=0){F[G_]=-GJ/W;F[G_+1]=GA/W}}else{W=Math.sqrt(Ge*Ge+GJ*GJ);
if(W!=0){F[G_]=-Ge/W;F[G_+1]=GJ/W}}if(W==0){F[G_]=F[G_+1]=0}}var i=_.Uc,w=_.OJK,k=_.Ah,h=_.CJ,j=_.LZ,I=_.OJw,V=new Array(i*2),F=new Array(i*2),q=new Array(i),t=new Array(3),L,c,f,W,Vg,GE,Gy,GY,Ga,GO,J;
_.Xi=new Z(i);for(L=0;L<i;L++){c=w[p(L+1,i)];c=p(c-w[L],k)+w[L];V[L<<1]=0;V[(L<<1)+1]=0;F[L<<1]=0;F[(L<<1)+1]=0;
P(_,w[L],c,V,F,L<<1)}for(L=0;L<i;L++){q[L]=[0,0,0,0,0,0,0,0,0];var l=F[L<<1]*F[L<<1]+F[(L<<1)+1]*F[(L<<1)+1],g=1/l;
if(l!=0){t[0]=F[(L<<1)+1];t[1]=-F[L<<1];t[2]=-t[1]*V[(L<<1)+1]-t[0]*V[L<<1];for(W=0;W<3;W++){q[L][W*3+0]=t[W]*t[0]*g;
q[L][W*3+1]=t[W]*t[1]*g;q[L][W*3+2]=t[W]*t[2]*g}}}var v=[0,0,0,0,0,0,0,0,0];for(L=0;L<i;L++){v[0]=v[1]=v[2]=v[3]=v[4]=v[5]=v[6]=v[7]=v[8]=v[9]=0;
var D=h[w[L]<<1]-j,GB=h[(w[L]<<1)+1]-I,Gj=0,GX=0;c=p(L-1,i);for(W=0;W<9;W+=3){v[W+0]=q[c][W+0]+q[L][W+0];
v[W+1]=q[c][W+1]+q[L][W+1];v[W+2]=q[c][W+2]+q[L][W+2]}while(1){var Gw=v[0]*v[4]-v[1]*v[3];if(Gw!=0){Gj=(-v[2]*v[4]+v[5]*v[0])/Gw;
GX=(v[2]*v[3]-v[5]*v[0])/Gw;break}if(v[0]>v[4]){t[0]=-v[1];t[1]=v[0]}else if(v[4]){t[0]=-v[4];t[1]=v[3]}else{t[0]=1;
t[1]=0}var l=t[0]*t[0]+t[1]*t[1],g=1/l;t[2]=-t[1]*GB-t[0]*D;for(W=0;W<3;W++){v[W*3+0]+=t[W]*t[0]*g;v[W*3+1]+=t[W]*t[1]*g;
v[W*3+2]+=t[W]*t[2]*g}}Vg=Math.abs(Gj-D);GE=Math.abs(GX-GB);if(Vg<=.5&&GE<=.5){_.Xi.qL[L<<1]=Gj+j;_.Xi.qL[(L<<1)+1]=GX+I;
continue}Gy=Q(v,D,GB);Ga=D;GO=GB;if(v[0]!=0){for(J=0;J<2;J++){GX=GB-.5+J;Gj=-(v[1]*GX+v[2])/v[0];Vg=Math.abs(Gj-D);
GY=Q(v,Gj,GX);if(Vg<=.5&&GY<Gy){Gy=GY;Ga=Gj;GO=GX}}}if(v[4]!=0){for(J=0;J<2;J++){Gj=D-.5+J;GX=-(v[3]*Gj+v[5])/v[4];
GE=Math.abs(GX-GB);GY=Q(v,Gj,GX);if(GE<=.5&&GY<Gy){Gy=GY;Ga=Gj;GO=GX}}}for(W=0;W<2;W++){for(f=0;f<2;
f++){Gj=D-.5+W;GX=GB-.5+f;GY=Q(v,Gj,GX);if(GY<Gy){Gy=GY;Ga=Gj;GO=GX}}}_.Xi.qL[L<<1]=Ga+j;_.Xi.qL[(L<<1)+1]=GO+I}}function K(_){var P=_.Xi.Rh,i=_.Xi,L,w,k,h,j,I,V,F,q;
for(L=0;L<P;L++){w=p(L+1,P);k=p(L+2,P);var t=i.qL[L<<1],c=i.qL[(L<<1)+1],f=i.qL[k<<1],W=i.qL[(k<<1)+1],l=i.qL[w<<1],g=i.qL[(w<<1)+1],v=H(.5,f,l),Vg=H(.5,W,g);
j=T(t,c,f,W);if(j!=0){h=y(l-t,g-c,f-t,W-c)/j;h=Math.abs(h);I=h>1?1-1/h:0;I=I*(1/.75)}else{I=4/3}i.cz[w]=I;
var GE=3*w<<1;if(I>=Y.Ovo){i.Ln[w]=0;i.f_[GE+0]=i.f_[GE+1]=0;i.f_[GE+2]=l;i.f_[GE+3]=g;i.f_[GE+4]=v;
i.f_[GE+5]=Vg}else{if(I<.55){I=.55}else if(I>1){I=1}var Gy=.5+.5*I;i.Ln[w]=1;i.f_[GE]=H(Gy,t,l);i.f_[GE+1]=H(Gy,c,g);
i.f_[GE+2]=H(Gy,f,l);i.f_[GE+3]=H(Gy,W,g);i.f_[GE+4]=v;i.f_[GE+5]=Vg}i.alpha[w]=I;i.ci[w]=.5}i.OzX=1}function s(_){function P(){this.LQ=0;
this.oq=0;this.oH=0;this.oc=0;this.oP=0;this.RN=0;this.tH=0;this.alpha=0}function i(_,L,t,Gv,yi,GY,Ga){var k=_.Xi.Rh,GZ=_.Xi.f_,OU=_.Xi.qL;
if(L==t)return 1;var GH=L,l=p(L+1,k),OB=p(GH+1,k),Gi=OU[L<<1],Gh=OU[(L<<1)+1],Gb=OU[l<<1],Gu=OU[(l<<1)+1],GP=GY[OB];
if(GP==0)return 1;var Gn=C(Gi-Gb,Gh-Gu);for(GH=OB;GH!=t;GH=OB){var OB=p(GH+1,k),Yy=p(GH+2,k),Gm=OU[OB<<1],GW=OU[(OB<<1)+1],YR=OU[Yy<<1],YE=OU[(Yy<<1)+1];
if(GY[OB]!=GP)return 1;if(Math.sign(y(Gb-Gi,Gu-Gh,YR-Gm,YE-GW))!=GP)return 1;if(z(Gb-Gi,Gu-Gh,YR-Gm,YE-GW)<Gn*C(Gm-YR,GW-YE)*-.999847695156)return 1}var Yq=p(L,k)*3+2<<1,YX=p(L+1,k)<<1,O_=p(t,k)<<1,Y_=p(t,k)*3+2<<1,Gw=GZ[Yq],G_=GZ[Yq+1],OY=OU[YX],GT=OU[YX+1],YY=OU[O_],Of=OU[O_+1],Ox=GZ[Y_],yR=GZ[Y_+1],GO=OU[0],J=OU[1];
Yq=t*3+2<<1;var Oj=GZ[Yq],RV=GZ[Yq+1],g=Ga[t]-Ga[L];g-=y(Oj-GO,RV-J,Oj-GO,RV-J)/2;if(L>=t){g+=Ga[k]}var OJ=OY-Gw,Ye=GT-G_,ye=YY-Gw,Ys=Of-G_,YC=Ox-Gw,YD=yR-G_,yf=y(OJ,Ye,ye,Ys),RY=y(OJ,Ye,YC,YD),EA=y(ye,Ys,YC,YD),ES=yf+EA-RY;
if(RY==yf)return 1;var Gy=EA/(EA-ES),GE=RY/(RY-yf),YO=RY*Gy/2;if(YO==0)return 1;var Yf=g/YO,v=2-Math.sqrt(4-Yf/.3);
Gv.oq=H(Gy*v,Gw,OY);Gv.oH=H(Gy*v,G_,GT);Gv.oc=H(GE*v,Ox,YY);Gv.oP=H(GE*v,yR,Of);Gv.alpha=v;Gv.RN=Gy;
Gv.tH=GE;OY=Gv.oq;GT=Gv.oH;YY=Gv.oc;Of=Gv.oP;Gv.LQ=0;for(GH=p(L+1,k);GH!=t;GH=OB){OB=p(GH+1,k);var YS=OU[GH<<1],Yp=OU[(GH<<1)+1],Gm=OU[OB<<1],GW=OU[(OB<<1)+1];
Gy=$(OY-Gw,GT-G_,YY-OY,Of-GT,Ox-YY,yR-Of,Gm-YS,GW-Yp);if(Gy<-.5)return 1;var YB=e(Gy,Gw,OY,YY,Ox),YW=e(Gy,G_,GT,Of,yR),Gn=C(Gm-YS,GW-Yp);
if(Gn==0)return 1;var YJ=y(Gm-YS,GW-Yp,YB-YS,YW-Yp)/Gn;if(Math.abs(YJ)>yi)return 1;if(z(Gm-YS,GW-Yp,YB-YS,YW-Yp)<0||z(YS-Gm,Yp-GW,YB-Gm,YW-GW)<0){return 1}Gv.LQ+=YJ*YJ}for(GH=L;
GH!=t;GH=OB){OB=p(GH+1,k);var Yq=GH*3+2<<1,YX=OB*3+2<<1,yt=GZ[Yq],OS=GZ[Yq+1],yT=GZ[YX],EM=GZ[YX+1];
Gy=$(OY-Gw,GT-G_,YY-OY,Of-GT,Ox-YY,yR-Of,yT-yt,EM-OS);if(Gy<-.5)return 1;var YB=e(Gy,Gw,OY,YY,Ox),YW=e(Gy,G_,GT,Of,yR),Gn=C(yT-yt,EM-OS);
if(Gn==0)return 1;var YJ=y(yT-yt,EM-OS,YB-yt,YW-OS)/Gn,yA=y(yT-yt,EM-OS,OU[OB<<1]-yt,OU[(OB<<1)+1]-OS)/Gn;
yA*=.75*_.Xi.alpha[OB];if(yA<0){YJ=-YJ;yA=-yA}if(YJ<yA-yi)return 1;if(YJ<yA){Gv.LQ+=(YJ-yA)*(YJ-yA)}}return 0}var w=_.Xi,k=w.Rh,h=w.qL,j=new Array(k+1),I=new Array(k+1),V=new Array(k+1),F=new Array(k+1),q,L,t,c,f=new P,W,l,g,v,Vg,GE,Gy,GY=new Array(k),Ga=new Array(k+1);
for(L=0;L<k;L++){if(w.Ln[L]=="CURVE"){var GO=h[p(L-1,k)<<1],J=h[(p(L-1,k)<<1)+1],D=h[L<<1],GB=h[(L<<1)+1],Gj=h[p(L+1,k)<<1],GX=h[(p(L+1,k)<<1)+1];
GY[L]=Math.sign(y(D-GO,GB-J,Gj-D,GX-GB))}else{GY[L]=0}}g=0;Ga[0]=0;var Gw=w.qL[0],G_=w.qL[1];for(L=0;
L<k;L++){l=p(L+1,k);if(w.Ln[l]=="CURVE"){v=w.alpha[l];var Gf=L*3+2<<1,Gl=l*3+2<<1,GU=w.f_[Gf],GD=w.f_[Gf+1],Gi=h[l<<1],Gh=h[(l<<1)+1],G$=w.f_[Gl],GA=w.f_[Gl+1];
g+=.3*v*(4-v)*y(Gi-GU,Gh-GD,G$-GU,GA-GD)/2;g+=y(GU-Gw,GD-G_,G$-Gw,GA-G_)/2}Ga[L+1]=g}j[0]=-1;I[0]=0;
V[0]=0;for(t=1;t<=k;t++){j[t]=t-1;I[t]=I[t-1];V[t]=V[t-1]+1;for(L=t-2;L>=0;L--){c=i(_,L,p(t,k),f,Y.Oza,GY,Ga);
if(c){break}if(V[t]>V[L]+1||V[t]==V[L]+1&&I[t]>I[L]+f.LQ){j[t]=L;I[t]=I[L]+f.LQ;V[t]=V[L]+1;F[t]=f;f=new P}}}q=V[k];
Vg=new Z(q);GE=new Array(q);Gy=new Array(q);t=k;for(L=q-1;L>=0;L--){var GJ=p(t,k),Ge=L*3+0<<1,Gq=GJ*3+0<<1;
if(j[t]==t-1){Vg.Ln[L]=w.Ln[GJ];Vg.f_[Ge]=w.f_[Gq];Vg.f_[Ge+1]=w.f_[Gq+1];Vg.f_[Ge+2]=w.f_[Gq+2];Vg.f_[Ge+3]=w.f_[Gq+3];
Vg.f_[Ge+4]=w.f_[Gq+4];Vg.f_[Ge+5]=w.f_[Gq+5];Vg.qL[L<<1]=w.qL[GJ<<1];Vg.qL[(L<<1)+1]=w.qL[(GJ<<1)+1];
Vg.alpha[L]=w.alpha[GJ];Vg.cz[L]=w.cz[GJ];Vg.ci[L]=w.ci[GJ];GE[L]=Gy[L]=1}else{Vg.Ln[L]="CURVE";Vg.f_[Ge]=F[t].oq;
Vg.f_[Ge+1]=F[t].oH;Vg.f_[Ge+2]=F[t].oc;Vg.f_[Ge+3]=F[t].oP;Vg.f_[Ge+4]=w.f_[Gq+4];Vg.f_[Ge+5]=w.f_[Gq+5];
Vg.qL[L<<1]=H(F[t].tH,w.f_[Gq+4],h[GJ<<1]);Vg.qL[(L<<1)+1]=H(F[t].tH,w.f_[Gq+5],h[(GJ<<1)+1]);Vg.alpha[L]=F[t].alpha;
Vg.cz[L]=F[t].alpha;GE[L]=F[t].tH;Gy[L]=F[t].RN}t=j[t]}for(L=0;L<q;L++){l=p(L+1,q);Vg.ci[L]=GE[L]/(GE[L]+Gy[l])}Vg.OzX=1;
_.Xi=Vg}for(var L=0;L<r.length;L++){var _=r[L];x(_);M(_);m(_);G(_);K(_);if(Y.OvZ)s(_)}}return{Ovq:B,Ov$:o}}();
RB.BP=function(R,Z,B,o){var r={Lw:"minority",Ovp:o,OvZ:!0,Ovo:1,Oza:.2},Y=RB.Ovq(R,Z,B,r);RB.Ov$(Y,r);
return Y};RB.dm=function(R){var Z=[];for(var B=0;B<R.length;B++){var o=R[B],r=o.Xi,Y=["M"],E=[r.f_[(r.Rh-1)*6+4],r.f_[(r.Rh-1)*6+5]];
for(var p=0;p<r.Rh;p++){var y=p*6;if(r.Ln[p]==1){Y.push("C");for(var z=0;z<6;z++)E.push(r.f_[y+z])}else if(r.Ln[p]==0){Y.push("L");
for(var z=2;z<4;z++)E.push(r.f_[y+z])}}Y.push("Z");Z.push({parent:o.parent,color:o.color,path:{I:E,J:Y}})}return Z};
RB.OSm=function(R,Z,B,o,r){function Y(e){function $(y){var C="C "+(e.f_[y*3+0<<1]*Z).toFixed(1)+" "+(e.f_[(y*3+0<<1)+1]*Z).toFixed(1)+",";
C+=(e.f_[y*3+1<<1]*Z).toFixed(1)+" "+(e.f_[(y*3+1<<1)+1]*Z).toFixed(1)+",";C+=(e.f_[y*3+2<<1]*Z).toFixed(1)+" "+(e.f_[(y*3+2<<1)+1]*Z).toFixed(1)+" ";
return C}function x(y){var G="L "+(e.f_[y*3+1<<1]*Z).toFixed(1)+" "+(e.f_[(y*3+1<<1)+1]*Z).toFixed(1)+" ";
G+=(e.f_[y*3+2<<1]*Z).toFixed(1)+" "+(e.f_[(y*3+2<<1)+1]*Z).toFixed(1)+" ";return G}var M=e.Rh,y,m="M"+(e.f_[(M-1)*3+2<<1]*Z).toFixed(1)+" "+(e.f_[((M-1)*3+2<<1)+1]*Z).toFixed(1)+" ";
for(y=0;y<M;y++){if(e.Ln[y]==1){m+=$(y)}else if(e.Ln[y]==0){m+=x(y)}}return m}var B=B*Z,o=o*Z,E=R.length,p=[];
for(var y=0;y<256;y++)p.push("rgb("+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+")");
var z="<svg id=\"svg\" version=\"1.1\" width=\""+B+"\" height=\""+o+"\" xmlns=\"http://www.w3.org/2000/svg\">";
for(var y=0;y<E;y++){var u=r[R[y].color-1].OG$.sL;if((u>>>24&255)==0)continue;z+="<path d=\"";var Q=R[y].Xi;
z+=Y(Q);var H=u>>0&255,T=u>>8&255,C=u>>16&255,u="rgb("+H+","+T+","+C+")";z+="\" fill=\""+u+"\" fill-rule=\"evenodd\"/>"}z+="</svg>";
return z};RB.OwW=function(R,Z,B){var o=R.length>>1,r,Y=R[2*o-3]-B,E=R[2*o-2]-Z,p=R[2*o-1]-B,y=p>Y,u=0;
for(var z=0;z<o;z++){r=E;Y=p;E=R[2*z]-Z;p=R[2*z+1]-B;if(Y==p)continue;y=p>Y}for(var z=0;z<o;z++){r=E;
Y=p;E=R[2*z]-Z;p=R[2*z+1]-B;if(Y<0&&p<0)continue;if(Y>0&&p>0)continue;if(r<0&&E<0)continue;if(Y==p&&Math.min(r,E)<=0)return!0;
if(Y==p)continue;var Q=r+(E-r)*-Y/(p-Y);if(Q==0)return!0;if(Q>0)u++;if(Y==0&&y&&p>Y)u--;if(Y==0&&!y&&p<Y)u--;
y=p>Y}return(u&1)==1};RB.fill=function(R,Z,B,o){var r=Z[R],Y=[R],E=0;while(E<Y.length){var p=Y[E];E++;
Z[p]=o;if(Z[p-B]==r){Y.push(p-B);Z[p-B]=254}if(Z[p-1]==r){Y.push(p-1);Z[p-1]=254}if(Z[p+1]==r){Y.push(p+1);
Z[p+1]=254}if(Z[p+B]==r){Y.push(p+B);Z[p+B]=254}}};var d={};d.lx=!1;d.IA=!1;d.qw=!1;d.Fy=document.createElement("canvas");
d.IH=null;d.er=null;d.Le=0;(function(){var R={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},Z;
if(!Z)Z=d.Fy.getContext("webgl",R);if(!Z)Z=d.Fy.getContext("experimental-webgl",R);if(Z){d.lx=!0;d.IA=!0;
d.IH=Z;d.er=Z.createFramebuffer();Z.bindFramebuffer(Z.FRAMEBUFFER,d.er);Z.disable(Z.BLEND);Z.disable(Z.DEPTH_TEST);
var B=Z.createBuffer();Z.bindBuffer(Z.ARRAY_BUFFER,B);Z.bufferData(Z.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),Z.STATIC_DRAW);
Z.enableVertexAttribArray(0);Z.vertexAttribPointer(0,2,Z.FLOAT,!1,0,0)}}());d.Owp=function(R){R=R.replace(/\s\s+/g," ");
R=R.replace(/; /g,";");R=R.replace(/} /g,"}");R=R.replace(/ }/g,"}");R=R.replace(/{ /g,"{");R=R.replace(/ {/g,"{");
R=R.replace(/= /g,"=");R=R.replace(/ =/g,"=");R=R.replace(/\| /g,"|");R=R.replace(/ \|/g,"|");return R};
d.OAY=function(R){var Z=d.IH;if(R>Z.getParameter(Z.MAX_TEXTURE_SIZE)){d.lx=!1;alert("Disabling WebGL")}};
d.qW=function(R,Z){return new Float32Array([(R.x-Z.x)/Z.Y,(R.y-Z.y)/Z.Z,R.Y/Z.Y,R.Z/Z.Z])};d.yE=function(){return this.Fy};
d._H=function(R,Z){var B=d.IH;B.bindFramebuffer(B.FRAMEBUFFER,d.er);B.framebufferTexture2D(B.FRAMEBUFFER,B.COLOR_ATTACHMENT0,B.TEXTURE_2D,R.NZ,0);
B.viewport(0,0,R.Y,R.Z);if(Z){B.enable(B.SCISSOR_TEST);B.scissor(Z.x,Z.y,Z.Y,Z.Z)}else B.disable(B.SCISSOR_TEST)};
d.BY=function(R,Z,B){if(B)throw"error";var o=d.IH;o.disable(o.SCISSOR_TEST);o.bindFramebuffer(o.FRAMEBUFFER,null);
o.viewport(0,0,R,Z);if(B){o.enable(o.SCISSOR_TEST);o.scissor(B.x,B.y,Math.round(B.Y),Math.round(B.Z))}else o.disable(o.SCISSOR_TEST)};
d.clear=function(){var R=d.IH;R.clearColor(0,0,0,0);R.clear(R.COLOR_BUFFER_BIT)};d.tp=function(R,Z){if(Z==null)Z=0;
var B=(Z>>>0&255)==0,o=(Z>>>8&255)==0,r=(Z>>>16&255)==0,Y=(Z>>>24&255)==0,E=(R>>>0&255)*(1/255),p=(R>>>8&255)*(1/255),y=(R>>>16&255)*(1/255),z=(R>>>24&255)*(1/255),u=d.IH;
u.colorMask(B,o,r,Y);u.clearColor(E,p,y,z);u.clear(u.COLOR_BUFFER_BIT);u.colorMask(!0,!0,!0,!0)};d.ad=function(R,Z,B,o,r){var Y=Z.Rg(o);
if(r)Y=Y.Rg(r);if(Y.Pa())return;var E=d.IH;d._H(R);E.bindTexture(E.TEXTURE_2D,B.NZ);E.copyTexSubImage2D(E.TEXTURE_2D,0,Y.x-o.x,Y.y-o.y,Y.x-Z.x,Y.y-Z.y,Y.Y,Y.Z)};
d.yY=function(R,Z,B){var o=d.BR[R];if(o==null||o.Y!=Z||o.Z!=B){if(o)o.delete();o=new d.ZF(Z,B)}d.BR[R]=o;
return o};d.BR=[];d.BC=function(){this.Mj=null;this.Rl=null};d.BC.eZ=null;d.BC.prototype.lh=function(R){if(this.Rl)return;
this.Rl={};var Z=d.IH,B=this.Mj,o=this.Rl;for(var r=0;r<R.length;r++){var Y=R[r];o[Y]=Z.getUniformLocation(B,Y)}};
d.BC.prototype.qq=function(){};d.BC.prototype._F=function(R){var Z=d.IH;for(var B=0;B<R.length;B+=2){Z.uniform1i(R[B],B>>>1);
Z.activeTexture(Z["TEXTURE"+(B>>>1)]);Z.bindTexture(Z.TEXTURE_2D,R[B+1])}Z.activeTexture(Z.TEXTURE0)};
d.BC.prototype.aR=function(R,Z){var B=d.IH,o=B.createShader(B.FRAGMENT_SHADER);B.shaderSource(o,R);B.compileShader(o);
if(!B.getShaderParameter(o,B.COMPILE_STATUS))console.log(B.getShaderInfoLog(o));var r=B.createShader(B.VERTEX_SHADER);
B.shaderSource(r,Z);B.compileShader(r);if(!B.getShaderParameter(r,B.COMPILE_STATUS))console.log(B.getShaderInfoLog(r));
var Y=B.createProgram();B.attachShader(Y,r);B.attachShader(Y,o);B.linkProgram(Y);if(!B.getProgramParameter(Y,B.LINK_STATUS))console.log("Could not initialise shaders");
this.Mj=Y};d.BC.prototype.qi=function(){if(d.BC.eZ!=this){d.IH.useProgram(this.Mj);d.BC.eZ=this}};d.qM=function(R,Z){d.LK++;
d.Le+=R*Z;if(d.qw)console.log("GL.Channels instances: "+d.LK+", memory: "+d.Le);var B=d.IH;this.Y=R;
this.Z=Z;this.NZ=B.createTexture();this.na=null;this.ep(this.NZ,R,Z)};d.qM.prototype.ep=function(R,Z,B){var o=d.IH;
o.bindTexture(o.TEXTURE_2D,R);o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.NEAREST);o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.NEAREST);
o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE);o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE);
o.texImage2D(o.TEXTURE_2D,0,o.ALPHA,Z,B,0,o.ALPHA,o.UNSIGNED_BYTE,null)};d.qM.prototype.set=function(R){var Z=d.IH;
Z.bindTexture(Z.TEXTURE_2D,this.NZ);Z.pixelStorei(Z.UNPACK_ALIGNMENT,1);Z.texImage2D(Z.TEXTURE_2D,0,Z.ALPHA,this.Y,this.Z,0,Z.ALPHA,Z.UNSIGNED_BYTE,R);
Z.pixelStorei(Z.UNPACK_ALIGNMENT,4)};d.qM.prototype.delete=function(){var R=d.IH;if(this.NZ){R.deleteTexture(this.NZ);
d.LK--;d.Le-=this.Y*this.Z}if(d.qw)if(d.qw)console.log("GL.Channels instances: "+d.LK+", memory: "+d.Le*4)};
d.LK=0;d.ZF=function(R,Z,B){if(B==null)B=!1;d.LK++;d.Le+=R*Z*4;if(d.qw)console.log("GL.Channels instances: "+d.LK+", memory: "+d.Le);
var o=d.IH;this.Ozh=B;this.Y=R;this.Z=Z;this.NZ=o.createTexture();this.na=null;this.ep(this.NZ,R,Z)};
d.ZF.prototype.set=function(R,Z){var B=d.IH;B.disable(B.SCISSOR_TEST);B.bindTexture(B.TEXTURE_2D,this.NZ);
if(R==null||R instanceof Uint8Array){var o=this.Y*this.Z;if(Z==null||Z.b()*10>o)B.texImage2D(B.TEXTURE_2D,0,B.RGBA,this.Y,this.Z,0,B.RGBA,B.UNSIGNED_BYTE,R);
else{var r=O.a(Z.b()*4);O.GN(R,new N(0,0,this.Y,this.Z),r,Z);B.texSubImage2D(B.TEXTURE_2D,0,Z.x,Z.y,Z.Y,Z.Z,B.RGBA,B.UNSIGNED_BYTE,r)}}else B.texImage2D(B.TEXTURE_2D,0,B.RGBA,B.RGBA,B.UNSIGNED_BYTE,R)};
d.ZF.prototype.get=function(R){var Z=d.IH;d._H(this);Z.readPixels(0,0,this.Y,this.Z,Z.RGBA,Z.UNSIGNED_BYTE,R)};
d.ZF.prototype.TT=function(R){if(R.Pa())return;var Z=d.IH;if(this.na==null){this.na=Z.createTexture();
this.ep(this.na,this.Y,this.Z);d.LK++;d.Le+=this.Y*this.Z*4}Z.bindFramebuffer(Z.FRAMEBUFFER,d.er);Z.bindTexture(Z.TEXTURE_2D,this.na);
if(R){var B=Math.max(R.x,0),o=Math.max(R.y,0);Z.copyTexSubImage2D(Z.TEXTURE_2D,0,B,o,B,o,R.Y,R.Z)}else Z.copyTexImage2D(Z.TEXTURE_2D,0,Z.RGBA,0,0,this.Y,this.Z,0)};
d.ZF.prototype.ep=function(R,Z,B){var o=d.IH;o.bindTexture(o.TEXTURE_2D,R);o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,this.Ozh?o.LINEAR:o.NEAREST);
o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.NEAREST);o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE);
o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE);o.texImage2D(o.TEXTURE_2D,0,o.RGBA,Z,B,0,o.RGBA,o.UNSIGNED_BYTE,null)};
d.ZF.prototype.delete=function(){var R=d.IH;if(this.NZ){R.deleteTexture(this.NZ);d.LK--;d.Le-=this.Y*this.Z*4}if(this.na){R.deleteTexture(this.na);
d.LK--;d.Le-=this.Y*this.Z*4}if(d.qw)if(d.qw)console.log("GL.Channels instances: "+d.LK+", memory: "+d.Le)};
d.ZF.prototype.clone=function(){var R=d.IH,Z=new d.ZF(this.Y,this.Z);d._H(this);R.bindTexture(R.TEXTURE_2D,Z.NZ);
R.copyTexImage2D(R.TEXTURE_2D,0,R.RGBA,0,0,this.Y,this.Z,0);return Z};d.he={OAR:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",OA_:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",wk:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",ie:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",Bb:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",i$:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",jJ:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",Da:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",OAf:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",iK:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",OAv:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",tx:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",Bc:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",Gd:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",ZU:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",Zb:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",Jn:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",Aa:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",MO:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",UL:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn mi<0.0?0.0:(mi>1.0?1.0:mi);\t\t}"};
d.ej={Ks:{},it:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
d.ej.lA=function(R,Z){var B=GK.Sa,o=[B.Zq,B.Sj,B.SA,B.tV,B.tw,B.Sv,B.SM,B.sb].indexOf(R.type),r=d.ej.Ks[R.type];
if(r==null)r=d.ej.Ks[R.type]=new d.Ks[o];r.qi();r.qq(Z,R);d.IH.drawArrays(d.IH.TRIANGLES,0,6)};d.Ks=[];
d.Ks[0]=function(){d.BC.call(this);this.M_={};var R="\t\t\tprecision mediump float;\t\t\t"+d.he.jJ+"\t\t\t"+d.he.wk+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.aR(R,d.ej.it)};d.Ks[0].prototype=new d.BC;d.Ks[0].prototype.qq=function(R,Z){var B={F:Z.Gg,S:Z.d_,X:Z.DV,t:O.a(Z.Gg.length)},o=B.F.length;
if(this.M_["m"+o]==null){this.M_["m"+o]={Ozt:new d.ZF(o,1),Y$:O.a(o*4)}}var r=this.M_["m"+o];O.oh(B,r.Y$,0);
var Y=r.Ozt;Y.set(r.Y$);this.lh(["source","map","toGray","presLum"]);var E=d.IH,p=this.Rl;E.uniform1f(p.toGray,Z.zj?1:0);
E.uniform1f(p.presLum,Z.zA?1:0);this._F([p.source,R,p.map,Y.NZ])};d.Ks[1]=function(){d.BC.call(this);
this.ODW=new d.ZF(256,1);this.OqZ=O.a(256*4);var R="\t\t\t\tprecision mediump float;\t\t\t\t"+d.he.Zb+"\t\t\t\t"+d.he.Gd+"\t\t\t\t"+d.he.ZU+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.aR(R,d.ej.it)};d.Ks[1].prototype=new d.BC;d.Ks[1].prototype.qq=function(R,Z){O.oh({F:Z.Oqs,S:Z.oQ,X:Z.ONp,t:O.a(256)},this.OqZ);
this.ODW.set(this.OqZ);this.lh(["source","map","cfa","cfb","colorize"]);var B=d.IH,o=this.Rl;B.uniform1f(o.cfa,Z.Ovj);
B.uniform1f(o.cfb,Z.Ml);B.uniform1i(o.colorize,Z.OzI);this._F([o.source,R,o.map,this.ODW.NZ])};d.Ks[2]=function(){d.BC.call(this);
var R="\t\t\tprecision mediump float;\t\t\t"+d.he.Zb+"\t\t\t"+d.he.Jn+"\t\t\t"+d.he.Aa+"\t\t\t"+d.he.Gd+"\t\t\t"+d.he.ZU+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 hsl = rgbToHsv(src.rgb); \t\t\t\tfloat h=hsl.r, s=hsl.g, l=hsl.b; \t\t\t\t\t\t\t\tfloat sk0 = 0.0, sk1 = 45.0/360.0; \t\t\t\tfloat skin = (h<sk1) ? cos((PI/2.0)*(h-sk1/2.0)/(sk1/2.0)) : 0.0; \t\t\t\t\t\t\t\ts = s + 0.2 * (1.0-0.4*skin) * vib * max(0.0, sin(s*PI)); \t\t\t\t\t\t\t\ts = s * (1.0 + sat); \t\t\t\t\t\t\t\ts = max(0.0, min(1.0, s));\t\t\t\tsrc.rgb = hsvToRgb(h,s,l);\t\t\t\tgl_FragColor = vec4(src.rgb,src.w); \t\t\t\t\t\t\t}";
this.aR(R,d.ej.it)};d.Ks[2].prototype=new d.BC;d.Ks[2].prototype.qq=function(R,Z){this.lh(["source","vib","sat"]);
var B=d.IH,o=this.Rl;B.uniform1f(o.vib,Z.Fe[0]/100);B.uniform1f(o.sat,Z.Fe[1]/100);this._F([o.source,R])};
d.Ks[3]=function(){d.BC.call(this);var R="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.aR(R,d.ej.it)};d.Ks[3].prototype=new d.BC;d.Ks[3].prototype.qq=function(R,Z){this.lh(["source","trf"]);
var B=d.IH,o=this.Rl;B.uniformMatrix4fv(o.trf,!1,new Float32Array(O.lN._J(Z.lN)));this._F([o.source,R])};
d.Ks[4]=function(){d.BC.call(this);var R="\t\t\tprecision mediump float; \t\t\t"+d.he.MO+"\t\t\t"+d.he.Zb+"\t\t\t"+d.he.ZU+"\t\t\t"+d.he.Gd+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+scl*shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + scl*shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + scl*shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.aR(R,d.ej.it)};d.Ks[4].prototype=new d.BC;d.Ks[4].prototype.qq=function(R,Z){this.lh(["source","mnm","mxm","shift","lim"]);
var B=d.IH,o=this.Rl;B.uniform3fv(o.mnm,new Float32Array(Z.Rt));B.uniform3fv(o.mxm,new Float32Array(Z.Rz));
B.uniform3fv(o.shift,new Float32Array(Z.shift));B.uniform1f(o.lim,Z.Ud);this._F([o.source,R])};d.Ks[5]=function(){d.BC.call(this);
var R="\t\t\tprecision mediump float;\t\t\t"+d.he.wk+"\t\t\t"+d.he.ie+"\t\t\t"+d.he.Bb+"\t\t\t"+d.he.Gd+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.aR(R,d.ej.it)};d.Ks[5].prototype=new d.BC;d.Ks[5].prototype.qq=function(R,Z){this.lh(["source","cfs"]);
var B=d.IH,o=this.Rl;B.uniform3fv(o.cfs,Z.fl);this._F([o.source,R])};d.Ks[6]=function(){d.BC.call(this);
var R="\t\t\tprecision mediump float;\t\t\t"+d.he.Zb+"\t\t\t"+d.he.ie+"\t\t\t"+d.he.Bb+"\t\t\t"+d.he.Gd+"\t\t\t"+d.he.ZU+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.aR(R,d.ej.it)};d.Ks[6].prototype=new d.BC;d.Ks[6].prototype.qq=function(R,Z){this.lh(["source","wght","prms"]);
var B=d.IH,o=this.Rl,r=[Z.ck,Z.Ozi,Z.jJ,Z.O$N,Z.LZ,Z.OKE];B.uniform1fv(o.wght,new Float32Array(Z.OKX));
B.uniform1fv(o.prms,new Float32Array(r));this._F([o.source,R])};d.Ks[7]=function(){d.BC.call(this);this.MS={};
var R="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tfloat iN = 1.0/N; \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.aR(R,d.ej.it)};d.Ks[7].prototype=new d.BC;d.Ks[7].prototype.qq=function(R,Z){this.lh(["source","lut","N"]);
var B=d.IH,o=this.Rl,r=Z.xu,Y=Z.Gp;if(this.MS["m"+r]==null)this.MS["m"+r]=new d.ZF(r,r*r);var E=this.MS["m"+r];
E.set(Y);B.uniform1f(o.N,r);this._F([o.source,R,o.lut,E.NZ]);B.activeTexture(B.TEXTURE1);var p=B.LINEAR;
B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MIN_FILTER,p);B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MAG_FILTER,p);
B.activeTexture(B.TEXTURE0)};d.filter={Uo:{},it:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",wp:0,wT:1,yO:2,OAm:3};
d.filter.lA=function(R,Z){var B=d.filter,o=[B.wp,B.wT,B.yO,B.OAm].indexOf(R.type),r=d.filter.Uo[R.type];
if(r==null)r=d.filter.Uo[R.type]=new d.Uo[o];r.qi();r.qq(Z,R);d.IH.drawArrays(d.IH.TRIANGLES,0,6)};d.Uo=[0,0,0,0,0,0,0];
d.Uo[3]=function(){d.BC.call(this);var R="\t\t\tprecision mediump float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform vec3 ld;\t\t\tuniform float shine;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tfloat depth = texture2D(source, sCoord).w;\t\t\t\tfloat rad = depth*25.0; \t\t\t\tvec3 sum;\t\t\t\tfloat sw = 0.0;\t\t\t\tfor(float y=-30.0; y<=30.0; y++) {\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\tfor(float x=-30.0; x<=30.0; x++) { \t\t\t\t\t\tif(x<-rad || x>rad) continue; \t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);\t\t\t\t\t\t\t\t\t\t\t\tfloat mx=max(clr.w,depth), mn=min(clr.w,depth), prt=(mx==0.0 || mx==mn)?0.0:(mx-mn)/mx, frc=1.0-prt;\t\t\t\t\t    float cw=frc;  \t\t\t\t\t\tsw+=cw;  \t\t\t\t\t\tsum+=cw*clr.rgb; \t\t\t\t\t}\t\t\t\t}\t\t\t    gl_FragColor = vec4(sum/sw,1.0);\t\t\t}";
R=d.Owp(R);this.aR(R,d.ej.it)};d.Uo[3].prototype=new d.BC;d.Uo[3].prototype.qq=function(R,Z){this.lh(["source","iwh"]);
var B=d.IH,o=this.Rl;B.uniform2fv(o.iwh,Z.RA);this._F([o.source,R])};d.Uo[0]=function(){d.BC.call(this);
var R="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.aR(X.iL(R),X.iL(d.filter.it))};d.Uo[0].prototype=new d.BC;d.Uo[0].prototype.qq=function(R,Z){this.lh(["source","iwh","ld","shine"]);
var B=d.IH,o=this.Rl;B.uniform2fv(o.iwh,Z.RA);B.uniform3fv(o.ld,Z.OWT);B.uniform1f(o.shine,Z.OWg);this._F([o.source,R,o.tang,Z.oR])};
d.Uo[1]=function(){d.BC.call(this);var R="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.aR(X.iL(R),X.iL(d.filter.it))};d.Uo[1].prototype=new d.BC;d.Uo[1].prototype.qq=function(R,Z){this.lh(["source","iwh","isc","bristle"]);
var B=d.IH,o=this.Rl;B.uniform2fv(o.iwh,Z.RA);B.uniform1f(o.isc,Z.OWe);B.uniform1f(o.bristle,Z.OWb);
this._F([o.source,R])};d.Uo[2]=function(){d.BC.call(this);var R="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.aR(X.iL(R),X.iL(d.filter.it))};d.Uo[2].prototype=new d.BC;d.Uo[2].prototype.qq=function(R,Z){this.lh(["source","tang","iwh","sigma","expo"]);
var B=d.IH,o=this.Rl;B.uniform2fv(o.iwh,Z.RA);B.uniform1f(o.sigma,Z.OlP);B.uniform1f(o.expo,Z.OSE);this._F([o.source,R,o.tang,Z.oR]);
var r=B.LINEAR;B.activeTexture(B.TEXTURE0);B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MIN_FILTER,r);B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MAG_FILTER,r);
B.activeTexture(B.TEXTURE0)};d.e={};d.e.wO={};d.e.wR=null;d.e.ww=null;d.e.wA=null;d.e.wP=function(R,Z,B,o,r,Y,E,p){if(p==null)p=GS.xC();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(R)==-1){E=E*p.fill;p.fill=1;p.style=!1}var y=R+(p.UQ?"1":"");
if(d.e.wO[y]==null)d.e.wO[y]=new d.e.qB(R,p.UQ!=null);var z=d.e.wO[y],u=B.Rg(r).Rg(Y);u.offset(-r.x,-r.y);
if(u.Pa())return;var Q=d.IH;d._H(o,u);o.TT(u);z.qi();z.qq(Z.NZ,o.na,d.qW(B,r),E,p.fill,p.style?1:0,p.Um?1:0,p.UQ?new Float32Array(p.UQ):null);
Q.drawArrays(Q.TRIANGLES,0,6)};d.e.eH=function(R,Z,B,o,r,Y,E,p,y,z){if(d.e.wR==null)d.e.wR=new d.e.yA(!0,!0);
if(d.e.ww==null)d.e.ww=new d.e.yA(!0,!1);if(d.e.wA==null)d.e.wA=new d.e.yA(!1,!0);var u=z?1:0,Q=R?r?d.e.wR:d.e.ww:d.e.wA,H=Z?Z.Rg(o).Rg(p):o.Rg(p);
if(H.Pa())return;H.offset(-o.x,-o.y);var T=d.IH;d._H(B,H);B.TT(H);Q.qi();if(R==null)Q.qq(null,B.na,r.NZ,d.qW(o,o),d.qW(Y,o),E/255,y,u);
else if(r)Q.qq(R.NZ,B.na,r.NZ,d.qW(Z,o),d.qW(Y,o),E/255,y,u);else Q.qq(R.NZ,B.na,null,d.qW(Z,o),null,E/255,y,u);
T.drawArrays(T.TRIANGLES,0,6)};d.e.OSn=function(R,Z,B){if(d.e.Okh==null)d.e.Okh=new d.e.w_;var o=d.e.Okh,r=new N(0,0,R.Y,R.Z),Y=d.IH;
d._H(Z);Z.TT(r);o.qi();o.qq(r,R.NZ,Z.na,B.NZ);Y.drawArrays(Y.TRIANGLES,0,6)};d.e.hF={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
d.e.qB=function(R,Z){d.BC.call(this);var B="\t\t\tprecision mediump float;\t\t\t"+d.he.wk+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(Z?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+d.he.i$+"\t\t\t"+d.he.jJ+"\t\t\t"+d.he.Da+"\t\t\t"+d.he.OAR+"\t\t\t"+d.he.OA_+"\t\t\t"+d.he.OAf+"\t\t\t"+d.he.iK+"\t\t\t"+d.he.OAv+"\t\t\t"+d.he.tx+"\t\t\t"+d.he.hash+"\t\t\t"+(Z?d.he.UL:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+d.e.hF[R]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",o="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(R=="diss")B+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else B+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(Z?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.aR(B,o)};d.e.qB.prototype=new d.BC;d.e.qB.prototype.qq=function(R,Z,B,o,r,Y,E,p){this.lh("srct alpha source target fill style keepBGA blIf".split(" "));
var y=d.IH,z=this.Rl;y.uniform4fv(z.srct,B);y.uniform1f(z.alpha,o);y.uniform1f(z.fill,r);y.uniform1f(z.style,Y);
y.uniform1f(z.keepBGA,E);if(p)y.uniform4fv(z.blIf,p);this._F([z.source,R,z.target,Z])};d.e.yA=function(R,Z){d.BC.call(this);
this.OYV=R;this.Mf=Z;var B="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+d.he.Bc+"\t\t\t"+d.he.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(R?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(Z?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(R?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tgl_FragColor =  vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t}",o="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.aR(B,o)};d.e.yA.prototype=new d.BC;d.e.yA.prototype.qq=function(R,Z,B,o,r,Y,E,p){if(this.Mf)this.lh("srct wrct wcolor awg dissv source target weight".split(" "));
else this.lh(["srct","awg","dissv","source","target"]);var y=d.IH,z=this.Rl;y.uniform4fv(z.srct,o);if(this.Mf){y.uniform4fv(z.wrct,r);
y.uniform1f(z.wcolor,Y)}y.uniform1f(z.awg,E);y.uniform1f(z.dissv,p);var u=[z.source,R,z.target,Z];if(this.Mf)u.push(z.weight,B);
this._F(u)};d.e.w_=function(){d.BC.call(this);var R="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",Z="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.aR(R,Z)};d.e.w_.prototype=new d.BC;d.e.w_.prototype.qq=function(R,Z,B,o){this.lh(["rct","prev","next","alpha"]);
var r=d.IH,Y=this.Rl;r.uniform4fv(Y.rct,[0,0,1,1]);this._F([Y.prev,Z,Y.next,B,Y.alpha,o])};function yB(){}yB.NW=function(R){var Z=new Uint8Array(R),B=0,o={DZ:[],sw:[],list:[]},r=U.at(Z,B);
B+=2;if(r<=2){return yB.OAb(Z)}var Y=U.at(Z,B);B+=2;var E=U.XG(Z,B,8);B+=8;var p=U.n(Z,B);B+=4;if(p>0)o.DZ=yB.AT(Z,B,p,Y,r);
B+=p;var y=U.XG(Z,B,8);B+=8;var z=U.n(Z,B);B+=4;if(z>0)o.sw=yB.eT(Z,B,z);B+=z;var u=U.XG(Z,B,8);B+=8;
var Q=U.n(Z,B);B+=4;if(Q>0){var H={};Gc.gZ(Z,H,B+4);o.list=H.Brsh.v}B+=Q;var T=o.list;for(var C=0;C<T.length;
C++){YN.WL.check(T[C].v)}return o};yB.oF=function(R,Z){R.v.Nm.v=Z};yB.OAb=function(R){var Z={DZ:[],sw:[],list:[]},B=0,o=U.at(R,B);
B+=2;var r=U.at(R,B);B+=2;for(var Y=0;Y<r;Y++){var E=U.at(R,B);B+=2;var p=U.n(R,B);B+=4;var y=B;if(E==2){var z={};
Z.DZ.push(z);var u=U.n(R,y);y+=4;var Q=U.at(R,y);y+=2;if(o==2){var H=U.xF(R,y);y+=4+H.length*2+2}z.id=GF.l_()+"-d71c-11e5-b1ae-a548a96e5f9f";
y++;y+=8;z._=U.mV(R,y);y+=16;var T=U.at(R,y);y+=2;var C=R[y];y++;z.channel=Yh.Ew(!1,T,R,z._.Y,z._.Z,y,C);
var e=YN.Ir(z.id),$=e.Brsh.v;$.Dmtr.v.val=z._.Y;$.Spcn.v.val=Q;Z.list.push({t:"Objc",v:e})}B+=p}return Z};
yB.Px=function(R){var Z=new RZ,B=0,o=0;U.mo(Z,B,6);B+=2;U.mo(Z,B,2);B+=2;U.BJ(Z,B,"8BIMsamp");B+=8;B+=4;
o=B;B=yB.Lc(Z,B,R.DZ);U.u$(Z,o-4,B-o);U.BJ(Z,B,"8BIMpatt");B+=8;B+=4;o=B;B=yB.en(Z,B,R.sw);U.u$(Z,o-4,B-o);
var r={classID:"null",Brsh:{t:"VlLs",v:R.list}};U.BJ(Z,B,"8BIMdesc");B+=8;B+=4;o=B;U.u$(Z,B,16);B+=4;
B+=Gc.Nq(Z,r,B);U.u$(Z,o-4,B-o);return Z.data.slice(0,B).buffer};yB.AT=function(R,Z,B,o,r){var Y=U.n,E=U.mV,p=Z+B,y=[];
while(Z<p){var z={};y.push(z);var u=Y(R,Z);Z+=4;var Q=Z,H=U.Wn(R,Z);Z+=H.length;z.id=H.HH;if(o==1){Z+=9;
z._=E(R,Z);Z+=16}else{Z+=7;var T=Y(R,Z);Z+=4;z._=E(R,Z);Z+=16;var C=Y(R,Z);Z+=4;Z+=C*4;var e=Y(R,Z);
Z+=4;var $=Y(R,Z);Z+=4;var x=E(R,Z);Z+=16}var M=U.at(R,Z);Z+=2;var m=R[Z];Z+=1;z.channel=Yh.Ew(!1,M,R,z._.Y,z._.Z,Z,m);
if(u%4!=0)u+=4-u%4;Z=Q+u}return y};yB.Lc=function(R,Z,B){var o=U.u$,r=U.dK;for(var Y=0;Y<B.length;Y++){var E=B[Y],p=Z+4,z=56,Q=1;
Z+=4;U.Er(R,Z,E.id);Z+=E.id.length+2;R.$_(Z,1);R.data[Z]=1;Z+=3;o(R,Z,3);Z+=4;var y=Z;Z+=4;r(R,Z,E._);
Z+=16;o(R,Z,z);Z+=4;Z+=z*4;o(R,Z-4,1);var u=Z;Z+=4;o(R,Z,8);Z+=4;r(R,Z,E._);Z+=16;U.mo(R,Z,8);Z+=2;R.$_(Z,1);
R.data[Z]=Q;Z++;R.$_(Z,E._.b()*2);Z=Yh.KB(E.channel,R.data,E._.Y,E._.Z,Z,Q);R.$_(Z,8);Z+=8;var H=Z-p;
o(R,p-4,H);o(R,y,H-49);o(R,u,H-305);if(H%4!=0)Z+=4-H%4}return Z};yB.eT=function(R,Z,B){var o=Z+B,r=[];
while(Z<o){var Y={},E=U.n(R,Z);Z+=4;var p=Z;Z=yd.lQ(R,Z,Y);if(!Y._.Pa())r.push(Y);if(E%4!=0)E+=4-E%4;
Z=p+E}return r};yB.en=function(R,Z,B){for(var o=0;o<B.length;o++){var r=B[o];Z+=4;var Y=Z;Z=yd.hI(R,Z,r);
var E=Z-Y;U.u$(R,Y-4,E);if(E%4!=0)Y+=4-E%4;Z=Y+E}return Z};function OR(){}OR.NW=function(R){var Z=new Uint8Array(R),B=[],o=0,r=U.at(Z,o);
o+=2;if(r!=4){throw"Unknown version of curves: "+r}var Y=U.at(Z,o);o+=2;for(var E=0;E<Y;E++){var p=OR.Ld(Z,o);
o+=2+2*p.length;B.push(p)}if(o==Z.length)return B;var y=U.XG(Z,o,4);o+=4;var z=U.at(Z,o);o+=2;var u=U.at(Z,o);
o+=2;if(u!=0)throw"extra curves for channels";return B};OR.yS=function(R,Z,B){var o=Z,r=[],Y=R[Z];Z+=3;
var E=U.n(R,Z);Z+=4;for(var p=0;p<4;p++){var y=E>>>p&1;if(y){if(Y==0){var z=OR.Ld(R,Z);Z+=2+2*z.length}else{var z=OR.O_a(R,Z);
Z+=256}r.push(z)}else r.push(Y==0?[0,0,255,255]:OR.O_G())}var u=Go.wI("curv");for(var p=0;p<4;p++){if(Y==0){var Q=r[p],H=[];
for(var T=0;T<Q.length;T+=2)H.push(O.An.Hn(Q[T],Q[T+1],!0));OR.Fk(u,p,H)}else OR.Fk(u,p,r[p])}return u};
OR.O_G=function(){var R=[];for(var Z=0;Z<256;Z++)R.push(Z);return R};OR.Fk=function(R,Z,B){var o=OO.wL("CrvA",Z);
if(B.length<256)o.Crv={t:"VlLs",v:B};else{o.Mpng={t:"VlLs",v:[]};for(var r=0;r<256;r++)o.Mpng.v[r]={t:"long",v:B[r]}}o={t:"Objc",v:o};
var Y=R.Adjs.v,E=OO.hS(Y,Z);if(E==-1)Y.push(o);else Y[E]=o};OR.Ff=function(R,Z){var B=R.Adjs.v,o=OO.hS(B,Z);
if(o==-1){if(B.length==0||B[0].v.Crv)return[O.An.Hn(0,0,!0),O.An.Hn(255,255,!0)];var r=[];for(var Y=0;
Y<256;Y++)r.push(Y);return r}var E=B[o].v,p=E.Crv;if(p)return p.v;var r=[];for(var Y=0;Y<256;Y++)r.push(E.Mpng.v[Y].v);
return r};OR.Ld=function(R,Z){var B=[],o=U.at(R,Z);Z+=2;for(var r=0;r<o;r++){var Y=U.at(R,Z);Z+=2;var E=U.at(R,Z);
Z+=2;B.push(E,Y)}return B};OR.O_Y=function(R,Z,B){var o=B.length/2;U.mo(R,Z,o);Z+=2;for(var r=0;r<o;
r++){U.mo(R,Z,B[r*2+1]);Z+=2;U.mo(R,Z,B[r*2+0]);Z+=2}};OR.O_a=function(R,Z){var B=[];for(var o=0;o<256;
o++)B.push(R[Z+o]);return B};OR.O_J=function(R,Z,B){R.$_(Z,256);for(var o=0;o<256;o++)R.data[Z+o]=B[o]};
OR.yM=function(R,Z,B){var o=[];for(var r=0;r<4;r++){var Y=OR.Ff(B,r);if(Y.length==256)o.push(Y);else{var E=[];
for(var p=0;p<Y.length;p++)E.push(Y[p].v.Hrzn.v,Y[p].v.Vrtc.v);o.push(E)}}var y=Z,z=o[0].length==256?1:0;
R.$_(Z,3);R.data[Z]=z;R.data[Z+1]=0;R.data[Z+2]=1;Z+=3;U.u$(R,Z,15);Z+=4;for(var r=0;r<4;r++){var u=o[r];
if(z==0){OR.O_Y(R,Z,u);Z+=2+2*u.length}else{OR.O_J(R,Z,u);Z+=256}}return Z-y};function OA(){}OA.yS=function(R,Z,B){var o={},r=U.at(R,Z);
Z+=2;o.cU=R[Z]==1;Z++;Z++;o.ly=[U.mj(R,Z),U.mj(R,Z+2),U.mj(R,Z+4)];Z+=6;o.lV=[U.mj(R,Z),U.mj(R,Z+2),U.mj(R,Z+4)];
Z+=6;o.$i=[];for(var Y=0;Y<6;Y++){var E={};E.zH=[U.mj(R,Z),U.mj(R,Z+2),U.mj(R,Z+4),U.mj(R,Z+6)];Z+=8;
E.BF=[U.mj(R,Z),U.mj(R,Z+2),U.mj(R,Z+4)];Z+=6;o.$i.push(E)}var p=Go.wI("hue2"),y=o;if(p.Clrz==null)p.Clrz={t:"bool",v:!1};
p.Clrz.v=y.cU;for(var Y=0;Y<7;Y++){var z=Y==0?y.cU?y.ly:y.lV:y.$i[Y-1];OA.Fk(p,Y,z)}return p};OA.O_o=function(R){return{classID:"Hst2",H:{t:"long",v:R[0]},Strt:{t:"long",v:R[1]},Lght:{t:"long",v:R[2]}}};
OA.hS=function(R,Z){for(var B=0;B<R.length;B++){var o=R[B].v.LclR;if(Z==0&&o==null||o!=null&&o.v==Z)return B}return-1};
OA.Fk=function(R,Z,B){var o=Z==0?B:B.BF,r=OA.O_o(o);if(Z!=0){var Y=B.zH;r.LclR={t:"long",v:Z},r.BgnR={t:"long",v:Y[0]};
r.BgnS={t:"long",v:Y[1]};r.EndS={t:"long",v:Y[2]};r.EndR={t:"long",v:Y[3]}}r={t:"Objc",v:r};var E=R.Adjs.v,p=OA.hS(E,Z);
if(p==-1)E.push(r);else E[p]=r};OA.Ff=function(R,Z){var B=R.Adjs.v,o=OA.hS(B,Z);if(o==-1){if(Z==0)return[0,0,0];
else return[{zH:[315,345,15,45],BF:[0,0,0]},{zH:[15,45,75,105],BF:[0,0,0]},{zH:[75,105,135,165],BF:[0,0,0]},{zH:[135,165,195,225],BF:[0,0,0]},{zH:[195,225,255,285],BF:[0,0,0]},{zH:[255,285,315,345],BF:[0,0,0]}][Z-1]}var r=B[o].v,Y=[r.H.v,r.Strt.v,r.Lght.v];
if(Z==0)return Y;return{BF:Y,zH:[r.BgnR.v,r.BgnS.v,r.EndS.v,r.EndR.v]}};OA.yM=function(R,Z,B){var o={cU:B.Clrz.v,$i:[]};
o.ly=o.lV=OA.Ff(B,0);for(var r=1;r<7;r++)o.$i.push(OA.Ff(B,r));var Y=2+2+12+6*14,E=R.data;R.$_(Z,Y);
U.xK(E,Z,2);Z+=2;E[Z]=o.cU?1:0;Z++;Z++;U.em(E,Z+0,o.ly[0]);U.em(E,Z+2,o.ly[1]);U.em(E,Z+4,o.ly[2]);Z+=6;
U.em(E,Z+0,o.lV[0]);U.em(E,Z+2,o.lV[1]);U.em(E,Z+4,o.lV[2]);Z+=6;for(var r=0;r<6;r++){var p=o.$i[r].zH,y=o.$i[r].BF;
U.em(E,Z+0,p[0]);U.em(E,Z+2,p[1]);U.em(E,Z+4,p[2]);U.em(E,Z+6,p[3]);Z+=8;U.em(E,Z+0,y[0]);U.em(E,Z+2,y[1]);
U.em(E,Z+4,y[2]);Z+=6}return Y};function OO(){}OO.NW=function(R){var Z=new Uint8Array(R),B=2,o=[];for(var r=0;
r<29;r++){var Y=[];o.push(Y);for(var E=0;E<5;E++)Y.push(U.at(Z,B+r*10+E*2))}B+=29*10;if(B<Z.length){var p=U.XG(Z,B,4);
B+=4;var y=U.at(Z,B);B+=2;var z=U.at(Z,B);B+=2;var u=z-29;for(var r=0;r<u;r++){var Y=[];o.push(Y);for(var E=0;
E<5;E++)Y.push(U.at(Z,B+r*10+E*2))}}var Q=Go.wI("levl");for(var r=0;r<4;r++)OO.Fk(Q,r,o[r]);return Q};
OO.wL=function(R,Z){var B=["Cmps","Rd","Grn","Bl"],o={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:B[Z]}}]};
return{classID:R,Chnl:o}};OO.hS=function(R,Z){var B={Cmps:0,Rd:1,Grn:2,Bl:3};for(var o=0;o<R.length;
o++){var r=R[o].v,Y=B[r.Chnl.v[0].v.enum];if(Y==Z)return o}return-1};OO.Fk=function(R,Z,B){var o=OO.wL("LvlA",Z);
o.Inpt={t:"VlLs",v:[{t:"long",v:B[0]},{t:"long",v:B[1]}]};o.Otpt={t:"VlLs",v:[{t:"long",v:B[2]},{t:"long",v:B[3]}]};
o.Gmm={t:"doub",v:B[4]/100};o={t:"Objc",v:o};var r=R.Adjs.v,Y=OO.hS(r,Z);if(Y==-1)r.push(o);else r[Y]=o};
OO.Ff=function(R,Z){var B=[0,255,0,255,100],o=R.Adjs.v,r=OO.hS(o,Z);if(r==-1)return B;var Y=o[r].v;if(Y.Inpt){B[0]=Y.Inpt.v[0].v;
B[1]=Y.Inpt.v[1].v}if(Y.Otpt){B[2]=Y.Otpt.v[0].v;B[3]=Y.Otpt.v[1].v}if(Y.Gmm){B[4]=Math.round(Y.Gmm.v*100)}return B};
OO.Px=function(R,Z){var B=[],r=0;for(var o=0;o<4;o++)B.push(OO.Ff(Z,o));while(B.length<29)B.push([0,255,0,255,100]);
R.$_(0,2+10*29);U.xK(R.data,r,2);r+=2;for(var o=0;o<29;o++){var Y=B[o];for(var E=0;E<5;E++)U.xK(R.data,r+o*10+E*2,Y[E])}r+=29*10;
if(B.length==29)return r;R.$_(r,8+10*(B.length-29));U.tD(R.data,r,"Lvls");r+=4;U.xK(R.data,r,3);r+=2;
U.xK(R.data,r,B.length);r+=2;var p=B.length-29;for(var o=0;o<p;o++){var Y=B[29+o];for(var E=0;E<5;E++)U.xK(R.data,r+o*10+E*2,Y[E])}r+=10*p;
return r};function ah(){}ah.NW=function(R){var Z=new Uint8Array(R),B=2,o={c$:[],$U:[]},r=U.XG(Z,B,4);
B+=4;var Y=U.at(Z,B);B+=2;var E=U.n(Z,B);B+=4;o.c$=yB.eT(Z,B,E);B+=E;var p=U.n(Z,B);B+=4;for(var y=0;
y<p;y++){var z=U.n(Z,B);B+=4;var u=B,Q={iw:{},FW:{}};o.$U.push(Q);B+=4;B+=Gc.gZ(Z,Q.iw,B);B+=4;B+=Gc.gZ(Z,Q.FW,B);
B=u+z;var H=Q.FW.blendOptions,T=Q.FW.Lefx;if(H&&Object.keys(H.v).length>1){}if(T){if(T.v.masterFXSwitch==null)T.v.masterFXSwitch={t:"bool",v:!0};
Ri.KX(T.v)}}return o};ah.oF=function(R,Z){R.iw.Nm.v=Z};ah.Px=function(R){var Z=new RZ,B=0;U.mo(Z,B,2);
B+=2;U.BJ(Z,B,"8BSL");B+=4;U.mo(Z,B,3);B+=2;var o=B;B+=4;B=yB.en(Z,B,R.c$);U.u$(Z,o,B-o-4);var r=R.$U.length;
U.u$(Z,B,r);B+=4;for(var Y=0;Y<r;Y++){B+=4;var E=B,p=R.$U[Y];U.u$(Z,B,16);B+=4;B+=Gc.Nq(Z,p.iw,B);var y=p.FW.Lefx;
if(y){p.FW.Lefx=JSON.parse(JSON.stringify(y));Ri.wf(p.FW.Lefx.v)}U.u$(Z,B,16);B+=4;B+=Gc.Nq(Z,p.FW,B);
if(y)p.FW.Lefx=y;U.u$(Z,E-4,B-E)}return Z.data.slice(0,B).buffer};function OK(){}OK.yS=function(R,Z,B){var o=U.at(R,Z);
Z+=2;var r={};r.MJ=U.at(R,Z)==1;Z+=2;r.MG=[];for(var Y=0;Y<10;Y++){var E=[];r.MG.push(E);for(var p=0;
p<4;p++)E.push(U.mj(R,Z+p*2));Z+=8}var y=Go.wI("selc");y.Mthd.v.CrcM=r.MJ?"Absl":"Rltv";for(var Y=1;
Y<10;Y++)OK.Fk(y,Y-1,r.MG[Y]);return y};OK.eQ="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
OK.wL=function(R,Z){var B=["Cmps","Rd","Grn","Bl"],o={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:B[Z]}}]};
return{classID:R,Chnl:o}};OK.hS=function(R,Z){var B=OK.eQ;for(var o=0;o<R.length;o++){var r=R[o].v,Y=B.indexOf(r.Clrs.v.Clrs);
if(Y==Z)return o}return-1};OK.Fk=function(R,Z,B){var o=["Cyn","Mgnt","Ylw","Blck"],r={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:OK.eQ[Z]}}};
for(var Y=0;Y<4;Y++)r[o[Y]]={t:"UntF",v:{type:"#Prc",val:B[Y]}};r={t:"Objc",v:r};var E=R.ClrC.v,p=OK.hS(E,Z);
if(p==-1)E.push(r);else E[p]=r};OK.Ff=function(R,Z){var B=[0,0,0,0],o=R.ClrC.v,r=OK.hS(o,Z);if(r==-1)return B;
var Y=["Cyn","Mgnt","Ylw","Blck"];for(var E=0;E<4;E++)if(o[r].v[Y[E]])B[E]=o[r].v[Y[E]].v.val;return B};
OK.yM=function(R,Z,B){var o={MJ:B.Mthd.v.CrcM=="Absl",MG:[[0,0,0,0]]};for(var r=0;r<9;r++)o.MG.push(OK.Ff(B,r));
R.$_(Z,84);U.xK(R.data,Z,1);Z+=2;U.xK(R.data,Z,o.MJ?1:0);Z+=2;for(var r=0;r<10;r++){var Y=o.MG[r];for(var E=0;
E<4;E++)U.em(R.data,Z+E*2,Y[E]);Z+=8}return 84};function yn(){}yn.wI=function(){return{pS:new N(0,0,50,50),iw:"",Kl:"play",u:O.V.hk.FT([.1,.1,.9,.5,.1,.9],0)}};
yn.NW=function(R){R=new Uint8Array(R);var Z=0,B=[],o=Date.now(),r=U.XG(R,0,4);Z+=4;var Y=U.n(R,Z);Z+=4;
var E=U.n(R,Z);Z+=4;for(var p=0;p<E;p++){var y=U.xF(R,Z);Z+=y.length*2+4+2;if((y.length&1)==0)Z+=2;var z=U.n(R,Z);
Z+=4;var u=U.n(R,Z);Z+=4;var Q=Z,H=U.Wn(R,Q).HH;Q+=H.length+1;var T=U.mV(R,Q);Q+=16;var C=yn.eg(R,Q,u-(Q-Z)),e=O.V.Fa(C),$=O.W.Rn(e),x=1/$.Y,M=1/$.Z;
O.V.lC(C,new GN(x,0,0,M,-$.x*x,-$.y*M));B.push({Kl:y,iw:H,u:C,pS:T});Z+=u}return B};yn.oF=function(R,Z){R.Kl=Z};
yn.Px=function(R){var Z=new RZ,B=0;U.BJ(Z,B,"cush");B+=4;U.u$(Z,B,2);B+=4;U.u$(Z,B,R.length);B+=4;for(var o=0;
o<R.length;o++){var r=R[o],Y=r.Kl+"\0";U.KG(Z,B,Y);B+=4+Y.length*2;if((Y.length&1)==1)B+=2;U.u$(Z,B,1);
B+=4;B+=4;var E=B;U.Er(Z,B,r.iw);B+=r.iw.length+1;U.dK(Z,B,r.pS);B+=16;Z.$_(B,r.u.length*26);yn.wl(Z.data,B,r.u,1,1);
B+=r.u.length*26;var p=B-E;if((p&3)!=0)p+=4-(p&3);U.u$(Z,E-4,p);B=E+p}return Z.data.slice(0,B).buffer};
yn.eg=function(R,Z,B,o,r){if(o==null)o=1;if(r==null)r=1;var Y=U.mj,E=U.ODM,p=[],y=Math.floor(B/26);for(var z=0;
z<y;z++){var u=Z+z*26,Q={},H=0;p.push(Q);Q.type=Y(R,u);u+=2;if(Q.type==6){H=24}if(Q.type==8){Q.all=Y(R,u);
u+=2;H=22}if(Q.type==0||Q.type==3){Q.length=Y(R,u);u+=2;Q.lz=Y(R,u);u+=2;Q.DN=Y(R,u);u+=2;Q.UE=U.n(R,u);
u+=4;Q.UY=U.n(R,u);u+=4;H=10}if(Q.type==1||Q.type==2||Q.type==4||Q.type==5){var T,C;C=E(R,u);u+=4;T=E(R,u);
u+=4;Q.EY=new VP(T*o,C*r);C=E(R,u);u+=4;T=E(R,u);u+=4;Q.N=new VP(T*o,C*r);C=E(R,u);u+=4;T=E(R,u);u+=4;
Q.IJ=new VP(T*o,C*r);H=0}for(var e=0;e<H;e++)if(R[u+e]!=0){console.log("Unexpected non-zero byte!",Q,e,R[u+e])}}return p};
yn.wl=function(R,Z,B,o,r){var Y=U.em,E=U.SZ,p=B.length;for(var y=0;y<p;y++){var z=Z+y*26,u=B[y];Y(R,z,u.type);
z+=2;if(u.type==6){}if(u.type==8)Y(R,z,u.all);if(u.type==0||u.type==3){Y(R,z,u.length);z+=2;Y(R,z,u.lz);
z+=2;Y(R,z,u.DN);z+=2}if(u.type==1||u.type==2||u.type==4||u.type==5){E(R,z,u.EY.y/r);z+=4;E(R,z,u.EY.x/o);
z+=4;E(R,z,u.N.y/r);z+=4;E(R,z,u.N.x/o);z+=4;E(R,z,u.IJ.y/r);z+=4;E(R,z,u.IJ.x/o);z+=4}}};function yE(){}yE.NW=function(R){var Z=new Uint8Array(R),B=[],o=0;
o=yE.la(Z,o,B);if(o+3<Z.length){B=[];o=yE.la(Z,o,B)}return B};yE.la=function(R,Z,B){var o=U.at,r=U.mj,Y=o(R,Z);
Z+=2;var E=o(R,Z);Z+=2;for(var p=0;p<E;p++){var y=yE.FG(R,Z);Z+=10;if(Y==2){y.Zo=U.xF(R,Z);Z+=4+y.Zo.length*2+2}B.push(y)}return Z};
yE.FG=function(R,Z){var B=U.at,o=U.mj,r=B(R,Z),T=null;Z+=2;var Y=B(R,Z);Z+=2;var E=B(R,Z);Z+=2;var p=B(R,Z);
Z+=2;var y=B(R,Z);Z+=2;var z=1/65535,u=255/65535,Q=100/65535,H=255/1e4;if(r==0)T={F:Y*u,S:E*u,X:p*u};
else if(r==1){T=O.Aa(Y*z,E*z,p*z);T.F*=255;T.S*=255;T.X*=255}else if(r==2)T=O.L.iz({classID:"CMYC",Cyn:{t:"doub",v:100-Y*Q},Mgnt:{t:"doub",v:100-E*Q},Ylw:{t:"doub",v:100-p*Q},Blck:{t:"doub",v:100-y*Q}});
else if(r==7){var C=O.Qf(Y/100,o(R,Z-6)/100,o(R,Z-4)/100);T=C}else if(r==8){T={F:255-Y*H,S:255-E*H,X:255-p*H}}else throw"e "+r+", ";
return T};yE.Px=function(R){var Z=new RZ,B=0,o=U.mo;o(Z,B,2);B+=2;o(Z,B,R.length);B+=2;for(var r=0;r<R.length;
r++){var Y=R[r];Z.$_(B,10);yE.ys(Z.data,B,Y);B+=10;var E=(Y.Zo?Y.Zo:"")+"\0";U.KG(Z,B,E);B+=4+E.length*2}return Z.data.slice(0,B).buffer};
yE.oF=function(R,Z){R.Zo=Z};yE.ys=function(R,Z,B){var o=65535/255,r=U.xK;r(R,Z,0);r(R,Z+2,Math.round(B.F*o));
r(R,Z+4,Math.round(B.S*o));r(R,Z+6,Math.round(B.X*o));r(R,Z+8,0)};function VQ(){}VQ.NW=function(R){var Z=new Uint8Array(R),B=4,o={};
o.$L=U.xF(Z,B);B+=4+o.$L.length*2+2;o.exp=Z[B++]==1;o.p=[];var r=U.n(Z,B);B+=4;for(var Y=0;Y<r;Y++){var E={};
o.p.push(E);E.qp=U.at(Z,B);B+=2;E.shift=Z[B++]==1;E.OOc=Z[B++]==1;E.color=U.at(Z,B);B+=2;E.$L=U.xF(Z,B);
B+=4+E.$L.length*2+2;E.exp=Z[B++]==1;E.p=[];var EB=U.n(Z,B);B+=4;for(var p=0;p<EB;p++){var y={};E.p.push(y);
y.exp=Z[B++]==1;y.H=Z[B++]==1;y.OVz=Z[B++]==1;y.OVU=Z[B++];var z=U.XG(Z,B,4);B+=4;if(z=="TEXT"){y.DG=VQ.yH(Z,B);
B+=4+y.DG.length}else if(z=="long"){y.DG=U.XG(Z,B,4);B+=4}else throw"e";y.cK=VQ.yH(Z,B);B+=4+y.cK.length;
var u=U.FV(Z,B);B+=4;if(u==-1){y.UU={};var Q=Gc.gZ(Z,y.UU,B);B+=Q}}}console.log(o);var H=new Uint8Array(VQ.Px(o));
for(var Y=0;Y<H.length;Y++)if(H[Y]!=Z[Y]){console.log(H.length,Z.length);var T=4*(Y>>>2)-16;console.log(U.wr(Z,T,64));
console.log(U.wr(H,T,64));console.log(Z.slice(T,T+64));console.log(H.slice(T,T+64));throw Y}console.log(o);
return[o]};VQ.yH=function(R,Z){var B=U.n(R,Z);return U.XG(R,Z+4,B)};VQ.lW=function(R,Z,B){U.u$(R,Z,B.length);
U.BJ(R,Z+4,B)};VQ.Px=function(R){var Z=new RZ,B=0;U.u$(Z,B,16);B+=4;U.KG(Z,B,R.$L+"\0");B+=4+R.$L.length*2+2;
Z.$_(B,1);Z.data[B++]=R.exp?1:0;var o=R.p.length;U.u$(Z,B,o);B+=4;for(var r=0;r<o;r++){var Y=R.p[r];
U.mo(Z,B,Y.qp);B+=2;Z.$_(B,2);Z.data[B++]=Y.shift?1:0;Z.data[B++]=Y.OOc?1:0;U.mo(Z,B,Y.color);B+=2;U.KG(Z,B,Y.$L+"\0");
B+=4+Y.$L.length*2+2;Z.$_(B,1);Z.data[B++]=Y.exp?1:0;var EB=Y.p.length;U.u$(Z,B,EB);B+=4;for(var E=0;
E<EB;E++){var p=Y.p[E];Z.$_(B,4);Z.data[B++]=p.exp?1:0;Z.data[B++]=p.H?1:0;Z.data[B++]=p.OVz?1:0;Z.data[B++]=p.OVU;
var y=p.DG=="LqFy"||p.DG=="Avrg"||p.DG=="GEfc"||p.DG=="PbPl";U.BJ(Z,B,y?"long":"TEXT");B+=4;if(!y){VQ.lW(Z,B,p.DG);
B+=4+p.DG.length}else{U.BJ(Z,B,p.DG);B+=4}VQ.lW(Z,B,p.cK);B+=4+p.cK.length;U.tU(Z,B,p.UU?-1:0);B+=4;
if(p.UU){var z=Gc.Nq(Z,p.UU,B);B+=z}}}return Z.data.slice(0,B).buffer};function Vp(){}Vp.NW=function(R){var Z=new Uint8Array(R),B=0,o=U.n(Z,B),y;
B+=4;var r=U.XG(Z,B,8);B+=8;var Y=U.Kq(Z,B);B+=4;var E=U.Kq(Z,B);B+=4;var p=U.Kq(Z,B);B+=4;if(o==2){y=new Float32Array(R,32,R.byteLength-32>>>2)}else if(o==3||o==4){y=new Float32Array(E*p*2);
var z=0,u=0,Q=!0;B=o==3?32:16+8+40;while(B<Z.length){var H=U.Kq(Z,B);B+=4;if(Q)u+=H;else{for(var T=0;
T<H;T++){y[z+u+T<<1]=U.wM(Z,B);y[(z+u+T<<1)+1]=U.wM(Z,B+4);B+=8}u+=H}Q=!Q;if(H!=0&&u==E){z+=E;u=0;Q=!0;
if(z==E*p)break}}}else throw"unknown Mesh version: "+o;return{ZA:E,N$:p,map:y}};Vp.tJ=function(R){var Z=R.ZA,B=R.N$,o=R.map,r=new Uint8Array(32+B*Z*8+B*8),Y=0,E=0;
U.lc(r,Y,3);Y+=4;U.tD(r,Y,"yfqLhseM");Y+=8;U.Kb(r,Y,2);Y+=4;U.Kb(r,Y,Z);Y+=4;U.Kb(r,Y,B);Y+=4;U.Kb(r,Y,0);
Y+=4;U.Kb(r,Y,1);Y+=4;for(var p=0;p<B;p++){U.Kb(r,Y,0);Y+=4;U.Kb(r,Y,Z);Y+=4;for(var y=0;y<Z;y++){U.wF(r,Y,o[E]);
U.wF(r,Y+4,o[E+1]);E+=2;Y+=8}}return r.buffer};function aN(){}aN.NW=function(R){var Z=new Uint8Array(R),B=0,o=U.XG(Z,B,4);
B+=4;var r=U.at(Z,B);B+=2;var Y=U.n(Z,B);B+=4;var E=[];for(var p=0;p<Y;p++){var y=U.n(Z,B);B+=4;var z={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
E.push(z);var u=U.xF(Z,B);z.Nm.v=u;B+=4+u.length*2+2;var Q=U.at(Z,B);B+=2;var H=U.at(Z,B);B+=2;for(var T=0;
T<H;T++){var C=O.An.Hn(0,0,!0);C.v.Vrtc.v=U.at(Z,B);B+=2;C.v.Hrzn.v=U.at(Z,B);B+=2;z.Crv.v.push(C)}if(y==1){}else if(y==2){for(var T=0;
T<H;T++){z.Crv.v[T].v.Cnty.v=Z[B]==1;B+=1}}else throw"error";var e=U.n(Z,B);B+=4;var $=U.n(Z,B);B+=4}return E};
aN.oF=function(R,Z){R.Nm.v=Z};aN.Px=function(R){var Z=new RZ,B=0;U.BJ(Z,B,"8BFS");B+=4;U.mo(Z,B,1);B+=2;
U.u$(Z,B,R.length);B+=4;for(var o=0;o<R.length;o++){U.u$(Z,B,2);B+=4;var r=R[o];U.KG(Z,B,r.Nm.v+"\0");
B+=4+r.Nm.v.length*2+2;U.mo(Z,B,2);B+=2;var Y=r.Crv.v.length;U.mo(Z,B,Y);B+=2;for(var E=0;E<Y;E++){var p=r.Crv.v[E];
U.mo(Z,B,p.v.Vrtc.v);B+=2;U.mo(Z,B,p.v.Hrzn.v);B+=2}Z.$_(B,Y);for(var E=0;E<Y;E++){Z.data[B]=r.Crv.v[E].v.Cnty.v;
B++}U.u$(Z,B,0);B+=4;U.u$(Z,B,0);B+=4}return Z.data.slice(0,B).buffer};function yd(){}yd.NW=function(R){var Z=new Uint8Array(R),B=4,o=U.at(Z,B);
B+=2;var r=U.n(Z,B);B+=4;var Y=[];for(var E=0;E<r;E++){var p={};Y.push(p);B=yd.lQ(Z,B,p)}return Y};yd.oF=function(R,Z){R.name=Z};
yd.Px=function(R){var Z=new RZ,B=0;U.BJ(Z,B,"8BPT");B+=4;U.mo(Z,B,1);B+=2;U.u$(Z,B,R.length);B+=4;for(var o=0;
o<R.length;o++){B=yd.hI(Z,B,R[o])}return Z.data.slice(0,B).buffer};yd.lQ=function(R,Z,B){var o=U.n(R,Z);
Z+=4;if(o!=1)alert("Unknown version of pattern");var r=U.n(R,Z);Z+=4;if(r!=1&&r!=2&&r!=3)console.log("Unsupported mode of pattern: "+r);
var Y=U.at(R,Z);Z+=2;var E=U.at(R,Z);Z+=2;B._=new N(0,0,E,Y);B.name=U.xF(R,Z);Z+=4+2*B.name.length+2;
var p=R[Z];Z++;B.id=U.XG(R,Z,p);Z+=B.id.length;var y=-1;if(r==2){y=Z;Z+=3*256+4}var z=new O.ZF(E*Y);
Z=yd.O_H(R,Z,z);if(r==2){for(var u=0;u<z.F.length;u++){var Q=3*z.F[u];z.F[u]=R[y+Q+0];z.S[u]=R[y+Q+1];
z.X[u]=R[y+Q+2]}}B.Y$=O.a(B._.b()*4);O.oh(z,B.Y$);return Z};yd.hI=function(R,Z,B){U.u$(R,Z,1);Z+=4;U.u$(R,Z,3);
Z+=4;U.mo(R,Z,B._.Z);Z+=2;U.mo(R,Z,B._.Y);Z+=2;U.KG(R,Z,B.name+"\0");Z+=4+2*B.name.length+2;U.ZB(R,Z,B.id.length);
Z++;U.BJ(R,Z,B.id);Z+=B.id.length;var o=new O.ZF(B._.b());O.AB(B.Y$,o);Z=yd.O_g(R,Z,o,B);return Z};yd.O_H=function(R,Z,B){var o=Z,r={_:null,Ej:[],OGA:null,lG:null},Y=U.n(R,Z);
Z+=4;var E=U.n(R,Z);Z+=4;r._=U.mV(R,Z);Z+=16;var p=U.n(R,Z);Z+=4;for(var y=0;y<p+2;y++){var z=U.n(R,Z);
Z+=4;if(z==0)continue;var u=U.n(R,Z);Z+=4;if(u==0)continue;var Q=U.n(R,Z);Z+=4;var H=U.mV(R,Z);Z+=16;
var T=U.at(R,Z);Z+=2;var C=R[Z];Z++;var e=Yh.Ew(!1,Q,R,H.Y,H.Z,Z,C);if(y<p)r.Ej.push(e);if(y==p)r.OGA=e;
if(y==p+1)r.lG=e;Z+=u-23}if(!r._.Pa()){if(r.Ej[0])B.F=r.Ej[0];if(r.Ej[1])B.S=r.Ej[1];else B.S=O.clone(r.Ej[0]);
if(r.Ej[2])B.X=r.Ej[2];else B.X=O.clone(r.Ej[0]);if(r.lG)B.t=r.lG;else O.set(B.t,255)}return Z};yd.O_g=function(R,Z,B,o){var r=Z,Y={_:o._,Ej:[B.F,B.S,B.X],OGA:null,lG:B.t};
U.u$(R,Z,3);Z+=4;U.u$(R,Z,0);Z+=4;U.dK(R,Z,Y._);Z+=16;U.u$(R,Z,24);Z+=4;for(var E=0;E<24+2;E++){var p=Z,y=E<3||E==25?1:0;
U.u$(R,Z,y);Z+=4;if(y==0)continue;U.u$(R,Z,0);Z+=4;U.u$(R,Z,8);Z+=4;U.dK(R,Z,Y._);Z+=16;U.mo(R,Z,8);
Z+=2;U.ZB(R,Z,1,1);Z++;var z=E<3?Y.Ej[E]:Y.lG;R.$_(Z,o._.b()+2);Z=Yh.KB(z,R.data,o._.Y,o._.Z,Z,1);U.u$(R,p+4,Z-p-8)}U.u$(R,r+4,Z-r-8);
return Z};function EC(){}EC.NW=function(R){var Z=new Uint8Array(R),B=0,o=U.XG(Z,B,4);B+=4;var r=U.at(Z,B);
B+=2;var Y=[];if(r<=3){var E=U.at(Z,B);B+=2;for(var p=0;p<E;p++){var y=Z[B++],z=U.XG(Z,B,y);B+=y;var u=EC.hw(Z,B,z),Q=u[0];
B=u[1];Y.push(Q);B+=6}}else{var u={},H=Gc.gZ(Z,u,B+4),T=u.GrdL.v;for(var p=0;p<T.length;p++)Y[p]=T[p].v.Grad.v}return Y};
EC.oF=function(R,Z){R.Nm.v=Z};EC.Px=function(R){var Z=new RZ,B=0;U.BJ(Z,B,"8BGR");B+=4;U.mo(Z,B,5);B+=2;
U.u$(Z,B,16);B+=4;var o={classID:"null",GrdL:{t:"VlLs",v:[]}},r=o.GrdL.v;for(var Y=0;Y<R.length;Y++)r[Y]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:R[Y]}}};
B+=Gc.Nq(Z,o,B);return Z.data.slice(0,B).buffer};EC.hw=function(R,Z,B){var o={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{RN:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:B},Trns:{t:"VlLs",v:[]}},r=U.at(R,Z);
Z+=2;if(r==0)throw"e";for(var Y=0;Y<r;Y++){var E=U.n(R,Z),p=U.n(R,Z+4),y=yE.FG(R,Z+8),z={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:y.F},Grn:{t:"doub",v:y.S},Bl:{t:"doub",v:y.X}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:E},Mdpn:{t:"long",v:p}}};
o.Clrs.v.push(z);Z+=20}var u=U.at(R,Z);Z+=2;for(var Y=0;Y<u;Y++){var E=U.n(R,Z),p=U.n(R,Z+4),Q=U.at(R,Z+8),z={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*Q/255)}},Lctn:{t:"long",v:E},Mdpn:{t:"long",v:p}}};
o.Trns.v.push(z);Z+=10}return[o,Z]};EC.OLO=function(R,Z,B){var o=B.Clrs.v.length;U.mo(R,Z,o);Z+=2;for(var r=0;
r<o;r++){var Y=B.Clrs.v[r];U.u$(R,Z,Y.v.Lctn.v);U.u$(R,Z+4,Y.v.Mdpn.v);U.mo(R,Z+8,0);var E=O.L.hN(O.L.iz(Y.v.Clr.v)),p=[E.Rd.v,E.Grn.v,E.Bl.v,0];
for(var y=0;y<4;y++)U.mo(R,Z+10+y*2,Math.round(65535*(p[y]/255)));Z+=20}var z=B.Trns.v.length;U.mo(R,Z,z);
Z+=2;for(var r=0;r<z;r++){var Y=B.Trns.v[r];U.u$(R,Z,Y.v.Lctn.v);U.u$(R,Z+4,Y.v.Mdpn.v);U.mo(R,Z+8,Math.round(255*Y.v.Opct.v.val/100));
Z+=10}return Z};function aT(){}aT.NW=function(R){var Z=new Uint8Array(R),B=[],o=[],r=[],Y=0,E=U.XG(Z,Y,4);
Y+=4;var p=U.n(Z,Y);Y+=4;var y=U.n(Z,Y);Y+=4;while(Y<Z.length){var z=U.XG(Z,Y,4);Y+=4;var u=U.XG(Z,Y,4);
Y+=4;var Q=U.n(Z,Y);Y+=4;if(u=="tppa"){o=yB.eT(Z,Y,Q);Y+=Q}else if(u=="tpbd"){r=yB.AT(Z,Y,Q,1,1);Y+=Q}else if(u=="tptp"){var H=U.n(Z,Y);
Y+=4;for(var T=0;T<H;T++){var C=U.xF(Z,Y);Y+=6+C.length*2;Y+=4;var e={};Y+=Gc.gZ(Z,e,Y);B.push([C,e])}while((Y&3)!=0)Y++}else{console.log(Z.slice(Y-8,Y+64));
console.log(U.XG(Z,Y-8,64));throw u}}return{DZ:r,sw:o,list:B}};aT.oF=function(R,Z){R[0]=Z};aT.Px=function(R){var Z=new RZ,B=0;
U.BJ(Z,B,"8BTP");B+=4;U.u$(Z,B,3);B+=4;U.u$(Z,B,1);B+=4;var o=[R.sw,R.DZ,R.list];for(var r=0;r<3;r++){if(o[r].length==0)continue;
U.BJ(Z,B,"8BIM");B+=4;var Y=["tppa","tpbd","tptp"][r];U.BJ(Z,B,Y);B+=4;var E=B;B+=4;if(Y=="tppa"){B=yB.en(Z,B,R.sw)}else if(Y=="tpbd"){B=yB.Lc(Z,B,R.DZ)}else if(Y=="tptp"){U.u$(Z,B,R.list.length);
B+=4;for(var p=0;p<R.list.length;p++){var y=R.list[p];U.KG(Z,B,y[0]+"\0");B+=6+y[0].length*2;U.u$(Z,B,16);
B+=4;B+=Gc.Nq(Z,y[1],B)}}U.u$(Z,E,B-E-4);while((B&3)!=0)B++;Z.$_(B,0)}return Z.data.slice(0,B).buffer};
function yG(){}yG.NW=function(R,Z){var B=new Uint8Array(R),o;if(U.n(B,0)==B.length)o="icc";else if(B[0]=="<".charCodeAt(0))o="look";
else if(U.wU(B,"LUT_3D_SIZE")!=-1)o="cube";else o="3DL";if(o!="icc"){var r=yG.OLi(B,o),Y=yG.OLy(r[0],r[1]);
B=Y}var E=[];for(var p=0;p<B.length;p++)E.push(B[p]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:Z?Z:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:E}}]};
yG.Px=function(R){var Z=R[0],B=new Uint8Array(Z.profile.v);return B.buffer};yG.oF=function(R,Z){R.Nm.v=Z};
yG.OLy=function(R,Z){var B=new RZ,o=128;B.$_(0,128);var r=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var Y=0;Y<r.length;Y++)B.data[Y]=r[Y];var E=["desc","A2B0"],p=E.length,y=128+4+p*12;U.u$(B,o,p);
o+=4;for(var z=0;z<p;z++){var u=E[z];U.BJ(B,o,u);o+=4;U.u$(B,o,y);o+=4;var Q=y;if(u=="desc"){U.BJ(B,Q,"mluc");
Q+=4;Q+=4;U.u$(B,Q,1);Q+=4;U.u$(B,Q,12);Q+=4;U.BJ(B,Q,"enUS");Q+=4;var H="ICC by Photopea\0",T=H.length*2+2;
U.u$(B,Q,T);Q+=4;U.u$(B,Q,28);Q+=4;B.$_(Q,T);for(var Y=0;Y<H.length;Y++)B.data[Q+Y*2+1]=H.charCodeAt(Y);
Q+=T}if(u=="A2B0"){U.BJ(B,Q,"mAB ");Q+=4;Q+=4;B.$_(Q,4);B.data[Q]=3;B.data[Q+1]=3;Q+=4;B.$_(Q,4*5);Q+=4*3;
U.u$(B,Q,Q+8-y);Q+=4;Q+=4;B.$_(Q,20);B.data[Q]=R;B.data[Q+1]=R;B.data[Q+2]=R;Q+=16;B.data[Q]=2;Q+=4;
var C=R*R*R*3;B.$_(Q,C*2);for(var Y=0;Y<C;Y++)U.xK(B.data,Q+Y*2,Math.max(0,Math.min(65535,Math.round(Z[Y]*65535))));
Q+=C*2}var e=Q-y;while((e&3)!=0)e++;U.u$(B,o,e);o+=4;y+=e}U.u$(B,0,y);return B.data.slice(0,y)};yG.OLi=function(R,Z){Z="LUTFormat"+Z.toUpperCase();
var B=[],o=0,r=U.qe(R,0,R.length),Y="";for(var E=0;E<R.length&&Y=="";E++){if(R[E]==10)Y="\n";else if(R[E]==13){Y="\r";
if(R[E+1]==10)Y+="\n"}}if(Z=="LUTFormatCUBE"){var p=r.split(Y);for(var E=0;E<p.length;E++){if(p[E]==""||p[E][0]=="#")continue;
var y=p[E].split(" "),z=y[0];if(z=="LUT_3D_SIZE"){o=parseInt(y[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(z)!=-1)continue;
B.push(parseFloat(y[0]),parseFloat(y[1]),parseFloat(y[2]))}B=yG.hL(o,B)}else if(Z=="LUTFormat3DL"){var p=r.split(Y),u=1/4095;
for(var E=0;E<p.length;E++){var Q=p[E];if(Q==""||Q=="3DMESH"||Q.startsWith("Mesh")||Q[0]=="#")continue;
var y=Q.split(" "),z=y[0];if(o==0){o=y.length;continue}B.push(parseFloat(y[0])*u,parseFloat(y[1])*u,parseFloat(y[2])*u)}}else if(Z=="LUTFormatLOOK"){var H=new DOMParser,T=H.parseFromString(r,"text/xml"),C=T.getElementsByTagName("LUT")[0],e=C.children[0].textContent;
o=parseInt(JSON.parse(e));var $=C.children[1].textContent;$=$.replace(/"/g,"").replace(/\s/g,"");var x=3*o*o*o,M=x*4,m=new Uint8Array(M);for(var E=0;E<M;E++){var G=$.charCodeAt(E*2),K=$.charCodeAt(E*2+1),s=G<58?G-48:G-55,L=K<58?K-48:K-55;m[E]=(s<<4)+L}for(var E=0;E<x;E++)B.push(U.wM(m,E<<2));B=yG.hL(o,B)}else throw Z;return[o,B]};yG.hL=function(R,Z){var B=[],o=R*R*R;for(var r=0;r<o;r++)B.push(0,0,0);for(var Y=0;Y<R;Y++)for(var E=0;E<R;E++)for(var p=0;p<R;p++){var r=3*(p+E*R+Y*R*R),y=3*(Y+E*R+p*R*R);B[y]=Z[r];B[y+1]=Z[r+1];B[y+2]=Z[r+2]}return B};function Gc(){}Gc.gZ=function(R,Z,B,o,r){var Y=B,E;if(r==null)r=0;var p=U.n(R,B);if(p==0){E="";B+=4}else{E=U.xF(R,B);B+=4+2*E.length+2}if(E!="")Z.__name=E;Z.classID=Gc.qt(R,B);if(o)console.log("\t".repeat(r),"- reading descriptor",Z.classID,B);B+=Gc.qx(R,B);var y=U.FV(R,B);B+=4;for(var z=0;z<y;z++){var u=Gc.qt(R,B);B+=Gc.qx(R,B);var Q=Gc.hm(R,B,o,r);Z[u]=Q;B+=Q.size;delete Q.size}return B-Y};Gc.Nq=function(R,Z,B,o){var r=B,Y=Z.__name;if(Y==null)Y="";Y+="\0";U.KG(R,B,Y);B+=4+2*Y.length;Gc.qo(R,B,Z.classID);B+=Gc.qx(R.data,B);U.tU(R,B,Object.keys(Z).length-1-(Z.__name==null?0:1));B+=4;for(var E in Z){if(E=="classID")continue;if(E=="__name")continue;Gc.qo(R,B,E);B+=Gc.qx(R.data,B);B+=Gc.hC(R,B,Z[E])}return B-r};Gc.hm=function(R,Z,B,o){var r=Z,Y=U.XG(R,Z,4);Z+=4;var E={size:0,t:Y,v:null};if(B)console.log("\t".repeat(o),"reading key",Y,r);switch(Y){case"obj ":case"VlLs":E.v=[];var p=U.n(R,Z);Z+=4;for(var y=0;y<p;y++){var z=Gc.hm(R,Z,B,o+1);Z+=z.size;delete z.size;E.v.push(z)}break;case"UntF":E.v={type:U.XG(R,Z,4),val:U.AG(R,Z+4)};Z+=12;break;case"doub":E.v=U.AG(R,Z);Z+=8;break;case"bool":E.v=R[Z]==1;Z+=1;break;case"long":E.v=U.FV(R,Z);Z+=4;break;case"comp":E.v=U.FV(R,Z+4);Z+=8;break;case"Objc":E.v={};var u=Gc.gZ(R,E.v,Z,B,o+1);Z+=u;break;case"TEXT":var Q=U.n(R,Z);if(Q==0){E.v="";Z+=4}else{E.v=U.xF(R,Z);Z+=4+E.v.length*2+2}break;case"enum":var H=Gc.qt(R,Z);Z+=Gc.qx(R,Z);var T=Gc.qt(R,Z);Z+=Gc.qx(R,Z);E.v={};E.v[H]=T;break;case"tdta":var C=U.FV(R,Z);Z+=4;E.v=[];for(var y=0;y<C;y++)E.v.push(R[Z+y]);Z+=C;break;case"ObAr":var e=U.n(R,Z);Z+=4;var $=U.xF(R,Z);Z+=4+2*$.length+2;if($!="")throw $;var x=Gc.qt(R,Z);Z+=4+Math.max(4,x.length);E.v={classID:x,arr:[]};var M=U.n(R,Z);Z+=4;for(var y=0;y<M;y++){var x=Gc.qt(R,Z);Z+=4+Math.max(4,x.length);var H=U.XG(R,Z,4);Z+=4;var m=U.XG(R,Z,4);Z+=4;var G={id:x,type:H,uID:m,arr:[]};E.v.arr.push(G);var K=U.n(R,Z,4);Z+=4;for(var s=0;s<K;s++){var L=U.AG(R,Z);Z+=8;G.arr.push(L)}}break;case"Pth ":var _=Z,C=U.n(R,Z);Z+=4;var P=U.XG(R,Z,4);Z+=4;var i=U.Kq(R,Z);Z+=4;var w=U.OJO(R,Z);Z+=4+w.length*2;E.v={sig:P,pth:w};break;case"Clss":case"type":case"rele":var w=U.xF(R,Z);Z+=4+w.length*2+2;var k=Gc.qt(R,Z);Z+=4+Math.max(4,k.length);E.v={classID:k};if(w!="")E.v.__name=w;if(Y=="rele"){E.v.val=U.FV(R,Z);Z+=4}break;case"prop":case"Enmr":case"indx":case"name":var h=Gc.KR[Y],w=U.xF(R,Z);Z+=4+w.length*2+2;if(w.length!=0){console.log(Y,w);throw"e"}E.v={};for(var y=0;y<h.length;y++){var k=Gc.qt(R,Z);Z+=4+Math.max(4,k.length);E.v[h[y]]=k}if(Y=="name"){var w=U.xF(R,Z);Z+=4+w.length*2+2;E.v.val=w}if(Y=="indx"){E.v.val=U.n(R,Z);Z+=4}break;case"alis":var C=U.n(R,Z);Z+=4;E.v=U.XG(R,Z,C);Z+=C;break;default:{console.log("unknown oskey: "+Y+", "+r);throw"e";return E}}if(B){console.log("\t".repeat(o),E.v);console.log("\t".repeat(o),"======",Z)}E.size=Z-r;return E};Gc.KR={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"]};Gc.hC=function(R,Z,B){var o=Z,r=B.t;B=B.v;U.BJ(R,Z,r);Z+=4;switch(r){case"obj ":case"VlLs":U.tU(R,Z,B.length);Z+=4;for(var Y=0;Y<B.length;Y++){var E=Gc.hC(R,Z,B[Y]);Z+=E}break;case"UntF":U.BJ(R,Z,B.type);U.Ta(R,Z+4,B.val);Z+=12;break;case"doub":U.Ta(R,Z,B);Z+=8;break;case"bool":U.ZB(R,Z,B?1:0,1);Z+=1;break;case"long":U.tU(R,Z,B);Z+=4;break;case"comp":U.tU(R,Z+4,B);Z+=8;break;case"Objc":var E=Gc.Nq(R,B,Z);Z+=E;break;case"TEXT":U.KG(R,Z,B+"\0");Z+=4+B.length*2+2;break;case"enum":var p=Object.keys(B)[0],y=B[p];Gc.qo(R,Z,p);Z+=Gc.qx(R.data,Z);Gc.qo(R,Z,y);Z+=Gc.qx(R.data,Z);break;case"tdta":U.u$(R,Z,B.length);Z+=4;U.Nl(R,Z,B);Z+=B.length;break;case"ObAr":U.u$(R,Z,B.arr[0].arr.length);Z+=4;U.KG(R,Z,"\0");Z+=6;Gc.qo(R,Z,B.classID);Z+=4+Math.max(4,B.classID.length);U.u$(R,Z,B.arr.length);Z+=4;for(var z=0;z<B.arr.length;z++){var u=B.arr[z];Gc.qo(R,Z,u.id);Z+=4+Math.max(4,u.id.length);U.BJ(R,Z,u.type);Z+=4;U.BJ(R,Z,u.uID);Z+=4;U.u$(R,Z,u.arr.length);Z+=4;for(var Y=0;Y<u.arr.length;Y++){U.Ta(R,Z,u.arr[Y]);Z+=8}}break;case"Pth ":var Q=B.pth.length*2+4+8;U.u$(R,Z,Q);Z+=4;U.BJ(R,Z,B.sig);Z+=4;U.qu(R,Z,Q);Z+=4;U.ODE(R,Z,B.pth);Z+=B.pth.length*2+4;break;case"Clss":case"type":case"rele":var H=B.__name;if(H==null)H="";U.KG(R,Z,H+"\0");Z+=4+H.length*2+2;var T=B.classID;Gc.qo(R,Z,T);Z+=4+Math.max(4,T.length);if(r=="rele"){U.tU(R,Z,B.val);Z+=4}break;case"prop":case"Enmr":case"indx":case"name":var C=Gc.KR[r];U.u$(R,Z,1);Z+=6;for(var z=0;z<C.length;z++){var T=B[C[z]];Gc.qo(R,Z,T);Z+=4+Math.max(4,T.length)}if(r=="name"){U.KG(R,Z,B.val+"\0");Z+=4+B.val.length*2+2}if(r=="indx"){U.u$(R,Z,B.val);Z+=4}break;case"alis":var Q=B.length;U.u$(R,Z,Q);Z+=4;U.BJ(R,Z,B);Z+=Q;break;default:console.log("unknown oskey: "+r);Z=o;break}return Z-o};Gc.qt=function(R,Z){var B=U.FV(R,Z);if(B>1e3)throw"e";if(B==0)B=4;return U.XG(R,Z+4,B).trim()};Gc.qx=function(R,Z){var B=U.FV(R,Z);return B==0?8:4+B};Gc.qo=function(R,Z,B){var o="warp list Comp xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby flow trim then else".split(" "),r=4<B.length||o.indexOf(B)!=-1;U.tU(R,Z,r?B.length:0);U.BJ(R,Z+4,B);if(B.length<4&&!r){var Y="";for(var E=B.length;E<4;E++)Y+=" ";U.BJ(R,Z+4+B.length,Y)}};Gc.OLT=function(R){var Z={};for(var B in R){if(B=="classID")Z[B]=R[B];else if(B=="__name")Z[B]=R[B];else Z[B]=Gc.hn(R[B])}return Z};Gc.hn=function(R){if(R.RN=="Objc")return Gc.OLT(R.v);else if(R.RN=="VlLs"){var Z=[];for(var B=0;B<R.v.length;B++)Z.push(Gc.hn(R.v[B]));return Z}else if(R.RN=="UntF")return R.v.val;else return R.v};function Ri(){}Ri.SI=function(R,Z,B,o,r,Y){while(Z<B){var E=U.XG(R,Z,4);Z+=4;if(E!="8BIM"&&E!="8B64"){console.log("layer information signature error! "+E,"PSB = "+r);alert("Error in PSD file: wrong signature.");return B}var p=U.XG(R,Z,4);Z+=4;var y=U.FV(R,Z);Z+=4;if(r&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd".split(" ").indexOf(p)!=-1){y=y<<32|U.FV(R,Z);Z+=4}if(r&&["pths"].indexOf(p)!=-1){y=y<<32|U.FV(R,Z);Z+=4}var z=["lrFX","PlLd"];if(z.indexOf(p)!=-1){if(y%4!=0)y+=4-y%4;Z+=y;continue}switch(p){case"iOpa":o[p]=R[Z];break;case"brst":o[p]=[1,1,1];for(var u=0;u<y;u+=4)o[p][U.n(R,Z+u)]=0;break;case"knko":o[p]=R[Z];break;case"infx":o[p]=R[Z];break;case"clbl":o[p]=R[Z];break;case"lmgm":o[p]=R[Z];break;case"vmgm":o[p]=R[Z];break;case"lyid":o[p]=U.n(R,Z);break;case"lsct":o[p]={type:U.n(R,Z)};if(y>=12)o[p].QV=U.XG(R,Z+8,4);break;case"lsdk":o.lsct={type:U.n(R,Z)};break;case"lyvr":o[p]=U.n(R,Z);break;case"lnsr":var Q={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};o[p]=U.XG(R,Z,4);break;case"lspf":o[p]=U.n(R,Z);break;case"lclr":o[p]=U.at(R,Z);break;case"luni":o[p]=U.CT(R,Z);break;case"fxrp":o[p]=new VP(U.AG(R,Z),U.AG(R,Z+8));break;case"artb":case"artd":o[p]={};Gc.gZ(R,o[p],Z+4);break;case"SoCo":o[p]={};Gc.gZ(R,o[p],Z+4);break;case"GdFl":o[p]={};Gc.gZ(R,o[p],Z+4);Ri.wJ(o[p],p);break;case"PtFl":o[p]={};Gc.gZ(R,o[p],Z+4);Ri.wJ(o[p],p);break;case"CgEd":var H=o.brit=Go.wI("brit"),T={};Gc.gZ(R,T,Z+4);H.Brgh.v=T.Brgh?T.Brgh.v:0;H.Cntr.v=T.Cntr?T.Cntr.v:0;H.useLegacy.v=T.useLegacy?T.useLegacy.v:0;break;case"brit":if(o.brit==null){var H=o.brit=Go.wI("brit"),T={};H.Brgh.v=U.mj(R,Z);H.Cntr.v=U.mj(R,Z+2);H.useLegacy.v=!1}break;case"levl":var C=R.buffer.slice(Z,Z+y);o[p]=OO.NW(C);break;case"curv":o[p]=OR.yS(R,Z,y);break;case"expA":var e=U.at(R,Z),$=o[p]=Go.wI("expA");$.Exps.v=U.cn(R,Z+2);$.Ofst.v=U.cn(R,Z+6);$.gammaCorrection.v=U.cn(R,Z+10);break;case"vibA":o[p]={};Gc.gZ(R,o[p],Z+4);break;case"hue2":o[p]=OA.yS(R,Z,y);break;case"blnc":var $=o[p]=Go.wI(p);$.PrsL.v=R[Z+18]==1;var x=["ShdL","MdtL","HghL"];for(var u=0;u<3;u++)for(var M=0;M<3;M++)$[x[u]].v[M].v=U.mj(R,Z+u*6+M*2);break;case"blwh":var m={};Gc.gZ(R,m,Z+4);var $=Go.wI(p),G="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");for(var u=0;u<G.length;u++){$[G[u]]=m[G[u]];delete m[G[u]]}o[p]=$;break;case"phfl":var $=o[p]=Go.wI(p),K=$.Clr.v,e=U.at(R,Z);if(e==3){var s=[U.n(R,Z+2),U.n(R,Z+6),U.n(R,Z+10)],L=32768,_=O.Qt(s[0]/L,s[1]/L,s[2]/L);K.Lmnc.v=_.wi;K.A.v=_.t;K.B.v=_.X}if(e==2){var P=U.at(R,Z+2);if(P!=7)throw"e";K.Lmnc.v=U.mj(R,Z+4)/100;K.A.v=U.mj(R,Z+6)/100;K.B.v=U.mj(R,Z+8)/100}var i=Z+2+(e==3?12:10);$.Dnst.v=U.n(R,i);i+=4;$.PrsL.v=R[i]==1;break;case"mixr":var w={ht:U.at(R,Z+2)==1,k:[]};for(var u=0;u<20;u++)w.k.push(U.mj(R,Z+4+u*2));o[p]=GK.OBg(w);break;case"clrL":case"rplc":o[p]={};Gc.gZ(R,o[p],Z+6);break;case"nvrt":o[p]={};break;case"post":o[p]=Go.wI("post");o[p].Lvls.v=U.at(R,Z);break;case"thrs":o[p]=Go.wI("thrs");o[p].Lvl.v=U.at(R,Z);break;case"grdm":var k={rev:R[Z+2]==1,OG_:R[Z+3]==1},h=Z+4,j=U.CT(R,h);h+=4+j.length*2;var I=EC.hw(R,h,j),V=I[0];h=I[1];var F=U.at(R,h);h+=2;V.Intr.v=U.at(R,h);h+=2;var q=U.at(R,h);h+=2;k.mode=U.at(R,h);h+=2;k.yo=U.n(R,h);h+=4;k.OGL=U.at(R,h)==1;h+=2;k.ORS=U.at(R,h)==1;h+=2;k.Ojj=U.n(R,h);h+=4;k.OIy=U.at(R,h);h+=2;k.MU=[];for(var u=0;u<4;u++)k.MU.push(U.at(R,h+u*2));h+=8;k.Me=[];for(var u=0;u<4;u++)k.Me.push(U.at(R,h+u*2));h+=8;var t=U.at(R,h);h+=2;var c=Go.wI("grdm");c.Rvrs.v=k.rev;c.Grad.v=V;o[p]=c;break;case"selc":o[p]=OK.yS(R,Z,y);break;case"vmsk":case"vsms":var f=o.vmsk=new S.lo,W=U.FV(R,Z+4),l=(W>>0&1)==1;f.vG=(W>>1&1)==0;f.isEnabled=(W>>2&1)==0;f.u=yn.eg(R,Z+8,y-8,Y.Y,Y.Z);break;case"shmd":o[p]={};var g=U.n(R,Z),i=Z+4;for(var u=0;u<g;u++){var E=U.XG(R,i,4);i+=4;var v=U.XG(R,i,4);i+=4;i+=4;var Vg=U.n(R,i);i+=4;if(v=="cust"||v=="cmls"||v=="extn"||v=="mlst"){var GE=U.n(R,i);if(GE!=16)i+=4;var m={};Gc.gZ(R,m,i+4,!1);o[p][v]=m;if(v=="cmls")Oi.eA.OYK(o[p][v])}else{console.log("unknown shmd key: "+v+", size: "+Vg)}i+=Vg}break;case"shpa":var e=U.n(R,Z),Gy=U.n(R,Z+4);if(Gy!=0)console.log("some patterns present!");break;case"TySh":var GY=o[p]={},e=U.at(R,Z);GY.P=U.JB(R,Z+2);var Ga=U.at(R,Z+2+48);GY.iA={};var GO=Gc.gZ(R,GY.iA,Z+56),J=GV.ORE();for(var D in J)if(GY.iA[D]==null)GY.iA[D]=J[D];GY.qP={};var GB=Gc.gZ(R,GY.qP,Z+56+GO+6);GY.VE=U.ODb(R,Z+56+GO+6+GB);GY.HC=Yd.NW(GY.iA.EngineData.v);GV.OtO(GY.HC.EngineDict.StyleRun.RunArray);if(GY.HC.ResourceDict==null)GY.HC.ResourceDict=JSON.parse(JSON.stringify(GY.HC.DocumentResources));delete GY.iA.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var Gj=U.n(R,Z),GX=U.n(R,Z+4);o.lmfx={};var GO=Gc.gZ(R,o.lmfx,Z+8);Ri.KX(o.lmfx);break;case"FMsk":o[p]=U.NL(R,Z,y);break;case"Txt2":o[p]={};o[p].raw=U.NL(R,Z,y);o[p].Mt=Ym.NW(o[p].raw);break;case"Patt":o[p]=yB.eT(R,Z,y);break;case"SoLd":var Gw=U.XG(R,Z,4),G_=U.n(R,Z+4),Gf=U.n(R,Z+8);o[p]={};var Gl=Gc.gZ(R,o[p],Z+12);if(o[p].nonAffineTransform==null)o[p].nonAffineTransform=JSON.parse(JSON.stringify(o[p].Trnf));var GU=o[p].filterFX;if(GU){var GD=GU.v.filterFXList.v;for(var u=0;u<GD.length;u++){var Gi=GD[u].v,Gh=Gi.filterID;if(Gh&&Gh.v==993)Gi.filterID.v=689;if(Gh&&Gh.v==902)Gi.filterID.v=898}}break;case"vstk":case"pths":var G_=U.n(R,Z);o[p]={};var Gl=Gc.gZ(R,o[p],Z+4);break;case"vscg":var v=U.XG(R,Z,4),G_=U.n(R,Z+4);o[v]={};var Gl=Gc.gZ(R,o[v],Z+8);Ri.wJ(o[v],v);break;case"vogk":var G$=U.n(R,Z),G_=U.n(R,Z+4);o[p]={};var Gl=Gc.gZ(R,o[p],Z+8);o[p]=o[p].keyDescriptorList.v;for(var u=0;u<o[p].length;u++){}break;case"lnk2":case"lnkD__":case"lnk3__":o[p]=[];var h=Z;while(h<Z+y){var GA=new S.Xh;o[p].push(GA);var q=U.Cd(R,h);h+=8;var GJ=h;GA.type=U.XG(R,h,4);h+=4;if(GA.type!="liFD"){alert("Unknown Linked Layer type: "+GA.type);break;throw GA.type}GA.lX=U.n(R,h);h+=4;var Ge=U.Wn(R,h);h+=1+Ge.HH.length;GA.on=Ge.HH;GA.Re=U.xF(R,h);h+=4+GA.Re.length*2+2;GA.UD=U.XG(R,h,4);h+=4;GA.MD=U.XG(R,h,4);h+=4;var Gq=U.Cd(R,h);h+=8;GA.open=R[h];h+=1;if(GA.open!=0){var Gv={},GO=Gc.gZ(R,Gv,h+4);if(GO%4!=0)GO+=4-GO%4;console.log(Gv);h+=GO+4}GA.open=0;GA.raw=U.NL(R,h,Gq);h=GJ+q;if(q%4!=0)h+=4-q%4}break;case"FEid":var h=Z;o[p]=[];var yi=h+y,e=U.n(R,h);h+=4;while(h<yi){h+=4;var q=U.n(R,h);h+=4;var I={};o[p].push(I);I.id=U.Wn(R,h).HH;h+=I.id.length+1;var e=U.n(R,h);h+=4;h+=4;var GZ=U.n(R,h);h+=4;I.rect=U.mV(R,h);h+=16;var OU=U.n(R,h);h+=4;var GH=U.n(R,h);h+=4;var OB=new O.ZF(0);for(var u=0;u<GH+2;u++){var Gb=U.n(R,h);h+=4;if(Gb!=0){h+=4;var Gu=U.n(R,h),GP=null;h+=4;if(u<3||u==25)GP=Yh.wD(!0,OU,R,I.rect.Y,I.rect.Z,h,Gu);if(u==0)OB.F=GP;if(u==1)OB.S=GP;if(u==2)OB.X=GP;if(u==25)OB.t=GP;h+=Gu}}I.buffer=O.a(I.rect.b()*4);O.oh(OB,I.buffer);O.Uj(I);var Gn=R[h];h++;if(Gn!=0){I.m=new S.iH;I.m.rect=U.mV(R,h);h+=16;h+=4;var Yy=U.n(R,h);h+=4;I.m.channel=Yh.wD(!0,OU,R,I.m.rect.Y,I.m.rect.Z,h,Yy);I.m.color=255;I.m.gG();h+=Yy}if(q%4!=0)h+=4-q%4}break;case"Lr16":Yr.qn(Y,R,Z);break;default:console.log("unknown layer tag: "+p+", size: "+y);break}var Gm="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2".split(" ");if(Gm.indexOf(p)==-1)if(y%4!=0)console.log("size not multiple of 4!!!",p);if(p!="luni"&&p!="TySh"&&p!="tySh"&&p!="lfx2")if(y%4!=0)y+=4-y%4;Z+=y}var GW=[];for(var u=0;u<GW.length;u++)delete o[GW[u]];return Z};Ri.SB=function(R,Z,B,o){for(var r in B)if(B[r]==null){alert("A bug occured (see console).");console.log("Please, report a bug, that \""+r+"\" tag was present with a null value.");
delete B[r]}for(var r in B){U.BJ(R,Z,"8BIM");Z+=4;var Y=Z,E=0;U.BJ(R,Z,r);Z+=4;U.tU(R,Z,0);Z+=4;switch(r){case"iOpa":U.ZB(R,Z,B[r],1);
E=4;break;case"brst":E=0;for(var p=0;p<3;p++)if(B[r][p]==0){U.u$(R,Z+E,p);E+=4}break;case"knko":U.ZB(R,Z,B[r],1);
E=4;break;case"infx":U.ZB(R,Z,B[r],1);E=4;break;case"clbl":U.ZB(R,Z,B[r],1);E=4;break;case"lmgm":U.ZB(R,Z,B[r],1);
E=4;break;case"vmgm":U.ZB(R,Z,B[r],1);E=4;break;case"lyid":U.u$(R,Z,B[r]);E=4;break;case"lsct":U.u$(R,Z,B[r].type);
E=4;if(B[r].QV){U.BJ(R,Z+4,"8BIM");U.BJ(R,Z+8,B[r].QV);E=12}break;case"lyvr":U.u$(R,Z,B[r]);E=4;break;
case"lnsr":U.BJ(R,Z,B[r]);E=4;break;case"lspf":U.u$(R,Z,B[r]);E=4;break;case"lclr":U.mo(R,Z,B[r]);E=8;
break;case"luni":U.KG(R,Z,B[r]);E=4+2*B[r].length;break;case"fxrp":U.Ta(R,Z,B[r].x);U.Ta(R,Z+8,B[r].y);
E=16;break;case"artb":case"artd":U.u$(R,Z,16);E=Gc.Nq(R,B[r],Z+4)+4;break;case"SoCo":U.u$(R,Z,16);E=Gc.Nq(R,B[r],Z+4)+4;
break;case"GdFl":U.u$(R,Z,16);E=Gc.Nq(R,B[r],Z+4)+4;break;case"PtFl":U.u$(R,Z,16);E=Gc.Nq(R,B[r],Z+4)+4;
break;case"CgEd":var y={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},z=y,u=B[r];
z.Brgh.v=u.Brgh.v;z.Cntr.v=u.Cntr.v;z.useLegacy.v=u.useLegacy.v;U.u$(R,Z,16);E=Gc.Nq(R,y,Z+4)+4;break;
case"brit":R.$_(Z,8);E=8;break;case"levl":var Q=new RZ;E=OO.Px(Q,B[r]);U.Nl(R,Z,Q.data);break;case"curv":E=OR.yM(R,Z,B[r]);
break;case"expA":E=14;R.$_(Z,14);U.xK(R.data,Z,1);U.qm(R.data,Z+2,B[r].Exps.v);U.qm(R.data,Z+6,B[r].Ofst.v);
U.qm(R.data,Z+10,B[r].gammaCorrection.v);break;case"vibA":U.u$(R,Z,16);E=Gc.Nq(R,B[r],Z+4)+4;break;case"hue2":E=OA.yM(R,Z,B[r]);
break;case"blnc":E=19;R.$_(Z,E);var H=["ShdL","MdtL","HghL"];for(var p=0;p<3;p++){var T=B[r][H[p]].v;
for(var C=0;C<3;C++)T.push(U.em(R.data,Z+p*6+C*2,T[C].v))}R.data[Z+18]=B[r].PrsL.v?1:0;break;case"blwh":var y={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},e="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var p=0;p<e.length;p++){y[e[p]]=B[r][e[p]]}U.u$(R,Z,16);E=Gc.Nq(R,y,Z+4)+4;break;case"phfl":U.mo(R,Z,2);
var $=B[r].Clr.v;U.mo(R,Z+2,7);U.mo(R,Z+4,Math.round($.Lmnc.v*100));U.mo(R,Z+6,Math.round($.A.v*100));
U.mo(R,Z+8,Math.round($.B.v*100));U.mo(R,Z+10,0);var x=Z+2+10;R.$_(x,5);U.lc(R.data,x,B[r].Dnst.v);x+=4;
R.data[x]=B[r].PrsL.v?1:0;x++;E=x-Z;break;case"mixr":E=44;R.$_(Z,E);var M=GK.HY(B[r]);U.xK(R.data,Z,1);
U.xK(R.data,Z+2,M.ht?1:0);for(var p=0;p<20;p++)U.em(R.data,Z+4+p*2,M.k[p]);break;case"clrL":case"rplc":U.mo(R,Z,1);
U.u$(R,Z+2,16);E=Gc.Nq(R,B[r],Z+6)+6;break;case"nvrt":E=0;break;case"post":U.mo(R,Z,B[r].Lvls.v);E=2;
break;case"thrs":U.mo(R,Z,B[r].Lvl.v);E=2;break;case"grdm":var m={rev:B[r].Rvrs.v,OG_:!1,mode:0,yo:867527939,OGL:!1,ORS:!0,Ojj:2048,OIy:3,MU:[0,0,0,0],Me:[32768,32768,32768,32768]},G=B[r].Grad.v;
R.$_(Z,4);U.xK(R.data,Z,1);R.data[Z+2]=m.rev?1:0;R.data[Z+3]=m.OG_?1:0;var K=Z+4;U.KG(R,K,G.Nm.v);K+=4+G.Nm.v.length*2;
K=EC.OLO(R,K,G);U.mo(R,K,2);K+=2;U.mo(R,K,G.Intr.v);K+=2;U.mo(R,K,32);K+=2;U.mo(R,K,m.mode);K+=2;U.u$(R,K,m.yo);
K+=4;U.mo(R,K,m.OGL?1:0);K+=2;U.mo(R,K,m.ORS?1:0);K+=2;U.u$(R,K,m.Ojj);K+=4;U.mo(R,K,m.OIy);K+=2;for(var p=0;
p<4;p++)U.mo(R,K+p*2,m.MU[p]);K+=8;for(var p=0;p<4;p++)U.mo(R,K+p*2,m.Me[p]);K+=8;K+=2;E=K-Z;break;case"selc":E=OK.yM(R,Z,B[r]);
break;case"FMsk":U.Nl(R,Z,B[r]);E=B[r].length;break;case"Txt2":var s=new RZ,L=Ym.tJ(B[r].Mt,s),_=O.a(L,!0);
for(var p=0;p<L;p++)_[p]=s.data[p];U.Nl(R,Z,_);E=_.length;break;case"vmsk":var P=B[r],i=0;U.u$(R,Z,3);
if(!P.vG)i+=1<<1;if(!P.isEnabled)i+=1<<2;U.u$(R,Z+4,i);E=8;var w=P.u.length;R.$_(Z+8,w*26);yn.wl(R.data,Z+8,P.u,o.Y,o.Z);
E+=w*26;break;case"shmd":U.u$(R,Z,Object.keys(B[r]).length);var x=Z+4;for(var k in B[r]){U.BJ(R,x,"8BIM");
x+=4;U.BJ(R,x,k);x+=4;U.u$(R,x,0);x+=4;U.u$(R,x,0);x+=4;U.u$(R,x,16);x+=4;var h=Gc.Nq(R,B[r][k],x);if(h%4!=0)h+=4-h%4;
U.u$(R,x-8,h+4);x+=h}E=x-Z;break;case"TySh":var x=Z;U.Kp(R,x,1);x+=2;var j=B[r],s=new RZ;j.HC.DocumentResources=JSON.parse(JSON.stringify(j.HC.ResourceDict));
var L=Yd.tJ(j.HC,s),_=O.a(L,!0);for(var p=0;p<L;p++)_[p]=s.data[p];j.iA.EngineData={t:"tdta",v:_};var I=j.HC.EngineDict.Editor.Text;
j.iA.Txt.v=I.substring(0,I.length-1);U.ODm(R,x,j.P);x+=48;U.Kp(R,x,50);x+=2;U.u$(R,x,16);x+=4;x+=Gc.Nq(R,j.iA,x);
U.Kp(R,x,1);x+=2;U.u$(R,x,16);x+=4;x+=Gc.Nq(R,j.qP,x);U.OqW(R,x,j.VE);x+=16;E=x-Z;break;case"lmfx":U.u$(R,Z,0);
U.u$(R,Z+4,16);var y=JSON.parse(JSON.stringify(B[r])),V=!1;Ri.wf(y);for(var p=0;p<Gk._p.length;p++)if(y[Gk._p[p]]!=null)V=!0;
U.BJ(R,Y,V?"lmfx":"lfx2");E=Gc.Nq(R,y,Z+8)+8;break;case"Patt":var x=yB.en(R,Z,B[r]);E=x-Z;break;case"SoLd":U.BJ(R,Z,"soLD");
U.u$(R,Z+4,4);U.u$(R,Z+8,16);E=Gc.Nq(R,B[r],Z+12)+12;break;case"vstk":case"pths":U.u$(R,Z,16);E=Gc.Nq(R,B[r],Z+4)+4;
break;case"vscg__":U.BJ(R,Z,B[r].key);U.u$(R,Z+4,16);E=Gc.Nq(R,B[r].k,Z+8)+8;break;case"vogk":U.u$(R,Z,1);
U.u$(R,Z+4,16);O.je.Ofg(B[r]);for(var p=0;p<B[r].length;p++){var F=B[r][p].v.keyOriginResolution;if(F)F.v=o.ag}var q={classID:"null",keyDescriptorList:{t:"VlLs",v:B[r]}};
E=Gc.Nq(R,q,Z+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var K=Z;for(var p=0;p<B[r].length;p++){var t=B[r][p],c=K;
U.wo(R,K,0);K+=8;U.BJ(R,K,t.type);K+=4;U.u$(R,K,t.lX);K+=4;R.$_(K,1);R.data[K]=t.on.length;K++;U.BJ(R,K,t.on);
K+=t.on.length;U.KG(R,K,t.Re+"\0");K+=4+t.Re.length*2+2;U.BJ(R,K,t.UD);K+=4;U.BJ(R,K,t.MD);K+=4;U.wo(R,K,t.raw.length);
K+=8;R.$_(K,1);R.data[K]=t.open;K++;U.Nl(R,K,t.raw);K+=t.raw.length;U.u$(R,K,1);K+=4;K+=11;var f=K-c-8;
U.wo(R,c,f);if(f%4!=0){R.$_(K,4-f%4);K+=4-f%4}}E=K-Z;break;case"FEid":var K=Z;U.u$(R,K,3);K+=4;for(var W=0;
W<B[r].length;W++){var l=B[r][W];K+=4;var g=K;K+=4;U.Er(R,K,l.id);K+=l.id.length+1;U.u$(R,K,1);K+=4;
K+=4;var v=K;K+=4;U.dK(R,K,l.rect);K+=16;U.u$(R,K,8);K+=4;U.u$(R,K,24);K+=4;var Vg=new O.ZF(l.rect.b());
O.AB(l.buffer,Vg);for(var p=0;p<24+2;p++){var GE=null;if(p==0)GE=Vg.F;if(p==1)GE=Vg.S;if(p==2)GE=Vg.X;
if(p==25)GE=Vg.t;U.u$(R,K,GE!=null?1:0);K+=4;if(GE!=null){K+=4;var Gy=K;K+=4;R.$_(K,l.rect.b()+2);K=Yh.wq(GE,R.data,l.rect.Y,l.rect.Z,K,3);
U.u$(R,Gy,K-(Gy+4))}}U.u$(R,v,K-(v+4));R.$_(K,1);R.data[K]=l.m?1:0;K++;if(l.m!=null){var GY=l.m.rect,Ga=l.m.channel;
GY=l.rect;Ga=O.a(GY.b());O.set(Ga,l.m.color);O.WX(l.m.channel,l.m.rect,Ga,GY);U.dK(R,K,GY);K+=16;K+=4;
var GO=K;K+=4;R.$_(K,GY.b()+2);K=Yh.wq(Ga,R.data,GY.Y,GY.Z,K,3);U.u$(R,GO,K-(GO+4))}var f=K-(g+4);U.u$(R,g,f);
if(f%4!=0)K+=4-f%4}E=K-Z;break;default:console.log("unknown layer tag: "+r+", size: "+E);Z-=12;continue}var J=["Txt2","artd","extd","luni","pths"];
if(J.indexOf(r)==-1)if(E%4!=0)E+=4-E%4;U.tU(R,Z-4,E);if(r!="luni"&&r!="TySh")if(E%4!=0)E+=4-E%4;Z+=E}return Z};
Ri.KX=function(R){for(var Z=0;Z<Gk.order.length;Z++){var B=Gk.order[Z],o=Gk._p[Z];if(R[o]==null)R[o]={t:"VlLs",v:[]};
if(R[B]!=null){R[o].v.push(R[B]);delete R[B]}var r=[];for(var Y=0;Y<R[o].v.length;Y++){var E=R[o].v[Y];
if(E.v.present==null||E.v.present.v==!0)r.push(E)}R[o].v=r}};Ri.wf=function(R){for(var Z=0;Z<Gk.order.length;
Z++){var B=Gk.order[Z],o=Gk._p[Z],r=R[o].v.length;if(r==0){delete R[o];continue}if(r==1){R[B]=R[o].v[0];
delete R[o];continue}}};Ri.wJ=function(R,Z){if(Z=="GdFl"){if(R.Angl==null)R.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(R.Algn==null)R.Algn={v:!0,t:"bool"};if(R.Scl==null)R.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(R.Ofst==null)R.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(R.Rvrs==null)R.Rvrs={v:!1,t:"bool"};if(R.Dthr==null)R.Dthr={v:!1,t:"bool"}}if(Z=="PtFl"){if(R.Algn==null)R.Algn={v:!0,t:"bool"};
if(R.Scl==null)R.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(R.phase==null)R.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};
Ri.clone=function(R,Z){var B={};if(R=="TySh"){B.P=Z.P.clone();B.iA=JSON.parse(JSON.stringify(Z.iA));
B.qP=JSON.parse(JSON.stringify(Z.qP));B.VE=Z.VE.clone();B.HC=JSON.parse(JSON.stringify(Z.HC));if(Z.add)B.add={vmsk:Z.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(Z.add.vogk))};
return B}else if(R=="fxrp")return Z.clone();else if(R=="vmsk")return Z.clone();else return JSON.parse(JSON.stringify(Z))};
function Yn(R,Z){}Yn.NW=function(R,Z,B,o){o=Yn.OLn(R,Z,B,o);return o};Yn.tJ=function(R,Z,B,o,r){o=Yn.Olw(R,Z,B,o,r);
return o};Yn.OLn=function(R,Z,B,o){var r=o;R.rect=U.mV(B,o);o+=16;var Y=U.at(B,o);o+=2;R.lI=[];var E=Z.Qb;
for(var p=0;p<Y;p++){R.lI[p]={id:U.mj(B,o),length:(E?U.Cd:U.n)(B,o+2)};o+=E?10:6}var y=U.XG(B,o,4);o+=4;
if(y!="8BIM"){console.log("Invalid Blend mode signature: "+y);alert("Error in Photoshop file: wrong signature.");
throw"e"}R.QV=U.XG(B,o,4);o+=4;R.opacity=B[o];o+=1;R.fa=B[o]==1;o+=1;R.Kw=B[o];o+=1;if(B[o]!=0)console.log("error in filler!");
o+=1;var z=U.n(B,o);o+=4;var u=o;o=Yn.Olt(R,B,o);o=Yn.OhN(R,B,o);var Q=U.Wn(B,o);R.name=Q.HH;o+=Q.length;
if(Q.length%4!=0)o+=4-Q.length%4;o=Ri.SI(B,o,u+z,R.add,E,Z);if(R.MK){var H=R.MK;if(R.F$()){R.F$().ed=H[0];
R.F$().lB=H[1]}if(R.add.vmsk){R.add.vmsk.ed=H[2];R.add.vmsk.lB=H[3]}}if(R.add.lsct){if(R.add.lsct.QV)R.QV=R.add.lsct.QV;
R.add.lsct=R.add.lsct.type}return o};Yn.Olw=function(R,Z,B,o,r){var Y=o;U.dK(B,o,R.rect);o+=16;var E=R.OBf();
U.mo(B,o,E.length);o+=2;r.push(o);for(var p=0;p<E.length;p++){U.Kp(B,o,E[p]);U.u$(B,o+2,0);o+=6}U.BJ(B,o,"8BIM");
o+=4;U.BJ(B,o,R.QV);o+=4;U.ZB(B,o,R.opacity,1);o+=1;U.ZB(B,o,R.fa?1:0,1);o+=1;U.ZB(B,o,R.Kw,1);o+=1;
U.ZB(B,o,0,1);o+=1;var y=o;U.u$(B,o,0);o+=4;var z=o;o=Yn.OhG(R,B,o);o=Yn.Ohi(R,B,o);var u=U.Er(B,o,R.name.slice(0,255));
o+=u;if(u%4!=0)o+=4-u%4;if(R.add.lsct){R.add.lsct={type:R.add.lsct};if(R.QV=="pass"){R.add.lsct.QV="pass";
R.QV="norm"}}if(R.QV=="pass")R.add.lsct={type:R.add.lsct,QV:"pass"};if(R.add.brit)R.add.CgEd=R.add.brit;
o=Ri.SB(B,o,R.add,Z);delete R.add.CgEd;if(R.add.lsct){if(R.add.lsct.QV)R.QV=R.add.lsct.QV;R.add.lsct=R.add.lsct.type}var Q=o-z;
U.u$(B,y,Q);return o};Yn.Olt=function(R,Z,B){var o=U.n(Z,B);B+=4;if(o==0)return B;var r=B;R.m=new S.iH;
R.m.rect=U.mV(Z,B);B+=16;R.m.color=Z[B];B+=1;var Y=Yn.S_(R.m,Z,B);B+=1;if(Y){var E=!1,y=255,z=0,u=255,Q=0;
for(var p=0;p<R.lI.length;p++)if(R.lI[p].id==-3)E=!0;if(E){R.JC=Yn.Sw(Z,B);B+=18}var H=B,T=Z[B];B++;
if(T>>0&1){y=Z[B];B++}if(T>>1&1){z=U.AG(Z,B);B+=8}if(T>>2&1){u=Z[B];B++}if(T>>3&1){Q=U.AG(Z,B);B+=8}if((B-H&1)==1)B++;
R.MK=[y,z,u,Q]}else{if(o==20)B+=2;else{R.JC=Yn.Sw(Z,B);B+=18}}return r+o};Yn.OhG=function(R,Z,B){U.u$(Z,B,0);
B+=4;if(R.m==null)return B;var o=B,r=!0;U.u$(Z,B,0);U.dK(Z,B,R.m.rect);B+=16;U.ZB(Z,B,R.m.color);B+=1;
Yn.SS(R.m,Z,B,r);B+=1;if(r){if(R.JC){Yn.Ohh(Z,B,R.JC);B+=18}U.ZB(Z,B,15);B+=1;var Y=R.F$(),E=R.add.vmsk;
U.ZB(Z,B,Y?Y.ed:255);B+=1;U.Ta(Z,B,Y?Y.lB:0);B+=8;U.ZB(Z,B,E?E.ed:255);B+=1;U.Ta(Z,B,E?E.lB:0);B+=8;
B++;U.u$(Z,o-4,B-o)}return B};Yn.Sw=function(R,Z){var B=new S.iH;Yn.S_(B,R,Z);Z+=1;B.color=R[Z];Z+=1;
B.rect=U.mV(R,Z);Z+=16;return B};Yn.Ohh=function(R,Z,B){Yn.SS(B,R,Z,!1);Z+=1;U.ZB(R,Z,B.color);Z+=1;
U.dK(R,Z,B.rect);Z+=16};Yn.S_=function(R,Z,B){var o=Z[B];R.vG=(o>>0&1)==0;R.isEnabled=(o>>1&1)==0;R.Ri=(o>>3&1)==1;
return o>>4&1};Yn.SS=function(R,Z,B,o){var r=0;if(!R.vG)r+=1<<0;if(!R.isEnabled)r+=1<<1;if(R.Ri)r+=1<<3;
if(o)r+=1<<4;U.ZB(Z,B,r)};Yn.OhN=function(R,Z,B){var o=U.n(Z,B);B+=4;if(o==0)return B;if(o!=5*8)console.log("unexpected Layer Blending Ranges content, size:",o);
for(var r=0;r<o;r++)R.PG[r]=Z[B+r];return B+40};Yn.Ohi=function(R,Z,B){U.u$(Z,B,R.PG.length);B+=4;Z.$_(B,40);
for(var o=0;o<40;o++){Z.data[B+o]=R.PG[o]}return B+40};function Yh(){}Yh.NW=function(R,Z,B,o){o=Yh.Oh$(Z.Qb,Z.cH,Z.lw,R,B,o);
return o};Yh.Px=function(R,Z,B,o,r){B=Yh.Ohe(R,Z,B,o,r);return B};Yh.Oh$=function(R,Z,B,o,r,Y){var E=o.lI,p={},y=Y;
for(var z=0;z<E.length;z++){var u=E[z],Q=u.id,H=u.length,T;if(Q==-3)T=o.JC.rect;else if(Q==-2)T=o.m.rect;
else T=o.rect;var C=Yh.wD(R,Z,r,T.Y,T.Z,Y,H);Y+=H;if(Q==-3)o.JC.channel=C;else if(Q==-2)o.m.channel=C;
else p["c"+Q]=C}var e=new O.ZF(0);e.t=null;if(B==3){e.F=p.c0;e.S=p.c1;e.X=p.c2;e.t=p["c-1"]}else if(B==1){e.F=p.c0;
e.S=p.c0;e.X=p.c0;e.t=p["c-1"]}else if(B==4){var $=p.c0,x=p.c1,M=p.c2,m=p.c3,G=$.length,K=1/255;for(var z=0;
z<G;z++){var s=$[z],L=x[z],_=M[z],P=m[z]*K;$[z]=Math.round(s*P);x[z]=Math.round((.2*s+.8*L)*P);M[z]=Math.round((.2*L+.8*_)*P)}e.F=$;
e.S=x;e.X=M;e.t=p["c-1"];console.log("converting from CMYK to RGB")}if(e.F==null)e.F=O.a(0);if(e.t==null&&e.F!=null){e.t=O.clone(e.F);
O.set(e.t,255)}if(e.S==null)e.S=e.F.slice(0);if(e.X==null)e.X=e.F.slice(0);o.buffer=O.a(Math.max(0,o.rect.b()*4));
O.oh(e,o.buffer);return Y};Yh.Ohe=function(R,Z,B,o,r){var Y=R.OBf(),E=new O.ZF(R.rect.b());O.AB(R.buffer,E);
for(var p=0;p<Y.length;p++){var y=Y[p],z,u;if(y==-3)z=R.JC.rect;else if(y==-2)z=R.m.rect;else z=R.rect;
if(y==-3)u=R.JC.channel;if(y==-2)u=R.m.channel;if(y==-1)u=E.t;if(y==0)u=E.F;if(y==1)u=E.S;if(y==2)u=E.X;
Z.$_(B,z.b()*3+4);var Q=B;B=Yh.wq(u,Z.data,z.Y,z.Z,B,r[1]?3:1);var H=B-Q;if(H%2!=0){H+=H%2;B++}U.lc(Z.data,o+p*6+2,H)}return B};
Yh.wD=function(R,Z,B,o,r,Y,E){var p=U.at(B,Y);Y+=2;return Yh.Ew(R,Z,B,o,r,Y,p,E-2)};Yh.wq=function(R,Z,B,o,r,Y){U.em(Z,r,Y);
r+=2;r=Yh.KB(R,Z,B,o,r,Y);return r};Yh.Ew=function(R,Z,B,o,r,Y,E,p){var y,z=o*r*(Z>>>3),u=z&3,Q=z+(u==0?0:4-u);
if(E>3){console.log("unknown compression: "+E,o,r,o*r,p);E=0}if(E==0){if(Y+Q<=B.length)y=B.slice(Y,Y+Q);
else{y=O.a(z);for(var H=0;H<z;H++)y[H]=B[Y+H]}Y+=z}else if(E==1){y=O.a(z);var T=R?4:2,C=Yh.St(B,y,o,r,Y,Y+T*r,T);
Y+=T*r+C}else if(E==2||E==3){var e=new Uint8Array(B.buffer,Y+2,p-6),$=pako.inflateRaw(e);if(E==3){if(Z==8)for(var x=0;
x<r;x++){var M=x*o+1,m=M+o-1,G=$[M-1];for(var K=M;K<m;K++){G+=$[K];$[K]=G&255}}else for(var x=0;x<r;
x++){var M=x*o+1,m=M+o-1,G=$[2*M-2]<<8|$[2*M-1];for(var K=M;K<m;K++){var s=K<<1;G+=$[s]<<8|$[s+1];$[s]=G>>>8;
$[s+1]=G&255}}}if($.length==Q)y=$;else{y=O.a(Q);for(var H=0;H<$.length;H++)y[H]=$[H]}}if(Z==16){var L=O.a(o*r);
for(var H=0;H<z;H+=2)L[H>>>1]=y[H];y=L}return y};Yh.KB=function(R,Z,B,o,r,Y){var E=B*o;if(Y==0)for(var p=0;
p<E;p++)Z[r++]=R[p];else if(Y==1){var y=Yh.SJ(R,Z,B,o,r,r+2*o);r+=2*o+y}else if(Y==2||Y==3){if(Y==3){var z=new Uint8Array(R.length);
for(var u=0;u<o;u++){var Q=u*B+1,H=Q+B-1,T=R[Q-1];z[Q-1]=T;for(var C=Q;C<H;C++){z[C]=R[C]+(256-T)&255;
T=R[C]}}R=z}Z[r]=120;Z[r+1]=156;r+=2;var e=pako.deflateRaw(R,{ORO:4});U.SF(Z,r,e);r+=e.length+4}else console.log("Unknown compression: "+Y);
return r};Yh.St=function(R,Z,B,o,r,Y,E){var p=Y,y=o|0;if(E==2)for(var z=0;z<y;z++){var u=U.at(R,r+(z<<1));
Yh.wN(R,Y,u,Z,z*B,B);Y+=u}else for(var z=0;z<y;z++){var u=U.n(R,r+(z<<2));Yh.wN(R,Y,u,Z,z*B,B);Y+=u}return Y-p};
Yh.SJ=function(R,Z,B,o,r,Y){var E=Y;for(var p=0;p<o;p++){var y=Yh.OhZ(R,p*B,B,Z,Y);U.xK(Z,r+p*2,y);Y+=y}return Y-E};
Yh.OhZ=function(R,Z,B,o,r){var Y,E,p,y,z,u,Q;y=Z+B;for(p=Z,E=r;B>0;p=Y,B-=u){Q=B<128?B:128;if(p<=y-3&&R[p+1]==R[p+0]&&R[p+2]==R[p+0]){for(Y=p+3;
Y<p+Q&&R[Y]==R[p+0];)++Y;u=Y-p;o[E++]=1+256-u;o[E++]=R[p+0]}else{for(Y=p;Y<p+Q;)if(Y<=y-3&&R[Y+1]==R[Y+0]&&R[Y+2]==R[Y+0])break;
else++Y;u=Y-p;o[E++]=u-1;for(var H=0;H<u;H++)o[E+H]=R[p+H];E+=u}}return E-r};Yh.wN=function(R,Z,B,o,r,Y){for(var E=0;
E<B;){var p=R[Z++];if(p>=128){var y=R[Z++],z=r+(257-p);o.fill(y,r,z);r=z;E+=2}else{var z=r+(1+p);while(r<z)o[r++]=R[Z++];
E+=1+1+p}}};function Yr(){}Yr.NW=function(R,Z){Z.Qb=!1;Z.cH=8;var B=new Uint8Array(R),o=0,r=0,v,J=0,Gw=!1,G_=!0,Gf=!1,Gl=0;
r=Yr.wv(Z,B,o);o=r;r=Yr.OSJ(Z,B,o);o=r;r=Yr.OSs(Z,B,o);o=r;r=Yr.OSb(Z,B,o);o=r;r=Yr.OfV(Z,B,o);o=r;if(Z.q.length==0){var Y=Z.xE();
Y.AA("Background");Z.q.push(Y);Y.buffer=O.clone(Z.buffer);Y.rect=new N(0,0,Z.Y,Z.Z)}if(Z.Gs.r1005){Z.ag=U.ODw(Z.Gs.r1005,0)}if(Z.Gs.r1026){var B=Z.Gs.r1026;
for(var E=0;E<B.length;E+=2){var r=Z.q[E>>>1];if(r)r.gt=U.at(B,E)}}if(Z.Gs.r1032){var B=Z.Gs.r1032,p=U.n(B,12);
for(var E=0;E<p;E++){var y=B[16+E*5+4],z=U.FV(B,16+E*5)/32;Z.Vw[y].push(z)}}delete Z.Gs.r1036;delete Z.Gs.r1039;
if(Z.Gs.r1050){var u=U.n,Q=Z.Gs.r1050,H=U.n(Q,0);if(H==6){var T=4,C=U.mV(Q,T);T+=16;var e=U.CT(Q,T);
T+=4+e.length*2;var $=u(Q,T);T+=4;var x=Z.On;for(var E=0;E<$;E++){var M=A.EO.OBV(),G;x.push(M);M=M.v;
M.sliceID.v=u(Q,T);T+=4;M.groupID.v=u(Q,T);T+=4;var m=u(Q,T);T+=4;if(m==1){G=u(Q,T);T+=4}var e=U.CT(Q,T);
T+=4+e.length*2;var K=u(Q,T);T+=4;var s=[u(Q,T),u(Q,T+4),u(Q,T+8),u(Q,T+12)];T+=16;A.EO.Pj(x,x.length-1,s);
var L=M.url.v=U.CT(Q,T);T+=4+L.length*2;var _=M.null.v=U.CT(Q,T);T+=4+_.length*2;var P=M.Msge.v=U.CT(Q,T);
T+=4+P.length*2;var i=M.altTag.v=U.CT(Q,T);T+=4+i.length*2;M.cellTextIsHTML.v=Q[T]==1;T++;var w=M.cellText.v=U.CT(Q,T);
T+=4+w.length*2;var k=u(Q,T);T+=4;var h=u(Q,T);T+=4;var j=Q.slice(T,T+4);T+=4;if(m!=2)x.pop()}}else if(H==8){var I={};
Gc.gZ(Q,I,8,!1);var Q=Z.On=I.slices.v;for(var E=0;E<Q.length;E++){if(Q[E].v.origin.v.ESliceOrigin!="userGenerated"){Q.splice(E,1);
E--}}}}if(Z.Gs.r1058){var V=Z.Gs.r1058,F=UTIF.decode(V.buffer,{parseMN:!1,debug:!1});Ei.xg(F[0],Z.mt);
delete Z.Gs.r1058}if(Z.Gs.r1060){var q=U.qe(Z.Gs.r1060);Ei.OvB(q,Z.mt);delete Z.Gs.r1060}if(Z.Gs.r1065){var B=Z.Gs.r1065;
Z.lP={};Gc.gZ(B,Z.lP,4,!1)}if(Z.Gs.r1069){var B=Z.Gs.r1069,t=[];for(var E=2;E<B.length;E+=4){var G=U.n(B,E);
for(var c=0;c<Z.q.length;c++){var r=Z.q[c];if(r.add.lyid==G&&r.add.lsct!=3)t.push(c)}}Z.C=t}if(Z.Gs.r1025){var f=Z.Gs.r1025;
delete Z.Gs.r1025;var W=yn.eg(f,0,f.length,Z.Y,Z.Z),l=new S.lo;l.u=W;Z.EP[0]=GF.EU("Working Path",{vmsk:l})}var g=Z.add.pths;
delete Z.add.pths;var Vg=Z.Gs.r3000;if(Vg){v={};Gc.gZ(Vg,v,4,!1);delete Z.Gs.r3000}for(var GE=0;GE<=997;
GE++){var Gy="r"+(2e3+GE),f=Z.Gs[Gy];if(f==null)break;var W=yn.eg(f,0,f.length,Z.Y,Z.Z),GY=g?g.pathList.v[GE].v.pathUnicodeName.v:"Path "+GE,Ga=v?v.keyRootDescriptorList.v[GE].v.keyDescriptorList.v:S.uN(W),l=new S.lo;
l.u=W;Z.EP[GE+1]=GF.EU(GY,{vmsk:l,vogk:Ga});delete Z.Gs[Gy]}delete Z.Qb;var GO=new N(0,0,Z.Y,Z.Z),D=Z.add.Txt2,GB=D;
if(GB){GB=GB.Mt;if(GB._DocumentResources==null)GB=VH.OJP(GB)}if(D&&D.Mt._DocumentResources!=null){var Gj="_Type _FrameMatrix _TextOnPathTRange _PathData _FirstBaselineAlignment _LineOrientation _RowGutter _ColumnGutter".split(" "),GX=D.Mt._DocumentResources._TextFrameSet._Resources;
for(var E=0;E<GX.length;E++){}}for(var E=0;E<Z.q.length;E++){var r=Z.q[E],GU=r.add.lsct,GD=r.add.vmsk,Gi=r.F$();
if(GU==YV.Ng)Gl++;else if(GU==YV.A_||GU==YV.Zg)Gl--;if(r.name==""){r.name="Layer "+(E+1);Gf=!0}if(Gf&&r.av()&&r.QV=="norm")r.QV="pass";
if(r.by()&&r.YQ(Z).m){var Gh=r.YQ(Z);Gh.m.isEnabled=r.add.SoLd.filterFX.v.filterMaskEnable.v}if(GD&&r.yJ()){var G$=Gk.uI.default;
if(r.add.vstk==null)r.add.vstk=JSON.parse(JSON.stringify(G$));else{var GA="strokeStyleLineDashSet";if(r.add.vstk[GA]==null)r.add.vstk[GA]=JSON.parse(JSON.stringify(G$[GA]))}}if(GD&&(r.add.vogk==null||O.V._D(GD.u)!=r.add.vogk.length))r.uN();
if(Gi==null&&r.m!=null){if(r.m.Ri==!1){r.m.Ri=!0;r.JC=r.m.clone()}else{GD.JC=r.m;GD.Zr=!1;r.m.lB=GD.lB;
r.m.ed=GD.ed}}if(Gi!=null&&GD!=null&&(Gi.lB+GD.lB!=0||Gi.ed+GD.ed!=2*255))r.Aq(Z);var GJ=r.add.artb;
if(GJ&&GJ.artboardBackgroundType==null)GJ.artboardBackgroundType={t:"long",v:1};if(GJ&&Gl!=0)delete r.add.artb;
var Ge=r.add.vstk;if(r.yJ()&&(r.rect.Pa()||GD&&GD.lB!=0||Ge&&!Ge.fillEnabled.v&&(!Ge.strokeEnabled.v||Ge.strokeStyleLineWidth.v.val==0)))r.HS(Z);
if(r.add.TySh){Gw=!0;if(!r.rect.Pa())G_=!1}if(r.add.TySh&&GB){var Gq=r.add.TySh.HC,Gv=GV.ri(Gq),yi=Gq.EngineDict.ParagraphRun.RunArray,GZ=GB._DocumentObjects._TextObjects;
if(GZ.length<=J){console.log("Txt2 incomplete");continue}GZ=GZ[J]._Model._ParagraphRun._RunArray;var OU=Math.min(GZ.length,yi.length);
for(var c=0;c<OU;c++){var GH=yi[c].ParagraphSheet.Properties,OB=GB._DocumentResources._ParagraphSheetSet._Resources,Gb=GZ[c]._RunData._ParagraphSheet;
if(typeof Gb=="string")Gb=OB[parseInt(Gb.slice(1))]._Resource;var Gu=Gb._Parent==null?Gb:OB[parseInt(Gb._Parent.slice(1))]._Resource,GP=Gb._Features._ParagraphDirection;
if(GP==null)GP=Gu._Features._ParagraphDirection;if(GP)GH._Direction=parseInt(GP.slice(1))}var Gn=GB._DocumentResources,Yy=Gn._TextFrameSet._Resources,Gm=Yy[J]._Resource,GW=Gm._Data,YR=new GN(1,0,0,1,0,0);
if(Gm._0){var YE=parseFloat(Gm._0[0].slice(1)),Yq=parseFloat(Gm._0[1].slice(1));YR.translate(YE,Yq)}if(Gv){YR.translate(Gv[0],Gv[1]);
GV.lZ(Gq,[0,0,Gv[2]-Gv[0],Gv[3]-Gv[1]])}else{if(Gm._Bezier&&Gm._Bezier._Points){var W=Gm._Bezier._Points,YE=parseFloat(W[0].slice(1)),Yq=parseFloat(W[1].slice(1));
if(YE!=0||Yq!=0){YR.translate(YE,Yq)}}}if(Gm._Data&&Gm._Data._FrameMatrix){var YX=Gm._Data._FrameMatrix;
YX=YX.map(function(OY){return parseFloat(OY.slice(1))});YR.concat(new GN(YX[0],YX[1],YX[2],YX[3],YX[4],YX[5]))}YR.concat(r.add.TySh.P);
r.add.TySh.P=YR;J++;var K=GW._Type?parseInt(GW._Type.slice(1)):0;if(K==2||K==1&&GW._PathData._Spacing=="i-3"){var O_=function(OY){return parseFloat(OY.slice(1))},W=Gm._Bezier._Points.map(O_);
if(Gv)O.W.P(W,new GN(1,0,0,1,-Gv[0],-Gv[1]),W);var Y_=GW._PathData._Reversed;Gq.Curve={Points:W,TextOnPathTRange:GW._TextOnPathTRange.map(O_),Reversed:Y_==null?!1:Y_};
r.add.TySh.add={vmsk:new S.lo,vogk:null};GV.WJ(r.add.TySh)}}}Oi.eA.hq(Z,!0)};Yr.tJ=function(R,Z,B){Oi.eA.Ma(R);
Oi.eA.hq(R,!1);var o=[],r=[],Y=[],E=[],p=[],i=16,GE=0;for(var y=0;y<R.q.length;y++){var z=R.q[y];if(z.by()&&z.YQ(R).m){z.add.SoLd.filterFX.v.filterMaskEnable.v=z.YQ(R).m.isEnabled}if(z.add.SoLd){r.push(z.add.SoLd.Idnt.v);
Y.push(z.add.SoLd.placed.v)}if(z.add.TySh){var u=z.add.TySh.HC,Q=GV.hX(u);z.add.TySh.iA.TextIndex={t:"long",v:o.length};
o.push(u);if(Q==2)GV.IC(z.add.TySh)}if(z.add.PtFl)E.push(z.add.PtFl.Ptrn.v.Idnt.v);if(z.add.lmfx){for(var H=0;
H<Gk._p.length;H++){var T=z.add.lmfx[Gk._p[H]].v;for(var C=0;C<T.length;C++)if(T[C].v.Ptrn)E.push(T[C].v.Ptrn.v.Idnt.v)}}var e=z.add.vstk;
if(e&&e.strokeStyleContent.v.classID=="patternLayer"){E.push(e.strokeStyleContent.v.Ptrn.v.Idnt.v)}if(z.yJ()){p[y]=[z.rect,z.buffer];
z.rect=new N;z.buffer=O.a(0)}}if(o.length>0){var $=R.add.Txt2?R.add.Txt2.Mt:null;R.add.Txt2={};R.add.Txt2.Mt=Oa.OJE(o,null,$)}var x=R.add.lnk2;
if(x){var M=R.add.lnk2=[];for(var y=0;y<x.length;y++)if(r.indexOf(x[y].on)!=-1)M.push(x[y]);if(M.length==0)delete R.add.lnk2}var m=R.add.FEid;
if(m){var G=R.add.FEid=[];for(var y=0;y<m.length;y++)if(Y.indexOf(m[y].id)!=-1)G.push(m[y]);if(G.length==0)delete R.add.FEid}var K=R.add.Patt;
if(K){var s=R.add.Patt=[];for(var y=0;y<K.length;y++)if(E.indexOf(K[y].id)!=-1)s.push(K[y])}R.Gs.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);
U.Sr(R.Gs.r1005,0,R.ag);U.Sr(R.Gs.r1005,8,R.ag);if(R.Lp()){R.Gs.r1022=new Uint8Array([0,3+R.tP.length-1,0])}else delete R.Gs.r1022;
R.Gs.r1026=new Uint8Array(R.q.length*2);for(var y=0;y<R.q.length;y++)U.xK(R.Gs.r1026,y*2,R.q[y].gt);
var L=R.Vw,_=L[0].length+L[1].length,P=R.Gs.r1032=O.a(16+5*_,!0);U.lc(P,0,1);U.lc(P,4,576);U.lc(P,8,576);
U.lc(P,12,_);for(var y=0;y<2;y++)for(var C=0;C<L[y].length;C++){U.Mq(P,i,Math.round(L[y][C]*32));P[i+4]=y;
i+=5}delete R.Gs.r1045;delete R.Gs.r1006;delete R.Gs.r1077;var w=new RZ;i=0;var k=new Uint8Array(4+(1+R.tP.length)*13);
k[3]=1;k[6]=k[7]=255;k[15]=100;k[16]=1;for(var y=0;y<1+R.tP.length;y++){var h=R.tP[y-(y==0?0:1)],j=(y==0?"Transparency":h.name)+"\0";
U.KG(w,i,j);i+=4+j.length*2;if(y!=0){var I=4+y*13;yE.ys(k,I,h.Oq);k[I+11]=h.lK;k[I+12]=h.ju}}R.Gs.r1045=w.data.slice(0,i);
R.Gs.r1077=k;for(var y=0;y<R.On.length;y++)R.On[R.On.length-y-1].v.sliceID.v=2+y*3;var V={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:R.On}},w=new RZ;
U.u$(w,0,8);U.u$(w,4,16);var F=Gc.Nq(w,V,8);R.Gs.r1050=w.data.slice(0,F+8);var w=new RZ;U.u$(w,0,16);
var F=Gc.Nq(w,R.lP,4);R.Gs.r1065=w.data.slice(0,F+4);var q=R.C;P=R.Gs.r1069=O.a(2+q.length*4,!0);U.xK(P,0,q.length);
for(var y=0;y<q.length;y++)U.lc(P,2+4*y,R.q[q[y]].add.lyid);delete R.Gs.r1058;delete R.Gs.r1060;if(Object.keys(R.mt).length!=0){var t=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
Ei.DS(R.mt,t[0]);R.Gs.r1058=new Uint8Array(UTIF.encode(t));var c=Ei.OyQ(R.mt);R.Gs.r1060=U.EJ(c)}var f=[],W=[];
for(var y=0;y<R.EP.length;y++){var l=R.EP[y],g=l.add.vmsk.u;if(y==0&&g.length==2)continue;var v=O.a(g.length*26);
yn.wl(v,0,g,R.Y,R.Z);var Vg=y==0?1025:2e3+y-1;R.Gs["r"+Vg]=v;if(y!=0){f.push({t:"Objc",v:{classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:l.name}}});
W.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:l.add.vogk}}})}}if(f.length!=0){R.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:f}};
W={classID:"null",keyRootDescriptorList:{t:"VlLs",v:W}};var w=new RZ;U.u$(w,0,16);var F=Gc.Nq(w,W,4);
R.Gs.r3000=w.data.slice(0,F+4)}else{delete R.add.pths;delete R.Gs.r3000}GE=Yr.OSO(R,Z,GE);GE=Yr.OSW(R,Z,GE);
GE=Yr.OSF(R,Z,GE);GE=Yr.OSP(R,Z,GE,B);GE=Yr.OfJ(R,Z,GE,B[0]);var Gy=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016];
for(var y=0;y<Gy.length;y++)delete R.Gs["r"+Gy[y]];for(var y=0;y<R.q.length;y++){var z=R.q[y];if(z.yJ()){z.rect=p[y][0];
z.buffer=p[y][1]}}if(x)R.add.lnk2=x;if(m)R.add.FEid=m;if(K)R.add.Patt=K;Oi.eA.hq(R,!0);return GE};Yr.wv=function(R,Z,B){var o=U.XG(Z,B,4);
B+=4;if(o!="8BPS")alert("invalid header signature: "+o);var r=U.at(Z,B);B+=2;R.Qb=r==2;if(r!=1&&r!=2)alert("invalid version: "+r);
B+=6;R.ld=U.at(Z,B);B+=2;R.Z=U.FV(Z,B);B+=4;R.Y=U.FV(Z,B);B+=4;R.cH=U.at(Z,B);B+=2;R.lw=U.at(Z,B);B+=2;
return B};Yr.OSO=function(R,Z,B){Z.$_(0,64);U.tD(Z.data,B,"8BPS");B+=4;U.xK(Z.data,B,1);B+=2;U.lc(Z.data,B,0);
B+=4;U.xK(Z.data,B,0);B+=2;U.xK(Z.data,B,4+R.tP.length);B+=2;U.Mq(Z.data,B,R.Z);B+=4;U.Mq(Z.data,B,R.Y);
B+=4;U.xK(Z.data,B,8);B+=2;U.xK(Z.data,B,3);B+=2;return B};Yr.OSJ=function(R,Z,B){var o=U.FV(Z,B);B+=4;
if(o!=0)R.cu=Z.slice(B,B+o);B+=o;return B};Yr.OSW=function(R,Z,B){U.tU(Z,B,0);B+=4;return B};Yr.OSs=function(R,Z,B){var o=U.n(Z,B),r=0;
B+=4;var Y=[];while(r<o){var E=U.XG(Z,B+r,4);r+=4;var p=U.at(Z,B+r);r+=2;var y=U.Wn(Z,B+r);r+=y.length;
if(E!="8BIM"){Y.push(p);console.log("Unknown Image Resources signature: "+E+", ID: "+p)}var z=U.n(Z,B+r);
r+=4;if(R.Gs["r"+p]!=null)console.log("--- two resources with same ID");R.Gs["r"+p]=U.NL(Z,B+r,z);r+=z+(z&1)}for(var u=0;
u<Y.length;u++)delete R.Gs["r"+Y[u]];if(R.vT()==null)R.jC(30);return B+o};Yr.OSF=function(R,Z,B){var o=B,r=0;
B+=4;for(var Y in R.Gs){U.BJ(Z,B+r,"8BIM");r+=4;var E=parseInt(Y.substring(1));U.mo(Z,B+r,E);r+=2;var p=U.Er(Z,B+r,"");
r+=p;var y=R.Gs["r"+E],z=y.length;U.u$(Z,B+r,z);r+=4;U.Nl(Z,B+r,y);r+=z;if(z%2==1)r++}U.u$(Z,o,r);return B+r};
Yr.OSb=function(R,Z,B){var o=B,r,Y=R.Qb?8:4;if(R.Qb)r=U.Cd(Z,B);else r=U.n(Z,B);B+=Y;if(r==0)return o+Y;
B=Yr.Otk(R,Z,B);B=Yr.Ots(R,Z,B);B=Ri.SI(Z,B,o+Y+r,R.add,R.Qb,R);return o+Y+r};Yr.OSP=function(R,Z,B,o){var r=B;
U.u$(Z,B,0);B+=4;B=Yr.OtB(R,Z,B,o);B=Yr.Otc(R,Z,B);B=Ri.SB(Z,B,R.add,R);U.u$(Z,r,B-r-4);return B};Yr.Otk=function(R,Z,B){var o,r=R.Qb?8:4;
if(R.Qb)o=U.Cd(Z,B);else o=U.n(Z,B);B+=r;if(o!=0)Yr.qn(R,Z,B);return B+o};Yr.qn=function(R,Z,B){var o=U.mj(Z,B);
B+=2;var r=Math.abs(o);for(var Y=0;Y<r;Y++){var E=new S;B=Yn.NW(E,R,Z,B);R.q[Y]=E}var p=new N(0,0,R.Y,R.Z);
for(var Y=0;Y<r;Y++){var y=R.q[Y];B=Yh.NW(y,R,Z,B);var z=y.rect.b(),u=y.rect.Rg(p),Q=u.b()/z;if(z>2e3*3e3&&Q<.5){var H=O.a(u.b()*4);
O.GN(y.buffer,y.rect,H,u);y.buffer=H;y.rect=u;alert("Removing hidden parts of layers")}}};Yr.OtB=function(R,Z,B,o){var r=B;
U.u$(Z,B,0);B+=4;var Y=R.q.length;U.mo(Z,B,-Y);B+=2;var E=[];for(var p=0;p<Y;p++)B=Yn.tJ(R.q[p],R,Z,B,E);
for(var p=0;p<Y;p++)B=Yh.Px(R.q[p],Z,B,E[p],o);var y=B-r-4;if(y%2!=0)y++;U.u$(Z,r,y);return r+y+4};Yr.Ots=function(R,Z,B){var o=U.n(Z,B);
B+=4;B+=o;return B};Yr.Otc=function(R,Z,B){var o=U.u$(Z,B,0);B+=4;return B};Yr.OfV=function(R,Z,B){var o=R.lw,r="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),Y=[1,1,1,3,4,1,1,3],E,e;
if(o!=3){if(o==1||o==2||o==4)alert("Project will be converted from "+r[o]+" to "+r[3]+" mode.");else{alert("Color mode "+r[o]+" is not supported yet :(")}}if(R.Gs.r1045){E=[];
var p=R.Gs.r1045,y=0;while(y<p.length){var z=U.xF(p,y);E.push(z);y+=4+2+z.length*2}}var u=Y[o]+(E==null||E[0]=="Transparency"?1:0),Q=R.Y,H=R.Z,T=Q*H,C=U.at(Z,B);
B+=2;R.buffer=O.a(T*4);O.yg(R.buffer,4278190080);var $=B;for(var x=0;x<R.ld;x++){if(C==0){e=Yh.Ew(R.Qb,R.cH,Z,Q,H,B,C);
B+=T*(R.cH>>>3)}else if(C==1){e=O.a(T);var M=R.Qb?4:2;if(x==0)B+=R.ld*H*M;B+=Yh.St(Z,e,Q,H,$+x*H*M,B,M)}else{console.log("unknown compression of image data: ",C);
return}if(x<u){O.qH(e,R.buffer,x);if(R.ld==1&&x==0){O.qH(e,R.buffer,1);O.qH(e,R.buffer,2)}}else{var m=new S.iH,G=x-u,K=x-Y[R.lw];
m.name=E?E[K]:"Alpha";if(m.name=="Quick Mask"){m.NM=!0;R.Y_.push(G)}m.rect=new N(0,0,Q,H);m.channel=e;
m.color=0;m.gG();R.tP[G]=m;if(R.Gs.r1077){var p=R.Gs.r1077.slice(4+K*13);m.Oq=yE.FG(p,0);m.lK=p[11];
m.ju=p[12];if(m.ju==2)m.NM=!0}}}R.ld=4;if(R.lw==2)for(var s=0;s<T;s++){var L=s*4,_=R.buffer[L];R.buffer[L]=R.cu[0+_];
R.buffer[L+1]=R.cu[256+_];R.buffer[L+2]=R.cu[512+_]}return B};Yr.OfJ=function(R,Z,B,o){var r=1,Y=16,E=R.Y,p=R.Z,z,u;
U.mo(Z,B,r);B+=2;var y=E*p;if(!o){u=new O.ZF(E*p);O.AB(R.buffer,u);var Q=u.F,H=u.S,T=u.X,C=u.t;for(var e=0;
e<y;e++){var $=C[e]*(1/255);Q[e]=~~(Q[e]*$+255*(1-$));H[e]=~~(H[e]*$+255*(1-$));T[e]=~~(T[e]*$+255*(1-$))}}else z=O.a(y);
var x=[z,z,z,z];if(!o)x=[u.F,u.S,u.X,u.t];for(var e=0;e<R.tP.length;e++){x.push(R.tP[e].yD(new N(0,0,R.Y,R.Z)))}var M=B;
for(var m=0;m<x.length;m++){Z.$_(B,E*p+4);z=x[m];if(r==0||r==2||r==3)B=Yh.KB(z,Z.data,E,p,B,r);else{if(m==0)B+=x.length*p*2;
var G=B;B+=Yh.SJ(z,Z.data,E,p,M+m*p*2,B)}}return B};function Yd(){}Yd.NW=function(R){var Z={};Yd.Ki(R,Z,0,0);
return Z};Yd.tJ=function(R,Z){var B=0;B=Yd.Ke(R,Z,B,0);return B};Yd.Ki=function(R,Z,B,o){while(R[B]!="<".charCodeAt(0))B++;
B+=2;while(!0){if(R[B]=="/".charCodeAt(0)){B++;var r=U.indexOf(R," ".charCodeAt(0),B,B+50),Y=U.indexOf(R,"\n".charCodeAt(0),B,B+50);
if(Y==-1)Y=Infinity;if(r==-1)r=Infinity;var E=Math.min(Y,r),p=U.XG(R,B,E-B),y=Yd.EL(R,E+1,o+1,p);Z[p]=y.k;
B=E+1;B+=y.size}else if(R[B]==">".charCodeAt(0)){B+=2;break}else{var z=R[B];if(z==10||z==9||z==32)B++;
else{console.log("unknown byte: "+z+", char: "+String.fromCharCode(z),B);B++}}}return B};Yd.Ke=function(R,Z,B,o){U.BJ(Z,B,"<<\n");
B+=3;var r=Yd.Ofe;for(var Y in R){U.ZB(Z,B,"\t".charCodeAt(0),o+1);B+=o+1;U.BJ(Z,B,"/"+Y);B+=1+Y.length;
if(r(R[Y])||R[Y]instanceof Array){U.BJ(Z,B," ");B++}else{U.BJ(Z,B,"\n");B++;U.ZB(Z,B,"\t".charCodeAt(0),o+1);
B+=o+1}B=Yd.Eh(R[Y],Z,B,o+1);U.BJ(Z,B,"\n");B++}U.ZB(Z,B,"\t".charCodeAt(0),o);B+=o;U.BJ(Z,B,">>");B+=2;
return B};Yd.EL=function(R,Z,B,o){var r=Z,Y={size:0,k:0};while(!0){while(R[Z]==" ".charCodeAt(0)||R[Z]=="\t".charCodeAt(0)||R[Z]=="\n".charCodeAt(0))Z++;
if(R[Z]=="<".charCodeAt(0)){Y.k={};Z=Yd.Ki(R,Y.k,Z,B+1);break}else if(R[Z]=="(".charCodeAt(0)){Z+=3;
var E=Z;while(!0){if(R[E-1]!="\\".charCodeAt(0)&&R[E]==")".charCodeAt(0)&&(R[E+1]=="\n".charCodeAt(0)||R[E+1]==" ".charCodeAt(0)))break;
else E++}Y.k=U.Sz(R,Z,E);Z=E+2;break}else if(R[Z]=="[".charCodeAt(0)){Z++;Y.k=[];while(R[Z]==" ".charCodeAt(0)||R[Z]=="\t".charCodeAt(0)||R[Z]=="\n".charCodeAt(0))Z++;
while(R[Z]!="]".charCodeAt(0)){var p=Yd.EL(R,Z,B+1,o);Y.k.push(p.k);Z+=p.size;while(R[Z]==" ".charCodeAt(0)||R[Z]=="\t".charCodeAt(0)||R[Z]=="\n".charCodeAt(0))Z++}Z++;
break}else{var y=U.indexOf(R," ".charCodeAt(0),Z,Z+50),z=U.indexOf(R,"\n".charCodeAt(0),Z,Z+50);if(z==-1)z=Infinity;
if(y==-1)y=Infinity;var u=U.XG(R,Z,Math.min(y,z)-Z).trim(),Q=parseFloat(u);if(!isNaN(Q)){Y.k=parseFloat(u);
Z=Math.min(y,z)+1;break}else if(u=="true"||u=="false"){Y.k=u=="true";Z=Math.min(y,z)+1;break}else if(u=="null"){Y.k=0;
Z=Math.min(y,z)+1;break}else{console.log("unknown identifier: "+u);throw"e"}Z=Math.min(y,z)+1}}Y.size=Z-r;
return Y};Yd.Eh=function(R,Z,B,o){if(R instanceof Array){var r=R.length==0||typeof R[0]=="number";if(r){U.BJ(Z,B,"[ ");
B+=2;for(var Y=0;Y<R.length;Y++){var E=R[Y]+" ";U.BJ(Z,B,E);B+=E.length}U.BJ(Z,B,"]");B+=1}else{U.BJ(Z,B,"[\n");
B+=2;for(var Y=0;Y<R.length;Y++){U.ZB(Z,B,"\t".charCodeAt(0),o);B+=o;B=Yd.Eh(R[Y],Z,B,o);U.BJ(Z,B,"\n");
B++}U.ZB(Z,B,"\t".charCodeAt(0),o);B+=o;U.BJ(Z,B,"]");B+=1}}else if(R instanceof Object){B=Yd.Ke(R,Z,B,o)}else if(typeof R=="string"){U.BJ(Z,B,"(");
B++;U.ZB(Z,B,254);B++;U.ZB(Z,B,255);B++;B=U.Si(Z,B,R);U.BJ(Z,B,")");B+=1}else{var E=R+"";U.BJ(Z,B,E);
B+=E.length}return B};Yd.Ofe=function(R){var Z=typeof R;return Z=="string"||Z=="number"||Z=="boolean"};
function Ym(){}Ym.NW=function(R){var Z={};Ym.SD(R,Z,0,0);return Z};Ym.tJ=function(R,Z){var B=0;U.BJ(Z,B," ");
B++;B=Ym.Sq(R,Z,B,0);B--;Z.$_(B,2);Z.data[B]=Z.data[B+1]=0;B+=2;return B};Ym.Ki=function(R,Z,B,o){while(R[B]!="<".charCodeAt(0)){B++;
console.log("\u0161ipka")}B+=2;B=Ym.SD(R,Z,B,o);return B};Ym.Ke=function(R,Z,B,o){U.BJ(Z,B,"<< ");B+=3;
B=Ym.Sq(R,Z,B,o);U.BJ(Z,B,">>");B+=2;return B};Ym.Wj=function(R){return R==9||R==10||R==32};Ym.SD=function(R,Z,B,o){while(!0){while(Ym.Wj(R[B])||R[B]==0)B++;
if(B>=R.length)break;if(R[B]=="/".charCodeAt(0)){B++;var r=B;while(!Ym.Wj(R[r]))r++;var Y=U.XG(R,B,r-B);
B=r+1;var E=Ym.EL(R,B,o,Y);Z["_"+Y]=E.k;B+=E.size}else if(R[B]==">".charCodeAt(0)){B+=2;break}else{var p=R[B];
console.log(U.XG(R,B,B+100));console.log("unknown byte: "+p+", char: "+String.fromCharCode(p)+", offset: "+B);
B++;throw"e";return-1}}return B};Ym.Sq=function(R,Z,B,o){for(var r in R){var Y=r.substring(1,r.length);
U.BJ(Z,B,"/"+Y);B+=1+Y.length;U.BJ(Z,B," ");B++;B=Ym.Eh(R[r],Z,B,o+1);U.BJ(Z,B," ");B++}return B};Ym.EL=function(R,Z,B,o){var r=Z,Y={type:"",size:0,k:0};
while(Ym.Wj(R[Z]))Z++;if(R[Z]=="<".charCodeAt(0)){Y.type="Object";Y.k={};Z=Ym.Ki(R,Y.k,Z,B+1)}else if(R[Z]=="(".charCodeAt(0)){Y.type="String";
Z++;if(R[Z]==")".charCodeAt(0)){Y.k="s";Z++}else{Z+=2;var E=Z,EB=0;while(!0){if(R[E]==")".charCodeAt(0)&&R[E-1]!="\\".charCodeAt(0))break;
else E+=1}Y.k="s"+U.Sz(R,Z,E);Z=E+2}}else if(R[Z]=="[".charCodeAt(0)){Z++;Y.k=[];Y.type="Array";while(Ym.Wj(R[Z]))Z++;
while(R[Z]!="]".charCodeAt(0)){var p=Ym.EL(R,Z,B+1,o);if(p==-1)return-1;Y.k.push(p.k);Z+=p.size;delete p.size;
while(Ym.Wj(R[Z]))Z++}Z++}else{var y=Z;while(!Ym.Wj(R[y]))y++;var z=U.XG(R,Z,y-Z),u=parseFloat(z);if(!isNaN(u)&&z.indexOf(".")!=-1){Y.type="Float";
var Q=parseFloat(z);Y.k="f"+Q}else if(!isNaN(u)&&z.indexOf(".")==-1){Y.type="Integer";Y.k="i"+parseInt(z)}else if(z=="true"||z=="false"){Y.type="Boolean";
Y.k=z=="true"}else if(z.charAt(0)=="/"){Y.type="BString";Y.k=z}else{console.log("unknown value",JSON.stringify(z));
throw"e"}Z=y+1}Y.size=Z-r;return Y};Ym.OfK=function(R){if(R==Math.round(R))return R+".0";var Z=R.toFixed(5);
if(0<R&&R<1)Z=Z.substring(1,Z.length);if(-1<R&&R<0)Z="-"+Z.substring(2,Z.length);return Z};Ym.Eh=function(R,Z,B,o){var r=typeof R=="string"?R.charAt(0):"";
if(R instanceof Array){U.BJ(Z,B,"[ ");B+=2;for(var Y=0;Y<R.length;Y++){B=Ym.Eh(R[Y],Z,B,o);U.BJ(Z,B," ");
B++}U.BJ(Z,B,"]");B+=1}else if(R instanceof Object){B=Ym.Ke(R,Z,B,o)}else if(r=="s"){U.BJ(Z,B,"(");B++;
U.ZB(Z,B,254);B++;U.ZB(Z,B,255);B++;B=U.Si(Z,B,R.substring(1));U.BJ(Z,B,")");B++}else if(r=="/"){U.BJ(Z,B,R);
B+=R.length}else if(r=="f"){var E=parseFloat(R.substring(1)),p=Ym.OfK(E);U.BJ(Z,B,p);B+=p.length}else if(r=="i"){U.BJ(Z,B,R.substring(1));
B+=R.length-1}else{var p=R+"";U.BJ(Z,B,p);B+=p.length}return B};function VP(R,Z){if(!R)R=0;if(!Z)Z=0;
this.x=R;this.y=Z}VP.prototype.add=function(R){return new VP(this.x+R.x,this.y+R.y)};VP.prototype.clone=function(){return new VP(this.x,this.y)};
VP.prototype.CA=function(R){this.x=R.x;this.y=R.y};VP.prototype.EW=function(R){return this.x==R.x&&this.y==R.y};
VP.prototype.normalize=function(R){var Z=Math.sqrt(this.x*this.x+this.y*this.y);this.x*=R/Z;this.y*=R/Z};
VP.prototype.offset=function(R,Z){this.x+=R;this.y+=Z};VP.prototype.wh=function(R,Z){this.x=R;this.y=Z};
VP.prototype.ye=function(R){return new VP(this.x-R.x,this.y-R.y)};VP.HP=function(R,Z){return VP.Ofp(R.x,R.y,Z.x,Z.y)};
VP.IM=function(R,Z,B){return new VP(R.x+B*(Z.x-R.x),R.y+B*(Z.y-R.y))};VP.Ofr=function(R,Z){return new VP(R*Math.cos(Z),R*Math.sin(Z))};
VP.Ofp=function(R,Z,B,o){return Math.sqrt((B-R)*(B-R)+(o-Z)*(o-Z))};VP.wz={};VP.mI={};VP.wz.create=function(){var R=new Float32Array(4);
return R};VP.mI.create=function(R){var Z=new Float32Array(16);Z[0]=Z[5]=Z[10]=Z[15]=1;if(R)VP.mI.set(R,Z);
return Z};VP.wz.add=function(R,Z,B){B[0]=R[0]+Z[0];B[1]=R[1]+Z[1];B[2]=R[2]+Z[2];B[3]=R[3]+Z[3]};VP.wz.set=function(R,Z){Z[0]=R[0];
Z[1]=R[1];Z[2]=R[2];Z[3]=R[3]};VP.mI.set=function(R,Z){Z[0]=R[0];Z[1]=R[1];Z[2]=R[2];Z[3]=R[3];Z[4]=R[4];
Z[5]=R[5];Z[6]=R[6];Z[7]=R[7];Z[8]=R[8];Z[9]=R[9];Z[10]=R[10];Z[11]=R[11];Z[12]=R[12];Z[13]=R[13];Z[14]=R[14];
Z[15]=R[15]};VP.mI.multiply=function(R,Z,B){var o=R[0],r=R[1],Y=R[2],E=R[3],p=R[4],y=R[5],z=R[6],u=R[7],Q=R[8],H=R[9],T=R[10],C=R[11],e=R[12],$=R[13],x=R[14],M=R[15],m=Z[0],G=Z[1],K=Z[2],s=Z[3];
B[0]=m*o+G*p+K*Q+s*e;B[1]=m*r+G*y+K*H+s*$;B[2]=m*Y+G*z+K*T+s*x;B[3]=m*E+G*u+K*C+s*M;m=Z[4];G=Z[5];K=Z[6];
s=Z[7];B[4]=m*o+G*p+K*Q+s*e;B[5]=m*r+G*y+K*H+s*$;B[6]=m*Y+G*z+K*T+s*x;B[7]=m*E+G*u+K*C+s*M;m=Z[8];G=Z[9];
K=Z[10];s=Z[11];B[8]=m*o+G*p+K*Q+s*e;B[9]=m*r+G*y+K*H+s*$;B[10]=m*Y+G*z+K*T+s*x;B[11]=m*E+G*u+K*C+s*M;
m=Z[12];G=Z[13];K=Z[14];s=Z[15];B[12]=m*o+G*p+K*Q+s*e;B[13]=m*r+G*y+K*H+s*$;B[14]=m*Y+G*z+K*T+s*x;B[15]=m*E+G*u+K*C+s*M;
return B};VP.mI.inverse=function(R,Z){var B=R[0],o=R[1],r=R[2],Y=R[3],E=R[4],p=R[5],y=R[6],z=R[7],u=R[8],Q=R[9],H=R[10],T=R[11],C=R[12],e=R[13],$=R[14],x=R[15],M=B*p-o*E,m=B*y-r*E,G=B*z-Y*E,K=o*y-r*p,s=o*z-Y*p,L=r*z-Y*y,_=u*e-Q*C,P=u*$-H*C,i=u*x-T*C,w=Q*$-H*e,k=Q*x-T*e,h=H*x-T*$,j=M*h-m*k+G*w+K*i-s*P+L*_;
if(!j){return null}j=1/j;Z[0]=(p*h-y*k+z*w)*j;Z[1]=(r*k-o*h-Y*w)*j;Z[2]=(e*L-$*s+x*K)*j;Z[3]=(H*s-Q*L-T*K)*j;
Z[4]=(y*i-E*h-z*P)*j;Z[5]=(B*h-r*i+Y*P)*j;Z[6]=($*G-C*L-x*m)*j;Z[7]=(u*L-H*G+T*m)*j;Z[8]=(E*k-p*i+z*_)*j;
Z[9]=(o*i-B*k-Y*_)*j;Z[10]=(C*s-e*G+x*M)*j;Z[11]=(Q*G-u*s-T*M)*j;Z[12]=(p*P-E*w-y*_)*j;Z[13]=(B*w-o*P+r*_)*j;
Z[14]=(e*m-C*K-$*M)*j;Z[15]=(u*K-Q*m+H*M)*j;return Z};VP.mI.Oty=function(R,Z,B){var o=Z[0],r=Z[1];B[0]=o*R[0]+r*R[4]+R[12];
B[1]=o*R[1]+r*R[5]+R[13]};VP.mI.Ott=function(R,Z,B){var o=Z[0],r=Z[1],Y=Z[2],E=Z[3];B[0]=R[0]*o+R[4]*r+R[8]*Y+R[12]*E;
B[1]=R[1]*o+R[5]*r+R[9]*Y+R[13]*E;B[2]=R[2]*o+R[6]*r+R[10]*Y+R[14]*E;B[3]=R[3]*o+R[7]*r+R[11]*Y+R[15]*E};
function GN(R,Z,B,o,r,Y){if(typeof R==="undefined"){R=1;Z=0;B=0;o=1;r=0;Y=0}this.t=R;this.X=Z;this.f_=B;
this._l=o;this.ec=r;this.Cf=Y}GN.prototype.ho=function(){return Math.sqrt(Math.abs(this.t*this._l-this.X*this.f_))};
GN.prototype.SN=function(){var R=this,Z=function(B){return Math.abs(B)<1e-9?0:B};R.t=Z(R.t);R.X=Z(R.X);
R.f_=Z(R.f_);R._l=Z(R._l);R.ec=Z(R.ec);R.Cf=Z(R.Cf)};GN.prototype.qS=function(R){return new VP(R.x*this.t+R.y*this.f_+this.ec,R.x*this.X+R.y*this._l+this.Cf)};
GN.prototype.translate=function(R,Z){this.ec+=R;this.Cf+=Z};GN.prototype.rotate=function(R){var Z=new GN(Math.cos(R),-Math.sin(R),Math.sin(R),Math.cos(R),0,0);
this.concat(Z)};GN.prototype.scale=function(R,Z){var B=new GN(R,0,0,Z,0,0);this.concat(B)};GN.prototype.concat=function(R){this.CA(new GN(this.t*R.t+this.X*R.f_,this.t*R.X+this.X*R._l,this.f_*R.t+this._l*R.f_,this.f_*R.X+this._l*R._l,this.ec*R.t+this.Cf*R.f_+R.ec,this.ec*R.X+this.Cf*R._l+R.Cf))};
GN.prototype.za=function(){var R=this.t*this._l-this.X*this.f_;this.CA(new GN(this._l/R,-this.X/R,-this.f_/R,this.t/R,(this.f_*this.Cf-this._l*this.ec)/R,(this.X*this.ec-this.t*this.Cf)/R))};
GN.prototype.clone=function(){return new GN(this.t,this.X,this.f_,this._l,this.ec,this.Cf)};GN.prototype.CA=function(R){this.t=R.t;
this.X=R.X;this.f_=R.f_;this._l=R._l;this.ec=R.ec;this.Cf=R.Cf};function U(){}U.KK=function(R){var Z="";
for(var B=3;B>=0;B--)Z+=String.fromCharCode(R>>B*8&255);return Z};U.OfZ=function(R){var Z=0;for(var B=R.length-1;
B>=0;B--)Z|=R.charCodeAt(B)<<(3-B)*8;return Z};U.indexOf=function(R,Z,B,o){if(B==null)B=0;if(o==null)o=R.length;
o=Math.min(o,R.length);for(var r=B;r<o;r++)if(R[r]==Z)return r;return-1};U.wU=function(R,Z,B){if(B==null)B=0;
if(typeof Z=="string"){var o=[];for(var r=0;r<Z.length;r++)o.push(Z.charCodeAt(r));Z=o}for(var r=B;r<R.length;
r++){var Y=!0;for(var E=0;E<Z.length;E++)if(Z[E]!=R[r+E]){Y=!1;break}if(Y)return r}return-1};U.Sz=function(R,Z,B){var o=[],Y="";
while(Z<B){var r=R[Z++];if(r=="\\".charCodeAt(0))o.push(R[Z++]);else o.push(r)}for(var E=0;E<o.length;
E+=2)Y+=String.fromCharCode(o[E]<<8|o[E+1]);return Y};U.Ofo=function(R,Z,B){var o=new Uint8Array(2);
for(var r=0;r<B.length;r++){U.xK(o,0,B.charCodeAt(r));if(o[0]==")".charCodeAt(0)||o[0]=="(".charCodeAt(0)||o[0]=="\\".charCodeAt(0)){R[Z]="\\".charCodeAt(0);
Z++}R[Z]=o[0];Z++;if(o[1]==")".charCodeAt(0)||o[1]=="(".charCodeAt(0)||o[1]=="\\".charCodeAt(0)){R[Z]="\\".charCodeAt(0);
Z++}R[Z]=o[1];Z++}return Z};U.Si=function(R,Z,B){R.$_(Z,4*B.length);return U.Ofo(R.data,Z,B)};U.SU=function(R,Z,B){var o="";
for(var r=0;r<B;r++){var Y=R[Z++]|R[Z++]<<8;o+=String.fromCharCode(Y)}return o};U.we=function(R,Z,B){var o="";
for(var r=0;r<B;r++){var Y=R[Z++]<<8|R[Z++];o+=String.fromCharCode(Y)}return o};U.OfM=function(R,Z,B){for(var o=0;
o<B.length;o++){var r=B.charCodeAt(o);U.W$(R,Z+2*o,r)}};U.Sx=function(R,Z,B){for(var o=0;o<B.length;
o++){var r=B.charCodeAt(o);U.xK(R,Z+2*o,r)}};U.OtT=function(R,Z,B){R.$_(Z,2*B.length);U.Sx(R.data,Z,B)};
U.Ofs=function(R,Z,B){var o=[],r=0,Y=0;B+=Z;while(Z<B){r=R[Z++];if((r&128)==0)Y=r;else if((r&224)==192){Y=(r&31)<<6;
r=R[Z++];Y|=r&63}else if((r&240)==224){Y=(r&15)<<12;r=R[Z++];Y|=(r&63)<<6;r=R[Z++];Y|=r&63}else if((r&248)==240){Y=(r&7)<<18;
r=R[Z++];Y|=(r&63)<<12;r=R[Z++];Y|=(r&63)<<6;r=R[Z++];Y|=r&63}else throw"e";o.push(Y)}return o};U.Se=window.TextDecoder?new window.TextDecoder("utf8"):null;
U.qe=function(R,Z,B){if(Z==null)Z=0;if(B==null)B=R.length;if(U.Se&&Z==0&&B==R.length)return U.Se.decode(R);
var o=U.Ofs(R,Z,B),r=o.length;for(var Y=0;Y<r;Y++)o[Y]=String.fromCharCode(o[Y]);return o.join("")};
U.SK=window.TextEncoder?new window.TextEncoder("utf8"):null;U.EJ=function(R){if(U.SK)return U.SK.encode(R);
var Z=new Uint8Array(R.length*4),B=U.Ww(R,Z,0);return Z.slice(0,B)};U.Ww=function(R,Z,B){var o=R.length,r=0;
for(var Y=0;Y<o;Y++){var E=R.charCodeAt(Y);if((E&4294967295-(1<<7)+1)==0){Z[B+r]=E;r++}else if((E&4294967295-(1<<11)+1)==0){Z[B+r]=192|E>>6;
Z[B+r+1]=128|E>>0&63;r+=2}else if((E&4294967295-(1<<16)+1)==0){Z[B+r]=224|E>>12;Z[B+r+1]=128|E>>6&63;
Z[B+r+2]=128|E>>0&63;r+=3}else if((E&4294967295-(1<<21)+1)==0){Z[B+r]=240|E>>18;Z[B+r+1]=128|E>>12&63;
Z[B+r+2]=128|E>>6&63;Z[B+r+3]=128|E>>0&63;r+=4}else throw"e"}return r};U.wK=function(R,Z){var B=U.n(R,Z),o=U.qe(R,Z+4,B-1);
return{tH:o,Aj:4+B}};U.OJO=function(R,Z){var B=U.Kq(R,Z),o=U.SU(R,Z+4,B);return o};U.CT=function(R,Z){var B=U.n(R,Z),o=U.we(R,Z+4,B);
return o};U.xF=function(R,Z){var B=U.n(R,Z),o=U.we(R,Z+4,B-1);return o};U.OJ_=function(R,Z,B){U.Kb(R,Z,B.length);
Z+=4;U.OfM(R,Z,B)};U.OJz=function(R,Z,B){U.lc(R,Z,B.length);Z+=4;U.Sx(R,Z,B)};U.KG=function(R,Z,B){R.$_(Z,4+2*B.length);
U.OJz(R.data,Z,B)};U.ODE=function(R,Z,B){R.$_(Z,4+2*B.length);U.OJ_(R.data,Z,B)};U.wr=function(R,Z,B){var o=[];
for(var r=0;r<B;r++)o.push(String.fromCharCode(R[Z+r]));return o};U.OfG=function(R,Z,B){var o=!1,r=R.length-B.length;
for(var Y=Z;Y<r;Y++){for(var E=0;E<B.length;E++){if(R[Y+E]!=B.charCodeAt(E))break;if(E==B.length-1)return Y}}};
U.XG=function(R,Z,B){var o="";for(var r=0;r<B;r++)o+=String.fromCharCode(R[Z+r]);return o};U.tD=function(R,Z,B){for(var o=0;
o<B.length;o++)R[Z+o]=B.charCodeAt(o)};U.BJ=function(R,Z,B){R.$_(Z,B.length);U.tD(R.data,Z,B)};U.ODY=function(R,Z,B){var o="";
for(var r=0;r<B;r++){var Y=R[Z+r];if(Y<10)o+="  ";else if(Y<100)o+=" ";o+=Y+", "}return o};U.at=function(R,Z){return R[Z]<<8|R[Z+1]};
U.xK=function(R,Z,B){R[Z]=B>>8&255;R[Z+1]=B&255};U.mo=function(R,Z,B){R.$_(Z,4);U.xK(R.data,Z,B)};U.ODw=function(R,Z){var B=U.at(R,Z),o=U.at(R,Z+2);
return B+o*(1/65536)};U.Sr=function(R,Z,B){var o=Math.floor(B),r=Math.floor((B-o)*65536);U.xK(R,Z,o);
U.xK(R,Z+2,r)};U.mW=function(R,Z){return R[Z+1]<<8|R[Z]};U.W$=function(R,Z,B){R[Z+1]=B>>8&255;R[Z]=B&255};
U.Wo=function(R,Z,B){R.$_(Z,4);U.W$(R.data,Z,B)};U.mj=function(R,Z){U.rk[0]=R[Z+1];U.rk[1]=R[Z];return U.wb[0]};
U.Kr=function(R,Z){U.rk[0]=R[Z];U.rk[1]=R[Z+1];return U.wb[0]};U.em=U.xK;U.Kp=U.mo;U.FV=function(R,Z){U.ZL[0]=R[Z+3];
U.ZL[1]=R[Z+2];U.ZL[2]=R[Z+1];U.ZL[3]=R[Z];return U.Tp[0]};U.Mq=function(R,Z,B){U.Tp[0]=B;R[Z+3]=U.ZL[0];
R[Z+2]=U.ZL[1];R[Z+1]=U.ZL[2];R[Z+0]=U.ZL[3]};U.tU=function(R,Z,B){R.$_(Z,4);U.Mq(R.data,Z,B)};U.Km=function(R,Z,B,o){B[o+0]=R[Z+0];
B[o+1]=R[Z+1];B[o+2]=R[Z+2];B[o+3]=R[Z+3]};U.Kq=function(R,Z){U.Km(R,Z,U.ZL,0);return U.Su[0]};U.Kb=function(R,Z,B){U.Su[0]=B;
U.Km(U.ZL,0,R,Z)};U.qu=function(R,Z,B){R.$_(Z,4);U.Kb(R.data,Z,B)};U.Sp=function(R,Z){U.Km(R,Z,U.ZL,0);
return U.Tp[0]};U.ODA=function(R,Z,B){U.Tp[0]=B;U.Km(U.ZL,0,R,Z)};U.Ofw=function(R,Z,B){R.$_(Z,4);U.ODA(R.data,Z,B)};
U.n=function(R,Z){var B=R[Z]*(256*256*256)+(R[Z+1]<<16|R[Z+2]<<8|R[Z+3]);return B};U.lc=function(R,Z,B){R[Z]=B>>24&255;
R[Z+1]=B>>16&255;R[Z+2]=B>>8&255;R[Z+3]=B>>0&255};U.u$=function(R,Z,B){R.$_(Z,4);U.lc(R.data,Z,B)};U.Cd=function(R,Z){return U.n(R,Z)<<32|U.n(R,Z+4)};
U.ODD=function(R,Z,B){U.lc(R,Z,B>>16>>16);U.lc(R,Z+4,B&4294967295)};U.wo=function(R,Z,B){R.$_(Z,8);U.ODD(R.data,Z,B)};
U.AG=function(R,Z){var B=new Uint8Array(8);for(var o=0;o<8;o++)B[o]=R[Z+7-o];var r=new Float64Array(B.buffer);
return r[0]};U.ODo=function(R,Z){var B=new Uint8Array(8);for(var o=0;o<8;o++)B[o]=R[Z+o];var r=new Float64Array(B.buffer);
return r[0]};U.TV=function(R,Z,B){var o=new Float64Array(1);o[0]=B;var r=new Uint8Array(o.buffer);for(var Y=0;
Y<4;Y++){var E=r[Y];r[Y]=r[7-Y];r[7-Y]=E}for(var Y=0;Y<8;Y++)R[Z+Y]=r[Y]};U.Ta=function(R,Z,B){R.$_(Z,8);
U.TV(R.data,Z,B)};U.cn=function(R,Z){U.ZL[0]=R[Z+3];U.ZL[1]=R[Z+2];U.ZL[2]=R[Z+1];U.ZL[3]=R[Z+0];return U.ry[0]};
U.wM=function(R,Z){U.ZL[0]=R[Z+0];U.ZL[1]=R[Z+1];U.ZL[2]=R[Z+2];U.ZL[3]=R[Z+3];return U.ry[0]};U.qm=function(R,Z,B){U.ry[0]=B;
R[Z+0]=U.ZL[3];R[Z+1]=U.ZL[2];R[Z+2]=U.ZL[1];R[Z+3]=U.ZL[0]};U.Off=function(R,Z,B){R.$_(Z,4);U.qm(R.data,Z,B)};
U.wF=function(R,Z,B){U.ry[0]=B;R[Z+0]=U.ZL[0];R[Z+1]=U.ZL[1];R[Z+2]=U.ZL[2];R[Z+3]=U.ZL[3]};U.OJA=function(R,Z,B){R.$_(Z,4);
U.wF(R.data,Z,B)};U.ODM=function(R,Z){var B=U.FV(R,Z),o=B*(1/(1<<24));return o};U.SZ=function(R,Z,B){var o=Math.floor(B*(1<<24));
U.Mq(R,Z,o)};U.OJS=function(R,Z,B){R.$_(Z,4);U.SZ(R.data,Z,B)};U.Wn=function(R,Z){var B=R[Z],o=U.XG(R,Z+1,B);
B+=1-B%2;return{HH:o,length:B+1}};U.ODF=function(R,Z,B){var o=B.length;R[Z]=o;U.tD(R,Z+1,B);if(o%2==0){R[Z+1+o]=0;
++o}return o+1};U.Er=function(R,Z,B){R.$_(Z,B.length+2);return U.ODF(R.data,Z,B)};U.JB=function(R,Z){var B=new GN;
B.t=U.AG(R,Z+0*8);B.X=U.AG(R,Z+1*8);B.f_=U.AG(R,Z+2*8);B._l=U.AG(R,Z+3*8);B.ec=U.AG(R,Z+4*8);B.Cf=U.AG(R,Z+5*8);
return B};U.NE=function(R,Z,B){U.TV(R,Z+0*8,B.t);U.TV(R,Z+1*8,B.X);U.TV(R,Z+2*8,B.f_);U.TV(R,Z+3*8,B._l);
U.TV(R,Z+4*8,B.ec);U.TV(R,Z+5*8,B.Cf)};U.ODm=function(R,Z,B){R.$_(Z,48);U.NE(R.data,Z,B)};U.ODb=function(R,Z){var B=U.cn(R,Z),o=U.cn(R,Z+4),r=U.cn(R,Z+8),Y=U.cn(R,Z+12);
return new N(B,o,r-B,Y-o)};U.OqJ=function(R,Z,B){U.qm(R,Z,B.x);U.qm(R,Z+4,B.y);U.qm(R,Z+8,B.x+B.Y);U.qm(R,Z+12,B.y+B.Z)};
U.OqW=function(R,Z,B){R.$_(Z,16);U.OqJ(R.data,Z,B)};U.mV=function(R,Z){var B=U.FV(R,Z),o=U.FV(R,Z+4),r=U.FV(R,Z+8),Y=U.FV(R,Z+12);
return new N(o,B,Y-o,r-B)};U.So=function(R,Z,B){U.Mq(R,Z,B.y);U.Mq(R,Z+4,B.x);U.Mq(R,Z+8,B.y+B.Z);U.Mq(R,Z+12,B.x+B.Y)};
U.dK=function(R,Z,B){R.$_(Z,16);U.So(R.data,Z,B)};U.NL=function(R,Z,B){var o=new Uint8Array(B);for(var r=0;
r<B;r++)o[r]=R[Z+r];return o};U.SF=function(R,Z,B){R.set(B,Z)};U.Nl=function(R,Z,B){R.$_(Z,B.length);
U.SF(R.data,Z,B)};U.Oqr=function(R,Z,B,o){if(!o)o=1;for(var r=0;r<o;r++)R[Z+r]=B};U.ZB=function(R,Z,B,o){if(!o)o=1;
R.$_(Z,o);U.Oqr(R.data,Z,B,o)};U.wb=new Int16Array(1);U.rk=new Uint8Array(U.wb.buffer);U.Tp=new Int32Array(1);
U.Su=new Uint32Array(U.Tp.buffer);U.ZL=new Uint8Array(U.Tp.buffer);U.ry=new Float32Array(U.Tp.buffer);
function N(R,Z,B,o){if(!R)R=0;if(!Z)Z=0;if(!B)B=0;if(!o)o=0;this.x=R;this.y=Z;this.Y=B;this.Z=o}N.prototype.b=function(){return this.Y*this.Z};
N.prototype.clone=function(){return new N(this.x,this.y,this.Y,this.Z)};N.prototype.contains=function(R,Z){return R>=this.x&&R<=this.x+this.Y&&(Z>=this.y&&Z<=this.y+this.Z)};
N.prototype.a_=function(R){return this.contains(R.x,R.y)};N.prototype.Uv=function(R){return this.x<=R.x&&this.y<=R.y&&R.x+R.Y<=this.x+this.Y&&R.y+R.Z<=this.y+this.Z};
N.prototype.CA=function(R){this.x=R.x;this.y=R.y;this.Y=R.Y;this.Z=R.Z};N.prototype.EW=function(R){return this.x==R.x&&this.y==R.y&&this.Y==R.Y&&this.Z==R.Z};
N.prototype.yj=function(R,Z){this.x-=R;this.y-=Z;this.Y+=2*R;this.Z+=2*Z};N.prototype.OJU=function(R){this.yj(R.x,R.y)};
N.prototype.Rg=function(R){var Z=Math.max(this.x,R.x),B=Math.max(this.y,R.y),o=Math.min(this.x+this.Y,R.x+R.Y),r=Math.min(this.y+this.Z,R.y+R.Z);
if(o<Z||r<B)return new N;else return new N(Z,B,o-Z,r-B)};N.prototype.nl=function(R){if(R.y+R.Z<this.y||R.x>this.x+this.Y||R.y>this.y+this.Z||R.x+R.Y<this.x)return!1;
return!0};N.prototype.Pa=function(){return this.Y<=0||this.Z<=0};N.prototype.offset=function(R,Z){this.x+=R;
this.y+=Z};N.prototype.Sm=function(R){this.offset(R.x,R.y)};N.prototype.OJ$=function(){this.x=this.y=this.Y=this.Z=0};
N.prototype.wh=function(R,Z,B,o){this.x=R;this.y=Z;this.Y=B;this.Z=o};N.prototype.fj=function(R){if(this.Pa())return R.clone();
if(R.Pa())return this.clone();var Z=this.clone();Z.OqC(R);return Z};N.Uh=new Float32Array(2);N.prototype.OqC=function(R){if(R.Pa())return;
if(this.Pa()){this.CA(R);return}this.rV(R.x,R.y);this.rV(R.x+R.Y,R.y+R.Z)};N.prototype.rV=function(R,Z){var B=Math.min(this.x,R),o=Math.min(this.y,Z);
this.Y=Math.max(this.x+this.Y,R)-B;this.Z=Math.max(this.y+this.Z,Z)-o;this.x=B;this.y=o};N.prototype.OD_=function(R,Z,B,o){if(this.Y==0&&this.Z==0)this.Oqn(R,Z);
else this.rV(R,Z);this.rV(B,o)};N.prototype.Oqn=function(R,Z){this.x=R;this.y=Z;this.Y=this.Z=0};function Ow(){}Ow.NW=function(R,Z){var B=new Uint8Array(R),o=0,r=U.XG(B,o,9),p=4,y=100;
o+=9;var Y=U.XG(B,o,4);o+=4;o++;Z.Y=U.n(B,o);o+=4;Z.Z=U.n(B,o);o+=4;var E=U.n(B,o);o+=4;if(E!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(Y)==-1){y=U.n(B,o);o+=4;if(parseInt(Y.slice(1))>=7){y=y}else alert("Unknown XCF version: "+Y);
p=8}var z={};o=Ow.wc(B,o,z);var u=[];o=Ow.wC(B,o,u,p);var Q=[];o=Ow.wC(B,o,Q,p);Z.Rp=0;for(var H=0;H<u.length;
H++)Ow.OWV(B,u[H],Z,z,p,y);while(Z.Rp>0){Z.q.push(Z.ZP());Z.Rp--}Z.q.reverse();delete Z.Rp;Z.buffer=O.a(Z.Y*Z.Z*4);
if(Z.q.length==0)console.log("No layers!!!");for(var H=0;H<Q.length;H++){var T=Ow.ST(B,Q[H],z,p,y);if(T.hz[ya.ONB])Z.O={channel:T.Fh,rect:new N(0,0,Z.Y,Z.Z)}}};
Ow.OWV=function(R,Z,B,o,r,Y){var E=B.xE(),p=U.n(R,Z),Q=0;Z+=4;var y=U.n(R,Z);Z+=4;E.rect=new N(0,0,p,y);
var z=U.n(R,Z);Z+=4;var u=U.wK(R,Z);Z+=u.Aj;E.AA(u.tH);var H={};Z=Ow.wc(R,Z,H);if(H[ya.Sg]){var T=H[ya.Sg];
Q=T.length/4-1}if(H[ya.Ak]){E.rect.x=U.FV(H[ya.Ak],0);E.rect.y=U.FV(H[ya.Ak],4)}if(H[ya.Sc]){E.opacity=U.n(H[ya.Sc],0)}if(H[ya.ONt]){E.add.lsct=YV.A_;
E.rect=new N(0,0,0,0);E.buffer=O.a(0);E.Kw=24}if(H[ya.Sd]){var C=U.n(H[ya.Sd],0);E.QV=ya.ONe[C];if(E.av()&&E.QV=="norm")E.QV="pass"}if(H[ya.Sn]){if(U.n(H[ya.Sn],0)==0)E.Kw+=2}if(H[ya.SP]){var e=U.n(H[ya.SP],0);
E.add.lsct=e&1==1?YV.A_:YV.Zg}if(H[ya.AY]){var $=H[ya.AY];for(var x in $){var M=$[x];if(x=="gimp-text-layer"){var m=Ow.OWa(M),G=m.text,K=m.font,s=m.color,L=m["font-size"];
if(G==null&&m.markup){var _=new DOMParser,P=_.parseFromString(m.markup,"image/svg+xml");while(P.firstChild!=null&&P.firstChild.tagName!=null){P=P.firstChild;
var i=P.getAttribute("font"),w=P.getAttribute("foreground"),k=P.getAttribute("size");if(i!=null)K=i;
if(w!=null){w=CSS.FG(w);s=[1,w.F/255,w.S/255,w.X/255]}if(k!=null){L=""+parseFloat(k)/245}}G=P.textContent}E.add.lnsr="rend";
E.add.TySh=GV.vr(0,0);E.add.TySh.VE=new N(0,0,100,100);E.add.TySh.P=new GN(1,0,0,1,E.rect.x,E.rect.y);
var h=E.add.TySh.HC;GV.bt(h,0,G);var j=GV.QR(h,0,0),I=m.justify,V=m["line-spacing"];if(s)j.Bt.FillColor={Type:1,Values:[1,parseFloat(s[1]),parseFloat(s[2]),parseFloat(s[3])]};
if(L){L=Math.round(parseFloat(L));j.Bt.FontSize=L;E.add.TySh.P.Cf+=Math.min(17,L*.17)}if(V){V=Math.round(parseFloat(V)+j.Bt.FontSize*1.2);
j.Bt.Leading=V;j.Bt.AutoLeading=!1}if(I)j.LH.Justification=["left","right","center","fill"].indexOf(I);
if(K&&K!="Sans-serif"){var F=K.toLowerCase(),q="bold italic semi extra regular condensed light".split(" "),t=F.length;
for(var c=0;c<q.length;c++){var f=F.indexOf(q[c]);if(f!=-1&&f<t&&F[f-1]==" ")t=f}if(t!=F.length)K=K.slice(0,t-1).split(" ").join("")+"-"+K.slice(t).split(" ").join("");
GV.rz(j,K)}GV.Fz(h,0,G.length,j);var W=m["box-width"],l=m["box-height"],g=W?parseFloat(W):E.rect.Y,v=l?parseFloat(l):E.rect.Z;
GV.zE(h,1);GV.lZ(h,[0,0,Math.ceil(g),Math.ceil(v)])}else console.log("Unknown property "+x)}}while(B.Rp>Q){B.q.push(B.ZP());
B.Rp--}B.Rp=Q;if(E.add.lsct==YV.A_||E.add.lsct==YV.Zg)B.Rp++;var Vg=r==4?U.n:U.Cd;if(E.NA()){E.buffer=O.a(E.rect.b()*4);
var GE=new O.ZF(E.rect.b()),Gy=Vg(R,Z);Z+=r;var GY=Vg(R,Z);Z+=r;Ow.SC(R,Gy,GE,o,r,Y);O.oh(GE,E.buffer);
if(GY!=0){E.m=new S.iH;E.m.color=0;E.m.rect=E.rect.clone();E.m.channel=Ow.ST(R,GY,o,r,Y).Fh;if(H[ya.SQ])E.m.isEnabled=U.n(H[ya.SQ],0)==1}}B.q.push(E)};
Ow.OWa=function(R){var Z="("+U.qe(R,0,R.length-1)+")",B=[],o={};Ow.Sb(Z,1,B);Ow.OWw(B,o);return o};Ow.OWw=function(R,Z){for(var B=0;
B<R.length;B++){var o=R[B],r=o[0];if(o.length==2)Z[r]=o[1];else Z[r]=o.slice(1)}};Ow.Sb=function(R,Z,B){while(!0){if(Z>=R.length)throw"e";
var o=R.charAt(Z);Z++;if(o=="("){var r=[];Z=Ow.Sb(R,Z,r);B.push(r)}else if(o==" "||o=="\n"||o=="\r"){}else if(o==")")return Z;
else if(o=="\""){var Y=Z;while(!0){var E=R[Z];Z++;if(E=="\"")break;if(E=="\\")Z++}B.push(JSON.parse(R.slice(Y-1,Z)))}else{var Y=Z-1;
while(R[Z]!=" "&&R[Z]!=")")Z++;B.push(R.slice(Y,Z))}}};Ow.ST=function(R,Z,B,o,r){var Y=U.n(R,Z);Z+=4;
var E=U.n(R,Z);Z+=4;var p=U.wK(R,Z);Z+=p.Aj;var y={};Z=Ow.wc(R,Z,y);var z=new O.ZF(Y*E),u=o==4?U.n:U.Cd,Q=u(R,Z);
Z+=o;Ow.SC(R,Q,z,B,o,r);return{Fh:z.F,hz:y}};Ow.SC=function(R,Z,B,o,r,Y){var E=U.n(R,Z);Z+=4;var p=U.n(R,Z);
Z+=4;var y=U.n(R,Z);Z+=4;var z=r==4?U.n:U.Cd,u=z(R,Z);Z+=r;Ow.OWl(R,u,B,o,y,r,Y)};Ow.OWl=function(R,Z,B,o,r,Y,E){var p=U.n(R,Z),u=0,M=0;
Z+=4;var y=U.n(R,Z);Z+=4;var z=new N(0,0,p,y);if(E==100)u=1;else if(E==150)u=1;else if(E==600)u=4;else alert("unsupported bit depth "+E);
var Q=r/u,u=Math.round(r/Q),H=[];Z=Ow.wC(R,Z,H,Y);var T=new O.ZF(64*64*u),C=new N,e=o[ya.ONh][0],$=[T.F,T.S,T.X,T.t];
if(Q==3)O.set(T.t,255);var x=Date.now();for(var m=0;m<y;m+=64)for(var G=0;G<p;G+=64){var K=Math.min(p-G,64),s=Math.min(y-m,64),L=K*s;
C.wh(G,m,K,s);Ow.OWr(R,H[M++],L*u,e,Q,$);if(E==600){var _=Ow.OWh(),P=new Uint32Array(1),i=new Float32Array(P.buffer);
for(var w=0;w<Q;w++){var k=$[w];for(var h=0;h<L;h++){P[0]=k[h]<<24|k[L+h]<<16|k[(L<<1)+h]<<8|k[(L<<1)+L+h]<<0;
var j=i[0];if(j<0)j=0;else if(j>1)j=1;k[h]=_[~~(.5+j*1e3)]}}}O.ad(T,C,B,z)}};Ow.OWh=function(){var R=Ow.OzW;
if(R!=null)return R;R=Ow.OzW=new Uint8Array(1001);for(var Z=0;Z<1001;Z++)R[Z]=~~(.49+255*O.aU(Z*.001));
return R};Ow.OWr=function(R,Z,B,o,r,Y){if(o==1){for(var E=0;E<r;E++){var p=Y[E],y=0;while(y<B){var z=R[Z];
Z++;if(z<127){var u=R[Z];Z++;z++;for(var Q=0;Q<z;Q++)p[y+Q]=u}else if(z==127){var H=R[Z];Z++;var T=R[Z];
Z++;var u=R[Z];Z++;z=H<<8|T;for(var Q=0;Q<z;Q++)p[y+Q]=u}else if(z==128){var H=R[Z];Z++;var T=R[Z];Z++;
z=H<<8|T;for(var Q=0;Q<z;Q++)p[y+Q]=R[Z+Q];Z+=z}else{z=256-z;for(var Q=0;Q<z;Q++)p[y+Q]=R[Z+Q];Z+=z}y+=z}}}else if(o==2){var C=pako.inflate(R.slice(Z)),e=Math.round(C.length/B);
for(var Q=0;Q<B;Q++){var $=Q*e;Y[0][Q]=C[$];Y[1][Q]=C[$+1];Y[2][Q]=C[$+2];Y[3][Q]=e==3?255:C[$+3]}}else alert("Unknown compression "+o)};
Ow.wC=function(R,Z,B,o){var r=o==4?U.n:U.Cd;while(!0){var Y=r(R,Z);Z+=o;if(Y==0)break;else B.push(Y)}return Z};
Ow.wc=function(R,Z,B){while(!0){var o=U.n(R,Z);Z+=4;var r=U.n(R,Z);Z+=4;if(o==ya.OWQ)break;else if(o==ya.AY)B[o]=Ow.OWp(R,Z,Z+r);
else B[o]=U.NL(R,Z,r);Z+=r}return Z};Ow.OWp=function(R,Z,B){var o={};while(Z<B){var r=U.wK(R,Z);Z+=r.Aj;
var Y=U.n(R,Z);Z+=4;if(Y!=1)console.log("unknown flags",Y);var E=U.n(R,Z);Z+=4;o[r.tH]=U.NL(R,Z,E);Z+=E}return o};
var ya={OWQ:0,ODU:1,ODe:2,ODp:3,ONB:4,ODC:5,Sc:6,Sd:7,Sn:8,ODQ:9,ODg:10,SQ:11,OqX:12,Oqw:13,OqA:14,Ak:15,OWR:16,ONh:17,OWL:18,OWS:19,OWt:20,AY:21,OWK:22,ONJ:23,OvX:24,Ovl:25,Ovg:26,OvP:27,OzB:28,ONt:29,Sg:30,SP:31,Ozw:32,OzJ:33,OzN:34,Oz$:35,Ozx:36,OzP:37,OiO:38,Oia:0,Oij:1,OiI:2,OiB:3,Oiw:1,Oih:2,OiD:0,Oiq:1,OiW:1};
ya.ONe="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
function yU(){}yU.NW=function(R,Z){var B=yU,o=Yb.parse(R),Y=0;if(o.pages.length>1)console.log(o.pages.length,"pages");
var r=[],E=new N;for(var p=0;p<o.pages.length;p++){var y=o.pages[p],z=y.layers,u=B.Rn(z,p),H=!1;if(u.b()>8e3*8e3||u.Y>3e4||u.Z>3e4){B.tk(z,!0);
var Q=B.Rn(z,p);if(Q.b()>=u.b())B.tk(z,!1)}u=B.Rn(z,p);for(var T=0;T<z.length;T++){var C=z[T];if(B.qT(C)=="artboard")H=!0}if(!H){console.log("no artboard");
var e={};for(var $ in y)e[$]=y[$];e._class="group";y.layers=[e]}r.push(u.clone());if(u.Pa())continue;
u.x=0;u.y=Y;Y+=u.Z+200;E=E.fj(u)}var x={};if(o.foreignSymbols)for(var M=0;M<o.foreignSymbols.length;
M++){var m=o.foreignSymbols[M].symbolMaster;x[m.symbolID]={cc:m}}B.tO(o.pages,x,Z);for(var G in x){var C=x[G].cc,K=B.ty(C.layers)}var s=yU.AR(E,8192*8192);
Z.Ru=!0;Z.Y=Math.round(E.Y/s);Z.Z=Math.round(E.Z/s);Z.buffer=O.a(Z.Y*Z.Z*4);Z.jT(o.pages[0].layers.length);
Z.XY={};Z.dk=[];Y=0;for(var p=0;p<o.pages.length;p++){var L=o.pages[p],u=r[p],_=new GN(s,0,0,s,u.x,u.y-Y);
B.AW(L.layers,Z,_,o,x,{},[]);Y+=u.Z+200}delete Z.XY;delete Z.dk;if(s!=1)alert("File scaled down "+s+"x")};
yU.Oi$=0;yU.qT=function(R){return R._class?R._class:R.$class};yU.AR=function(R,Z){var B=1;while(Math.round(R.Y/B)*Math.round(R.Z/B)>Z)B++;
if(B!=1&&!window.confirm("Your image is quite large ("+R.Y+" x "+R.Z+" px).\n"+"Press OK to scale it down "+B+"x, or Cancel to keep the size."))B=1;
return B};yU.Rn=function(R,Z){var B=[],o=yU;for(var r=0;r<R.length;r++){var Y=R[r],E=o.mV(Y.frame);if(Z==0||o.qT(Y)=="artboard")B.push(E)}return O.rect.xZ(B)};
yU.tk=function(R,Z){var B=[],o=yU;for(var r=0;r<R.length;r++){var Y=R[r],E=o.mV(Y.frame);E.Y+=150;E.Z+=150;
B.push(E)}var p=O.rect.xZ(B);O.rect.ODJ(B,Z);var y=O.rect.xZ(B);if(y.b()*1.5<p.b()||p.Y>3e4&&y.Y<=3e4||p.Z>3e4&&y.Z<=3e4){alert("Re-arranging artboards");
for(var r=0;r<R.length;r++){var z=B[r],Y=R[r],u=Y.frame;u.x=z.x;u.y=z.y}}};yU.tO=function(R,Z,B){var o=yU;
for(var r=0;r<R.length;r++){var Y=R[r],E=o.qT(Y);if(["page","artboard","group"].indexOf(E)!=-1)o.tO(Y.layers,Z,B);
else if(E=="symbolMaster")Z[Y.symbolID]={cc:Y}}};yU.ty=function(R){var Z=yU;for(var B=0;B<R.length;B++){var o=R[B],r=Z.qT(o),Y=null;
if(["page","artboard","group"].indexOf(r)!=-1)Y=Z.ty(o.layers);if(r=="symbolMaster"||r=="symbolInstance")Y=o;
if(Y!=null)return Y}return null};yU.AW=function(R,Z,B,o,r,Y,E){var p=yU,y=[];for(var z=0;z<R.length;
z++){var u=R[z],Q=u.frame?p.mV(u.frame):null,H=u.style,M="",_=null,P=!1;if(H==null){console.log("no styles")}var T=p.fY(u,B),C=p.qT(u),e=C=="shapeGroup"||C=="shapePath"||C=="rectangle"||C=="oval"||C=="triangle",$=["page","artboard","group"].indexOf(C)!=-1;
if(C=="shapeGroup"){for(var x=0;x<u.layers.length;x++)if(p.qT(u.layers[x])=="shapeGroup")$=!0}var m=u.exportOptions;
if(m){var G=m.exportFormats;if(G==null)G=m.sizes;if(C!="artboard"&&(G&&G.length!=0)){var K=G[0].scale;
M="-e"+(K==1?"":K)+"-"}}var s=Z.xE();s.eM(u.isVisible);var L=u.name;if(!(typeof L=="string"))L=C;s.AA(M+L.slice(0,250));
if(H!=null)_=p.ONm(o,Z,H,Q,T,s.getName(),e||C=="artboard"||$);if(C=="rectangle"&&H&&H.fills&&H.fills[0]){var i=H.fills[0];
if(i.fillType==4&&i.patternFillType>1&&i.image!=null)P=!0}if(u.shouldBreakMaskChain){while(y.length!=0)p.fG(y.pop(),Z)}if($){s.add.lsct=u.layerListExpandedType==2?YV.A_:YV.Zg;
s.QV="pass";s.Kw=24;s.eM(u.isVisible);Z.q.push(Z.ZP());if(C=="artboard"){var w=Q.clone(),k=T.ho();w.x=-Math.floor(T.ec/k);
w.y=-Math.floor(T.Cf/k);w.Y=Math.floor(w.Y/k);w.Z=Math.floor(w.Z/k);s.yh(w);var h=u.backgroundColor;
s.add.artb.Clr={t:"Objc",v:O.L.hN({F:255*h.red,S:255*h.green,X:255*h.blue})};s.add.artb.artboardBackgroundType={t:"long",v:4}}p.AW(u.layers,Z,T,o,r,Y,E)}else if(e&&!P){s.add.vmsk=new S.lo;
s.add.vstk=JSON.parse(JSON.stringify(Gk.uI.default));s.add.vstk.strokeEnabled.v=!1;s.add.vogk=[];var j=_!=null&&_.frameFXMulti.v.length==1,I=H?H.fills:null,V=H?p.tE(o,I,Q,T,s.getName(),Z,p.AN(E,u.do_objectID+"_image")):[];
if(V.length==0){if(j)s.add.vstk.fillEnabled.v=!1;else s.add.iOpa=0;s.add.SoCo={classID:"null",Clr:{t:"Objc",v:O.L.hN({F:0,S:0,X:0})}}}else{var F=V[0],q=null,t=null;
if(F.type=="SoFi"){q="SoCo";t=Gk.up}if(F.type=="GrFl"){q="GdFl";t=Gk.rR}if(F.type=="patternFill"){q="PtFl";
t=Gk.rB}if(q!=null){s.add[q]={classID:"null"};for(var x=0;x<t.length;x++){var c=t[x];s.add[q][c]=F.k.v[c]}var f=F.k.v.Opct.v.val;
if(j&&f==0)s.add.vstk.fillEnabled.v=!1;else s.add.iOpa=Math.round(255*f/100)}}s.Kw|=16;s.add.vmsk.u=p.Jw(u.layers?u.layers:[u],u.layers?T:B,s.add.vogk);
var W=H?H.blur:null;if(W&&W.isEnabled&&W.type<=1)s.add.vmsk.lB=W.radius;if(s.add.vmsk.u.length==2){console.log("shape with no content:",s.getName())}if(j){var l=_.frameFXMulti.v[0].v,g=s.add.vstk,v=H.borders[0];
_.frameFXMulti.v=[];GS.OBo(l,g);var Vg=H.borderOptions,GE=H.miterLimit;if(Vg){var Gy=Vg.dashPattern;
g.strokeStyleLineCapType.v.strokeStyleLineCapType=Gk.uI.vw[Vg.lineCapStyle];g.strokeStyleLineJoinType.v.strokeStyleLineJoinType=Gk.uI.join[Vg.lineJoinStyle];
if(Gy)g.strokeStyleLineDashSet.v=GS.uM(Gy,1/l.Sz.v.val);if(GE!=null)g.strokeStyleMiterLimit.v=GE}}s.Aq(Z)}else if(C=="bitmap"||P){var GY=P?H.fills[0]:null,Ga=P?GY.image.bdata:u.image.bdata,GO=Z.VV(Ga,s.getName(),0,0);
GO.Kw=s.Kw;s=GO;var W=H.blur,J=H.colorControls;if(W||J){s.add.SoLd.filterFX=Go.HR();Z.VO({id:s.add.SoLd.placed.v,rect:new N,buffer:O.a(1),m:new S.iH});
var I=s.add.SoLd.filterFX.v.filterFXList.v;if(W){var D=Go.iJ("GsnB",{});D.v.enab.v=W.isEnabled;D.v.Fltr.v.Rds.v.val=W.radius;
I.push(D)}if(J){var GB=J.brightness,Gj=J.contrast,GX=J.hue,Gw=J.saturation;if(GX!=0||Gw!=1){var D=Go.iJ("hue2",{});
D.v.enab.v=J.isEnabled;OA.Fk(D.v.Fltr.v,0,[Math.round(GX*180/Math.PI),Math.round((Gw-1)*100),0]);I.push(D)}if(GB!=0||Gj!=1){var D=Go.iJ("brit",{});
D.v.enab.v=J.isEnabled;Gj=Gj-1;if(Gj>0)Gj/=2;var G_=D.v.Fltr.v;G_.Brgh.v=Math.round(GB*255);G_.Cntr.v=Math.round(Gj*255);
G_.useLegacy.v=!0;I.push(D)}}}if(P){var Gf=GY.patternFillType;if(Gf==3){var Gl=s.rect.Y/s.rect.Z,GU=Q.Y/Q.Z;
if(Gl<GU){T.translate(-(Q.Y*(1-Gl/GU))/2,0);T.scale(GU/Gl,1)}else{T.translate(0,-(Q.Z*(1-GU/Gl))/2);
T.scale(1,Gl/GU)}}}Q.x=Q.y=0;var GD=O.W.Bu(Q).I;T.za();O.W.P(GD,T,GD);s.add.SoLd.Trnf=A.HQ.Kv(GD);s.add.SoLd.nonAffineTransform=A.HQ.Kv(GD);
s.AS(Z,!1)}else if(C=="text"){if(u.attributedString==null)continue;var Gi=T.clone(),Gh,G$,Gv=0;Gi.za();
Gi.t=Gi._l=Math.min(Gi.t,Gi._l);s.add.lnsr="rend";s.add.TySh=GV.vr(0,0);s.add.TySh.VE=new N(0,0,Q.Y,Q.Z);
s.add.TySh.P=Gi;var GA=u.attributedString;if(GA.archivedAttributedString)GA=GA.archivedAttributedString;
var GJ=GA.NSString;if(GJ==null)GJ=GA.string;if(GJ["NS.string"])GJ=GJ["NS.string"];if(Y[u.do_objectID]!=null)GJ=Y[u.do_objectID];
var Ge=p.AN(E,u.do_objectID+"_stringValue");if(Ge)GJ=Ge.value;if(GA.attributes!=null){Gh=[];G$=[];var Gq=GA.attributes;
for(var x=0;x<Gq.length;x++){Gh.push(Gq[x].length,x);G$.push(Gq[x].attributes)}}else if(GA.NSAttributeInfo==null){Gh=[GJ.length,0];
G$=[GA.NSAttributes]}else{Gh=GA.NSAttributeInfo["NS.data"];G$=GA.NSAttributes;Gh=yU.ONo(Gh,G$)}for(var x=0;
x<Gh.length;x+=2)Gv+=Gh[x];if(Gv!=GJ.length){while(Gv>GJ.length){Gh[Gh.length-2]--;Gv--;if(Gh[Gh.length-2]==0){Gh.pop();
Gh.pop()}}Gh[Gh.length-2]+=GJ.length-Gv}GJ=GJ.replace(/\u2028/g,"\n");GJ=GJ.replace(/\u2029/g,"\n");
GJ=GJ.replace(/\r/g,"\n");var yi=s.add.TySh.HC;GV.bt(yi,0,GJ);if(GJ!=""){var GZ=u.textBehaviour,OU=H.textStyle,GH=OU?OU.verticalAlignment:0,OB=p.ONF(yi,Gh,G$,GJ),k=Gi.ho(),Gb=GV.QR(yi,0,1),Gn=0;
if(Gb.Bt.Font){var Gu=Gb.bR[Gb.Bt.Font].Name;if(Gu=="FontAwesome"||Gu=="Ionicons")OB*=.87}var GP=Gb.Bt.AutoLeading?0:Gb.Bt.Leading*.6,Yy=Math.max(OB,GP)*k,Gm=Q.Y,GW=Q.Z;
if(GZ==0){GV.zE(yi,0);var YR=GV.Im(Gb.LH);if(YR==1)Gn=Gm*k;if(YR==2)Gn=Gm*k*.5;if(GH==0)Yy*=1;else Yy*=.9}else{GV.zE(yi,1);
GV.lZ(yi,[0,0,Math.round(Gm),Math.round(GW)]);if(GZ==2&&GH==0)Yy=Yy*.2;else if(GZ==2&&GH==1){Yy=k*.5*(GW-Gb.Bt.FontSize)}else if(GZ==1&&GH==0)Yy=Yy*.2;
else Yy=Yy*.35}s.add.TySh.P.translate(Gn,Yy)}}else if(C=="symbolInstance"||C=="symbolMaster"){var YE=u.symbolID;
if(Y[u.do_objectID])YE=Y[u.do_objectID].symbolID;var Yq=p.AN(E,u.do_objectID+"_symbolID");if(Yq)YE=Yq.value;
if(YE=="")continue;var YX={};for(var c in Y)YX[c]=Y[c];if(u.overrides)for(var c in u.overrides)YX[c]=u.overrides[c];
var O_=E.slice(0);if(u.overrideValues)O_=O_.concat(u.overrideValues);var Y_=r[YE];if(Y_==null){console.log("Unknown master master",u.symbolID);
continue}var OY=yU.mV(Y_.cc.frame),GT=OY.Y/Q.Y,YY=OY.Z/Q.Z,Of=T.clone();Of.scale(GT,YY);s.add.lsct=YV.Zg;
s.QV="pass";s.Kw=24;s.eM(u.isVisible);Z.q.push(Z.ZP());var Ox=Y_.cc;if(Z.dk.indexOf(Ox)==-1){Z.dk.push(Ox);
p.AW(Ox.layers,Z,Of,o,r,YX,O_);Z.dk.pop()}}else if(C=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+C,u);continue}if(H&&H.contextSettings){var yR=H.contextSettings,Oj=yR.blendMode;
if(Oj<p.EF.length){s.QV=Gd.pz[Gd.Ie.indexOf(p.EF[Oj])];if($&&s.QV=="norm")s.QV="pass"}s.opacity=Math.round(s.opacity*yR.opacity)}if(_!=null){s.add.lmfx=_}Z.q.push(s);
if(u.hasClippingMask&&R.length>1){y.push(s);Z.q.push(Z.ZP())}}while(y.length!=0)p.fG(y.pop(),Z)};yU.AN=function(R,Z){for(var B=0;
B<R.length;B++)if(R[B].overrideName.startsWith(Z))return R[B]};yU.ONo=function(R,Z){var B=0,o=[];while(B+1<R.length){var r=R[B];
B++;if(r>127){r+=128*(R[B]-1);B++;if(R[B-1]>127){r+=128*(R[B]-1);B++}}var Y=R[B];B++;o.push(r,Y)}return o};
yU.ONF=function(R,Z,B,o){var r=yU,Y=0,Q=0,H=0;for(var E=0;E<o.length;E++){var p=o.charCodeAt(E),y=1473<=p&&p<=1479||1488<=p&&p<=1514||1520<=p&&p<=1524,z=1569<=p&&p<=1594||1600<=p&&p<=1749;
if(y||z)Y++}var u=Y>o.length/2;for(var E=0;E<Z.length;E+=2){var T=Z[E],s=14,L="DejaVuSans";if(T==0)continue;
var C=Z[E+1],e=B[C],$=GV.QR(R,Q,Q+T-1),x=e.NSColor;if(x==null){var x=e.MSAttributedStringColorDictionaryAttribute;
if(x==null)x=e.MSAttributedStringColorAttribute;if(x==null)x="0 0 0";else x=[x.red,x.green,x.blue].join(" ")}else if(r.qT(x)=="MSArchivedColor")x=x.dr+" "+x.dg+" "+x.db;
else if(x.NSRGB){x=x.NSRGB;x=U.XG(x,0,x.length-1)}else if(x.NSCMYK){x=x.NSCMYK;x=U.XG(x,0,x.length-1);
x=x.split(" ").map(parseFloat);var M=1-x[0],m=1-x[1],G=1-x[2],K=1-x[3];x=M*K+" "+m*K+" "+G*K}else if(x.NSWhite){x="1 1 1"}x=x.split(" ");
$.Bt.FillColor={Type:1,Values:[1,parseFloat(x[0]),parseFloat(x[1]),parseFloat(x[2])]};var _=e.MSAttributedStringFontAttribute;
if(e.NSFont){s=e.NSFont.NSSize;L=e.NSFont.NSName}else if(_){if(_.attributes){_=_.attributes;s=_.size;
L=_.name}else{var P=_.NSFontDescriptorAttributes;if(P==null)P=_.UIFontDescriptorAttributes;_=P;s=_.NSFontSizeAttribute;
L=_.NSFontNameAttribute}if(L==null)L="DejaVuSans"}var H=Math.max(H,s);$.Bt.FontSize=Math.round(s);GV.rz($,L);
var i=e.NSKern;if(i==null)i=e.kerning;if(i!=null)$.Bt.Tracking=Math.round(1e3*i/s);if(e.NSUnderline!=null)$.Bt.Underline=e.NSUnderline>0;
if(e.NSStrikethrough!=null)$.Bt.Strikethrough=e.NSStrikethrough>0;if(e.MSAttributedStringTextTransformAttribute==1)$.Bt.FontCaps=2;
var w=e.NSParagraphStyle;if(w==null)w=e.paragraphStyle;if(w){var k=w.paragraphSpacing;if(k!=null){$.LH.SpaceAfter=k}var h=w.NSAlignment;
if(h==null)h=w.alignment;if(h!=null){var j=0;if(!1){}else if(h==1)j=1;else if(h==2)j=2;else if(h==4)j=0;
else{j=h;console.log("unknown align",h)}if(u&&j<2)j=1-j;$.LH.Justification=j}var I=w.NSMinLineHeight;
if(I==null)I=w.minimumLineHeight;if(I!=null){$.Bt.AutoLeading=!1;$.Bt.Leading=Math.round(I)}}$.LH._Direction=u?1:0;
GV.Fz(R,Q,Q+T,$);Q+=T}return H};yU.ONm=function(R,Z,B,o,r,Y,E){var p=yU,y=JSON.parse(Gk.default),u=!1;
for(var z=0;z<Gk.order.length;z++)y[Gk._p[z]]={t:"VlLs",v:[]};var Q=B.fills,H=p.tE(R,Q,o,r,Y,Z);for(var T=0;
T<2;T++){var C=B[["shadows","innerShadows"][T]];if(C==null)continue;var e=["DrSh","IrSh"][T],$=Gk._p[Gk.order.indexOf(e)];
for(var z=0;z<C.length;z++){var x=C[z];if(!x.isEnabled)continue;if(x.contextSettings.opacity==0||x.color.alpha==0)continue;
var M=JSON.parse(Gk.eF[Gk.order.indexOf(e)]);y[$].v.unshift({t:"Objc",v:M});u=!0;M.Clr.v=p.FG(x.color);
M.blur.v.val=Math.round(x.blurRadius/r.ho());var m=r.clone();m.ec=m.Cf=0;m.za();var G=m.qS(new VP(x.offsetX,x.offsetY)),K=Math.sqrt(G.x*G.x+G.y*G.y);
M.Dstn.v.val=Math.round(K);M.lagl.v.val=Math.round(Math.atan2(G.y,-G.x)*(180/Math.PI));if(M.layerConceals)M.layerConceals.v=H.length!=0;
p.Ai(x,M)}}var s=B.borders;if(s!=null&&(H.length==0||B.blur==null||!B.blur.isEnabled))for(var z=0;z<s.length;
z++){var L=s[z];if(!L.isEnabled)continue;var M=JSON.parse(Gk.eF[Gk.order.indexOf("FrFX")]),$=Gk._p[Gk.order.indexOf("FrFX")];
y[$].v.unshift({t:"Objc",v:M});u=!0;M.Clr.v=p.FG(L.color);if(L.fillType!=0&&L.gradient){var _=p.Eg(L.gradient,o,r,Y),P=["Type","Angl","Ofst","Scl"];
for(var z=0;z<P.length;z++)M[P[z]]=_[P[z]];M.Grad.v=_.Grad.v;M.PntT.v.FrFl="GrFl"}M.Sz.v.val=L.thickness/r.ho();
M.Styl.v.FStl=["CtrF","InsF","OutF"][L.position];p.Ai(L,M)}for(var z=E?1:0;z<H.length;z++){var i=H[z],$=Gk._p[Gk.order.indexOf(i.type)];
y[$].v.unshift(i.k);u=!0}return u?y:null};yU.tE=function(R,Z,B,o,r,Y,E){if(Z==null)return[];var p=yU,y=[];
for(var z=0;z<Z.length;z++)if(Z[z].isEnabled)y.push(Z[z]);Z=y;var u=[];for(var z=0;z<Z.length;z++){var Q=Z[z],H=null,T=null;
if(Q.fillType==0){H="SoFi";var C=JSON.parse(Gk.eF[Gk.order.indexOf("SoFi")]);T={t:"Objc",v:C};T.v.Clr.v=p.FG(Q.color)}else if(Q.fillType==1){H="GrFl";
T={t:"Objc",v:p.Eg(Q.gradient,B,o,r)}}else if(Q.fillType==4&&Q.image!=null){var e=Q.image;if(E)e=E.value;
var $=GI.jL(e.bdata.buffer);if($!=null&&$!="pdf"&&$!="eps"){var x,K=0,s=0,L=0;if(Y.XY[e.key])x=Y.XY[e.key];
else{var M=GI.WP($).Kf(e.bdata)[0];x={data:M.data,_:new N(0,0,M.Ix.Y,M.Ix.Z)};x.id=GF.l_()+"-d71c-11e5-b1ae-a548a96e5f9f";
x.name="someImage";x.Y$=new Uint8Array(x.data);delete x.data;Y.vi(x);Y.XY[e.key]=x}var C=JSON.parse(Gk.eF[Gk.order.indexOf("patternFill")]);
H="patternFill";T={t:"Objc",v:C};var m=Q.patternFillType,G=Q.patternTileScale;C.Algn.v=!0;C.Ptrn.v.Idnt.v=x.id;
if(m==0){K=G*x._.Y/Math.min(x._.Y,x._.Z);s=-o.ec;L=-o.Cf}else{K=Math.max(B.Y/x._.Y,B.Z/x._.Z);s=-o.ec-(x._.Y*K-B.Y)/2;
L=-o.Cf-(x._.Z*K-B.Z)/2}C.Scl.v.val=100*K*(1/o.ho());C.phase.v.Hrzn.v=Math.round(s/o.ho());C.phase.v.Vrtc.v=Math.round(L/o.ho())}}else if(Q.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",Q.fillType);
if(H!=null){p.Ai(Q,T.v);u.push({type:H,k:T})}}return u};yU.Oie=function(R){var Z=yU,B=new N(0,0,1,1);
R=R.slice(0);while(!0){var o=!1;for(var r=0;r<R.length-1;r++){var Y=R[r],E=R[r+1],p=null,y=Y.contextSettings;
if(Y.fillType==0&&(y==null||y.opacity==1&&y.blendMode==0)&&Y.color.alpha==1){var z="norm",u=1,y=E.contextSettings;
if(y){u=y.opacity;z=Gd.AQ(Z.EF[y.blendMode])}if(E.fillType==0){p=JSON.parse(JSON.stringify(E));Z.tG(p.color,Y.color,p.color,B,z,u)}if(E.fillType==1){p=JSON.parse(JSON.stringify(E));
var Q=p.gradient.stops;for(var H=0;H<Q.length;H++)Z.tG(Q[H].color,Y.color,Q[H].color,B,z,u)}if(p!=null&&p.contextSettings){var y=p.contextSettings;
y.opacity=1;y.blendMode=0}}if(p!=null){R.splice(r,0,p);o=!0;break}}if(!o||R.length<2)break}return R};
yU.tG=function(R,Z,B,o,r,Y){var E=yU,p=O.a(4);E.tl(R,p);var y=O.a(4);E.tl(Z,y);O.e.FO(r,p,o,y,o,o,Y);
E.Ovf(y,B)};yU.tl=function(R,Z){Z[0]=255*R.red;Z[1]=255*R.green;Z[2]=255*R.blue;Z[3]=255*R.alpha};yU.Ovf=function(R,Z){Z.red=R[0]/255;
Z.green=R[1]/255;Z.blue=R[2]/255;Z.alpha=R[3]/255};yU.fG=function(R,Z){R=R.clone();R.Kw=24;R.AA("Mask by "+R.getName());
Z.q.push(R);R.add.lsct=YV.A_;R.add.lyid=Z.Fn();delete R.add.lmfx;delete R.add.SoCo;delete R.add.GdFl;
delete R.add.PtFl;delete R.add.iOpa;if(R.add.vmsk)R.add.vmsk.Zr=!0;R.Aq(Z);if((R.Kw&16)==16)R.Kw-=16;
if((R.Kw&2)==2)R.Kw-=2;R.QV="pass";R.opacity=255};yU.EF="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
yU.Eg=function(R,Z,B,o){B=B.clone();B.za();B.ec=B.Cf=0;var r=B.ho(),H=0,T=0;B.scale(1/r,1/r);var Y=yU,E=JSON.parse(Gk.eF[Gk.order.indexOf("GrFl")]),p=E.Grad.v;
p.Intr.v=0;if(R==null)return E;var y=R.gradientType,z=Y.Qv(R.from),u=Y.Qv(R.to);z.offset(-.5,-.5);u.offset(-.5,-.5);
z=B.qS(z);u=B.qS(u);var Q=Math.atan2(-(u.y-z.y),u.x-z.x);E.Type.v.GrdT=["Lnr","Rdl","Angl"][y];E.Scl.v.val=100*VP.HP(z,u);
if(y==0){E.Angl.v.val=180/Math.PI*Q;E.Scl.v.val=100*VP.HP(z,u);H=(z.x+u.x)/2;T=(z.y+u.y)/2}if(y==1){E.Scl.v.val=200*VP.HP(z,u);
H=z.x;T=z.y}if(y==2){E.Angl.v.val=180/Math.PI*(Q-Math.PI/2)}var C=E.Ofst.v;C.Hrzn.v.val=H*100;C.Vrtc.v.val=T*100;
var e=[];for(var $=0;$<R.stops.length;$++){var x=R.stops[$],M=x.color;e.push([x.position,M?[M.red,M.green,M.blue]:[0,0,0],M.alpha])}O.L.PC(e,p);
return E};yU.Ai=function(R,Z){var B=yU,o=1,r=R.contextSettings;if(r!=null){Z.Md.v.BlnM=B.EF[r.blendMode];
o*=r.opacity}else Z.Md.v.BlnM=B.EF[0];Z.enab.v=R.isEnabled;if(Z.uglg!=null)Z.uglg.v=!1;if(R.color!=null)o*=R.color.alpha;
Z.Opct.v.val=Math.round(o*100)};yU.FG=function(R){return O.L.hN(R?{F:R.red*255,S:R.green*255,X:R.blue*255}:{F:0,S:0,X:0})};
yU.Jw=function(R,Z,B){var o=yU,r=[{type:6},{type:8,all:0}];for(var Y=0;Y<R.length;Y++){var E=R[Y],p=E.booleanOperation,y=0,z=E._class,e=!1;
if(z=="group"||z=="text"||z=="symbolInstance"||z=="slice"){console.log(z+" inside ShapeGroup");continue}if(p==-1)y=0;
else if(p==0)y=1;else if(p==1)y=2;else if(p==2)y=3;else if(p==3)y=0;if(Y==0)y=1;var u=yU.mV(E.frame),Q=o.fY(E,Z),H=E.path?E.path:E,T=[{type:0,length:0,lz:y,DN:2,UE:0,UY:0}],C=H.points;
for(var $=0;$<C.length;$++){var x=C[$],M=o.Qv(x.curveTo),m=o.Qv(x.point),G=o.Qv(x.curveFrom);e=e||x.hasCurveFrom&&!G.EW(m)||x.hasCurveTo&&!M.EW(m)}var K=[];
if(!e){var s=[],L=C.length;if(L==0)continue;for(var $=0;$<L;$++){K[$]=C[$].cornerRadius;var x=o.Qv(C[$].point);
s.push(x.x,x.y)}Q.scale(1/u.Y,1/u.Z);Q.za();O.W.P(s,Q,s);var _=O.V.eV(s,K);T=T.concat(_);T[0].length=T.length-1}else{var P=C.length;
T[0].length=P;for(var $=0;$<P;$++){var x=C[$],i=x.curveMode,w=o.Qv(x.point);T[1+$]={type:i==2||i==4?1:2,EY:x.hasCurveTo?o.Qv(x.curveTo):w.clone(),N:w,IJ:x.hasCurveFrom?o.Qv(x.curveFrom):w.clone()}}Q.scale(1/u.Y,1/u.Z);
Q.za();O.V.lC(T,Q);var K=[];for(var $=0;$<P;$++){var x=C[$],i=x.curveMode,k=x.cornerRadius;if(i==1&&k!=0)K.push(k);
else K.push(0)}}if(!H.isClosed)for(var $=0;$<T.length;$++)T[$].type+=3;r=r.concat(T);var h=O.je.GP(),j=o.qT(E);
if(Q.X==0&&Q.f_==0){var I=Q.ec,V=Q.Cf,F=I+Q.t,q=V+Q._l,t=[I,V,F,q];if(j=="rectangle"&&K.length==4)h=O.je.Rs(2,t,K);
if(j=="oval")h=O.je.Rs(5,t)}B.push(h)}return r};yU.fY=function(R,Z){var B=Z.clone(),o=R.frame?yU.mV(R.frame):null;
if(o)B.translate(-o.x-o.Y/2,-o.y-o.Z/2);if(R.isFlippedHorizontal)B.scale(-1,1);if(R.isFlippedVertical)B.scale(1,-1);
B.rotate(-R.rotation*(Math.PI/180));if(o)B.translate(o.Y/2,o.Z/2);return B};yU.Qv=function(R){R=R.slice(1,R.length-1).split(",");
return new VP(parseFloat(R[0]),parseFloat(R[1]))};yU.mV=function(R){return new N(R.x,R.y,R.width,R.height)};
yU.So=function(R){return{_class:"rect",constrainProportions:!1,x:R.x,y:R.y,width:R.Y,height:R.Z}};function yY(){}yY.NW=function(R,Z){var B=yY,o=UZIP.parse(R),r=JSON.parse(U.qe(o.manifest)),Y=JSON.parse(U.qe(o["resources/graphics/graphicContent.agc"])).resources,E=[],p=r.children;
for(var y=0;y<p.length;y++){var z=p[y];if(z.name=="artwork"){var u=z.children;for(var Q=0;Q<u.length;
Q++)if(u[Q]["uxdesign#bounds"]){var H=u[Q],T=JSON.parse(U.qe(o["artwork/"+H.path+"/graphics/graphicContent.agc"]));
if(T.children.length!=1)throw"e";H._node=T.children[0];E.push(H)}}}var C=[],e=new N;for(var y=0;y<E.length;
y++){var H=E[y],$=yU.mV(H["uxdesign#bounds"]);C.push($);e=e.fj($)}var x=yU.AR(e,8192*8192);Z.Ru=!0;Z.Y=Math.round(e.Y/x);
Z.Z=Math.round(e.Z/x);Z.buffer=O.a(Z.Y*Z.Z*4);Z.jT(E.length);var M=new GN(x,0,0,x,e.x,e.y);Z.XY={};for(var y=0;
y<E.length;y++){var H=E[y],$=yU.mV(H["uxdesign#bounds"]),m=H._node,G=M.clone(),K=$.clone(),s=G.ho();
G.translate(-$.x,-$.y);K.x=-Math.floor(G.ec/s);K.y=-Math.floor(G.Cf/s);K.Y=Math.floor(K.Y/s);K.Z=Math.floor(K.Z/s);
G.translate($.x,$.y);yY.qc(m,Z,G,Y,o,K);var L=Z.q[Z.q.length-1];L.AA(H.name);L.yh(K);if(y!=E.length-1)L.add.lsct=YV.Zg}delete Z.XY;
console.log(Z.C)};yY.JB=function(R){if(R==null)return new GN;return new GN(R.a,R.b,R.c,R.d,R.tx,R.ty)};
yY.qc=function(R,Z,B,o,r,Y){var E=yY,p=R.type,y=R[p],z=R.style,u=E.JB(R.transform),C,e="none",$,x="none",M,m;
u.za();var Q=B.clone();Q.concat(u);var H=Z.xE(),T=R.name;H.AA(T?T.slice(0,250):"Layer");if(R.visible!=null)H.eM(R.visible);
if(z){C=z.stroke;e=C?C.type:"none";$=z.fill;x=$?$.type:"none";M=z.filters;m=z.clipPath;if(z.opacity)H.opacity=Math.round(255*z.opacity);
if(x=="solid"&&$.color.alpha)H.opacity=Math.round(H.opacity*$.color.alpha);if(M){H.add.lmfx=E.Ovz(M);
for(var G=0;G<M.length;G++)if(M[G].type=="uxdesign#blur"){var K=M[G],s=K.params,L=s.brightnessAmount;
if(L==null)L=0;L=Math.abs(L/100);if((K.visible==null||K.visible==!0)&&s.backgroundEffect)H.opacity=Math.round(H.opacity*(L+(1-L)*s.fillOpacity))}}if(x=="pattern"&&$.pattern.meta.ux.uid=="")x="none"}if(p=="artboard"||p=="group"){if(m&&o.clipPaths[m.ref]){var _=o.clipPaths[m.ref].children[0],P=_.shape,i=P!=null&&P.type=="rect"&&P.width*P.height>1e6;
if(_.type!="text"&&!i){var u=E.JB(_.transform);u.za();var w=Q.clone();w.concat(u);H.add.vmsk=new S.lo;
H.add.vmsk.u=E.Jw(P);w=w.clone();w.za();O.V.lC(H.add.vmsk.u,w);H.Aq(Z)}else if(!i)alert("Clipping by text has been ignored")}H.add.lsct=YV.A_;
H.QV="pass";H.Kw=24;if(R.visible!=null)H.eM(R.visible);Z.q.push(Z.ZP());var k=y.children,h=$;if(h)h=h.color;
if(h)h=h.value;if($&&(x!="solid"||h.r!=255||h.g!=255||h.b!=255)){var j=Z.xE();j.AA("BACKGROUND");j.Kw|=16;
j.add.vstk=JSON.parse(JSON.stringify(Gk.uI.default));j.add.vmsk=new S.lo;j.add.vmsk.u=E.Jw({type:"rect",x:Y.x,y:Y.y,width:Y.Y,height:Y.Z});
E.VY($,x,Q,Y,Y,j,Z,o,r);j.Aq(Z);Z.q.push(j)}for(var G=0;G<k.length;G++){yY.qc(k[G],Z,Q,o,r,Y)}}else if(p=="shape"&&R.shape.type=="rect"&&(R.shape.r==null||R.shape.r==0)&&x=="pattern"&&Math.abs(R.shape.width/R.shape.height-$.pattern.width/$.pattern.height)<.01){var I=$.pattern,V=I.meta.ux,F=V.uid,q=r["resources/"+F];
if(q==null){console.log(I);return}var t=Z.VV(q,H.getName(),0,0);t.Kw=H.Kw;t.opacity=H.opacity;H=t;var c=O.W.Bu(new N(0,0,I.width,I.height)).I,f=new GN;
f.scale(I.width/R.shape.width,I.height/R.shape.height);Q.concat(f);Q.za();O.W.P(c,Q,c);H.add.SoLd.Trnf=A.HQ.Kv(c);
H.add.SoLd.nonAffineTransform=A.HQ.Kv(c);H.AS(Z,!1)}else if(p=="shape"){H.Kw|=16;H.add.vstk=JSON.parse(JSON.stringify(Gk.uI.default));
H.add.vmsk=new S.lo;H.add.vmsk.u=E.Jw(y);var W=O.V.pA(H.add.vmsk.u,null),w=Q.clone();w.za();O.V.lC(H.add.vmsk.u,w);
var l=O.V.pA(H.add.vmsk.u,null);if(e=="none"){}else{var g=C.color.value,v,Vg;v="SoFi";var GE=JSON.parse(Gk.eF[Gk.order.indexOf("SoFi")]);
Vg={t:"Objc",v:GE};Vg.v.Clr.v=O.L.hN({F:g.r,S:g.g,X:g.b});var Gy=C.align,GY=C.cap;if(Gy==null)Gy="center";
var Ga=H.add.vstk;Ga.strokeEnabled.v=!0;Ga.strokeStyleLineWidth.v.val=C.width;if(Gy)Ga.strokeStyleLineAlignment.v.strokeStyleLineAlignment=Gk.uI.vl[["inside","center","outside"].indexOf(Gy)];
if(GY)Ga.strokeStyleLineCapType.v.strokeStyleLineCapType=Gk.uI.vw[["butt","round","square"].indexOf(GY)];
var GO=["SoFi","GrFl","patternFill"].indexOf(v),J=[Gk.up,Gk.rR,Gk.rB][GO];Ga.strokeStyleContent.v={classID:Gk.uI.FJ[0]};
var D=Ga.strokeStyleContent.v={classID:Gk.uI.FJ[GO]};for(var G=0;G<J.length;G++)D[J[G]]=Vg.v[J[G]]}if(M)for(var G=0;
G<M.length;G++)if(M[G].type=="uxdesign#blur"&&M[G].visible){var GB=M[G];H.add.vmsk.lB=GB.params.blurAmount}E.VY($,x,Q,W,l,H,Z,o,r);
H.Aq(Z)}else if(p=="text"&&R.text){var Gj=R.text,GX=Gj.frame,Gw=z.font,G_=z.textAttributes,u=Q.clone(),Gh=0;
u.za();H.add.lnsr="rend";H.add.TySh=GV.vr(0,0);H.add.TySh.VE=new N(0,0,100,100);H.add.TySh.P=u;var Gf=H.add.TySh.HC,Gl=Gj.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
GV.bt(Gf,0,Gl);if(Gl!=""){var GU=GV.QR(Gf,0,1),GD=Gw.postscriptName;if(GD==null)GD=Gw.family;GV.rz(GU,GD);
GU.Bt.FontSize=Math.round(Gw.size);if($){var g=$.color.value;GU.Bt.FillColor={Type:1,Values:[1,g.r/255,g.g/255,g.b/255]}}if(G_){if(G_.paragraphAlign)GU.LH.Justification=["left","right","center"].indexOf(G_.paragraphAlign);
if(G_.letterSpacing)GU.Bt.Tracking=Math.round(G_.letterSpacing);if(G_.lineHeight){GU.Bt.AutoLeading=!1;
GU.Bt.Leading=Math.round(G_.lineHeight)}}GV.Fz(Gf,0,Gl.length,GU)}var Gi=R.meta.ux.rangedStyles;if(Gi)for(var G=0;
G<Gi.length;G++){var y=Gi[G],G$=Math.min(y.length,Gl.length-Gh),GU=GV.QR(Gf,Gh,Gh+G$),GA=y.textScript,GJ=y.underline,Ge=y.fontSize,K=y.fill;
if(GA&&GA!="none")GU.Bt.FontBaseline=GA=="superscript"?1:2;if(GJ!=null)GU.Bt.Underline=GJ;if(Ge!=null)GU.Bt.FontSize=Math.round(Ge);
if(K!=null){var Gq=K.value;GU.Bt.FillColor={Type:1,Values:[1,(Gq>>>16&255)/255,(Gq>>>8&255)/255,(Gq>>>0&255)/255]}}GV.Fz(Gf,Gh,Gh+G$,GU);
Gh+=G$}if(GX.type=="area"){GV.zE(Gf,1);GV.lZ(Gf,[0,0,GX.width,GX.height])}}else console.log(p,R);Z.q.push(H)};
yY.Jw=function(R){var Z=R.type,B=[{type:6},{type:8,all:0}];if(Z=="rect"){var o=R.r,r=R.x,Y=R.y,E=R.width,p=R.height;
if(o==null)B=O.V.hk.Rect(r,Y,E,p,0);else B=B.concat([{type:0,lz:1,length:8,UE:0,UY:0,DN:1}]).concat(O.V.eV([r,Y,r+E,Y,r+E,Y+p,r,Y+p],o,!1))}else if(Z=="circle"){var o=R.r;
B=O.V.hk.oD(R.cx-o,R.cy-o,2*o,2*o)}else if(Z=="ellipse"){var y=R.rx,z=R.ry;B=O.V.hk.oD(R.cx-y,R.cy-z,2*y,2*z)}else if(Z=="path"||Z=="compound"){var u=Typr.U.SVGToPath(R.path);
B=O.W.un({J:u.cmds,I:u.crds},!1)}else if(Z=="line"){var Q=R.x1,H=R.x2,T=R.y1,C=R.y2;B=B.concat([{type:0,lz:1,length:2,UE:0,UY:0,DN:1}]).concat(O.V.eV([Q,T,H,C],0,!0))}else if(Z=="polygon"){var e=R.points,$=[];
for(var x=0;x<e.length;x++)$.push(e[x].x,e[x].y);B=B.concat(O.V.hk.FT($,0,!1).slice(2))}else console.log(Z,R);
return B};yY.Ovz=function(R){var Z=JSON.parse(Gk.default);for(var B=0;B<Gk.order.length;B++)Z[Gk._p[B]]={t:"VlLs",v:[]};
for(var B=0;B<R.length;B++){var o=R[B],r=o.type,Y=o.params,E=o.visible;if(r=="dropShadow"){var p=Gk._p[Gk.order.indexOf("DrSh")],y=JSON.parse(Gk.eF[Gk.order.indexOf("DrSh")]);
Z[p].v.unshift({t:"Objc",v:y});var z=Y.dropShadows;if(z.length!=1)throw"e";var u=z[B],Q=u.color,H=Q.value,T=u.dx,C=u.dy;
y.Clr.v=O.L.hN({F:H.r,S:H.g,X:H.b});y.Opct.v.val=Math.round((Q.alpha!=null?Q.alpha:1)*100);y.uglg.v=!1;
y.enab.v=E!=null?E:!0;y.lagl.v.val=Math.round(180/Math.PI*Math.atan2(C,-T));y.Dstn.v.val=Math.round(Math.sqrt(T*T+C*C));
y.blur.v.val=Math.round(u.r*2.3)}}return Z};yY.VY=function(R,Z,B,o,r,Y,E,p,y){var z=yY;if(Z=="none"){Y.add.vstk.fillEnabled.v=!1;
Y.add.SoCo={classID:"null",Clr:{t:"Objc",v:O.L.hN({F:0,S:0,X:0})}}}else{var u,Q,H;if(Z=="solid"){var T=R.color.value;
u="SoCo";Q=Gk.up;var C=JSON.parse(Gk.eF[Gk.order.indexOf("SoFi")]);H={t:"Objc",v:C};H.v.Clr.v=O.L.hN({F:T.r,S:T.g,X:T.b})}else if(Z=="gradient"){u="GdFl";
Q=Gk.rR;var C=JSON.parse(Gk.eF[Gk.order.indexOf("GrFl")]),e=C.Grad.v,G,K,s;e.Intr.v=0;var $=R[Z],x=p.gradients[$.ref],M=["linear","radial"].indexOf(x.type),m=x.stops;
C.Type.v.GrdT=["Lnr","Rdl","Angl"][M];if(M==0){var G=new VP($.x1,$.y1),K=new VP($.x2,$.y2);G.x=K.x+.5*(G.x-K.x);
G.y=K.y+.5*(G.y-K.y)}else{var G=new VP($.cx,$.cy),K=new VP($.cx+$.r,$.cy)}s=r;if($.units=="objectBoundingBox"){var L=new GN(o.Y,0,0,o.Z,o.x,o.y);
G=L.qS(G);K=L.qS(K)}var L=z.JB($.transform);G=L.qS(G);K=L.qS(K);L=B.clone();L.za();G=L.qS(G);K=L.qS(K);
O.L.$b(G,K,s,C);var _=[];for(var P=0;P<m.length;P++){var i=m[P],w=i.color,T=w.value,k=w.alpha;if(k==null)k=1;
_.push([i.offset,[T.r/255,T.g/255,T.b/255],k])}O.L.PC(_,e);H={t:"Objc",v:C}}else if(Z=="pattern"){u="PtFl";
Q=Gk.rB;var C=JSON.parse(Gk.eF[Gk.order.indexOf("patternFill")]),q,l=1,g=0,v=0,Vg=1;H={t:"Objc",v:C};
var h=R[Z],j=h.meta.ux,I=j.uid,V=y["resources/"+I].buffer,F=GI.jL(V);if(E.XY[I])q=E.XY[I];else{var t=new N(0,0,h.width,h.height),c;
if(t.Pa()){t=new N(0,0,1,1);c=new ArrayBuffer(4)}else{var f=GI.WP(F);if(f.$n){var W=new GF;f.Kf(V,W);
c=W.fw().buffer}else c=f.Kf(V)[0].data}q={data:c,_:t};q.id=GF.l_()+"-d71c-11e5-b1ae-a548a96e5f9f";q.name="someImage";
q.Y$=new Uint8Array(q.data);delete q.data;E.vi(q);E.XY[I]=q}C.Algn.v=!0;C.Ptrn.v.Idnt.v=q.id;if(j.scaleBehavior=="cover"){l=Vg*Math.max(r.Y/q._.Y,r.Z/q._.Z);
if(j.scale!=null)l*=j.scale;g=r.x-(q._.Y*l-r.Y)/2;v=r.y-(q._.Z*l-r.Z)/2;if(j.offsetX!=null)g+=j.offsetX*q._.Y*l;
if(j.offsetY!=null)v+=j.offsetY*q._.Z*l}else if(j.scaleBehavior=="fill"){l=Vg*Math.min(r.Y,r.Z)/Math.max(q._.Y,q._.Z);
g=r.x-(q._.Y*l-r.Y)/2;v=r.y-(q._.Z*l-r.Z)/2}else throw"Unknown scale behaviour";C.Scl.v.val=100*l;C.phase.v.Hrzn.v=Math.round(g);
C.phase.v.Vrtc.v=Math.round(v)}else console.log(Z);if(u!=null){Y.add[u]={classID:"null"};for(var P=0;
P<Q.length;P++){var GE=Q[P];Y.add[u][GE]=H.v[GE]}}}};function GC(){}GC.NW=function(R,Z){R=new Uint8Array(R);
var B=U.qe(R,0,R.length),o=new DOMParser,r=o.parseFromString(B,"image/svg+xml"),Y=r.getElementsByTagName("style")[0];
if(Y)Y=Typr.U.SVG.cssMap(Y.textContent);else Y={};var E=r.firstChild;while(E.tagName!="svg")E=E.nextSibling;
var p=new N(0,0,100,100),y=E.getAttribute("viewBox"),z=E.getAttribute("width"),u=E.getAttribute("height");
if(y){var Q=GC.Ji(y);p.x=Q[0];p.y=Q[1];p.Y=Q[2];p.Z=Q[3]}else if(z!=null||u!=null){p.Y=z!=null?parseFloat(z):parseFloat(u);
p.Z=u!=null?parseFloat(u):parseFloat(z)}p=O.W.Hx(p);Z.Ru=!0;Z.Y=p.Y;Z.Z=p.Z;Z.buffer=O.a(p.b()*4);var H=new GN(1,0,0,1,-p.x,-p.y),T={FW:GC.rI(E),OIN:Y};
GC.qn(r,E.children,Z,H,T,new GN,0);if(Z.q.length==0){var C=Z.xE();C.AA("Layer");Z.q.push(C)}};GC.Ji=function(R){var Z=" ";
if(R.indexOf(",")!=-1)Z=",";return R.split(Z).map(parseFloat)};GC.qn=function(R,Z,B,o,r,Y,E){var p=GC,y=["display","opacity","fill-opacity"];
for(var z=0;z<Z.length;z++){var u=Z[z],Q=u.tagName,H=u.getAttribute("id"),T=p.rI(u,r.OIN),e=13,G=1,L="clip-path",_=null;
for(var C in r.FW)if(y.indexOf(C)==-1&&T[C]==null)T[C]=r.FW[C];if(T["font-size"])e=p.AU(T["font-size"],e);
if(u.getAttribute("dx"))o.ec+=p.AU(u.getAttribute("dx"),e);if(u.getAttribute("dy"))o.Cf+=p.AU(u.getAttribute("dy"),e);
var $=p.rY(u);$.concat(o);var x=u.getAttribute("visibility"),M=T.display,m=B.xE();if(x=="hidden"||M=="none")m.eM(!1);
m.AA(H!=null?H.split(":::")[0]:"Layer");if(T.opacity)G*=parseFloat(T.opacity);if(T["fill-opacity"]){var K=parseFloat(T["fill-opacity"]);
if(K!=0)G*=K}m.opacity=Math.round(255*G);if(T["mix-blend-mode"]){var s=Gd.Okc.indexOf(T["mix-blend-mode"]);
if(s!=-1)m.QV=Gd.pz[s]}if(u.getAttribute(L)==null)L="mask";if(u.getAttribute(L)!=null){var P=u.getAttribute(L);
P=P.slice(4,P.length-1);var i=R.getElementById(P.slice(1));if(i){var w=i.children;_=B.xE();_.AA("Clip-Path"+(H?": "+H:""));
_.add.lsct=E<2?YV.A_:YV.Zg;_.QV="pass";_.Kw=24;var k=_.add.vmsk=new S.lo;B.q.push(B.ZP());var h=[];if(i.getAttribute(L)){var P=i.getAttribute(L);
P=P.slice(4,P.length-1);h=R.getElementById(P.slice(1)).children}for(var j=0;j<w.length;j++){var I=p.rY(w[j]);
I.concat($);var V=p.Jw(R,w[j],!1).slice(2);O.V.lC(V,I);k.u=k.u.concat(V)}for(var j=0;j<h.length;j++){var I=p.rY(w[j]);
I.concat($);var V=p.Jw(R,h[j],!1).slice(2);for(var F=0;F<V.length;F++)if(V[j].lz!=null)V[j].lz=3;O.V.lC(V,I);
k.u=k.u.concat(V)}_.uN();_.Aq();E++}}if(Q=="g"||Q=="a"||Q=="svg"||Q=="switch"||(Q=="text"||Q=="textPath")&&u.children.length>0){if(Q=="text")Y=p.Tm(u,Y);
var q=u.getAttribute("viewBox"),t=u.getAttribute("width"),c=u.getAttribute("height");if(q&&t&&c){var f=GC.Ji(q),W=p.Tm(u),l=new GN;
l.translate(-f[0],-f[1]);l.scale(parseFloat(t)/f[2],parseFloat(c)/f[3]);l.translate(W.ec,W.Cf);l.concat($);
$=l}var g=u.children.length,v=r.FW;r.FW=T;var Vg=Q!="text"&&Q!="textPath"||g>1;if(Vg){var GE=m.YT();
m.add.lsct=E<2&&GE&&(H==null||!H.endsWith(":::"))?YV.A_:YV.Zg;m.QV="pass";m.Kw=24;m.eM(GE);B.q.push(B.ZP())}p.qn(R,u.children,B,$,r,Y,E+1);
if(Vg)B.q.push(m);r.FW=v}else if(Q=="use"){var l=p.Tm(u);l.concat($);var Gy=p.rq(u),GY=R.getElementById(Gy.slice(1)),v=r.FW;
r.FW=T;p.qn(R,[GY],B,l,r,Y,E+1);r.FW=v}else if(Q=="path"||Q=="rect"||Q=="circle"||Q=="ellipse"||Q=="polygon"||Q=="polyline"||Q=="line"){m.Kw|=16;
m.add.vmsk=new S.lo;m.add.vstk=JSON.parse(JSON.stringify(Gk.uI.default));m.add.vstk.strokeEnabled.v=!1;
var Ga=m.add.vstk,k=m.add.vmsk;k.u=p.Jw(R,u,T["fill-rule"]=="evenodd");O.V.lC(k.u,$);var GO=O.V.pA(k.u),J=T.stroke,D=T["stroke-width"],GB=T["stroke-dasharray"],Gj=T.fill,GX=T["stroke-linejoin"],Gw=T["stroke-linecap"],G_=T["paint-order"];
if(J==null||J=="none"||J=="null"){}else{var Gf=p.q_(R,J,$,GO),Gl=["SoFi","GrFl","patternFill"].indexOf(Gf.type),GU=[Gk.up,Gk.rR,Gk.rB][Gl],GD=Ga.strokeStyleContent.v={classID:Gk.uI.FJ[Gl]},Gi=1;
for(var j=0;j<GU.length;j++)GD[GU[j]]=Gf.k.v[GU[j]];D=D?parseFloat(D):1;if(G_&&G_.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){Gi=2;
D/=2}Ga.strokeEnabled.v=!0;if(GX)Ga.strokeStyleLineJoinType.v.strokeStyleLineJoinType=Gk.uI.join[["miter","round","bevel"].indexOf(GX)];
if(Gw)Ga.strokeStyleLineCapType.v.strokeStyleLineCapType=Gk.uI.vw[["butt","round","square"].indexOf(Gw)];
Ga.strokeStyleLineWidth.v.val=D*A.HQ.ho($);Ga.strokeStyleLineAlignment.v.strokeStyleLineAlignment=Gk.uI.vl[Gi];
Ga.strokeStyleOpacity.v.val=100*(T["stroke-opacity"]?parseFloat(T["stroke-opacity"]):1);if(GB!=null&&GB!="none")Ga.strokeStyleLineDashSet.v=GS.uM(GB.split(",").map(parseFloat),1/D)}if(Gj=="none"||T["fill-opacity"]&&parseFloat(T["fill-opacity"])==0){m.add.vstk.fillEnabled.v=!1;
m.add.SoCo={classID:"null",Clr:{t:"Objc",v:O.L.hN({F:0,S:0,X:0})}}}else{var Gf=p.q_(R,Gj,$,GO),Gh=null,G$=null;
if(Gf.type=="SoFi"){Gh="SoCo";G$=Gk.up}if(Gf.type=="GrFl"){Gh="GdFl";G$=Gk.rR}if(Gf.type=="patternFill"){Gh="PtFl";
G$=Gk.rB}if(Gh!=null){m.add[Gh]={classID:"null"};for(var j=0;j<G$.length;j++){var C=G$[j];m.add[Gh][C]=Gf.k.v[C]}}}if(T.filter&&T.filter!="none"){var GA=T.filter;
GA=GA.slice(5,GA.length-1);var GJ=R.getElementById(GA).children[0];if(GJ.tagName=="feGaussianBlur"){m.add.vmsk.lB=parseFloat(GJ.getAttribute("stdDeviation"))*A.HQ.ho($)}}m.uN();
m.Aq(B);B.q.push(m)}else if((Q=="text"||Q=="tspan")&&u.textContent!=""){Y=p.Tm(u,Y);var l=Y.clone();
l.concat($);if(u.children.length>0){var Ge=p.rI(u.children[0],r.OIN);for(var C in Ge)if(y.indexOf(C)==-1)T[C]=Ge[C]}var Gq=T["xml:space"],Gv=u.textContent;
if(Gq=="preserve")Gv=Gv.replace(/\t/g," ").replace(/\n/g," ");if(H==null)m.AA(Gv);m.add.lnsr="rend";
m.add.TySh=GV.vr(0,0);m.add.TySh.VE=new N(0,0,100,100);m.add.TySh.P=l.clone();var yi=m.add.TySh.HC;GV.bt(yi,0,Gv);
var Gj=T.fill,GZ=T["font-weight"],OU=T["font-family"],GH=T["text-decoration"],J=T.stroke,D=T["stroke-width"];
if(T["dominant-baseline"]=="text-before-edge")m.add.TySh.P.translate(0,e);var OB=GV.QR(yi,0,1);if(Gj&&Gj!="none"){var Gb=CSS.FG(Gj);
OB.Bt.FillColor={Type:1,Values:[1,Gb.F/255,Gb.S/255,Gb.X/255]}}if(GH=="underline")OB.Bt.Underline=!0;
OB.Bt.FontSize=Math.round(e);GV.rz(OB,"LiberationSans");if(GZ=="bold")GV.rz(OB,"LiberationSans-Bold");
if(OU){var Gu=OU+":"+(GZ?GZ:"normal"),GP={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(GP[Gu])GV.rz(OB,GP[Gu]);else GV.rz(OB,OU)}if(T["text-anchor"])OB.LH.Justification=["start","end","middle"].indexOf(T["text-anchor"]);
GV.Fz(yi,0,Gv.length,OB);if(J==null||J=="none"){}else{var Gn=JSON.parse(Gk.eF[Gk.order.indexOf("FrFX")]);
Gn.Clr.v=O.L.hN(CSS.FG(J));Gn.Sz.v.val=Math.round(parseFloat(D)*A.HQ.ho(l));var Yy=JSON.parse(Gk.default);
for(var j=0;j<Gk.order.length;j++)Yy[Gk._p[j]]={t:"VlLs",v:[]};Yy.frameFXMulti.v.push({t:"Objc",v:Gn});
m.add.lmfx=Yy}B.q.push(m)}else if(Q=="image"){var Gy=p.rq(u);if(Gy.slice(0,4)=="data"){var Gm=GI.QE(Gy),GW=Gm,YR=B.VV(GW,m.getName(),0,0);
YR.Kw=m.Kw;m=YR;var YE=m.rect.clone();YE.x=YE.y=0;var Yq=u.getAttribute("width"),YX=u.getAttribute("height");
if(Yq)YE.Y=parseFloat(Yq);if(YX)YE.Z=parseFloat(YX);var O_=p.Tm(u);O_.concat($);var Y_=O.W.Bu(YE).I;
O.W.P(Y_,O_,Y_);m.add.SoLd.Trnf=A.HQ.Kv(Y_);m.add.SoLd.nonAffineTransform=A.HQ.Kv(Y_);m.AS(B,!1);B.q.push(m)}}else console.log("unknown tag: "+Q,u.children.length,u.textContent.length);
if(_!=null){B.q.push(_);E--}}};GC.Jw=function(R,Z,B){var o=GC,r=[{type:6},{type:8,all:0}],Y=Z.tagName;
if(Y=="use"){var E=o.rq(Z),p=R.getElementById(E.slice(1)),y=new GN;if(p.tagName!="rect")y=o.Tm(p);y.concat(o.rY(p));
r=o.Jw(R,p,B);O.V.lC(r,y)}else if(Y=="path"){var z=Z.getAttribute("d");if(z==null)return r;var u=Typr.U.SVGToPath(z);
r=O.W.un({I:u.crds,J:u.cmds},B)}else if(Y=="rect"){var Q=Z.getAttribute("rx"),H=o.Tm(Z);r=O.V.hk.Rect(H.ec,H.Cf,parseFloat(Z.getAttribute("width")),parseFloat(Z.getAttribute("height")),Q?parseFloat(Q):0)}else if(Y=="circle"||Y=="ellipse"){var T=[0,0,0,0],C=["cx","cy","rx","ry","r"];
for(var e=0;e<5;e++){var $=Z.getAttribute(C[e]);if($){$=parseFloat($);if(e<4)T[e]=$;else T[2]=T[3]=$}}r=O.V.hk.oD(T[0]-T[2],T[1]-T[3],2*T[2],2*T[3])}else if(Y=="polygon"||Y=="polyline"||Y=="line"){var x;
if(Y=="line")x=[Z.getAttribute("x1"),Z.getAttribute("y1"),Z.getAttribute("x2"),Z.getAttribute("y2")].map(parseFloat);
else x=Z.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
r=O.V.hk.FT(x,0,Y!="polygon")}return r};GC.AU=function(R,Z){if(R.charAt(R.length-1)=="m")return Z*parseFloat(R.slice(0,R.length-2));
else return parseFloat(R)};GC.q_=function(R,Z,B,o){var r,Y,E=GC,p=JSON.parse(Gk.eF[Gk.order.indexOf("SoFi")]),y=Z!=null?Z.indexOf("("):-1;
if(y!=-1){var z=Z.indexOf(")"),u=Z.slice(0,y).trim(),Q=Z.slice(y+1,z).trim();if(Q.charAt(0)=="'")Q=Q.slice(1,Q.length-1);
if(u=="url"){if(Q.charAt(0)=="#"){var H=R.getElementById(Q.slice(1));if(H&&H.tagName.toLowerCase().endsWith("gradient")){var T=E.Eg(R,H,B,o);
r="GrFl";Y={t:"Objc",v:T}}else{r="SoFi";Y={t:"Objc",v:p}}}else console.log("unknown url",Q)}else if(u=="rgb"){r="SoFi";
Y={t:"Objc",v:p};Y.v.Clr.v=O.L.hN(CSS.FG(Z))}else console.log("unknown fill",Z)}else{r="SoFi";Y={t:"Objc",v:p};
Y.v.Clr.v=O.L.hN(CSS.FG(Z))}return{type:r,k:Y}};GC.rY=function(R){var Z=new GN,B=R.getAttribute("transform");
if(B)Z=GC.AM(B);var o=R.getAttribute("style");if(o!=null){var r={};GC.Ag(r,o,["transform"]);o=r.transform;
if(o)Z.concat(GC.AM(o))}return Z};GC.Tm=function(R,Z){var B=new GN,o=R.getAttribute("x"),r=R.getAttribute("y");
if(o)B.ec=parseFloat(o);else if(Z)B.ec=Z.ec;if(r)B.Cf=parseFloat(r);else if(Z)B.Cf=Z.Cf;return B};GC.AM=function(R){var Z=Typr.U.SVG.readTrnf(R);
return new GN(Z[0],Z[1],Z[2],Z[3],Z[4],Z[5])};GC.rI=function(R,Z){var B={},o="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" ");
for(var r=0;r<o.length;r++){var Y=R.getAttribute(o[r]);if(Y!=null&&Y!="inherit")B[o[r]]=Y}var E=R.getAttribute("class");
if(Z!=null&&E!=null&&Z["."+E]!=null)GC.Ag(B,Z["."+E],o);var p=R.getAttribute("style");if(p!=null)GC.Ag(B,p,o);
return B};GC.Ag=function(R,Z,B){Z=Z.trim().split(";");for(var o=0;o<Z.length;o++){var r=Z[o].split(":"),Y=r[0]?r[0].trim():"",E=r[1]?r[1].trim():"";
for(var p=0;p<B.length;p++)if(Y==B[p]&&E!="inherit")R[B[p]]=E}};GC.rq=function(R){var Z=R.getAttribute("xlink:href");
if(Z==null)Z=R.getAttribute("href");return Z};GC.Eg=function(R,Z,B,o){var r=GC,Y=new GN,E=Z.getAttribute("gradientTransform");
if(E)Y=r.AM(E);Y.concat(B);var p=JSON.parse(Gk.eF[Gk.order.indexOf("GrFl")]),y=p.Grad.v;y.Intr.v=0;var z=Z.tagName,u=new VP(0,0),Q=new VP(o.Y,0);
if(z=="linearGradient"){p.Type.v.GrdT="Lnr";if(Z.getAttribute("x1"))u.x=parseFloat(Z.getAttribute("x1"));
if(Z.getAttribute("y1"))u.y=parseFloat(Z.getAttribute("y1"));if(Z.getAttribute("x2"))Q.x=parseFloat(Z.getAttribute("x2"));
if(Z.getAttribute("y2"))Q.y=parseFloat(Z.getAttribute("y2"));u.x=Q.x+.5*(u.x-Q.x);u.y=Q.y+.5*(u.y-Q.y)}if(z=="radialGradient"){p.Type.v.GrdT="Rdl";
if(Z.getAttribute("cx"))u.x=parseFloat(Z.getAttribute("cx"));if(Z.getAttribute("cy"))u.y=parseFloat(Z.getAttribute("cy"));
Q.wh(u.x,u.y);if(Z.getAttribute("r"))Q.x+=parseFloat(Z.getAttribute("r"))}if(Z.getAttribute("gradientUnits")=="userSpaceOnUse"){u=Y.qS(u);
Q=Y.qS(Q)}else{u.x=o.x+u.x*o.Y;u.y=o.y+u.y*o.Z;Q.x=o.x+Q.x*o.Y;Q.y=o.y+Q.y*o.Z}O.L.$b(u,Q,o,p);var H=Z.children;
if(H.length==0){var T=r.rq(Z);if(T==null)throw"gradient has no stops";var C=R.getElementById(T.slice(1));
if(C==null){console.log(T.slice(1));throw"e"}var e=r.Eg(R,C,Y,o);p.Grad=e.Grad}else{var $=[];for(var x=0;
x<H.length;x++){var M=H[x],m=r.rI(M),G=m["stop-color"],K=m["stop-opacity"],s=M.getAttribute("offset");
if(G==null)G="#000000";if(K==null)K="1";var L=s?parseFloat(s):0;G=CSS.FG(G);$.push([L,[G.F/255,G.S/255,G.X/255],parseFloat(K)])}O.L.PC($,y)}return p};
GC.Px=function(R,Z,B){var o=[],r=GC;r.ix=Z.Owk?"\t":"";var Y=Z.OWj,E=Z.OWW;o.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+R.Y+" "+R.Z+"\" width=\""+Y+"\" height=\""+E+"\">");
var p={ip:[],p:[],dO:0,Mr:0,Mp:0,MZ:{},Mo:{},MN:0,$U:{},dy:{},dE:0,YN:[]};GC.$a(R,p,R.root.children,1,Z,B);
if(p.ip.length!=0){o.push(r.OM(1)+"<defs>");o=o.concat(p.ip);o.push(r.OM(1)+"</defs>")}o.push(r.OM(1)+"<style>");
o.push(r.OM(2)+"tspan { white-space:pre }");for(var y in p.$U)o.push(r.OM(2)+"."+y+" { "+p.$U[y]+" } ");
o.push(r.OM(1)+"</style>");o=o.concat(p.p);o.push("</svg>");o=o.join(Z.Owk?"\n":"");var z=O.a(Math.round(o.length*1.5)),u=U.Ww(o,z,0);
if(r.Ox){console.log(r.Ox);var Q="SVGParser.gen.db = [\n";for(var H=0;H<r.Ox.length;H++){var T=r.Ox[H];
Q+="{\n\tnam: \""+T.KM+"\",\n\tpts: [\n";for(var C=0;C<T.BD.length;C++){var e=T.BD[C];Q+="\t\t[\""+e[0]+"\", { cmds: "+JSON.stringify(e[1].J)+", crds:"+JSON.stringify(e[1].I)+" } ]"+(C==T.BD.length-1?"":",")+"\n"}Q+="\t]\n}"+(H==r.Ox.length-1?"":",")+"\n"}Q+="]\n";
console.log(Q)}return z.buffer.slice(0,u)};GC.ix="";GC.OM=function(R){var Z="";for(var B=0;B<R;B++)Z+=GC.ix;
return Z};GC.AJ=function(R){return""+parseFloat(R.toFixed(3))};GC.$a=function(R,Z,B,o,r,Y){var E=GC;
for(var p=0;p<B.length;p++){var y=B[p].r,z=y.add.lsct,u=y.add.vmsk,Q=y.add.vstk,H=y.add.TySh,T=[];if(!r.hidden&&!y.YT())continue;
var C=y.opacity/255,e=y.add.iOpa?y.add.iOpa/255:1;if(C!=1)T.push("opacity: "+E.AJ(C));if(e!=1)T.push("fill-opacity: "+E.AJ(e));
if(y.QV!="norm"){var $=Gd.Okc[Gd.pz.indexOf(y.QV)];if($!=null)T.push("mix-blend-mode: "+$)}if(!y.YT())T.push("display: none");
var x=[],M=[],m=y.getName(),G=m.indexOf(" .");if(G!=-1){M.push(m.slice(G+2));m=m.slice(0,G)}if(r.names)x.push("id=\""+E.HH(m)+"\"");
var K=y.add.lmfx;if(K)K=K.solidFillMulti.v[0];if(K)K=K.v;if(K&&!K.enab.v)K=null;if(y.av()){if(E.Ox&&y.getName().split("-").length==3){E.Ox.push({KM:y.getName(),Ah:0,BD:[]})}if(u||y.add.artb){var s;
if(u)s=O.V.Eq(u.u).pH;else{var L=y.NT(),_=O.W.Bu(L);s=Typr.U.pathToSVG({crds:_.I,cmds:_.J},2)}Z.Mp++;
x.push("clip-path=\"url(#cp"+Z.Mp+")\"");Z.ip.push(E.OM(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+Z.Mp+"\">");
Z.ip.push(E.OM(3)+"<path d=\""+s+"\" />");Z.ip.push(E.OM(2)+"</clipPath>")}if(T.length!=0)x.push("style=\""+T.join(";")+"\"");
Z.p.push(E.OM(o)+"<g "+E.CM(x,M)+">");E.$a(R,Z,B[p].children,o+1,r,Y);Z.p.push(E.OM(o)+"</g>")}else if(y.yJ()&&u==null){var P=new N(0,0,R.Y,R.Z);
E.$e(T,y.add,Z,P);if(T.length!=0)x.push("style=\""+T.join(";")+"\"");Z.p.push(E.OM(o)+"<rect width=\""+R.Y+"\" height=\""+R.Z+"\" "+E.CM(x,M)+" />")}else if(u){var P=O.V.pA(u.u),s=O.V.Eq(u.u);
if(s.Zj!=0){x.push("fill-rule=\"evenodd\"")}var i=s.pH;E.$e(T,y.add,Z,P);if(T.length!=0){var w=T.join(";"),k=Z.dy[w];
if(k==null){k="shp"+Z.dE;Z.dE++;Z.dy[w]=k;Z.$U[k]=w}M.push(k)}Z.p.push(E.OM(o)+"<path "+E.CM(x,M)+" d=\""+i+"\" />");
if(E.Ox&&E.Ox[E.Ox.length-1]){var h=O.W.mM(u.u);h.I=h.I.map(Math.round);var j=E.Ox[E.Ox.length-1];j.Ah+=JSON.stringify(h).length;
j.BD.push([T[0].split("#").pop(),h])}}else if(H&&r.Oqd){var I=H.HC,V=new YI(I,Y);if(K)x.push("fill=\""+CSS.zl(K.Clr.v)+"\"");
var F=YK.me(V,H),q=O.W.Io(F);for(var t in q){if(K==null)x.push("fill=\""+t+"\"");var _=q[t],i=Typr.U.pathToSVG({crds:_.I,cmds:_.J},2);
Z.p.push(E.OM(o)+"<path "+E.CM(x,M)+" d=\""+i+"\" />");if(K==null)x.pop()}}else if(H&&!r.OqP){var I=H.HC,c=H.P.clone(),Ga=0,GO=0;
if(GV.hX(I)==1){var f=GV.QR(I,0,0).LH.Justification,W=0,l=GV.ri(I)[2];if(f==2)W=l/2;if(f==1)W=l;c.translate(W,0)}T.push("transform: "+E.NE(c));
var g=GV.el(I),v=I.EngineDict.ParagraphRun,Vg=v.RunArray,GE=v.RunLengthArray;if(T.length!=0)x.push("style=\""+T.join(";")+"\"");
Z.p.push(E.OM(o)+"<text "+E.CM(x,M)+" >");var Gy=y.add.lmfx;if(Gy)Gy=Gy.frameFXMulti.v[0];if(Gy)Gy=Gy.v;
var GY=K?CSS.zl(K.Clr.v):null;for(var J=0;J<Vg.length;J++){var D=[],GB=GE[J],Gj=g.slice(Ga,Ga+GB-1),GX=GV.QR(I,Ga,Ga),Gw=GX.bR[GX.Bt.Font].Name;
if(Z.YN.indexOf(Gw)==-1)Z.YN.push(Gw);CSS.Ohd(D,GX,H.P,!0,r.YN,GY);if(Gy){T.push("stroke: "+CSS.zl(Gy.Clr.v));
T.push("stroke-width: "+Gy.Sz.v.val)}var G_=GX.Bt.FontSize*1.12;if(J==0)G_=GV.hX(I)==0?0:GX.Bt.FontSize;
GO+=G_;if(Gj!=""){var w=D.join(";"),k=Z.dy[w],Gl="";if(k==null){k="txt"+Z.dE;Z.dE++;Z.dy[w]=k;Z.$U[k]=w}var Gf=GX.Bt.Tracking;
if(Gf!=null&&Gf!=0){Gf=Math.round(Gf*GX.Bt.FontSize/1e3);Gl=" dx=\"0";for(var GU=1;GU<Gj.length;GU++)Gl+=" "+Gf;
Gl+="\" "}Z.p.push(E.OM(o+1)+"<tspan x=\"0\" y=\""+E.AJ(GO)+"\" class=\""+k+"\""+Gl+">"+E.HH(Gj)+"</tspan>")}Ga+=GB}Z.p.push(E.OM(o)+"</text>")}else if(y.add.SoLd){var GD=y.add.SoLd,Gi=GD.Idnt.v,Gh=0,G$=GD.Crop?GD.Crop.v:null;
if(Z.Mo[Gi]!=null)Gh=Z.Mo[Gi];else{Z.MN++;Gh=Z.MN;Z.Mo[Gi]=Z.MN;var GA=R.uw(Gi,G$),Gq="";if(GA==null)return;
var GJ=GA.NO,Ge=GI.jL(GA.raw.buffer);if(Ge=="pdf"){var Gv=new GF("h");GI.PDF.Kf(GA.raw.buffer,Gv);Gv.iV();
Gv.ut();Gv.U();Gv.oT();if(GD.Crop&&GD.Crop.v==1){A.bG.GL(Gv,Gv.root.mb(Gv,!0))}var yi=GI.SVG.qj(Gv,Gv.Y,Gv.Z,null,{YN:Y});
Gq="data:image/svg+xml;base64,"+GI.iU(yi)}else if(Ge=="jpg"||Ge=="png"||Ge=="gif"||Ge=="svg"){var GZ={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
Gq="data:"+GZ[Ge]+";base64,"+GI.iU(GA.raw.buffer)}else{Gq=GI.gu(GJ[0].buffer,GJ[1].Y,GJ[1].Z)}Z.ip.push(E.OM(2)+"<image width=\""+GJ[1].Y+"\" height=\""+GJ[1].Z+"\" id=\"img"+Gh+"\" href=\""+Gq+"\"/>")}var OU=O.f.go(GD);
if(T.length!=0)x.push("style=\""+T.join(";")+"\"");var GH=E.CM(x,M);Z.p.push(E.OM(o)+"<use "+GH+" href=\"#img"+Gh+"\" transform=\""+E.NE(OU)+"\"/>")}else if(!y.rect.Pa()&&(r.Oqc||H)){if(T.length!=0)x.push("style=\""+T.join(";")+"\"");
var GH=E.CM(x,M),OB=y.buffer;if(K)OB=GS.Ot_(OB,K,y.rect);var Gb=y.rect;Z.MN++;var Gq=GI.gu(OB.buffer,Gb.Y,Gb.Z,"png",null,!0);
Z.ip.push(E.OM(2)+"<image width=\""+y.rect.Y+"\" height=\""+y.rect.Z+"\" id=\"img"+Z.MN+"\" href=\""+Gq+"\"/>");
Z.p.push(E.OM(o)+"<use "+GH+" href=\"#img"+Z.MN+"\" x=\""+Gb.x+"\" y=\""+Gb.y+"\" />")}}};GC.CM=function(R,Z){if(Z.length!=0)R.push("class=\""+Z.join(" ")+"\"");
return R.join(" ")};GC.HH=function(R){return String(R).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")};
GC.NE=function(R){var Z=[R.t,R.X,R.f_,R._l,R.ec,R.Cf].map(GC.AJ);return"matrix("+Z.join(",")+")"};GC.$e=function(R,Z,B,o){var r=GC,Y=Z.vstk,E=Z.vmsk,p=Z.lmfx;
if(E&&E.lB!=0){var y=r.AJ(E.lB);if(B.MZ[y]==null){B.Mr++;B.MZ[y]=B.Mr;B.ip.push(r.OM(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"flt"+B.Mr+"\"> <feGaussianBlur stdDeviation=\""+y+"\" /> </filter>")}R.push("filter: url(#flt"+B.MZ[y]+")")}var z=GS.fp(p,Z),u=z[0],Q=z[1];
if(Y&&!Y.fillEnabled.v)R.push("fill: none");else if(u){var H=CSS.zl(u.Clr.v);R.push("fill: "+H)}else if(Q){r.rp(Q,B,o);
R.push("fill: url(#grd"+B.dO+")")}if(Y==null||!Y.strokeEnabled.v)Y=GS.fM(p);if(Y&&Y.strokeEnabled.v){var T=Y.strokeStyleContent.v,C=T.classID;
if(C=="solidColorLayer")R.push("stroke: "+CSS.zl(T.Clr.v));else{r.rp(T,B,o);R.push("stroke: url(#grd"+B.dO+")")}var e=Gk.uI.vw.indexOf(Y.strokeStyleLineCapType.v.strokeStyleLineCapType),$=Gk.uI.join.indexOf(Y.strokeStyleLineJoinType.v.strokeStyleLineJoinType),x=Y.strokeStyleOpacity.v.val/100,M=Y.strokeStyleLineWidth.v.val,m=Gk.uI.vl.indexOf(Y.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(m==2){M*=2;R.push("paint-order:stroke fill markers")}var G=Y.strokeStyleLineDashSet.v,K=[];for(var s=0;
s<G.length;s++)K.push(Math.round(G[s].v.val*M));if(e!=0)R.push("stroke-linecap:"+["butt","round","square"][e]);
if($!=0)R.push("stroke-linejoin:"+["miter","round","bevel"][$]);if(x!=1)R.push("stroke-opacity:"+r.AJ(x));
if(M!=1)R.push("stroke-width: "+r.AJ(M));if(K.length!=0)R.push("stroke-dasharray: "+K.join(","))}};GC.rp=function(R,Z,B){Z.dO++;
var o=GC,r=R.Grad.v,Y=r.Clrs.v.slice(0),E=r.Trns.v.slice(0),p=R.Ofst.v,y=R.Type.v.GrdT=="Rdl"?1:0,z=(y==1?"radial":"linear")+"Gradient",u=O.L.jF(R,B);
if(y==0){u[0].x=u[1].x+2*(u[0].x-u[1].x);u[0].y=u[1].y+2*(u[0].y-u[1].y)}var Q=o.OM(2)+"<"+z+" id=\"grd"+Z.dO+"\" gradientUnits=\"userSpaceOnUse\" ";
if(y==0)Z.ip.push(Q+" x1=\""+o.AJ(u[0].x)+"\" y1=\""+o.AJ(u[0].y)+"\" x2=\""+o.AJ(u[1].x)+"\" y2=\""+o.AJ(u[1].y)+"\">");
if(y==1)Z.ip.push(Q+" cx=\""+o.AJ(u[0].x)+"\" cy=\""+o.AJ(u[0].y)+"\" r=\""+o.AJ(VP.HP(u[0],u[1]))+"\">");
var H=R.Rvrs.v;if(H){Y.reverse();E.reverse()}for(var T=0;T<Y.length;T++){var C=Y[T].v,e=T<E.length?E[T].v.Opct.v.val/100:1,e=e==1?"":"stop-opacity=\""+o.AJ(e)+"\"",$=C.Lctn.v/4096;
if(H)$=1-$;Z.ip.push(o.OM(3)+"<stop offset=\""+o.AJ($)+"\" stop-color=\""+CSS.zl(C.Clr.v)+"\" "+e+" />")}Z.ip.push(o.OM(2)+"</"+z+">")};
GC.hk=function(R,Z,B,o,r){var Y=[],E=GC.hk,p=!1,y={ZA:R,N$:Z,dV:[!0,!0,!0],h_:!1,yo:B,OIi:0};y.WZ=Math.round(Math.max(R,Z)*(.02+E.$Q(y)*.03));
y.hv=E.Ozm(y);y.Kn=E.OzF(y.hv,(E.$Q(y)<.5?-1:1)*(.2+E.$Q(y)*.3));if(E.$Q(y)<.5){var z=y.hv;y.hv=y.Kn;
y.Kn=z}y.Ozr=E.$Q(y)<.4&&E.Ozu(y.Kn,{F:1,S:1,X:1})>.3;y.OiE=E.$Q(y)<.5?0:1;Y.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+R+" "+Z+"\" width=\""+R+"\" height=\""+Z+"\">");
y.MF=o[Math.floor(E._a(y)*o.length)];y.Mu=o[Math.floor(E._a(y)*o.length)];Y.push("<style>");Y.push("@font-face {  font-family: "+y.MF[2]+";  src: url(rsrc/fonts/"+y.MF[5]+");  }");
Y.push("@font-face {  font-family: "+y.Mu[2]+";  src: url(rsrc/fonts/"+y.Mu[5]+");  }");Y.push("</style>");
var u=[0,0,R,Z],Q=u;if(r==null)Y.push("<path style=\"fill: "+E.QK(y.hv)+"\" d=\""+E.Rect(u[0],u[1],u[2]-u[0],u[3]-u[1])+"\" id=\"Background\" />");
else{y.h_=!0;E.xJ(y,u,Y,r)}if(E.$Q(y)<.25&&!y.h_){y.dV[0]=y.dV[2]=!1;E.OvU(u,y,Y);Q=u}else if(E.$Q(y)<.25||y.h_)Q=u;
else{var H=.52+E.$Q(y)*.2;if(E.$Q(y)<.5)H=1-H;var T=u.slice(0),C=u.slice(0);if(E.$Q(y)<.5)T[2]=C[0]=Math.round(H*R);
else T[3]=C[1]=Math.round(H*Z);if(E.$Q(y)<.5){var z=T;T=C;C=z}Q=T;E.Ovu(y,C,Y,r)}E.OvH(y,Q,Y);Y.push("</svg>");
Y=Y.join("\n");var e=O.a(Math.round(Y.length*1.5)),$=U.Ww(Y,e,0);return[e.buffer.slice(0,$),y.Ti]};GC.hk.OvU=function(R,Z,B){var o=GC.hk,r=R[2]-R[0],Y=R[3]-R[1];
if(o.$Q(Z)<.5){B.push("<path id=\"Border\" style=\"fill: "+o.QK(Z.Kn)+"\" d=\""+o.Ozz(R[0],R[1],R[2]-R[0],R[3]-R[1],Z.WZ)+"\" />")}else if(o.$Q(Z)<-.4){o.Ozk(Z,R,B)}else{var E=o.$Q(Z)<.5?0:1,p=(E==0?Y:r)/4,y=o._G(Z,E,R,B,p,!0),y=o._G(Z,E+2,R,B,p,!0,y)}};
GC.hk.OvH=function(R,Z,B){var o=GC.hk,r="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.".split("-"),Y=2*Math.floor(o.$Q(R)*r.length/2),E=Z[2]-Z[0],p=Z[3]-Z[1],z=0,Q=0;
R.hF=(R.ZA+E)*.5*(.04+o.$Q(R)*.05);R.hF=Math.min(R.hF,p*.4,E*.12);R.hF=Math.round(R.hF);var y=Math.min(R.hF*r[Y].length*(.35+.3*o.$Q(R)),E*.9),u=(Z[1]+Z[3])/2,H=O.jJ(R.hv)<.85?{F:1,S:1,X:1}:{F:.1,S:.1,X:.1};
if(o.$Q(R)<.25&&R.dV[0]){Q=0;z=Z[0]+R.WZ}else if(o.$Q(R)<.33&&R.dV[2]){Q=2;z=Z[2]-R.WZ}else{Q=1;z=(Z[0]+Z[2])/2}var T=H.F==1?"0,0,0":"255,255,255",C=R.h_&&o.$Q(R)<1;
if(C){var e=Z[0],$=E,x=u-R.hF*1.1,M=R.hF*2.2,m=.7;if(Q==1&&o.$Q(R)<.5){e=x=.2*Math.min(E,p);$=E-2*x;
M=p-x-x}else if(o.$Q(R)<.7){e=x=0;$=E;M=p;m=.25}B.push("<path id=\"Strip\" style=\"fill: rgb("+T+"); opacity: "+m+"\" d=\""+o.Rect(e,x,$,M)+"\" />")}if(o.$Q(R)<.4){var G=R.hF*.07;
G*=1.5+o.$Q(R)*1;if(Q==-1&&E/p<3&&!C){B.push("<path id=\"Bar-bottom\" style=\"fill: "+o.QK(H)+"\" d=\""+o.Rect(z-y/2,u+R.hF*1.1-G/2,y,G)+"\" />");
B.push("<path id=\"Bar-top\"    style=\"fill: "+o.QK(H)+"\" d=\""+o.Rect(z-y/2,u-R.hF*1.1-G/2,y,G)+"\" />")}if(Q!=1){B.push("<path id=\"Bar\" style=\"fill: "+o.QK(H)+"\" d=\""+o.Rect(z-G/2,u-R.hF*.8,G,R.hF*.8*2)+"\" />");
z+=(Q==0?1:-1)*R.hF/3}}var K=R.hF*.4;B.push(o.xD(r[Y+1],z,u+K*1.6,K,H,Q,R.Mu));B.push(o.xD(r[Y],z,u+R.hF*.04,R.hF,H,Q,R.MF))};
GC.hk.Ovu=function(R,Z,B,o){var r=Z[2]-Z[0],Y=Z[3]-Z[1],E=Math.max(r,Y),p=Math.min(r,Y),y=GC.hk;if(E/p<5&&!R.h_&&!1){y.xJ(R,Z,B,o)}else if(y.$Q(R)<0)B.push("<path style=\"fill: "+y.QK(R.Kn)+"\" d=\""+y.Rect(Z[0],Z[1],r,Y)+"\" />");
else{var z=0;if(Z[3]!=R.N$)z=0;if(Z[2]!=R.ZA)z=3;if(Z[0]!=0)z=1;if(Z[1]!=0)z=2;var u=z+2&3;if(E/p<3){var Q=y.OzY(u),H=Q[Math.round(y.$Q(R)*(Q.length-1))],T=H.KM.slice(0,4),C=T.indexOf(1);
H=JSON.parse(JSON.stringify(H));var e=-1;if(T!="0000"){var $=new GN;if(H.KM[5]=="0"){if(C==3&&z==1){e=1;
$.scale(-1,1)}else e=C}else{var x=u;while(x==u)x=Math.floor(y.$Q(R)*4)&3;$.rotate((-C+x)*Math.PI/2)}y.P(H,$)}var M=y.Rn(H),m=r-2*R.WZ,G=Y-2*R.WZ;
if(e!=-1){if((e&1)==0)G-=R.WZ;else m-=R.WZ}var K=Math.min(m/M.Y,G/M.Z),s=new GN;s.translate(-M.x,-M.y);
s.scale(K,K);var L=(r-M.Y*K)/2,_=(Y-M.Z*K)/2;if(e!=-1){if(e==3)L=0;if(e==0)_=0;if(e==1)L=r-M.Y*K;if(e==2)_=Y-M.Z*K}s.translate(Z[0]+L,Z[1]+_);
y.zi(R,H,s,R.Kn,B)}else{y._G(R,z,Z,B,1e9)}}};GC.hk.xJ=function(R,Z,B,o){var r=Z[2]-Z[0],Y=Z[3]-Z[1],E=Math.max(r,Y),p=Math.min(r,Y),y=GC.hk,z=y._a(R),u,Q,H,T=o[0]instanceof ArrayBuffer;
if(T){u="data:image/jpg;base64,"+Ya.xH(o[0]);Q=o[1];H=o[2]}else{var C=Math.floor(z*o.length),e=o[C];
R.Ti=e;u=e.webformatURL;Q=e.webformatWidth;H=e.webformatHeight}var $=Z[0],x=Z[1],M=r,m=Y;if(r/Y>Q/H){m=M*H/Q;
x=x-(m-Y)/2}else{M=m*Q/H;$=$-(M-r)/2}if(T){B.push("<defs>");B.push("<image width=\""+Q+"\" height=\""+H+"\" id=\"Background\" href=\""+u+"\" />");
B.push("</defs>");var G=M/Q;B.push("<use href=\"#Background\" transform=\""+GC.NE(new GN(G,0,0,G,$,x))+"\" />")}else{var K="cp"+Math.random();
B.push("<clipPath id=\""+K+"\">");B.push("<path style=\"fill: "+y.QK(R.Kn)+"\" d=\""+y.Rect(Z[0],Z[1],r,Y)+"\" />");
B.push("</clipPath>");B.push("<image  clip-path=\"url(#"+K+")\" xlink:href=\""+u+"\" x=\""+$+"\" y=\""+x+"\" width=\""+M+"\" height=\""+m+"\" />")}};
GC.hk.xD=function(R,Z,B,o,r,Y,E){var p=GC.hk;return"<text x=\""+Z+"\" y=\""+B+"\" style=\"fill:"+p.QK(r)+"; font-size:"+o+"px; text-anchor:"+["start","middle","end"][Y]+"; font-family:"+E[2]+";\"><tspan>"+R+"</tspan></text>"};
GC.hk.zi=function(R,Z,B,o,r){var Y=GC.hk,E=[];for(var p=0;p<Z.BD.length;p++){E.push(o);if(R.Ozr){o=(p&1)==R.OiE?{F:1,S:1,X:1}:E[0]}}r.push("<g id=\""+Z.KM.split("-")[2]+":::\" style=\"transform: "+GC.NE(B)+";\" >");
for(var p=0;p<Z.BD.length;p++){var y=Z.BD[p];o=E.pop();r.push("<path style=\"fill: "+(o?Y.QK(o):"#"+y[0])+"\" d=\""+Typr.U.pathToSVG({crds:y[1].I,cmds:y[1].J})+"\" />")}r.push("</g>")};
GC.hk.Ozk=function(R,Z,B){var o=GC.hk,r=GC.hk.Qd,Y=[];for(var E=0;E<r.length;E++){var p=r[E],y=p.KM.slice(0,4);
if(y!="1001")continue;Y.push(p)}var p=Y[Math.floor(o.$Q(R)*Y.length)];if(o.$Q(R)<.5)o.P(p,new GN(0,1,1,0,0,0));
var z=Z[3]-Z[1],u=Z[2]-Z[0],Q=o.Rn(p),H=.7*Math.min(u,z,.5*Math.max(u,z))/Math.max(Q.Y,Q.Z),T=new GN;
T.scale(H,H);if(o.$Q(R)<.5){T.scale(1,-1);T.translate(0,z)}o.zi(R,p,T,R.Kn,B);T.rotate(Math.PI);T.translate(u,z);
o.zi(R,p,T,R.Kn,B)};GC.hk.OzY=function(R){var Z=GC.hk.Qd,B=[];for(var o=0;o<Z.length;o++){var r=Z[o],Y=r.KM.slice(0,4);
if(Y=="0000"){B.push(r);continue}if(["1000","0100","0010","0001"].indexOf(Y)==-1)continue;var E=Y.indexOf("1");
if(r.KM[5]=="0"&&R==E&&E!=3)continue;B.push(r)}return B};GC.hk._G=function(R,Z,B,o,r,Y,E){var p=GC.hk.Qd,y=GC.hk,z=[],m,G;
for(var u=0;u<p.length;u++){var Q=p[u],H=Q.KM.slice(0,4);if(["1110","1101","1011","0111"].indexOf(H)==-1)continue;
var T=H.indexOf("0")+2&3;if(Q.KM[5]=="0")if(Y==!0||Z!=T&&!(Z==1&&T==3))continue;z.push(Q)}var C=E!=null?E:Math.floor(y.$Q(R)*z.length),Q=z[C],Q=JSON.parse(JSON.stringify(Q)),H=Q.KM.slice(0,4),T=H.indexOf("0")+2&3;
if(T==3&&Z==1)O.P(Q,new GN(1,0,0,-1,0,1e3));var e=new GN;e.translate(-500,-500);e.rotate(-T*Math.PI/2);
e.translate(500,500);y.P(Q,e);var $=B[3]-B[1],x=B[2]-B[0],M=y.Rn(Q);if(M.y<0){M.Z+=M.y;M.y=0}if(M.y>0){M.Z+=M.y;
M.y=0}if((Z&1)==0){G=$;m=x}else{m=$;G=x}var K=Math.min(Math.min(.5+.5*y.$Q(R))*Math.min(x,$),r)/M.Z,s=Math.ceil(m/(1e3*K)),L=new GN,_=new GN;
_.scale(K,K);if(Z==0||Z==2){_.translate(-(x/2),-($/2));_.rotate(-Z*Math.PI/2);_.translate(x/2+B[0],$/2+B[1])}else{_.rotate(Math.PI/2);
_.scale(1,-1);_.translate(B[0],B[1]);if(Z==1){_.scale(-1,1);_.translate(x,0)}}o.push("<g id=\"Border-"+["top","right","bottom","left"][Z]+":::\">");
for(var u=0;u<s;u++){var P=L.clone();P.concat(_);y.zi(R,Q,P,R.Kn,o);L.translate(1e3-2,0)}o.push("</g>");
return C};GC.hk.Rect=function(R,Z,B,o){return Typr.U.pathToSVG({crds:[R,Z,R+B,Z,R+B,Z+o,R,Z+o],cmds:["M","L","L","L","Z"]})};
GC.hk.Ozz=function(R,Z,B,o,r){var Y=[R,Z,R+B,Z,R+B,Z+o,R,Z+o];R+=r;Z+=r;B-=2*r;o-=2*r;Y.push(R,Z,R,Z+o,R+B,Z+o,R+B,Z);
return Typr.U.pathToSVG({crds:Y,cmds:"M L L L Z M L L L Z".split(" ")})};GC.hk.OzF=function(R,Z){var B=O.Gd(R.F,R.S,R.X);
B.Aj=Math.max(.1,Math.min(.9,B.Aj+Z));return O.ZU(B.N$,B.tH,B.Aj)};GC.hk.Oir=function(R,Z){var B=O.Gd(R.F,R.S,R.X);
B.N$+=Z;return O.ZU(B.N$,B.tH,B.Aj)};GC.hk.OiZ=function(R){var Z=O.Gd(R.F,R.S,R.X);Z.Aj=1-Z.Aj;return O.ZU(Z.N$,Z.tH,Z.Aj)};
GC.hk.Ozu=function(R,Z){var B=R.F-Z.F,o=R.S-Z.S,r=R.X-Z.X;return Math.sqrt(B*B+o*o+r*r)};GC.hk.Ozm=function(R){var Z=GC.hk;
return{F:Z.$Q(R),S:Z.$Q(R),X:Z.$Q(R)}};GC.hk.QK=function(R){return CSS.ys({F:R.F*255,S:R.S*255,X:R.X*255})};
GC.hk.Rn=function(R){var Z=R.BD,B=new N;for(var o=0;o<Z.length;o++)B=B.fj(O.W.Rn(Z[o][1].I));return B};
GC.hk.P=function(R,Z){var B=R.BD;for(var o=0;o<B.length;o++)O.W.P(B[o][1].I,Z,B[o][1].I)};GC.hk.$Q=function(R){R.OIi++;
var Z=R.OIi&3;if(Z==0)R.yo=GC.hk._V(R.yo);var B=R.yo>>>8*Z&255;return B*(.99999999/255)};GC.hk._a=function(R){var Z=GC.hk._V(R.yo);
R.yo=GC.hk._V(Z);return Z*(1/4294967295)};GC.hk._V=function(R){R=(R^61^R>>>16)>>>0;R=R+(R<<3)>>>0;R=(R^R>>>4)>>>0;
R=R*668265261>>>0;R=(R^R>>>15)>>>0;return R};GC.hk.Qd=[{KM:"0001-0-bird",BD:[["4b3c34",{J:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),I:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{J:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),I:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{J:"M C C C C C C C C C C C C L Z".split(" "),I:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{KM:"0001-0-bird2",BD:[["ff7f2a",{J:"M L L L Z M L L L Z".split(" "),I:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{J:"M C C C C C C C C C C C L Z".split(" "),I:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{J:"M C C C C C C L Z M C C Z".split(" "),I:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{J:"M L L L Z M L L L Z".split(" "),I:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{J:"M L C C C C C C C C L Z".split(" "),I:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{J:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),I:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{KM:"0000-1-flower",BD:[["7a59a2",{J:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),I:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{KM:"0000-1-flower",BD:[["d13777",{J:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),I:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{KM:"0000-1-flower",BD:[["ffac42",{J:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),I:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{KM:"0000-1-flower",BD:[["d04040",{J:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),I:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{KM:"0000-1-flower",BD:[["ec7272",{J:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),I:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{J:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),I:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{KM:"0000-0-hearts",BD:[["d17070",{J:"M C C C C C C C C C L Z".split(" "),I:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{J:"M C C C C C C C C C L Z".split(" "),I:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{J:"M C C C C C C C C C L Z".split(" "),I:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{KM:"0000-0-anchor",BD:[["2a3b66",{J:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),I:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{KM:"0000-1-leaf",BD:[["fbb600",{J:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),I:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{KM:"0000-1-acorn",BD:[["a05a2c",{J:"M C C C C C C C L Z".split(" "),I:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{J:"M C C C C C C C C C C C Z".split(" "),I:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{KM:"0000-0-skull",BD:[["808080",{J:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),I:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{KM:"0000-0-ghost",BD:[["e6e6e6",{J:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),I:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{J:"M C C C C Z M C C C C Z".split(" "),I:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{KM:"1001-1-rose",BD:[["9e1460",{J:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),I:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{J:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),I:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{KM:"1001-1-curls",BD:[["53a7ab",{J:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),I:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{J:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),I:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{KM:"0111-0-pines",BD:[["e9e9e9",{J:"M C C C C C C C C L L L Z".split(" "),I:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{J:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),I:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{KM:"0111-0-flowers",BD:[["8cae40",{J:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),I:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{J:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),I:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{KM:"1101-1-confetti",BD:[["e789ff",{J:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),I:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{J:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),I:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{KM:"1101-1-branch",BD:[["7f500b",{J:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),I:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{J:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),I:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{KM:"1101-1-sticks",BD:[["ec7272",{J:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),I:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{J:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),I:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{KM:"1101-1-dots",BD:[["ec7272",{J:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),I:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{J:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),I:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{J:["M","C","C","Z"],I:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{KM:"1101-1-strips",BD:[["ffc88c",{J:"M L L L L Z M L L L L Z M L L L L Z".split(" "),I:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{J:"M L L L L Z M L L L L Z M L L L L Z".split(" "),I:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{J:["M","C","C","Z"],I:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{KM:"1101-1-circs",BD:[["ec7272",{J:"M C C C C Z M C C C C Z".split(" "),I:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{J:"M C C C C Z M C C C C Z".split(" "),I:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{J:["M","C","C","Z"],I:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{KM:"1101-1-squares",BD:[["014ea7",{J:"M L L L L Z M L L L L Z".split(" "),I:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{J:"M L L L L Z M L L L L Z".split(" "),I:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{J:["M","C","C","Z"],I:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{KM:"1101-0-christmas",BD:[["014ea7",{J:"M C C C C Z M C C C C Z M L L L L Z".split(" "),I:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{J:"M C C C C Z M C C C C Z M L L L L Z".split(" "),I:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var Yb={};Yb.parse=function(R){var Z=new Uint8Array(R),B=null;if(Z[0]==80&&Z[1]==75){var o=Date.now(),r=UZIP.parse(Z.buffer),B=r["document.json"];
B=JSON.parse(U.qe(B,0,B.length));Yb._j(B,r)}else{var Y=Oh.parse(R);B=Yb.xW(Y[2][0][1])}return B};Yb._j=function(R,Z){var B=typeof R;
if(B=="string"||B=="number"||B=="boolean")return R;if(R instanceof Array){for(var o=0;o<R.length;o++)R[o]=Yb._j(R[o],Z);
return R}var r=R._class;if(r==null)return R;if(r=="MSJSONFileReference"){var Y=R._ref;if(!1){}else if(Z[Y+".json"]!=null){var E=Z[Y+".json"],p=E.length;
for(var o=0;o<p;o++)if(E[o]==11||E[o]==3)E[o]=32;var y=U.qe(E,0,p);R=JSON.parse(y)}else if(Z[Y+".png"]!=null)return{key:Y.split("/").pop(),bdata:Z[Y+".png"]};
else if(Z[Y+".jpg"]!=null)return{key:Y.split("/").pop(),bdata:Z[Y+".jpg"]};else if(Z[Y+".pdf"]!=null)return{key:Y.split("/").pop(),bdata:Z[Y+".pdf"]};
else if(Z[Y]!=null)return{key:Y.split("/").pop(),bdata:Z[Y]};else{console.log(R,Z);return}}else if(r=="MSAttributedString"){var y=atob(R.archivedAttributedString._archive),z=y.length-1,u=new Uint8Array(z);
for(var o=0;o<z;o++)u[o]=y.charCodeAt(o);R.archivedAttributedString=Yb.xW(u)}for(var Q in R)R[Q]=Yb._j(R[Q],Z);
return R};Yb.xq=function(R,Z,B,o){if(R instanceof Uint8Array)return null;if(o.indexOf(R)!=-1)return null;
o.push(R);if(R==Z)return B;for(var r in R){B.push(r);var Y=Yb.xq(R[r],Z,B,o);if(Y){console.log(R,Y);
throw"e"}B.pop()}};Yb.xW=function(R){var Z=Rs.parse(R,0),B=Z.$objects,o=new Uint8Array(B.length),r=Yb.qd(B,o,Z.$top.root);
for(var Y=0;Y<B.length;Y++)if(o[Y]==0&&Y!=0){console.log(Y,B[Y]);Yb.xq(r,Y,[],[])}for(var Y=0;Y<B.length;
Y++){var E=B[Y];if(E._class&&(E._class=="bitmap"||E._class=="fill"&&E.fillType==4&&(E.image||E.imageSHA))){var p=E.image,y=E.imageSHA,z=null,u=null;
if(p=="$null")p=null;if(y=="$null")y=null;if(p&&p.data){u=p.sha1["NS.bytes"];u=btoa(U.XG(u,0,u.length));
z=p.data instanceof Uint8Array?p.data:p.data["NS.bytes"]}else if(p==null&&y==null){var Q=GI.PNG.qj([[O.a(4).buffer]],1,1);
z=new Uint8Array(Q)}else{var H=(r.assets?r.assets.imageCollection:r.images).images;if(y)u=y instanceof Uint8Array?y:y["NS.bytes"];
else u=p.sha1["NS.bytes"];u=btoa(U.XG(u,0,u.length));var z=H[u].data;if(z["NS.bytes"])z=z["NS.bytes"]}z=new Uint8Array(z.buffer.slice(z.byteOffset,z.byteOffset+z.length));
delete E.imageSHA;E.image={key:u,bdata:z}}}return r};Yb.Ozb=function(R){return R.slice(0,11)=="MSImmutable"?"MS"+R.slice(11):R};
Yb.qd=function(R,Z,B){var o=R[B];if(Z[B]==1){return o}Z[B]=1;if(typeof o=="string")return o;if(typeof o=="number")return o;
if(typeof o=="boolean")return o;if(o instanceof Array)return o;if(o instanceof Uint8Array){return o}if(R[o.$class]==null){if(o.$class==null&&o["NS.data"]!=null)return o;
console.log(B,o);throw"e"}var r=R[o.$class],Y=Yb.Ozb(r.$classname);Z[o.$class]=1;o.$class=Y;if(Yb.xz[Y]){delete o.$class;
o._class=Yb.xz[Y]}var E=Yb.qd;if(Y=="NSMutableArray"||Y=="NSArray"){var p=[];if(o["NS.objects"]!=null)for(var y=0;
y<o["NS.objects"].length;y++)p.push(E(R,Z,o["NS.objects"][y]));else for(var y=0;o["NS.object."+y]!=null;
y++)p.push(E(R,Z,o["NS.object."+y]));R[B]=p;return p}if(Y=="NSDictionary"||Y=="NSMutableDictionary"){var z={$class:Y};
if(o["NS.keys"]!=null)for(var y=0;y<o["NS.keys"].length;y++){var u=E(R,Z,o["NS.keys"][y]);if(u instanceof Uint8Array)u=btoa(Yb.NN.XG(u,0,u.length));
else if(typeof u!="string"&&typeof u!="number")u=btoa(Yb.NN.XG(u["NS.bytes"],0,u["NS.bytes"].length));
z[u]=E(R,Z,o["NS.objects"][y])}else for(var y=0;o["NS.key."+y]!=null;y++){var u=E(R,Z,o["NS.key."+y]);
if(u instanceof Uint8Array)u=btoa(Yb.NN.XG(u,0,u.length));else if(typeof u!="string"&&typeof u!="number")u=btoa(Yb.NN.XG(u["NS.bytes"],0,u["NS.bytes"].length));
z[u]=E(R,Z,o["NS.object."+y])}for(var Q in o)delete o[Q];for(var Q in z)o[Q]=z[Q];return o}if(Y=="NSURL")return{$class:Y,base:E(R,Z,o["NS.base"]),relative:E(R,Z,o["NS.relative"])};
if(Yb.OzT.indexOf(Y)!=-1){R[B]=E(R,Z,o.array_do);return R[B]}if(o.do_objectID!=null)o.do_objectID=E(R,Z,o.do_objectID);
if(Yb.OzC.indexOf(Y)!=-1)return o;var H=Yb.Ozc[Y];if(H==null){console.log(R,o);throw"unknown class "+Y}for(var y=0;
y<H.length;y++)if(o[H[y]]!=null)o[H[y]]=E(R,Z,o[H[y]]);if(Y=="MSTextLayer"){var T=o,C,e,$,x;if(T.attributedString)C=T.attributedString.archivedAttributedString;
else C=T.storage;x=C.NSString;if(typeof x!="string")x=U.qe(x["NS.bytes"],0,x["NS.bytes"].length);if(C.NSAttributeInfo)e=C.NSAttributeInfo["NS.bytes"];
else{var M=x.length,m=[];while(M>0){var G=Math.min(100,M);m.push(G,0);M-=G}e=new Uint8Array(m)}$=C.NSAttributes instanceof Array?C.NSAttributes:[C.NSAttributes];
var K={$class:"NSAttributedString",NSString:x,NSAttributes:$};T.attributedString={_class:"MSAttributedString",archivedAttributedString:K};
K.NSAttributeInfo={$class:"NSMutableData","NS.data":e};delete T.storage}return o};Yb.NN={at:function(R,Z){return R[Z+1]<<8|R[Z]},n:function(R,Z){return R[Z+3]<<24|R[Z+2]<<16|R[Z+1]<<8|R[Z]},XG:function(R,Z,B){var o="";
for(var r=0;r<B;r++)o+=String.fromCharCode(R[Z+r]);return o}};Yb.xz={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
Yb.OzT=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
Yb.OzC="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
Yb.Ozc={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var Rs={};Rs.parse=function(R,Z){var B=U.XG(R,Z,8);Z+=8;var o=Rs.parse.Ozd(R,R.length-31),r=[];if(o.Mv==1){var Z=R.length-31-o.Mv*o.MH;
for(var Y=0;Y<o.MH;Y++)r.push(R[Z+Y])}else if(o.Mv==2){var Z=R.length-31-o.Mv*o.MH;for(var Y=0;Y<o.MH;
Y++)r.push(U.at(R,Z+Y*2))}else if(o.Mv==4){var Z=R.length-31-o.Mv*o.MH;for(var Y=0;Y<o.MH;Y++)r.push(U.n(R,Z+Y*4))}else{throw"e"}var E=Rs.parse.qd(R,r,o.root,o);
return E};Rs.parse.qd=function(R,Z,B,o){var r=Rs.NN,Y=o.OiR,E=Y==4?r.n:Y==2?r.at:r.Ozn,p=Rs.parse,y=Z[B],z=R[y],u=z>>4,Q=z&15,T=null;
y+=1;if([4,5,6,10,12,13].indexOf(u)!=-1&&Q==15){var H=p.FV(R,y);y+=H.Ah;Q=H.k}if(!1){}else if(u==0)T=Q==8?!1:Q==9?!0:null;
else if(u==1)T=p.FV(R,y-1).k;else if(u==2)T=1<<Q==4?U.cn(R,y):U.AG(R,y);else if(u==3)T=U.AG(R,y);else if(u==4)T=new Uint8Array(R.buffer,y,Q);
else if(u==5)T=U.XG(R,y,Q);else if(u==6)T=U.we(R,y,Q);else if(u==8){T=0;for(var C=0;C<Q+1;C++)T=T<<8|R[y+C]}else if(u==10){T=[];
for(var C=0;C<Q;C++)T.push(p.qd(R,Z,E(R,y+Y*C),o))}else if(u==12){T=[];for(var C=0;C<Q;C++)T.push(p.qd(R,Z,E(R,y+Y*C),o))}else if(u==13){T={};
for(var C=0;C<Q;C++){var e=p.qd(R,Z,E(R,y+Y*C),o),$=p.qd(R,Z,E(R,y+Y*(Q+C)),o);T[e]=$}}else throw"unknown mask "+u;
return T};Rs.parse.FV=function(R,Z){var B=1<<(R[Z]&15),o=0;for(var r=0;r<B;r++)o=o<<8|R[Z+1+r];return{k:o,Ah:B+1}};
Rs.parse.Ozd=function(R,Z){var B={};Z+=6;B.Mv=R[Z];Z++;B.OiR=R[Z];Z++;Z+=4;B.MH=U.n(R,Z);Z+=4;Z+=4;B.root=U.n(R,Z);
Z+=4;Z+=4;B.ORC=U.n(R,Z);Z+=4;return B};Rs.NN={Ozn:function(R,Z){return R[Z]},at:function(R,Z){return R[Z]<<8|R[Z+1]},n:function(R,Z){return R[Z]<<24|R[Z+1]<<16|R[Z+2]<<8|R[Z+3]},XG:function(R,Z,B){var o="";
for(var r=0;r<B;r++)o+=String.fromCharCode(R[Z+r]);return o}};var Oh={parse:function(R){var Z=new Uint8Array(R),B=Oh.wv(Z),o=[],r=new Uint8Array(Z.length),Y=[];
o.push(Y);Oh._I(Z,B,1,r,Y);for(var E=0;E<Y.length;E++){var p=[];o.push(p);Oh._I(Z,B,Y[E][3],r,p);Y[E][3]=E+1}return o},_I:function(R,Z,B,o,r){B--;
var Y=B*Z.Rc+(B==0?100:0),E=R[Y],p=Oh.at(R,Y+1);if(p!=0)throw"free block in a page";var y=Oh.at(R,Y+3),z=Oh.at(R,Y+5);
if(z==0)z=65536;var u=R[Y+7],Q=Oh.at(R,Y+8);if(E==2||E==5)Y+=4;else Q=0;for(var H=0;H<y;H++){var T=B*Z.Rc+Oh.at(R,Y+8+2*H),C=-1,e=0,$=0,x=0;
if(E==2||E==5){C=Oh.n(R,T);T+=4}if(E==2||E==10||E==13){e=Oh.rZ(R,T);T+=e.Ah}if(E==5||E==13){$=Oh.rZ(R,T);
T+=$.Ah}if(E==5){Oh._I(R,Z,C,o,r);continue}var M=Z.Rc-(B==0?100:0),m=e.ct,G=E==13?M-35:Math.floor((M-12)*64/255)-23,K=Math.floor((M-12)*32/255)-23,s=K+(m-K)%(M-4);
if(m<=G){Oh.VG(R,T,o,0,m)}else{var L=s<=G?s:K,_=0;Oh.VG(R,T,o,0,L);_+=L;x=Oh.n(R,T+L);while(x!=0){var P=(x-1)*Z.Rc;
x=Oh.n(R,P);var i=Math.min(Z.Rc-4,m-_);Oh.VG(R,P+4,o,_,i);_+=i}}r.push(Oh.OzQ(o,m))}},OzQ:function(R,Z){var B=0,o=Oh.rZ(R,B);
B+=o.Ah;var r=[],Y=[];while(B<o.ct){var E=Oh.rZ(R,B);B+=E.Ah;r.push(E.ct)}if(B!=o.ct)throw"e";for(var p=0;
p<r.length;p++){var E=r[p];if(!1){}else if(E==0)Y.push(null);else if(E==1){Y.push(Oh.OiC(R,B));B+=1}else if(E==2){Y.push(Oh.mj(R,B));
B+=2}else if(E==3){Y.push(Oh.OiV(R,B));B+=3}else if(E==4){Y.push(Oh.FV(R,B));B+=4}else if(E==7){Y.push(Oh.Oic(R,B));
B+=16}else if(E==8)Y.push(0);else if(E==9)Y.push(1);else if(E>=12&&(E&1)==0){var y=E-13>>1,z=new Uint8Array(y);
Oh.VG(R,B,z,0,y);Y.push(z);B+=y}else if(E>=13&&(E&1)==1){var y=E-12>>1;Y.push(Oh.qe(R,B,y));B+=y}else throw"unknonw type "+E}return Y},wv:function(R){if(!(R[18]==1&&R[19]==1&&R[20]==0&&R[21]==64&&R[22]==32&&R[23]==32))throw"unexpected SQL3 header";
var Z={Mm:Oh.XG(R,0,15),Rc:Oh.at(R,16),ORn:Oh.n(R,24),size:Oh.n(R,28),ORQ:Oh.n(R,32),ORg:Oh.n(R,36),ORP:Oh.n(R,40),OXk:Oh.n(R,44),OXO:Oh.n(R,48),OXy:Oh.n(R,52),OIM:Oh.n(R,56),OXV:Oh.n(R,60),OXG:Oh.n(R,64)!=0,OXY:Oh.n(R,68),OXR:Oh.n(R,92),OXX:Oh.n(R,96)};
if(Z.Rc==1)Z.Rc=65536;if(Z.OIM!=1)throw"unsupported text encoding "+Z.OIM;return Z},Ozg:function(R,Z){return R[Z]<<16|R[Z+1]<<8|R[Z+2]},OiV:function(R,Z){var B=Oh.Ozg(R,Z),o=B&8388608;
return o?-(16777215-B+1):B},OiC:function(R,Z){Oh.Wf[0]=R[Z];return Oh.OUO[0]},FV:function(R,Z){var B=Oh.Wf;
for(var o=0;o<4;o++)B[o]=R[Z+3-o];return Oh.OUJ[0]},mj:function(R,Z){var B=Oh.Wf;B[0]=R[Z+1];B[1]=R[Z];
return Oh.OUw[0]},at:function(R,Z){return R[Z]<<8|R[Z+1]},n:function(R,Z){return R[Z]<<24|R[Z+1]<<16|R[Z+2]<<8|R[Z+3]},Oic:function(R,Z){var B=Oh.Wf;
for(var o=0;o<8;o++)B[o]=R[Z+7-o];return Oh.OUD[0]},rZ:function(R,Z){var B=Z,o=0;while(!0){var r=R[Z];
Z++;o=o*128+(r&127);if(r<128)break}return{ct:o,Ah:Z-B}},XG:function(R,Z,B){var o="";for(var r=0;r<B;
r++)o+=String.fromCharCode(R[Z+r]);return o},qe:function(R,Z,B){var o="";for(var r=0;r<B;r++)o+="%"+Oh.Oin(R[Z+r].toString(16));
return decodeURIComponent(o)},VG:function(R,Z,B,o,r){if(R[Z+r-1]==null||B[o+r-1]==null){console.log(Z,o,r);
throw"e"}for(var Y=0;Y<r;Y++)B[o+Y]=R[Z+Y]},Oin:function(R){return R.length<2?"0"+R:R}};Oh.Wf=new Uint8Array(8);
Oh.OUO=new Int8Array(Oh.Wf.buffer);Oh.OUw=new Int16Array(Oh.Wf.buffer);Oh.OUJ=new Int32Array(Oh.Wf.buffer);
Oh.OUD=new Float64Array(Oh.Wf.buffer);function Yj(R,Z,B){this.fB=R;this.Ug=Z;this.Oif=B;this.Xa=new VP(0,0);
this.$D=-1;this.$$=0;this.dG=0;this.hU=new N;this.hZ=[];this.Md=null;this.OIc=null;this.Mn=null;this.MC=null;
this.dA=null;this.OId=null}Yj.prototype.StartPage=function(R,Z,B,o){var r=this.Ug,Y=r.ho(),E=1;while((B-R)*(o-Z)*Y*Y/(E*E)>8e3*8e3)E++;
r.scale(1/E,1/E);this.OIc=[R,Z,B,o];var E=r.ho();R=Math.round(R*E);Z=Math.round(Z*E);B=Math.round(B*E);
o=Math.round(o*E);var p=this.fB,y=this.Mn;if(y==null){r.ec=-R}else{var z=y[2]-y[0]+30,u=Math.round(B-R)+30;
if(this.Xa.x+z+u>8192){r.ec=-R;this.Xa.x=0;this.Xa.y+=this.dG+120;this.dG=0}else{r.ec+=z;this.Xa.x+=z}}r.Cf=this.Xa.y+(this.Oif?o:-Z);
this.dG=Math.max(this.dG,Math.round(o-Z));this.Mn=[R,Z,B,o];p.q.push(p.ZP())};Yj.prototype.xi=function(){var R=this.fB,Z=R.q[R.q.length-1];
return Z};Yj.prototype.xU=function(){var R=JSON.parse(JSON.stringify(Gk.uI.default));R.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
R.strokeEnabled.v=!1;R.fillEnabled.v=!1;return R};Yj.prototype.x$=function(){var R=this.fB,Z=R.xE();
Z.AA("Path "+R.q.length);this.fB.q.push(Z);Z.Kw|=16;Z.add.SoCo={classID:"null",Clr:{t:"Objc",v:O.L.hN({F:0,S:0,X:0})}};
Z.add.vmsk=new S.lo;Z.add.vstk=this.xU();return Z};Yj.prototype._w=function(R){var Z={I:R.crds,J:R.cmds},B=O.W.un(Z,!1);
O.V.lC(B,this.Ug);return B};Yj.xx=function(R,Z){for(var B=0;B<R.length;B++)if(R[B].lz!=null)R[B].lz=Z};
Yj.OUv=function(R){return Math.sqrt(Math.abs(R[0]*R[3]-R[1]*R[2]))};Yj.Nr=function(R){return O.L.hN({F:R[0]*255,S:R[1]*255,X:R[2]*255})};
Yj.py=function(R){return new GN(R[0],R[1],R[2],R[3],R[4],R[5])};Yj.prototype.Stroke=function(R){if(this.$D!=-1&&this.$D!=this.$$)return;
if(R.pth.cmds.length<=1)return;var Z=this._w(R.pth);if(Z.length<=2)return;this.pE(R);Yj.xx(Z,-1);Z[2].lz=1;
var B=Yj.Nr(R.COLR),o=this.xi(),r=this.xU();r.strokeEnabled.v=!0;r.strokeStyleMiterLimit.v=R.mlimit;
r.strokeStyleLineDashSet.v=GS.uM(R.dash,1/R.lwidth);r.strokeStyleLineDashOffset.v.val=R.doff;r.strokeStyleLineJoinType.v.strokeStyleLineJoinType=Gk.uI.join[R.ljoin];
r.strokeStyleLineCapType.v.strokeStyleLineCapType=Gk.uI.vw[R.lcap];r.strokeStyleLineWidth.v.val=Math.max(.4,R.lwidth*Yj.OUv(R.ctm)*this.Ug.ho());
r.strokeStyleContent.v.Clr.v=B;var Y=o!=null&&o.add.vmsk!=null&&!o.av(),E=Y&&!o.add.vstk.strokeEnabled.v&&S.lo.OAj(o.add.vmsk.u,Z,!0),p=Y&&!o.add.vstk.fillEnabled.v&&JSON.stringify(r)==JSON.stringify(o.add.vstk);
if(p){Yj.xx(Z,-1);o.add.vmsk.u=o.add.vmsk.u.concat(Z.slice(2))}else if(E){o.add.vstk=r;r.fillEnabled.v=!0}else{o=this.x$();
o.add.vmsk.u=Z;o.add.vstk=r}};Yj.prototype.Fill=function(R,Z){if(this.$D!=-1&&this.$D!=this.$$)return;
if(R.ca==0)return;var B=R.pth.cmds;if(B.length==0)return;if(B.length==2&&JSON.stringify(B)=="[\"M\",\"L\"]")return;
var o=O.W.Rn(R.cpth.crds),r=O.W.Rn(R.pth.crds);if(r.Rg(o).Pa())return;var Y=R.pth;if(this.MC==null&&UDOC.G.isBox(Y,[r.x,r.y,r.x+r.Y,r.y+r.Z])&&r.Uv(o)){Y=R.cpth}else this.pE(R);
var E=this._w(Y),p=O.W.Bu(r);O.W.P(p.I,this.Ug,p.I);r=O.W.Rn(p.I);var y=Yj.rK(R.colr,this.Ug,r),z=this.xi(),u=z!=null&&z.add.vstk!=null&&!z.add.vstk.strokeEnabled.v&&z.add.SoCo&&y.type=="SoFi"&&JSON.stringify(z.add.SoCo.Clr.v)==JSON.stringify(y.k.v.Clr.v);
if(u){var Q=!1;for(var H=0;H<E.length;H++){if(E[H].lz==0||E[H].lz==2)Q=!0}if(Q){var T=O.W.Rn(O.V.Fa(z.add.vmsk.u)),C=O.W.Rn(O.V.Fa(E));
u=T.Rg(C).Pa()}}if(u){var e=z.add.vmsk.u;for(var H=2;H<E.length;H++)e.push(E[H])}else{z=this.x$();delete z.add.SoCo;
z.add.vmsk.u=S.lo.yN(E);Yj.VY(R.colr,z,this.Ug,r);Yj.oy(R,z)}};Yj.VY=function(R,Z,B,o){var r=Yj.rK(R,B,o),Y=null,E=null;
Z.add.vstk.fillEnabled.v=!0;if(r.type=="SoFi"){Y="SoCo";E=Gk.up}if(r.type=="GrFl"){Y="GdFl";E=Gk.rR}if(r.type=="patternFill"){Y="PtFl";
E=Gk.rB}if(Y!=null){Z.add[Y]={classID:"null"};for(var p=0;p<E.length;p++){var y=E[p];Z.add[Y][y]=r.k.v[y]}}};
Yj.prototype.pE=function(R){var Z=this.fB,B=R.cpth,o=B.cmds.join(""),r=B.crds,Y=o+" "+r.join(","),E=UDOC.G.isBox(B,this.OIc);
if(E&&this.MC==null)return;if(Y==this.MC)return;this.xe();if(!E){this.MC=Y;Z.q.push(Z.ZP());var p=Z.xE();
p.AA("Mask");p.add.lsct=YV.Zg;p.QV="pass";p.Kw=24;var y=p.add.vmsk=new S.lo;y.u=this._w(R.cpth);if(UDOC.G.isBox(B)){this.dA=O.V.pA(y.u);
this.dA.yj(3,3)}else this.dA=null;this.OId=p}};Yj.prototype.xe=function(){var R=this.fB;if(this.MC!=null){var Z=R.q.length-1,B=Z,o=!1;
while(B>=0&&R.q[B].add.lsct!=YV.Ng)B--;var r=this.dA;if(r){var Y=new N,E=Z;while(E>B){Y=R.q[E].NQ(this.fB,!1,!0);
E--}o=r.Uv(Y)}if(o){this.hZ.splice(B,1);R.q.splice(B,1)}else{R.q.push(this.OId)}this.MC=null}};Yj.rK=function(R,Z,B){var o,r;
if(R.length!=null){o="SoFi";var Y=JSON.parse(Gk.eF[Gk.order.indexOf("SoFi")]);r={t:"Objc",v:Y};r.v.Clr.v=Yj.Nr(R)}else{var E=Yj.OUH(R,Z,B);
o="GrFl";r={t:"Objc",v:E}}return{type:o,k:r}};Yj.OUH=function(R,Z,B){var o=JSON.parse(Gk.eF[Gk.order.indexOf("GrFl")]),r=o.Grad.v;
r.Intr.v=0;var Y=Yj.py(R.mat);Y.concat(Z);var E=new VP(0,0),p=new VP(B.Y,0),y=R.crds;if(R.typ=="rad"){o.Type.v.GrdT="Rdl";
var z=.7;E.x=(1-z)*y[0]+z*y[3];E.y=(1-z)*y[1]+z*y[4];p.x=E.x;p.y=E.y;p.x+=Math.max(y[2],y[5])}else{o.Type.v.GrdT="Lnr";
E.x=y[0];E.y=y[1];p.x=y[2];p.y=y[3];E.x=p.x+.5*(E.x-p.x);E.y=p.y+.5*(E.y-p.y)}E=Y.qS(E);p=Y.qS(p);O.L.$b(E,p,B,o);
var u=R.grad;O.L.PC(u,r);return o};Yj.prototype.PutText=function(R,Z,B){var o=Z.charCodeAt(0),Q=null;
if(this.$D!=-1&&this.$D!=this.$$)return;if(Z.length==0||Z.length==1&&(o==0||o==8203))return;this.pE(R);
var r=this.fB,Y=R.font,E=Yj.py(R.ctm);E.concat(this.Ug);var p=Yj.py(Y.Tm);p.concat(E);var y=A.HQ.ho(p),z=new GN(1/y,0,0,-1/y,0,0);
z.concat(p);var u=Y.Tfs*y;if(Y.Th!=100||Y.Trise!=0){console.log(Y)}var H=r.q.length-1;while(H>=0&&r.q[H].add.TySh==null)H--;
if(H>=0&&r.q[H].add.TySh){var T=r.q[H],C=this.hZ[H],e=T.add.TySh.P,$=(e.ec+C.hT-z.ec)/u,x=Math.abs($),M=Z.indexOf(" ")==-1,m=e.t==z.t&&e.X==z.X&&e.f_==z.f_&&e._l==z._l,G=m&&Math.abs(C.SO-z.Cf)<1e-5&&x<.6,K=z.Cf-C.SO;
if(G){Q=T;C.hT=z.ec-e.ec;if($>.2&&M&&[".",",","?",":","!"].indexOf(Z)==-1)Z=" "+Z}else if(m&&Math.abs(z.ec-e.ec)<1e-5&&0<K&&K<u*1.7&&C.OBX==u){Q=T;
this.rn(C);C.SO=z.Cf;Z="\n"+Z}}if(Q==null){H=r.q.length;this.hZ[H]={rO:[],hT:0,SO:z.Cf,MQ:"",OBX:u};
Q=r.xE();r.q.push(Q);Q.add.lnsr="rend";Q.add.TySh=GV.vr(0,0);Q.add.TySh.P=z}var C=this.hZ[H];C.hT+=B*u;
C.MQ+=Z;var s=Q.add.TySh.HC,L=GV.el(s),_=L.length-1,P=_+Z.length;GV.bt(s,_,Z);if(this.Md==null)this.Md=GV.QR(s,_,_);
var i=this.Md;i.Bt.FontSize=Math.round(u);i.Bt.Tracking=Math.round(Y.Tc*100);i.Bt.Underline=Y.Tun==1;
i.Bt.FillColor={Type:1,Values:[1,R.colr[0],R.colr[1],R.colr[2]]};if(Y.Tal!=0)i.LH.Justification=Y.Tal;
if(C.rO.length!=0){i.Bt.AutoLeading=!1;i.Bt.Leading=C.SO-C.rO[C.rO.length-1].y}var w=Y.Tf;w=w.replace(/#2B/g,"+");
w=w.replace(/#2C/g,"-");w=w.split("+").pop();var k={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(k[w])w=k[w];GV.rz(i,w);GV.Fz(s,_,P-1,i);Q.fE()};Yj.prototype.rn=function(R){R.rO.push({ZA:R.hT,RN:R.MQ.slice(R.rO.length==0?0:1)+"\n",y:R.SO,tH:R.OBX});
R.hT=0;R.MQ=""};Yj.prototype.PutImage=function(R,Z,B,o,r,Y,E){if(this.$D!=-1&&this.$D!=this.$$)return;
var p=this.fB,y=R.font.Tmode;if(y==7&&p.q[p.q.length-1].add.TySh){return}this.pE(R);var z=Yj.py(R.ctm);
z.concat(this.Ug);var u=new GN(1/B,0,0,-1/o,0,1);u.concat(z);z=u;Z=Yj.o_(Z,B,o);if(r)r=Yj.o_(r,B,o);
if(r==null){if(Z.length==B*o*4)Z=new Uint8Array(GI.PNG.qj([[Z.buffer,0]],B,o))}else{Z=this.oL(Z,B,o,Y,!1);
r=this.oL(r,B,o,E,!0);var Q=O.a(B*o);O.KT(r,Q,0);O.qH(Q,Z,3);Z=new Uint8Array(GI.PNG.qj([[Z.buffer,0]],B,o))}var H=p.VV(Z,"Bitmap",0,0),T=H.rect.clone();
T.x=T.y=0;var C=O.W.Bu(T).I;O.W.P(C,z,C);H.add.SoLd.Trnf=A.HQ.Kv(C);H.add.SoLd.nonAffineTransform=A.HQ.Kv(C);
H.AS(p,!1);Yj.oy(R,H);p.q.push(H)};Yj.oy=function(R,Z){Z.opacity=Math.round(255*R.ca);var B=Yj._z[R.bmode];
if(B==null)console.log("Unknown blend mode",B);else Z.QV=B};Yj._z={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
Yj.o_=function(R,Z,B){var o=GI.jL(R.buffer);if(o=="jpg"){try{R=new Uint8Array(GI.JPG.OEV(R.buffer))}catch(Yd){R=new Uint8Array(Z*B*4)}}if(o==null&&R.length!=Z*B*4){var r=new Uint8Array(Z*B*4),Y=new Uint8Array(Math.ceil(Z*B/8));
UTIF.decode._decodeG4(R,0,R.length,Y,0,Z,1);for(var E=0;E<Z*B;E++){var p=E*4,y=(Y[E>>3]>>7-(E&7)&1)*255;
r[p]=y;r[p+1]=y;r[p+2]=y;r[p+3]=255}R=r}return R};Yj.prototype.oL=function(R,Z,B,o,r){if(R.length!=Z*B*4){var Y=GI.jL(R.buffer),E=GI.WP(Y);
if(E==null||Y=="tga")E=GI.WP("jpg");R=new Uint8Array(E.Kf(R,o,r)[0].data)}return R};Yj.prototype.ShowPage=function(){var R=this.fB;
this.$$++;var Z=this.Mn;this.xe();var B=R.xE();R.q.push(B);var o=new N(Math.round(this.Xa.x),Math.round(this.Xa.y),Math.round(Z[2]-Z[0]),Math.round(Z[3]-Z[1]));
this.hU=this.hU.fj(o);B.yh(o);B.AA("Page "+this.$$);B.add.lsct=YV.Zg;B.QV="pass";B.Kw=24};Yj.prototype.Print=function(R){console.log("Print:",R)};
Yj.prototype.Done=function(){var R=this.fB;if(this.$$==1)R.q[R.q.length-1].add.lsct=YV.A_;R.jT(this.$$);
for(var Z=0;Z<R.q.length;Z++){var B=R.q[Z],o=B.add.vmsk,r=B.add.TySh,Y=this.hZ[Z];B.uN();B.Aq(R);if(r&&Y.rO.length!=0){this.rn(Y);
var E=r.HC,p=Y.rO.length,y=Y.rO[0],z=0,Q=0;for(var u=0;u<p;u++)z=Math.max(z,Y.rO[u].ZA);GV.zE(E,1);r.P.Cf-=y.tH*.7;
GV.lZ(E,[0,0,Math.ceil(z*1.1),Math.ceil(Y.rO[p-1].y-y.y+y.tH*2)])}if(r){var E=r.HC;GV.OfO(E);var H=GV.el(E).split("\n");
for(var u=0;u<H.length-1;u++){var T=H[u],C=0;for(var e=0;e<T.length;e++){var $=T.charCodeAt(e);if(1473<=$&&$<=1524)C++}if(C>T.length/2){H[u]=T.split("").reverse().join("");
var x=E.EngineDict.ParagraphRun.RunArray[u].ParagraphSheet.Properties;x._Direction=1;x.Justification=GV.Im(x)}}GV.Jq(E,H.join("\n"))}}R.Ru=!0;
R.Y=this.hU.Y;R.Z=this.hU.Z;R.buffer=O.a(this.hU.b()*4)};var Vb={};Vb.Px=function(R,Z,B,o){var r=!1,Y=[R.root],E=R.root.children;
if(R.add.artd){r=!0;for(var p=0;p<E.length;p++)if(E[p].r.add.artb==null)r=!1;if(r)Y=E}var y=new N(0,0,R.Y,R.Z),z=Z[0];
z=z.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();z=z.split(" ");var u=[];for(var p=0;
p<z.length;p++){var Q=z[p];if(Q=="-"){var H=u.pop(),T=parseInt(z[p+1]);while(H<T){u.push(H);H++}}else u.push(parseInt(Q))}z=u;
for(var p=0;p<z.length;p++)if(isNaN(z[p])||z[p]<1||z[p]>Y.length){z.splice(p,1);p--}var C=72/R.ag;for(var p=0;
p<Y.length;p++){if(z.length!=0&&z.indexOf(p+1)==-1)continue;var e=Y[p],$=r?e.r.NT():y,x=Math.round($.Y*C),M=Math.round($.Z*C);
B.StartPage(0,0,x,M);var m=UDOC.getState([[0,0,x,M]]),G=new GN;G.translate(-$.x,-$.y-$.Z);G.scale(C,-C);
if(Z[2]){var K=R.fw();if(!y.EW($)){K=O.a($.b()*4);O.GN(R.fw(),y,K,$)}if(Z[1]!=100){var s=GI.JPG.qj([[K.buffer]],$.Y,$.Z,[Z[1]]);
K=new Uint8Array(s)}var L=new GN;L.translate($.x,$.y);Vb.HU(m,B,K,$,L,G)}else Vb.HO(R,e,m,B,G,Z,o);B.ShowPage()}B.Done()};
Vb.DA=function(R){R=O.L.iz(R);return[R.F/255,R.S/255,R.X/255]};Vb.HO=function(R,Z,B,o,r,Y,E){var p=Z.r,y=p.add.lsct,z=p.add.lmfx,u=p.add.vmsk,Q=p.add.vstk,H=p.add.TySh;
if(!p.YT())return;var T=p.opacity/255,C=p.add.iOpa?p.add.iOpa/255:1;for(var e in Yj._z)if(Yj._z[e]==p.QV)B.bmode=e;
B.ca=B.CA=T*C;var $=z;if($)$=$.solidFillMulti.v[0];if($)$=$.v;if($&&!$.enab.v)$=null;if(p.av()){for(var x=0;
x<Z.children.length;x++)Vb.HO(R,Z.children[x],B,o,r,Y,E)}else if(u){var M=u.u,m=O.V.pA(M),G=O.W.mM(M),K=!1,s=!1,L=!1;
O.W.P(G.I,r,G.I);B.pth={cmds:G.J,crds:G.I};if(Q.fillEnabled.v){var _=GS.fp(z,p.add),P=_[0],i=_[1];if(P){B.colr=Vb.DA(P.Clr.v)}else if(i){var w=i,k=[],h,j=w.Type.v.GrdT=="Rdl"?"rad":"lin",I=O.L.jF(w,m),V=r.qS(I[0]),F=r.qS(I[1]);
if(j=="rad")h=[V.x,V.y,0,V.x,V.y,VP.HP(V,F)];else{V.wh(F.x+(V.x-F.x)*2,F.y+(V.y-F.y)*2);h=[V.x,V.y,F.x,F.y]}var q=w.Grad.v.Clrs.v;
for(var x=0;x<q.length;x++){var t=q[x].v;k.push([t.Lctn.v/4096,Vb.DA(t.Clr.v)])}B.colr={typ:j,mat:[1,0,0,1,0,0],grad:k,crds:h}}K=!0}var c=GS.fM(z);
if(!Q.strokeEnabled.v&&c)Q=c;if(Q.strokeEnabled.v){var f=Q.strokeStyleContent.v,W=Q.strokeStyleLineDashSet.v,l=Gk.uI.vl.indexOf(Q.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(f.Clr==null)return;var g=O.L.iz(f.Clr.v);B.COLR=[g.F/255,g.S/255,g.X/255];B.lwidth=Q.strokeStyleLineWidth.v.val*(l==2?2:1)*r.ho();
B.mlimit=Q.strokeStyleMiterLimit.v;B.doff=Q.strokeStyleLineDashOffset.v.val;B.ljoin=Gk.uI.join.indexOf(Q.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
B.lcap=Gk.uI.vw.indexOf(Q.strokeStyleLineCapType.v.strokeStyleLineCapType);B.dash=[];for(var x=0;x<W.length;
x++)B.dash.push(W[x].v.val*B.lwidth);if(B.dash.length==1&&B.dash[0]==0)B.dash=[];s=!0;if(l==2)L=!0}if(K&&!L)o.Fill(B);
if(s)o.Stroke(B);if(K&&L)o.Fill(B)}else if(H&&Y[4]){var v=H.HC,Vg=new YI(v,E),G=YK.me(Vg,H),GE=O.W.Io(G);
for(var g in GE){var Gy=parseInt(g.slice(1),16);B.colr=$?Vb.DA($.Clr.v):[(Gy>>>16&255)/255,(Gy>>>8&255)/255,(Gy&255)/255];
var GY=GE[g];O.W.P(GY.I,r,GY.I);GY=O.W.OJf(GY);B.pth={cmds:GY.J,crds:GY.I};o.Fill(B)}}else if(H&&Y[3]==!1){var v=H.HC,Ga=H.P.clone(),GO=new GN(1,0,0,-1,0,0);
GO.concat(Ga);GO.concat(r);var J=GV.el(v),Vg=new YI(v,E);for(var x=0;x<Vg.LH.length;x++){var D=Vg.LH[x];
if(D.iI.length==1&&D.iI[0].Mg)continue;for(var GB=0;GB<D.W_.length;GB++){var Gj=D.W_[GB],GX=D.eh.y+Gj.eh.y,Gw=D.iI[Gj.start].start,G_=D.iI[Gj.end-1].end,Gf=GV.Otp(v,Gw,G_);
for(var Gl=0;Gl<Gf.length;Gl++){var GU=Vg.mZ(Gw),GD=Gf[Gl],Gi=GV.QR(v,Gw,Gw),Gh=Gi.bR[Gi.Bt.Font].Name;
B.font.Tf=Gh;var g=GV.iz(Gi.Bt);B.colr=$?Vb.DA($.Clr.v):[g.F/255,g.S/255,g.X/255];B.font.Tfs=Math.round(Gi.Bt.FontSize);
var G$=J.slice(Gw,Gw+GD);if(Gi.Bt.FontCaps==2)G$=G$.toUpperCase();var GA=new GN;GA.translate(GU._.x,-GX);
GA.concat(GO);B.ctm=[GA.t,GA.X,GA.f_,GA._l,GA.ec,GA.Cf];o.PutText(B,G$,0);B.ctm=[1,0,0,1,0,0];Gw+=GD}}}}else if(!p.rect.Pa()){var GJ,Ge,Gq=new GN;
if(p.add.SoLd){var Gv=p.add.SoLd,yi=Gv.Idnt.v,GZ=R.uw(yi,Gv.Crop?Gv.Crop.v:null),OB="";if(GZ==null)return;
var OU=GZ.NO,GH=GI.jL(GZ.raw.buffer);if(Y[5].indexOf(GH)!=-1)GJ=GZ.raw;else GJ=OU[0];Ge=OU[1];Gq=O.f.go(Gv)}else{GJ=p.buffer;
Ge=p.rect;Gq.translate(Ge.x,Ge.y)}if($)GJ=GS.Ot_(GJ,$,Ge);Vb.HU(B,o,GJ,Ge,Gq,r)}};Vb.HU=function(R,Z,B,o,r,Y){var E=new GN;
E.scale(o.Y,-o.Z);E.translate(0,o.Z);E.concat(r);E.concat(Y);R.ctm=[E.t,E.X,E.f_,E._l,E.ec,E.Cf];Z.PutImage(R,B,o.Y,o.Z);
R.ctm=[1,0,0,1,0,0]};var yx={};yx.NW=function(R){var Z=new Uint8Array(R);return yx.gK(Z,0)};yx.gK=function(R,Z){var B=U.n,o=U.XG,r={on:o(R,Z,4),s:Z+8,size:B(R,Z+4)},Y=r.on=="FORM"||r.on=="LIST"||r.on=="CAT ";
if(Y)r.FJ=o(R,Z+8,4);if(r.size<0||r.s+r.size>R.length)throw"e";if(Y){r.sub=[];Z+=12;var E=r.s+r.size;
while(Z<E){var p=yx.gK(R,Z);r.sub.push(p);Z+=8+p.size+(p.size&1)}}return r};var RJ={};RJ.NW=function(R,Z){var B=new Uint8Array(R);
return RJ.gK(B,0,Z)};RJ.gK=function(R,Z,B){var o=U.Kq,r=U.XG,Y={on:r(R,Z,4),s:Z+8,size:o(R,Z+4)};if(B&&B[Y.size]!=null)Y.size=B[Y.size];
if(Y.on=="RIFF"||Y.on=="LIST"){Y.FJ=r(R,Z+8,4)}if(Y.size<0||Y.s+Y.size>R.length)throw"e";if(Y.on=="RIFF"||Y.on=="LIST"&&(Y.FJ!="cmpr"&&Y.FJ!="stlt")){Y.sub=[];
Z+=12;var E=Y.s+Y.size;while(Z<E){var p=RJ.gK(R,Z,B);Y.sub.push(p);Z+=8+p.size+(p.size&1)}}return Y};
var yx={};yx.NW=function(R){var Z=new Uint8Array(R);return yx.gK(Z,0)};yx.gK=function(R,Z){var B=U.n,o=U.XG,r={on:o(R,Z,4),s:Z+8,size:B(R,Z+4)},Y=r.on=="FORM"||r.on=="LIST"||r.on=="CAT ";
if(Y)r.FJ=o(R,Z+8,4);if(r.size<0||r.s+r.size>R.length)throw"e";if(Y){r.sub=[];Z+=12;var E=r.s+r.size;
while(Z<E){var p=yx.gK(R,Z);r.sub.push(p);Z+=8+p.size+(p.size&1)}}return r};function OE(){}OE.NW=function(R,Z){var B=new Uint8Array(R);
Z.Ru=!0;var o=U.XG(B,0,2);if(o=="WL"){alert("Unsupported CDR version")}else{var r=OE._i,Y=RJ.NW(B.buffer),E={data:B,s:0,Ob:OE.OxA(B[11])},H=300;
E.MP=E.Ob<600?16:32;OE._$(E,Y.sub,Z,0);var p=r(Y,"cmpr").sub,y=p[0],z=p.slice(1),u=r(y,"mcfg").k,Q=u.Ois;
H/=yU.AR(new N(0,0,Math.round(Q.x*H),Math.round(Q.y*H)),8192*8192);var T=Math.round(Q.x*H),C=Math.round(Q.y*H);
Z.Y=T;Z.Z=C;Z.buffer=O.a(Z.Y*Z.Z*4);var e=r(y,"filt").sub,$=r(y,"otlt").sub;y.sk={};for(var x=0;x<e.length;
x++)y.sk[e[x].sub[0].k.id]=e[x].sub[0].k;y.sO={};for(var x=0;x<$.length;x++)y.sO[$[x].k.id]=$[x].k;var M=new GN(H,0,0,-H,Q.x*H/2,Q.y*H/2),m=z[1];
OE.qc(m,y,Z,M);Z.jT(1);Z.q[Z.q.length-1].yh(new N(0,0,T,C))}};OE._i=function(R,Z){var B=null;for(var o=0;
o<R.sub.length;o++){var r=R.sub[o];if(r.on==Z||r.FJ==Z)B=r}return B};OE.qc=function(R,Z,B,o){var r=OE._i,Y=R.FJ?R.FJ:R.on,E=r(R,"lgob"),p=r(R,"txsm"),y,z;
if(E){y=r(E,"trfl");z=r(E,"loda")}var u=y?y.sub[0].lN.clone():new GN;u.concat(o);var Q=B.xE();if(Y=="page"||Y=="layr"||Y=="grp "){Q.AA((Y=="page"?"Page":"Group")+" "+B.q.length);
Q.add.lsct=YV.A_;Q.QV="pass";Q.Kw=24;var H=[];if(Y=="page")H=r(R,"gobj").sub;if(Y=="layr")H=R.sub.slice(2);
if(Y=="grp ")H=R.sub.slice(4);if(H.length==0)return;B.q.push(B.ZP());for(var T=H.length-1;T>=0;T--)OE.qc(H[T],Z,B,o)}else if(Y=="obj "&&z.k&&z.k.path){Q.AA("Object "+B.q.length);
var C=Z.sk[z.k.OiP],e=Z.sO[z.k.OUk],$=Q.getName(),x=C&&C.type!=0,M=x&&C.k!=null?C.k:[0,0,0];Q.Kw|=16;
Q.add.vstk=JSON.parse(JSON.stringify(Gk.uI.default));var m=Q.add.vstk;m.strokeEnabled.v=!1;Q.add.vmsk=new S.lo;
if(e&&e.OUV!=1){m.strokeEnabled.v=!0;m.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
m.strokeStyleLineWidth.v.val=e.lineWidth*o.ho();var G=e.color;m.strokeStyleContent.v.Clr.v=O.L.hN({F:G[0]*255,S:G[1]*255,X:G[2]*255})}var K=z.k.path;
Q.add.vmsk.u=O.W.un(K,!1);O.V.lC(Q.add.vmsk.u,u);Yj.VY(M,Q,u,O.V.pA(Q.add.vmsk.u));m.fillEnabled.v=x;
Q.uN();Q.Aq(B)}else if(Y=="obj "&&p){var s=z.k.OUG,L=z.k.OUj,i="";Q.add.TySh=GV.vr(0,0);var _=u.ho();
Q.add.TySh.P.translate(u.ec,u.Cf);var P=Q.add.TySh.HC,w=p.k.OBS;for(var T=0;T<w.length;T++){var k=w[T],h=i.length;
i+=k.text+"\n";GV.bt(P,h,k.text+"\n");var j=OE.OUb(k.OUB,Z),I=GV.QR(P,h,i.length);if(j.align==3)I.LH.Justification=1;
else I.LH.Justification=0;var V=j.fill.k;I.Bt.FillColor={Type:1,Values:[1,V[0],V[1],V[2]]};I.Bt.FontSize=Math.round(j.OUA.fontSize*u.ho());
GV.Fz(P,h,i.length-1,I)}if(L){GV.zE(P,0)}else{GV.zE(P,1);GV.lZ(P,[0,0,Math.round(s.x*u.t),Math.round(-s.y*u._l)])}Q.AA(i.slice(0,10))}else{Q=null}if(Q)B.q.push(Q)};
OE.OUb=function(R,Z){var B=OE._i(Z,"stlt").k,o=JSON.parse(JSON.stringify(B.XE[R]));if(o.sy!=0){var r=B.XE[o.sy];
for(var Y in r)if(o[Y]==null||o[Y]==0)o[Y]=r[Y];delete o.sy}o.align=B.OU_[o.OUL];o.fill=Z.sk[B.OUx[o.OB$]];
o.OXg=Z.sO[B.OUK[o.OwO]];o.OUA=B.Owa[o.OUr];return o};OE.OUP=function(R){var Z=R.data[R.s];R.s+=1;return Z};
OE.Ve=function(R){var Z=U.mW(R.data,R.s);R.s+=2;return Z};OE.VH=function(R){var Z=U.Kq(R.data,R.s);R.s+=4;
return Z};OE.O$O=function(R){var Z=U.Kq(R.data,R.s);R.s+=8;return Z};OE.pa=function(R){var Z=U.Kr(R.data,R.s);
R.s+=2;return Z};OE.pj=function(R){var Z=U.Sp(R.data,R.s);R.s+=4;return Z};OE.AG=function(R){var Z=U.ODo(R.data,R.s);
R.s+=8;return Z};OE.yH=function(R){if(R.s>=R.data.length)throw"e";var Z=0;while(R.data[R.s+Z]!=0)Z++;
var B=U.XG(R.data,R.s,Z);R.s+=Z+1;return B};OE.O$y=function(R){if(R.Ob<600)return Math.PI*OE.pa(R)/1800;
return Math.PI*OE.pj(R)/18e7};OE.O$E=function(R){if(R.Ob<1500)return OE.Ns(R);else return OE.AG(R)/254e3};
OE.Ns=function(R){if(R.Ob<600)return OE.pa(R)/1e3;else return OE.pj(R)/254e3};OE.O$V=function(R){if(R.Ob<600)return CRDParser.Ve(R);
else return OE.VH(R)};OE.O$_=function(R){if(R.Ob<600)return CRDParser.pa(R);else return OE.pj(R)};OE._$=function(R,Z,B,o){var r=OE,Y=r.OUP,E=r.Ve,p=r.VH,y=r.O$O,z=r.pa,u=r.pj,Q=r.AG,H=r.Ns,T=r.O$E,C=r.O$y,e=r.O$V,$=r.O$_;
for(var x=0;x<Z.length;x++){var M=R.Ob,m=Z[x];R.s=m.s+(m.on=="LIST"?4:0);if(m.on=="vrsn"){var G=E(R);
R.Ob=G;console.log("Version",G);R.MP=G<600?16:32}else if(m.on=="DISP"){}else if(m.on=="LIST"&&m.FJ=="cmpr"){var K=p(R),s=p(R),L=p(R),_=p(R),P=new Uint8Array(R.data.buffer,R.s+8+2,K-6-8),i=pako.inflateRaw(P),j=0;
R.s+=K;P=new Uint8Array(R.data.buffer,R.s+8+2);var w=pako.inflateRaw(P),k=[];for(var h=0;h<w.length;
h+=4)k.push(U.Kq(w,h));m.sub=[];while(j<i.length){var I=RJ.gK(i,j,k);j=I.s+I.size;m.sub.push(I)}var V={data:i,s:0,Ob:M,MP:R.MP};
OE._$(V,m.sub,B,o+1)}else if(m.on=="LIST"&&m.FJ=="stlt"){var F=R.s,D=32;m.k={};var q=p(R);if(q==0)return;
m.k.OUx=OE._x(R,M>=1300);m.k.OUK=OE._x(R);m.k.Owa={};var t=p(R);for(var c=0;c<t;c++){var f=p(R);R.s+=M<1e3?12:20;
var W=E(R),l=E(R);R.s+=8;var g=H(R);R.s+=M<1e3?12:20;m.k.Owa[f]={OUs:W,OaV:l,fontSize:g}}m.k.OU_=OE._x(R);
var v=p(R);R.s+=52*v;var Vg=p(R);R.s+=152*Vg;var GE=p(R);R.s+=784*GE;var Gy=p(R);for(var c=0;c<Gy;c++){R.s+=40;
if(M>1300)R.s+=4;if(M>=1300){if(p(R))R.s+=68;else R.s+=12}else{R.s+=20;if(M>=1e3)R.s+=8;if(p(R))R.s+=8;
R.s+=8}}var GY=p(R);m.k.OUF={};for(var c=0;c<GY;c++){var Ga=p(R),GO={};R.s+=12;GO.right=H(R);GO.OaY=H(R);
GO.left=H(R);m.k.OUF[Ga]=GO}var J=p(R);if(M>=1300)D+=4;R.s+=D*J;var GB=p(R);R.s+=28*GB;if(M>800){var Gj=p(R);
R.s+=12*Gj}m.k.XE={};for(var c=0;c<q;c++){var GX=p(R),Gw=p(R),G_={};G_.sy=p(R);R.s+=8;var Gf=p(R);if(M>=1200)Gf*=2;
R.s+=Gf;G_.OB$=p(R);G_.OwO=p(R);if(GX>1){G_.OUr=p(R);G_.OUL=p(R);G_.OaR=p(R);G_.OaX=p(R);if(M>800)G_.Oaa=p(R)}if(GX>2){G_.Oaj=p(R);
G_.OaI=p(R);G_.OaB=p(R);G_.Oaw=p(R);G_.OaA=p(R)}m.k.XE[Gw]=G_}}else if(m.on=="LIST")OE._$(R,m.sub,B,o+1);
else if(m.on=="txsm"){m.k={};if(M<600)throw"e";if(M<700)throw"e";if(M>=1600)throw"e";if(M>=1500)R.s+=37;
else R.s+=36;if(p(R)){if(M<800)R.s+=32}if(M<800)R.s+=4;m.k.Oa_=p(R);m.k.OBS=[];R.s+=48;if(M>=800){if(p(R)){R.s+=32;
if(M>=1300)R.s+=8}}if(M>=1500)R.s+=12;var GX=p(R),Gl=1,GU=!1;if(!GX){if(M>=800)R.s+=4;if(M>800)R.s+=2;
if(M>=1400)R.s+=2;R.s+=24;if(M<800)R.s+=8;Gl=p(R)}for(var h=0;h<Gl;h++){var GD=p(R),c=0;if(M>=1300&&GX)R.s++;
R.s++;var q=p(R),Gi=[];for(c=0;c<q;c++){var Gh=Y(R),GA=0;Y(R);var G$=Y(R);if(M>=800)GA=Y(R);var G_={};
if(G$&1){G_.OUs=E(R);var GJ=E(R);if(GJ)G_.OaL=GJ}if(G$&2)R.s+=4;if(G$&4)G_.Oal=H(R);if(G$&8)R.s+=4;if(G$&16)R.s+=4;
if(G$&32)R.s+=4;if(G$&64){G_.OB$=p(R);if(M>=1500)R.s+=48}if(G$&128){G_.OwO=p(R)}if(GA&8){if(M>=1300){var Ge=p(R);
if(R.s+Ge*2>=R.data.length){GU=!0;break}R.s+=Ge*2}else R.s+=4}if(GA&32){var Gq=Y(R);if(Gq)R.s+=52}if(Gh==2)if(M>=1300)R.s+=48;
Gi.push(G_)}if(GU){break}var Gv=p(R);if(R.s+Gv*4>R.data.length)break;var yi=[];for(c=0;c<Gv;c++){var GZ=0;
if(M>=1200)GZ=y(R)&4294967295;else GZ=p(R);yi[c]=GZ>>16|GZ&1}var OU=Gv;if(M>=1200)OU=p(R);var GH=OE.yH(R);
m.k.OBS.push({OUB:GD,text:GH,XE:Gi})}}else if(m.on=="font"){var OB=E(R),Gb=E(R);R.s+=14;var Gu=OE.yH(R);
m.k={id:OB,Oah:Gb,name:Gu}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(m.on)!=-1){}else if(m.on=="flgs")m.k=p(R);
else if(m.on=="bbox"){var GP=H(R),Gn=H(R),Yy=H(R),Gm=H(R);m.k=new N(GP,Gn,Yy-GP,Gm-Gn)}else if(m.on=="fild"){var GW=p(R),YR=0,Yq;
if(M>=1300){R.s+=4;YR=E(R);R.s+=2}var YE=E(R);if(YE==0){}else if(YE==1){R.s+=M>=1300?13:2;Yq=OE.FG(R)}else if(YE==2){R.s+=M>=1300?8:2;
var YX=Y(R),O_=0;if(M>=1300){R.s+=17;O_=z(R)}else if(M>=600){R.s+=19;O_=u(R)}else{R.s+=11;O_=z(R)}var Y_=C(R),OY=.5+$(R),GT=.5+$(R)-.5;
if(M>=600)R.s+=2;var YY=e(R)&255,Of=Y(R)/100;R.s++;var Ox=e(R)&65535;if(M>=1300)R.s+=3;var yR=[];for(var c=0;
c<Ox;c++){var Oj=OE.FG(R);if(M>=1300){if(YR==158||M>=1600&&YR==150)R.s+=26;else R.s+=5}var RV=e(R)/100;
if(M>=1300)R.s+=3;yR.push([RV,Oj])}Yq={typ:YX==1?"lin":"rad",crds:[OY-Math.cos(Y_)/2,GT-Math.sin(Y_)/2,OY,GT],grad:yR,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",YE);
m.k={id:GW,type:YE,k:Yq}}else if(m.on=="outl"){var OJ=p(R);if(M>=1300){var Ye=0,ye=0;while(Ye!=1){R.s+=ye;
Ye=p(R);ye=p(R)}}var Ys=E(R),YC=E(R),YD=E(R);if(M<1300&&M>=600)R.s+=2;var yf=H(R),RY=E(R)/100;if(M>=600)R.s+=2;
var EA=C(R);if(M>=1300)R.s+=46;else if(M>=600)R.s+=52;var Yq=OE.FG(R,OJ==270963208||OJ==276198e3,OJ);
m.k={id:OJ,OUV:Ys,OaS:YC,Oat:YD,lineWidth:yf,color:Yq}}else if(m.on=="mcfg"){if(1300<=M)R.s+=12;else if(900<=M)R.s+=4;
else if(600<=M&&M<700)R.s+=28;var ES=0,YO=0;if(M<400)throw"e";else{ES=H(R);YO=H(R)}m.k={Ois:new VP(ES,YO)}}else if(m.on=="loda"){var F=R.s,Yf=e(R),YS=e(R),Yp=e(R),YB=e(R),YW=e(R),YJ=[],yt=[];
R.s=F+Yp;for(var c=0;c<YS;c++)YJ[c]=e(R);R.s=F+YB;for(var c=YS-1;c>=0;c--)yt[c]=e(R);m.k={};for(var c=0;
c<YS;c++){R.s=F+YJ[c];var OS=yt[c];if(OS==10)m.k.OUk=p(R);else if(OS==20)m.k.OiP=p(R);else if(OS==200)m.k.Oaf=e(R);
else if(OS==30){if(M<400)YW--;if(YW==1){var GP=T(R),Gn=T(R),yT=0,EM=0,yA=0,yC=0;if(M<1500){yC=T(R);yA=M<900?yC:T(R);
EM=M<900?yC:T(R);yT=M<900?yC:T(R)}else throw"e";m.k.path=O.W.mM(O.V.hk.Rect(0,0,GP,Gn,yT))}else if(YW==2){var RR=H(R),Yu=H(R),Rh=C(R),Yw=C(R),Ra=Math.abs(RR),Xj=Math.abs(Yu);
m.k.path=O.W.mM(O.V.hk.oD(0,0,Ra,-Xj))}else if(YW==3){m.k.path=OE.OxE(R)}else if(YW==4){m.k.OUj=OE.O$h(R)}else if(YW==6){m.k.OUG=OE.O$Q(R)}else if(YW==37){m.k.path=OE.WJ(R)}else console.log(YW)}}}else if(m.on=="trfd"){var F=R.s,Yf=e(R),YS=e(R),Yp=e(R);
R.s=F+Yp;var YJ=[];for(var c=0;c<YS;c++)YJ[c]=e(R);for(var c=0;c<YS;c++){R.s=F+YJ[c];if(M>=1300)R.s+=8;
var YT=E(R);if(YT==8){var YL,EZ,GP,Rz,RE,Gn;if(M>=600)R.s+=6;if(M>=500){YL=Q(R);EZ=Q(R);GP=Q(R)/(M<600?1e3:254e3);
Rz=Q(R);RE=Q(R);Gn=Q(R)/(M<600?1e3:254e3)}else throw"e";m.lN=new GN(YL,Rz,EZ,RE,GP,Gn)}else console.log(YT)}}else if(!1){console.log(m);
var Rv=Math.min(m.size,32);console.log(U.wr(data,m.s,Rv));console.log(U.ODY(data,m.s,Rv))}}};OE._x=function(R,Z){var B=OE.VH,o={},r=B(R);
for(var Y=0;Y<r;Y++){var E=B(R);R.s+=4;var p=B(R);o[E]=p;if(Z)R.s+=48}return o};OE.O$h=function(R){var Z=OE,B=Z.Ns,o=B(R),r=B(R);
return new VP(o,r)};OE.O$Q=function(R){var Z=OE,B=Z.Ns;R.s+=4;var o=B(R),r=B(R);return new VP(o,r)};
OE.WJ=function(R){var Z=OE,B=Z.VH,o=Z.Ve,r=Z.Ns;R.s+=4;var Y=o(R)+o(R);R.s+=16;var E=OE.FI(R,Y);return E};
OE.OxE=function(R){var Z=OE.Ve(R);R.s+=2;return OE.FI(R,Z)};OE.FI=function(R,Z){var B=OE,o=B.Ns,r=R.Ob<600?2:4,Y=R.s,E={I:[],J:[]},p=0,y=0,z=0;
for(var u=0;u<Z;u++){var p=o(R),y=o(R),Q=R.data[Y+Z*r*2+u];if(!(Q&64)&&!(Q&128)){E.I.push(p,y);E.J.push("M");
z+=2}else if(Q&64&&!(Q&128)){E.I.push(p,y);E.J.push("L");z+=2}else if(!(Q&64)&&Q&128){E.I.push(p,y);
E.J.push("C");z+=6}else if(Q&64&&Q&128){E.I.push(p,y)}}if(z!=E.I.length)throw"e";return E};OE.Oiu=function(R,Z){var B=U.Kq;
Z+=8;var o=B(R,Z);Z+=4;var r=B(R,Z);Z+=4;Z+=4*7;var Y=Z,E=O.a(o*r*4);Z+=1024;for(var p=0;p<r;p++)for(var y=0;
y<o;y++){var z=p*o+y,u=(r-p-1)*o+y,Q=R[Z+z]<<2,H=u<<2;E[H+0]=R[Y+Q+2];E[H+1]=R[Y+Q+1];E[H+2]=R[Y+Q+0];
E[H+3]=255}return{Y$:E,rect:new N(0,0,o,r)}};OE.OxA=function(R){if(R==32)return 300;else if(R<49)return 0;
else if(R<58)return 100*(R-48);else if(R<65)return 0;return 100*(R-55)};OE.FG=function(R,Z,B){var o=OE.Ve,r=OE.VH,Y=R.Ob,E=0,p=0;
if(Y>=500){E=o(R);if(E==1&&Y>=1300)E=25;if(E==25||E==30)throw"e";else if(E==14)throw"e";else{R.s+=6;
p=r(R)}}else throw"e";var y=[];if(E==2||E==9||E==17){var z=[p>>>0&255,p>>>8&255,p>>>16&255,p>>>24&255];
if(E==2)for(var u=0;u<4;u++)z[u]=Math.round(255*z[u]/100);for(var u=0;u<4;u++)z[u]/=255;y=UDOC.C.cmykToRgb(z)}else if(E==1||E==5){y=[p>>>0&255,p>>>8&255,p>>>16&255];
for(var u=0;u<3;u++)y[u]=y[u]/255}else console.log("Unknown color model "+E,p,p.toString(16));return y};
var EX={};EX.j_=function(){var R=new ArrayBuffer(4);return[new Uint8Array(R),new Uint32Array(R),new Float32Array(R)]}();
EX.Ft=function(R,Z,B,o,r){function Y(I,V){for(var F=0;F<I.length;F++)if(I[F][0]==V)return I[F]}function E(){var P=0,I=0,V=0;
do{V=R[Z++];P|=(V&127)<<I;I+=7}while(V&128&&I<35);return P>>>0}var p=EX.j_,y=p[0],z=p[1],u=p[2],Q="",$=1;
for(var H=0;H<r;H++)Q+="    ";var T=o[0]=="mesg",C=o[2],e={},x=T?1e9:C.length;while($<=x){var M=$;if(T){M=R[Z++];
if(M>127){if(R[Z]!=1)throw"e";Z++}if(M==0)break}var m=Y(C,M),G=m[2],K=m[1]==1,s=K?E():1,L=new Array(s);
if(G==3){if(!K)throw"e";L=R.slice(Z,Z+s);Z+=s}else for(var H=0;H<s;H++){var _;if((G&1)==1){if(G==1)_=R[Z++]==1;
else if(G==3)_=R[Z++];else if(G==5){var P=E();_=P&1?~(P>>>1):P>>>1}else if(G==7)_=E();else if(G==9){if(R[Z]==0){_=0;
Z++}else{y[0]=R[Z];y[1]=R[Z+1];y[2]=R[Z+2];y[3]=R[Z+3];var i=z[0];z[0]=i<<23|i>>>9;_=u[0];Z+=4}}else if(G==11){var w=EX.Oxh(R,Z);
_=w[0];Z+=w[1]+1}else throw G}else{var k=B[G>>>1];if(k[0]=="enum"){var h=R[Z++];if(h>127)throw"e";_=k[2][h]}else{var j=EX.Ft(R,Z,B,k,r+1);
_=j[0];Z=j[1]}}L[H]=_}e[m[3]]=K?L:L[0];$++}return[e,Z]};EX.Oxh=function(R,Z){var B=Z;while(R[B]!=0)B++;
return[U.qe(R,Z,B-Z),B-Z]};EX.Oxq=function(R,Z){var B=Z;while(R[B]!=0)B++;for(var o=Z;o<B;o++)if(R[o]>127)throw"e";
return U.XG(R,Z,B-Z)};EX.Oxx=function(R,Z){var B=EX.Oxq,o=1,r=[];while(o<R.length){var Y=o,E=r.length,p=B(R,o);
o+=p.length+1;var y=R[o++];if(y==0){var z=R[o++];if(z>127)o++;var u=[];for(var Q=0;Q<z;Q++){var H=B(R,o);
o+=H.length+1;var T=R[o++];if(T!=0)throw T;var C=R[o++];if(C!=0)throw C;var e=R[o++];if(e>127){if(R[o]!=1)throw"e";
o++}if(e!=Q)throw e;u.push(H)}r.push(["enum",p,u])}else if(y==1){var z=R[o++],u=[];for(var Q=0;Q<z;Q++){var H=B(R,o);
o+=H.length+1;var T=R[o++];if(T>127){if(R[o]!=1)throw"e";o++}var C=R[o++];if(C>127){if(R[o]!=1)throw"e";
o++}var e=R[o++];if(e>127){if(R[o]!=1)throw"e";o++}u.push([e,C,T,H])}r.push(["strc",p,u])}else if(y==2){var z=R[o++];
if(z>127)o++;var u=[];for(var Q=0;Q<z;Q++){var H=B(R,o);o+=H.length+1;var T=R[o++];if(T>127){if(R[o]!=1)throw"e";
o++}var C=R[o++];if(C>127){if(R[o]!=1)throw"e";o++}var e=R[o++];if(e>127){if(R[o]!=1)throw"e";o++}u.push([e,C,T,H])}r.push(["mesg",p,u])}else throw y}return r};
function ON(){}ON.NW=function(R,Z){var B=new Uint8Array(R),o=8,r=U.Kq(B,o),I=1,V=0;o+=4;var Y=[];while(o<B.length){var E=U.Kq(B,o);
o+=4;var p=B.slice(o,o+E);if(B[o]==137&&B[o+1]==80){}else p=UZIP.inflateRaw(p);Y.push(p);o+=E}var y=EX.Oxx(Y[0]),z=EX.Ft(Y[1],0,y,y[y.length-1],0)[0],u={tv:{},Sy:{},OAw:{}},Q=z.nodeChanges;
for(var H=0;H<Q.length;H++){var T=Q[H],C=T.guid;u.Sy[C.sessionID+","+C.localID]=T}for(var H=0;H<Q.length;
H++){var T=Q[H],C=T.parentIndex;if(C){var e=ON.pt(u.Sy,C.guid);if(e.children==null)e.children=[];e.children.push(T)}}var $=Q[0],x=$.children,M=new N,m=[],G=[];
for(var C=0;C<x.length;C++){var K=x[C],s=K.children;if(K.name=="Internal Only Canvas")continue;var L=new N;
for(var _=0;_<s.length;_++){var P=s[_],i=P.transform,w=P.size,k=new N(i.m02,i.m12,w.x,w.y);L=L.fj(k)}var h=M.Z==0?0:M.Z+100,j=L.clone();
j.x=0;j.y=h;M=M.fj(j);m[C]=L;G[C]=h}while(Math.max(M.Y,M.Z)/I>16e3)I++;if(I!=1)console.log("Scaling down "+I+"x");
Z.Y=Math.round(M.Y/I);Z.Z=Math.round(M.Z/I);Z.buffer=O.a(Z.Y*Z.Z*4);for(var C=0;C<x.length;C++){var K=x[C],s=K.children;
if(K.name=="Internal Only Canvas")continue;s.sort(ON.uU);var F=new GN(1,0,0,1,-m[C].x,G[C]-m[C].y);F.scale(1/I,1/I);
for(var _=0;_<s.length;_++){var P=s[_];ON.qc(P,[],F,z.blobs,Z,0,u);V++}}Z.jT(V);Z.Ru=!0};ON.qc=function(R,Z,B,o,r,Y,E){var p=ON,i=!1,w,k,j,I,V;
for(var y=0;y<Z.length;y++){var z=Z[y],u=z.guidPath.guids[0];if(p.Oxb(u,R.guid)){var Q={};for(var H in R)Q[H]=z[H]!=null?z[H]:R[H];
R=Q}}var T=R.type,C=R.children,e=R.size,$=R.effects,x=r.xE();x.AA(R.name);x.eM(R.visible);x.opacity=Math.round(R.opacity*255);
var M=p.JB(R.transform),m=M.clone();m.concat(B);var G=new N(Math.round(m.ec),Math.round(m.Cf),Math.round(e.x*m.ho()),Math.round(e.y*m.ho())),K=R.fillPaints,s=R.inheritFillStyleID;
if(s){var Q=p.pt(E.Sy,s);if(Q)K=Q.fillPaints}if(K==null)K=[];var K=p.mh(K),L=K[0],_=R.strokePaints,s=R.inheritFillStyleIDForStroke;
if(s){var Q=p.pt(E.Sy,s);if(Q)_=Q.fillPaints}if(_==null)_=[];var _=p.mh(_),P="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON".split(" ").indexOf(T)!=-1;
if(P||T=="FRAME"){w=new S.lo;k=[];p.Pp(R,o,w,k);i=O.V.Ox_(w.u);O.V.lC(w.u,m);G=O.V.pA(w.u);if(E.tv.Xv&&L){var h=S.lo.yN(E.tv.Xv.u);
for(var y=2;y<h.length;y++)if(h[y].lz!=null)h[y].lz=3;w.u=w.u.concat(h.slice(2));k=k.concat(JSON.parse(JSON.stringify(E.tv.je)))}}if(L&&L.type=="IMAGE"){V=L.imageScaleMode;
j=p.fw(o,L.image.dataBlob);var F=j.Ix.Y/j.Ix.Z,q=e.x/e.y;I=Math.abs(F-q)}if(T=="FRAME"){}else if(P&&i&&j&&(V=="FIT"||V=="FILL"&&I<=.05)){var t=o[L.image.dataBlob].bytes,c=r.VV(t,x.getName(),0,0);
c.Kw=x.Kw;c.opacity=x.opacity;x=c;var f=new N(0,0,e.x,e.y);if(V=="FIT"){var W=j.Ix.Y,l=j.Ix.Z,g=Math.min(e.x/W,e.y/l),v=W*g,Vg=l*g;
f=new N(f.x+(f.Y-v)/2,f.y+(f.Z-Vg)/2,v,Vg)}var GE=O.W.Bu(f).I;O.W.P(GE,m,GE);x.add.SoLd.Trnf=A.HQ.Kv(GE);
x.add.SoLd.nonAffineTransform=A.HQ.Kv(GE);var Gy=[],$=R.effects,GY=L.paintFilter;if($)for(var y=0;y<$.length;
y++)if($[y].type=="FOREGROUND_BLUR"){var Ga=$[y],GO=Go.iJ("GsnB",{});Gy.push(GO);GO.v.enab.v=Ga.visible;
GO.v.Fltr.v.Rds.v.val=Ga.radius/2.4}if(GY&&GY.exposure!=0){var GO=Go.iJ("brit",{});Gy.push(GO);GO.v.Fltr.v.Brgh.v=Math.round(GY.exposure*160);
GO.v.Fltr.v.useLegacy.v=!0}if(Gy.length!=0){x.add.SoLd.filterFX=Go.HR();r.VO({id:x.add.SoLd.placed.v,rect:new N,buffer:O.a(1),m:new S.iH});
x.add.SoLd.filterFX.v.filterFXList.v=Gy}x.AS(r,!1);p.bF(E,x,r)}else if(P){x.Kw|=16;x.add.vogk=k;x.add.vmsk=w;
var J=x.add.vstk=JSON.parse(JSON.stringify(Gk.uI.default)),D=p.pI(R,K[0],m,G,o,r,E);if(D[0]=="None"){J.fillEnabled.v=!1;
x.add.SoCo=D[1]}else{var GB=D[1].Opct.v.val;if(GB!=100)x.opacity=Math.round(x.opacity/255*(GB/100)*255);
x.add[D[0]]=D[1]}var D=p.pI(R,_[0],m,G,o,r,E);if(D[0]!="None"){J.strokeEnabled.v=!0;J.strokeStyleLineWidth.v.val=R.strokeWeight*m.ho();
J.strokeStyleLineAlignment.v.strokeStyleLineAlignment=Gk.uI.vl[["INSIDE","CENTER","OUTSIDE"].indexOf(R.strokeAlign)];
var Gj={SoCo:"SoFi",GdFl:"GrFl"}[D[0]],GX=["SoFi","GrFl","patternFill"].indexOf(Gj),Gw=[Gk.up,Gk.rR,Gk.rB][GX];
J.strokeStyleContent.v={classID:Gk.uI.FJ[0]};J.strokeStyleLineDashSet.v=GS.uM(R.dashPattern,1/R.strokeWeight);
var G_=J.strokeStyleContent.v={classID:Gk.uI.FJ[GX]};for(var y=0;y<Gw.length;y++)G_[Gw[y]]=D[1][Gw[y]]}if($)for(var y=0;
y<$.length;y++){var Ga=$[y];if(Ga.type!="FOREGROUND_BLUR")continue;w.lB=Ga.radius/2.4}x.Aq(r)}else if(T=="TEXT"){var Gf=R.textData,Gl=Gf.layoutSize,GU=["LEFT","RIGHT","CENTER"].indexOf(R.textAlignHorizontal);
x.add.lnsr="rend";x.add.TySh=GV.vr(0,0);x.add.TySh.VE=new N(0,0,100,100);var GD=m.clone();x.add.TySh.P=GD;
var Gi=x.add.TySh.HC,Gh=Gf.characters;if(R.textCase=="TITLE"){for(var y=0;y<Gh.length;y++)if(y==0||Gh[y-1]==" "){var G$=Gh.slice(0,y),GA=Gh.slice(y+1);
Gh=G$+Gh[y].toUpperCase()+GA}}Gh=Gh.replace(/\u2028/g,"\n");Gh=Gh.replace(/\u2029/g,"\n");Gh=Gh.replace(/\r/g,"\n");
GV.bt(Gi,0,Gh);var GJ=R.textAutoResize,Ge=Gf.baselines;if(GJ=="WIDTH_AND_HEIGHT"){var Gq=GU==0?0:GU==1?Gl.x:Gl.x/2,Gv=Ge?Ge[0].position.y:0;
GD.translate(Gq*m.ho(),Gv*m.ho());GV.zE(Gi,0)}else if(GJ=="HEIGHT"||GJ=="NONE"){var Gv=Ge?Ge[0].position.y-R.fontSize*.7:0;
GD.translate(0,Gv*m.ho());GV.zE(Gi,1);GV.lZ(Gi,[0,0,Math.round(Gl.x),Math.round(1.2*Gl.y)])}else throw GJ;
if(Gh!=""){var yi=GV.QR(Gi,0,1);p.QI(R,m,e,yi,x);GV.Fz(Gi,0,Gh.length,yi);var GZ=Gf.characterStyleIDs,OU=Gf.styleOverrideTable;
if(GZ)for(var y=0;y<GZ.length;y++){var GH=GZ[y];if(Gh[y]=="\n")continue;if(GH!=0){var OB;for(var Gb=0;
Gb<OU.length;Gb++)if(OU[Gb].styleID==GH)OB=OU[Gb];var yi=GV.QR(Gi,y,y+1);p.QI(OB,m,e,yi,x);GV.Fz(Gi,y,y+1,yi)}}}}else if(T=="SYMBOL"){}else if(T=="INSTANCE"){var Gu=R.symbolData,GP=Gu.symbolOverrides,Q=p.pt(E.Sy,Gu.symbolID);
if(Q)C=Q.children;else console.log(R.name,"symbol not found",Gu.symbolID);Z=Z.slice(0);for(var y=0;y<GP.length;
y++)Z.push(GP[y])}else console.log(T);if(!1){}else if(C&&!P){C.sort(p.uU);if(Y==0&&T!="SYMBOL"&&T!="INSTANCE"){x.yh(G);
var Gn=K?K[0]:null;if(Gn&&Gn.type=="SOLID"){var Yy=Gn.color;x.add.artb.artboardBackgroundType.v=4;x.add.artb.Clr=p.FG(Yy)}}r.q.push(r.ZP());
var Gm=E.tv;E.tv={};for(var GW=0;GW<C.length;GW++)p.qc(C[GW],Z,m,o,r,Y+1,E);E.tv=Gm;x.add.lsct=!1?YV.A_:YV.Zg;
x.QV="pass";var YR=x.YT();x.Kw=24;x.eM(YR);var YE=Y!=0&&K.length!=0&&!R.frameMaskDisabled&&R.containerSupportsFillStrokeAndCorners;
if(YE&&w){x.add.vmsk=w;x.add.vogk=k;x.Aq(r)}else p.bF(E,x,r);r.q.push(x)}else if(R.mask){if(w){E.tv.Xv=w;
E.tv.je=k}}else{var Yq=[];if($)for(var YX=0;YX<$.length;YX++){var Ga=$[YX],O_=Ga.color,Y_=Ga.type,OY=["DROP_SHADOW","INNER_SHADOW"].indexOf(Y_);
if(OY!=-1){var GT=["DrSh","IrSh"][OY],YY=JSON.parse(Gk.eF[Gk.order.indexOf(GT)]);Yq.push([GT,YY]);YY.enab.v=Ga.visible;
YY.Md.v.BlnM=Gd.iv(p.OeA(Ga.blendMode));YY.Opct.v.val=Math.round(100*O_.a);YY.blur.v.val=Math.round(Ga.radius*m.ho());
YY.Clr=p.FG(O_);var Gq=Ga.offset.x,Gv=Ga.offset.y;YY.uglg.v=!1;YY.lagl.v.val=Math.round(180/Math.PI*Math.atan2(Gv,-Gq));
YY.Dstn.v.val=Math.round(Math.sqrt(Gq*Gq+Gv*Gv)*m.ho())}}for(var y=1;y<K.length;y++){var Of=K[y],Ox=p.pI(R,Of,m,G,o,r,E);
if(Ox[0]=="GdFl")Yq.push(["GrFl",Ox[1]]);else if(Ox[0]=="SoCo")Yq.push(["SoFi",Ox[1]]);else if(Ox[0]=="PtFl")Yq.push(["patternFill",Ox[1]]);
else throw Ox}if(Yq.length!=0){var yR=JSON.parse(Gk.default);for(var y=0;y<Gk.order.length;y++)yR[Gk._p[y]]={t:"VlLs",v:[]};
for(var y=0;y<Yq.length;y++){var Oj=Yq[y],GT=Gk._p[Gk.order.indexOf(Oj[0])];yR[GT].v.unshift({t:"Objc",v:Oj[1]})}if(C==null)x.add.lmfx=yR}r.q.push(x)}};
ON.uU=function(R,Z){var B=R.parentIndex.position,o=Z.parentIndex.position;return B>o?1:-1};ON.mh=function(R){for(var Z=1;
Z<R.length;Z++){var B=R[Z];if(B.type=="IMAGE"&&B.opacity==1){R=R.slice(Z);break}}for(var Z=0;Z<R.length;
Z++){var B=R[Z];if(!B.visible||B.type=="IMAGE"&&B.image.dataBlob==null){R.splice(Z,1);Z--}}return R};
ON.bF=function(R,Z,B){if(R.tv.Xv){Z.add.vmsk=R.tv.Xv.clone();Z.add.vogk=JSON.parse(JSON.stringify(R.tv.je));
Z.Aq(B)}};ON.QI=function(R,Z,B,o,r){var Y=R.fontSize,E=R.lineHeight,p=R.fontName,y=R.textAlignHorizontal,z=R.textTracking,u=R.textCase;
if(Y==null)Y=o.Bt.FontSize;if(p)GV.rz(o,p.postscript);if(Y!=null)o.Bt.FontSize=Math.round(Y);if(z)o.Bt.Tracking=Math.round(z*1e3);
if(u)o.Bt.FontCaps=u=="UPPER"?2:0;if(E&&(E.units!="PERCENT"||E.value!=100)){var Q=E.value;if(E.units=="PERCENT")Q=1*Y*Q/100;
if(E.units=="RAW")Q=1*Y*Q;o.Bt.AutoLeading=!1;o.Bt.Leading=Math.round(Q)}if(y)o.LH.Justification=["LEFT","RIGHT","CENTER"].indexOf(y);
var H=R.fillPaints;if(H){var T=ON.pI(R,H[0],Z,B);if(T[0]=="SoCo"){var C=O.L.iz(T[1].Clr.v);o.Bt.FillColor={Type:1,Values:[1,C.F/255,C.S/255,C.X/255]};
r.opacity=Math.round(r.opacity/255*(T[1].Opct.v.val/100)*255)}else console.log(H)}};ON.pI=function(R,Z,B,o,r,Y,E){var p=ON,y,z,u=R.size;
if(Z){var Q=Z.type,H=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(Q);
if(Q=="SOLID"){y="SoCo";var T=Z.color;z=JSON.parse(Gk.eF[Gk.order.indexOf("SoFi")]);z.Clr=p.FG(T)}else if(H!=-1){var C=JSON.parse(Gk.eF[Gk.order.indexOf("GrFl")]),e=C.Grad.v;
e.Intr.v=0;C.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][H];var $=[],x=Z.stops;for(var M=0;M<x.length;M++){var m=x[M],G=m.color;
$.push([m.position,[G.r,G.g,G.b],G.a])}O.L.PC($,e);var K=p.JB(Z.transform);K.za();var s=K.clone();s.scale(u.x,u.y);
s.concat(B);var L=new VP(0,.5),_=new VP(1,.5);L=s.qS(L);_=s.qS(_);if(!0){L.x=_.x+.5*(L.x-_.x);L.y=_.y+.5*(L.y-_.y)}O.L.$b(L,_,o,C);
if(H==3){var P=C.Angl.v;P.val=(P.val+180+180)%360-180;C.Rvrs.v=!C.Rvrs.v}y="GdFl";z=C}else if(Q=="IMAGE"){var C=JSON.parse(Gk.eF[Gk.order.indexOf("patternFill")]),i=C.phase.v,w=Z.image.dataBlob,k=E.OAw[w],f=1;
if(k==null){var h=p.fw(r,w);k=E.OAw[w]={Y$:new Uint8Array(h.data),_:h.Ix};k.id=GF.l_()+"-d71c-11e5-b1ae-a548a96e5f9f";
k.name="someImage";Y.vi(k)}C.Algn.v=!0;C.Ptrn.v.Idnt.v=k.id;var j=B.ec,I=B.Cf,V=Z.imageScaleMode,K=p.JB(Z.transform);
K.za();var F=o.Y,q=o.Z,t=k._.Y,c=k._.Z;if(V=="FILL"){f=Math.max(F/t,q/c);f=Math.round(f*100)/100}else if(V=="FIT"){f=Math.min(F/t,q/c);
f=Math.round(f*100)/100}else if(V=="STRETCH"){var W=F*K.t,l=q*K._l;f=.5*(W/t+l/c);f=Math.round(f*100)/100;
j+=(W-F)/2+K.ec*F;I+=(l-q)/2+K.Cf*q}else if(V=="TILE"){f=Z.scale;f=Math.round(f*100)/100;j+=(W-F)/2;
I+=(l-q)/2}var g=f*t,v=f*c;j+=-(g-F)/2;I+=-(v-q)/2;C.Scl.v.val=Math.round(100*f);i.Hrzn.v=Math.round(j);
i.Vrtc.v=Math.round(I);y="PtFl";z=C}else throw Q;if(z)z.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(Z.opacity*100)}}}else{y="None";
z={classID:"null",Clr:{t:"Objc",v:O.L.hN({F:0,S:0,X:0})}}}return[y,z]};ON.fw=function(R,Z){var B=R[Z];
if(B.rslt)return B.rslt;var o=B.bytes.buffer,r=GI.jL(o),Y=GI.WP(r);B.rslt=Y.Kf(o)[0];return B.rslt};
ON.Pp=function(R,Z,B,o){var r=R.type,Y=R.size,E=R.cornerRadius,Q;if(E==null)E=0;var p=O.je.GP(),y=Y.x,z=Y.y,u=[E,E,E,E],H=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var T=0;T<4;T++)if(R[H[T]]!=null)u[T]=R[H[T]];if(r=="RECTANGLE"||r=="ROUNDED_RECTANGLE"||r=="FRAME"){Q=O.V.hk.Rect(0,0,y,z,u)}else if(r=="ELLIPSE"){var C=R.arcData,e=C?C.startingAngle:0,$=C?C.endingAngle:2*Math.PI,x=C?C.innerRadius:0;
if(e==0&&$>1.999*Math.PI)Q=O.V.hk.oD(0,0,y,z,0);else Q=O.V.hk.OxM(y/2,z/2,z/2,e,$);if(x!=0&&x!=1){var M=S.lo.yN(Q).slice(3);
M.reverse();for(var T=0;T<M.length;T++){var m=M[T],G=m.EY;m.EY=m.IJ;m.IJ=G}var K=new GN;K.translate(-y/2,-z/2);
K.scale(x,x);K.translate(y/2,z/2);O.V.lC(M,K);Q=Q.concat(M);Q[2].length*=2}}else if(r=="LINE"){Q=O.V.hk.Rect(0,0,y,z,0);
Q.pop();Q.pop();Q[2].length=2}else if(r=="REGULAR_POLYGON"){Q=O.V.hk.BZ(.5,.5,.5,Math.PI/2,R.count,0);
var s=new GN;s.scale(y,z);O.V.lC(Q,s)}else if(r=="BOOLEAN_OPERATION"){Q=[{type:6},{type:8,all:0}];var L=R.children,_=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(R.booleanOperation);
if(_==-1)throw R;if(L==null)L=[];for(var T=0;T<L.length;T++){var P=L[T],i=new S.lo,w=[],k=ON.Pp(P,Z,i,w);
if(i.u==null)continue;O.V.lC(i.u,ON.JB(P.transform));Q=Q.concat(i.u.slice(2));for(var h=0;h<w.length;
h++)o.push(w[h])}for(var T=3;T<Q.length;T++)if(Q[T].lz!=null)Q[T].lz=_;p=null}else if(r=="VECTOR"){var j,I;
if(!0){var V=R.vectorData;j=V.normalizedSize;I=V.vectorNetworkBlob}else{j=Y;I=fg[0].commandsBlob;console.log(fg)}var F=Z[I].bytes,q=new Uint32Array(F.buffer),t=new Float32Array(F.buffer),c=q[0],f=q[1],W=[];
for(var T=0;T<c;T++){var l=3+T*3,g=new VP(t[l+1],t[l+2]);W.push(g)}var v=[],Vg=3+c*3;for(var T=0;T<f;
T++){var GE=Vg+T*7,Gy=q[GE+1],GY=q[GE+4];v.push([Gy,GY,t[GE+2],t[GE+3],t[GE+5],t[GE+6]])}var Ga=-1;for(var T=0;
T<f;T++){if(Ga==-1){}else{var GO=-1;for(var h=T;h<f;h++)if(v[h][1]==Ga)GO=h;for(var h=T;h<f;h++)if(v[h][0]==Ga)GO=h;
if(GO!=-1){var J=0,G=v[GO];v[GO]=v[T];v[T]=G;if(G[0]!=Ga){J=G[0];G[0]=G[1];G[1]=J;J=G[2];G[2]=G[4];G[4]=J;
J=G[3];G[3]=G[5];G[5]=J}}}Ga=v[T][1]}var D=[],GB=[],Gj=-1;Ga=-1;for(var T=0;T<f;T++){var GX=v[T],Gy=GX[0],GY=GX[1],Gw=W[Gy],G_=W[GY];
if(Ga!=Gy){GB.push("M");D.push(Gw.x,Gw.y);Gj=Gy}D.push(Gw.x+GX[2],Gw.y+GX[3]);D.push(G_.x+GX[4],G_.y+GX[5]);
GB.push("C");D.push(G_.x,G_.y);Ga=GY;if(Gj==GY){GB.push("Z");Gj=Ga=-1}}Q=O.W.un({I:D,J:GB},!0);if(E!=0){var u=[],Gf=Q[2].length;
for(var T=0;T<Gf;T++)u.push(E);if(O.V.BK(Q))O.V.Oxj(Q,2,u)}var Gl=new GN;Gl.scale(j.x==0?1:Y.x/j.x,j.y==0?1:Y.y/j.y);
O.V.lC(Q,Gl)}B.u=Q;if(p)o.push(p)};ON.pt=function(R,Z){return R[Z.sessionID+","+Z.localID]};ON.Oxb=function(R,Z){return R.sessionID==Z.sessionID&&R.localID==Z.localID};
ON.OeA=function(R){var Z={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn"}[R];if(Z==null)throw R;return Z};
ON.FG=function(R){return{t:"Objc",v:O.L.hN({F:R.r*255,S:R.g*255,X:R.b*255})}};ON.JB=function(R){var Z=[R.m00,R.m10,R.m01,R.m11,R.m02,R.m12];
for(var B=0;B<6;B++)if(Math.abs(Z[B])<1e-20)Z[B]=0;return new GN(Z[0],Z[1],Z[2],Z[3],Z[4],Z[5])};var A={};
A.Kx=function(R,Z,B){this.name=R;this.id=Z;this.HW=null;if(B!=null)this.$G=B};A.Kx.prototype.sz=function(R,Z,B,o,r){};
A.Kx.prototype.enable=function(R,Z,B,o,r,Y){var E=new n(X.E.K,!0);E.data={d:X.l.Fj,JX:"default"};Z.j(E)};
A.Kx.prototype.disable=function(R,Z,B,o,r){};A.Kx.prototype.OOn=function(R,Z,B,o,r){return!1};A.Kx.prototype.JH=function(R,Z,B,o,r){};
A.Kx.prototype.pJ=function(R,Z,B,o,r){};A.Kx.prototype.TU=function(R,Z,B,o,r){};A.Kx.prototype.YF=function(R,Z,B,o,r){};
A.Kx.prototype.gT=function(R,Z,B,o,r){};A.Kx.prototype.oZ=function(R,Z,B,o){};A.Kx.prototype.Cg=function(R,Z,B,o){};
A.Kx.prototype.G_=function(R,Z){};A.Kx.prototype.KC=function(R,Z){};A.Kx.prototype.yK=function(R,Z,B,o,r){};
A.Kx.prototype.lU=function(R,Z){};A.Kx.prototype.Hc=function(R,Z){return!1};A.Kx.prototype.hj=function(R,Z){return!1};
A.Kx.prototype.uC=function(){return!1};A.Kx.prototype.pD=function(R,Z){return!0};A.Kx.prototype.pW=function(){return null};
A.Kx.prototype.OBB=function(R,Z,B){};A.Kx.prototype.OO_=function(){return!1};A.Kx.prototype.OOQ=function(R,Z,B,o){};
A.Kx.prototype.track=function(R){var Z=new n(X.E.e_,!0);Z.data=R;R.SE=!0;this.HW.j(Z)};A.Kx.VF=function(R,Z,B,o,r){A.Kx.OOd(R,Z,[Ok.get([12,41]).charAt(0)+": "+O.uO.Tk(B.Y,o.ag,r,o.Y,!0),Ok.get([12,42]).charAt(0)+": "+O.uO.Tk(B.Z,o.ag,r,o.Z,!0)],o)};
A.Kx.OOd=function(R,Z,B,o){var r=14,Y=130,E=B.length*17+8,p=new N(R,Z-E,Y,E),y=A.Kx.OEL;if(y==null)y=A.Kx.OEL=document.createElement("canvas");
y.width=Y;y.height=E;var z=y.getContext("2d");z.fillStyle="rgba(0,0,1,1)";z.fillRect(0,0,Y,E);z.font=r+"px monospace";
z.fillStyle="rgba(255,255,255,1)";for(var u=0;u<B.length;u++)z.fillText(B[u],6,(u+1)*17);o.A.Xd=[[z.getImageData(0,0,Y,E).data,p.clone()]]};
A.Kx.OEL=null;A.tY="0";A.tz="1";A.Oer="2";A.OeZ="3";A.OOh="5";A.OKA="6";A.OKS="7";A.PX="8";A.OkB="9";
A.NH="10";A._e="11";A.pN="12";A._u="13";A.OOU="14";A.Ok_="16";A.Oyh="18";A.cY="19";A.Oad="20";A.Oyl="22";
A.eP="23";A.p$="24";A.Okz="25";A.va="27";A.Vb="31";A.Okp="32";A.Okb="34";A.OOS="35";A.Vn="36";A.VQ="37";
A.co="38";A.ORe="39";A.OyE="40";A.OOI="41";A._n="42";A.vf="43";A.cC="47";A.Pw="51";A.pe="52";A.pK="54";
A._Q="55";A.pZ="56";A.pm="57";A._g="58";A.vD="59";A.vA="61";A.iY="100";A.pb="101";A._P="120";A.Pl="230";
A.Oim="231";A.Fp="232";A.zr="233";A.WD="234";A.Uz="235";A.pd="236";A.OEw=function(R){var Z=A.PD,B=null;
for(var o in Z)if(Z[o][1].indexOf(R[1].classID)!=-1)B=o;return B};A.PD={};A.PD[A.eP]=["tools/brush",["PbTl"]];
A.PD[A.p$]=["tools/pencil",["PcTl"]];A.PD[A.Vb]=["tools/eraser",["ErTl"]];A.lg=function(R,Z,B){A.Kx.call(this,R,Z,B);
this.yl={brush:R?YN.Ir():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,prsr:[!1,!0],emode:0,wconf:[40,!0,!0],algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:"front",patch:0};
this.$V=null;this.GC=null;this.Zp=null;this.dh=null;this.ao=null;this.YX=null;this.d$=null;this.SL=null;
this.OH=null;this.$J=null;this.sX=null;this.sa=null;this.vL=null;this.Od=1;this.yb=!1;this.JP=null;this.caller=null};
A.lg.prototype=new A.Kx;A.lg.prototype.hj=function(R,Z){return R.yL&&Z.R(a.Fl)};A.lg.prototype.pJ=function(R,Z,B,o,r){if(o.R(a.yt)){this.YX=new VP(r.x,r.y);
var Y=this.yl.brush.Brsh.v,E=Y.Dmtr.v.val,p=Y.Hrdn!=null?Y.Hrdn.v.val:-1;this.d$=[E,p,!0,JSON.parse(JSON.stringify(this.yl.brush)),r];
this.Wg(B)}};A.lg.prototype.ff=function(R,Z,B){var o=this.d$,r=R.w.h,Y=B.x-o[4].x,E=B.y-o[4].y,p=o[0],y=o[1],z=Math.abs(Y)>Math.abs(E);
if(z&&o[2]){var u=Math.round(2*Y/r);p+=u;B.x-=Y-.5*u*r}if(!z&&!o[2]&&y!=-1){var u=Math.round(.25*E);
y+=u;B.y-=E-4*u}p=Math.max(1,p);y=o[1]==-1?-1:Math.max(0,Math.min(100,y));var Q=o[3];Q.Brsh.v.Dmtr.v.val=p;
if(y!=-1)Q.Brsh.v.Hrdn.v.val=y;this.d$=[p,y,z,Q,B];var H=GM.JA(Q,Z.$r.DZ,r),T=H[1];T.x=Math.round(this.YX.x-T.Y/2);
T.y=Math.round(this.YX.y-T.Z/2);R.A.sB=[H];var C=R.w.JQ(this.YX.x,this.YX.y);R.A.tW={dH:[],nA:[C.x-p/2,C.y,C.x+p/2,C.y]};
if(y!=-1)R.A.tW.nA.push(C.x+50/r,C.y-y/2,C.x+50/r,C.y+y/2);R.Xl=!0};A.lg.prototype.gT=function(R,Z,B,o,r){if(this.id==A.Oad)return;
if(this.YX){this.YX=null;this.LO(JSON.parse(JSON.stringify(this.d$[3])));R.A.sB=[];R.A.tW=null;R.Xl=!0;
return}var Y=new n(X.E.K,!0);Y.data={d:X.l.pT,B:this.id,OUu:"showBrushOpts",Sl:new VP(r.dp+4,r.$M)};
Z.j(Y)};A.lg.prototype.LO=function(R){var Z=new n(X.E.K,!0);Z.data={d:X.l.zM,Fe:GG.Ow,aY:R};this.caller.j(Z)};
A.lg.DF=function(R,Z,B,o){if(R==null)R="FrgC";if(Z==null)Z="norm";if(B==null)B=1;var r={classID:"Fl",Usng:{t:"enum",v:{FlCn:R}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(B*100)}},Md:{t:"enum",v:{BlnM:Gd.iv(Z)}}};
if(R=="Clr")r.Clr={t:"Objc",v:o};if(R=="contentAware")r.contentAwareColorAdaptationFill={t:"bool",v:!0};
return{DG:"fill",UU:r}};A.lg.prototype.sz=function(R,Z,B,o,r){this.HW=Z;var Y=B.Y_.length;if(Y==0&&!B._W())return;
var E=Y!=0?-1-B.Y_[0]:B.C[0],p=B.q[E];if(R.d=="fromAction"){var y=R.sJ,z=y.UU;if(y.DG=="fill"){var u=(z.Opct?z.Opct.v.val:100)/100,Q=z.Md?Gd.AQ(z.Md.v.BlnM):"norm",H=z.Usng.v.FlCn,T;
if(H=="contentAware"){if(B.O==null){alert("Select an area to heal first.");return}if(!B._W())return;
this.VP(B);var C=B.O,e=O.a(C.rect.b()*4);O.qH(C.channel,e,3);this.da(B,"sheal",e,C.rect,C.rect);this.U(B,C.rect);
this.finish(B,C.rect)}else{if(H=="FrgC")T=r.Ky;else if(H=="BckC")T=r.Dk;else if(H=="Blck")T=0;else if(H=="Wht")T=16777215;
else if(H=="Gry")T=8421504;else if(H=="Clr"){var $=O.L.iz(z.Clr.v);T=$.F<<16|$.S<<8|$.X}var x=T>>16&255,M=T>>8&255,m=T>>0&255;
this.OyL(B,p,B.O,x,M,m,Math.round(255*u),Q,[2,3])}}else if(y.DG=="delete"){var G=E<0?1:p.Fv,C=B.O,P;
if(C==null)return;var K=E<0?B.tP[-E-1]:G<=0?null:G==1?p.F$():p.YQ(B).m,s=G<=0?p.rect:K.rect,L=G<=0?C.rect.Rg(s):C.rect.clone();
if(L.Pa())return;var _=L.b();if(G<=0){P=O.a(_*4);O.GN(p.buffer,p.rect,P,L)}else{P=O.a(_);K.extend(L);
O.WX(K.channel,K.rect,P,L)}if(0<=E&&p.HN(B,C)){if(G<=0){O.yg(P,0);O.GN(p.UG.pS,p.UG.XX,P,L)}else{O.set(P,255);
O.WX(p.UG.pS,p.UG.XX,P,L)}}else{if(G<=0){var i=O.a(P.length>>2);O.KT(P,i,3);O.e.fI(O.GP(C.rect.b()),C.rect,i,L,C.channel,L,1);
O.qH(i,P,3)}else{var w=O.a(C.rect.b()),x=r.Dk>>16&255,M=r.Dk>>8&255,m=r.Dk>>0&255;O.set(w,Math.round(O.Ju(x,M,m)));
O.e.fI(w,C.rect,P,L,C.channel,L,1)}}this.LG(B,!0,[2,2],E,G,L,P)}}if(R.d=="stroke"){var k=R.O$j,C=B.O;
if(C==null){C={rect:p.rect.clone(),channel:O.a(p.rect.b())};O.KT(p.buffer,C.channel,3)}var h=GS.ur(k),j=A.hs.OjO(C,Math.ceil(h[0]),Math.ceil(h[1])),T=O.L.iz(k.Clr.v),x=Math.round(T.F),M=Math.round(T.S),m=Math.round(T.X);
this.OyL(B,p,j,x,M,m,Math.round(255*k.Opct.v.val/100),Gd.AQ(k.Md.v.BlnM),[14,9])}if(R.d=="fillBMP"){this.OaU(B,p,B.O,R.Ce,R.DV,R.$L)}if(R.d=="draw"){var I=R.Ev,V=R.O_Q?Oi.T$.OtR(I,B):I.rect,F=this.yl.bmode;
this.VP(B);this.yl.bmode="norm";this.da(B,"draw",I.buffer,V,V.Rg(new N(0,0,B.Y,B.Z)));this.yl.bmode=F;
this.U(B,V);this.finish(B,V,R.$L,R.O_Q)}};A.lg.prototype.OyL=function(R,Z,B,o,r,Y,E,p,y){var z=B==null?new N(0,0,R.Y,R.Z):B.rect,u=E<<24|Y<<16|r<<8|o<<0,Q=O.a(z.b()*4);
O.yg(Q,u);this.OaU(R,Z,B,Q,p,y)};A.lg.prototype.OaU=function(R,Z,B,o,r,Y){var E=R.Y_.length!=0?-1-R.Y_[0]:R.C[0],p=E<0?1:Z.Fv,y=E<0?R.tP[-1-E]:p<=0?null:p==1?Z.F$():Z.YQ(R).m,z=p<=0?Z.rect:y.rect,u=B==null?new N(0,0,R.Y,R.Z):B.rect,Q=B==null?O.jR(R.Y*R.Z):B.channel,H=u.b(),T,C=null;
if(p<=0){T=O.a(H*4);O.GN(Z.buffer,Z.rect,T,u)}else{T=O.a(H);y.extend(u);O.WX(y.channel,y.rect,T,u)}if(B!=null)O.Qu(Q,o);
if(p>0){C=O.a(H);O.FZ(o,C)}if(0<=E&&B&&Z.HN(R,B)){var e=Z.UG.oS,$=O.clone(Z.UG.oS);if(p<=0)O.VG(o,$);
else O.VG(C,$);var x=new OV([2,3],this);x.data={d:"drawtemp",r:R.C[0],rX:p,O$B:e,O$w:$};R.ER(x);this.G_(x.data,R)}else{if(p<=0)O.e.FO(r,o,u,T,u,u,1);
else O.e.fI(C,u,T,u,Q,u,1);this.LG(R,!0,Y,E,p,u,T)}};A.lg.prototype.Hc=function(R){if(a.sp.indexOf(R)!=-1)return!0;
return!1};A.lg.prototype.oZ=function(R,Z,B,o){var r=this.yl.brush,Y=o.R(a.yt),E=Y!=this.yb,p=A.lg.LV(r,o);
if(p!=null)this.LO(p);if(!o.R(a.iW)&&o.hP()!=-1){var y=X.Olg(Math.round(this.yl.opacity*100),o.hP())/100;
this.GY({opacity:y},Z)}if(this.id==A.PX&&E&&R!=null){var z=this.yl.qsmode;if(z==2)z=R.O==null?0:1;else z=2;
this.GY({qsmode:z},Z)}this.yb=Y;if(E){if(R)this.Od=R.w.h;this.Wg(B,o)}};A.lg.LV=function(R,Z){var B=R.Brsh.v.Dmtr.v.val,o=R.Brsh.v.Hrdn!=null?R.Brsh.v.Hrdn.v.val:-1,r=B,Y=o,E=Z.R(a.Fl);
if(Z.R(a.sW)){if(E)o=25*Math.floor((o-1)/25);else{if(B<=10)B--;else if(B<=50)B=5*Math.floor((B-1)/5);
else if(B<=100)B=10*Math.floor((B-1)/10);else if(B<=200)B=25*Math.floor((B-1)/25);else if(B<=400)B=50*Math.floor((B-1)/50);
else B=100*Math.floor((B-1)/100)}}if(Z.R(a.Sk)){if(E)o=25*Math.ceil((o+1)/25);else{if(B<10)B++;else if(B<50)B=5*Math.ceil((B+1)/5);
else if(B<100)B=10*Math.ceil((B+1)/10);else if(B<200)B=25*Math.ceil((B+1)/25);else if(B<400)B=50*Math.ceil((B+1)/50);
else B=100*Math.ceil((B+1)/100)}}B=Math.max(1,B);o=Math.max(0,Math.min(100,o));if(Y==-1)o=-1;if(B!=r||o!=Y){var p=JSON.parse(JSON.stringify(R));
p.Brsh.v.Dmtr.v.val=B;if(Y!=-1)p.Brsh.v.Hrdn.v.val=o;return p}return null};A.lg.prototype.Wg=function(R,Z,B,o){if(R.$r.list.length==0)return;
var r=this.id,Y;if((r==A.va||r==A.cY||r==A.eP||r==A.p$)&&(Z!=null&&Z.R(a.yt)||this.yl.alt[0]))Y="crosshair";
else{var E=this.Od,p=this.yl.brush,y;if(B&&B.C.length!=0)y=B.q[B.C[0]];if((r==A.va||r==A.cY)&&y!=null&&y.Fv<=0){var z=B.w.JQ(o.x,o.y),u=this.Oyb(z),Q=this.yl.sfrom,H=y.buffer,T=y.rect,K,s;
if(Q!=0){T=new N(0,0,B.Y,B.Z);H=B.fw(Q==1&&B.C[0]!=B.q.length-1?B.C[0]:null)}var C=new N(T.x+u.x,T.y+u.y,T.Y,T.Z),e=GM.JA(p,R.$r.DZ,E),$=e[0],x=e[1],M=Math.ceil(x.Y/E),m=new N(Math.round(z.x-M/2),Math.round(z.y-M/2),M,M),G=O.a(m.b()*4);
O.GN(H,C,G,m);if(E==1){K=G;s=m}else if(E<1){var L=O.aF(G,m,E);K=L.Y$;s=L.rect;if(s.b()!=x.b()){s=x.clone();
s.x=L.rect.x;s.y=L.rect.y;K=O.a(s.b()*4);O.GN(L.Y$,L.rect,K,s)}}else{K=$.slice(0);s=x;O.scale.Dv(G,m.Y,m.Z,K,s.Y,s.Z,E)}var _=this.yl.opacity/255;
for(var P=0;P<K.length;P+=4)K[P+3]=_*($[P+3]*K[P+3]);Y={Ti:K,_:s,Yd:new VP(s.Y/2,s.Z/2)}}else Y=GM.Jl(p,R.$r.DZ,E)}var i=new n(X.E.K,!0);
i.data={d:X.l.Fj,JX:Y};if(this.caller)this.caller.j(i)};A.lg.prototype.enable=function(R,Z,B,o){this.$V=B;
this.caller=Z;this.LO(JSON.parse(JSON.stringify(this.yl.brush)));if(R&&R.w.h!=0)this.Od=R.w.h;this.Wg(B,o)};
A.lg.prototype.lU=function(R,Z){if(Z==GG.Ow){this.yl.brush=R.$r.nt;this.Wg(R)}};A.lg.prototype.yK=function(R,Z,B,o,r){for(var Y in R)this.yl[Y]=R[Y];
if(this.yl.alt[0])this.Wg(r,o,B)};A.lg.prototype.VP=function(R,Z){var B=R.Y_.length!=0?-1-R.Y_[0]:R.C[0],o=R.q[B],r=B<0?1:o.Fv,Y=B<0?R.tP[-B-1]:r<=0?null:r==1?o.F$():o.YQ(R).m;
this.vL=R.O==null?null:{rect:R.O.rect.clone(),channel:O.clone(R.O.channel)};this.$J=Y?Y.channel:o.buffer;
this.OH=(Y?Y.rect:o.rect).clone();var E=new N(0,0,R.Y,R.Z),p=E.fj(this.OH);if((this.Zk()&&r<=0||p.EW(this.OH))&&Z!=!0)this.$J=this.$J.slice(0);
else{if(Y)Y.extend(p);else o.extend(p)}this.sX=this.OH;this.sa=this.$J;if(r<=0&&(this.id==A.va||this.id==A.cY)){var y=this.yl.sfrom;
if(y!=0){this.sX=new N(0,0,R.Y,R.Z);this.sa=O.clone(R.fw(y==1&&R.C[0]!=R.q.length-1?R.C[0]:null))}}};
A.lg.prototype.pn=function(R,Z,B){if(R.R(a.yt)){var o=new n(X.E.$,!0);o.B=A.OOU;o.data={d:"pickhere",O$L:B};
Z.j(o);return!0}return!1};A.lg.prototype.fZ=function(R,Z,B,o,r,Y){if(!R._W()){this.GC=null;return}this.VP(R);
var E=new N(0,0,R.Y,R.Z),p=null;if(Y!=null){var y=R.Y_.length!=0?-1-R.Y_[0]:R.C[0],z=R.q[y],u=y<0?R.tP[-y-1]:z.Fv<=0?null:z.Fv==1?z.F$():z.YQ(R).m;
p=O.a(E.b()*4);if(u)A.lg.dJ(this.$J,this.OH,u.color,p,E);else O.GN(this.$J,this.OH,p,E)}var Q=this.yl;
if(this.GC&&this.id==A.PX&&Q.qsmode!=0){}else{var H=Z.Ky,T=Z.Dk;if(this.JP=="erase"){var C=H;H=T;T=C}var e=this.id==A.PX?this.OH:E;
this.GC=new GM(Q.brush,Z.$r.DZ,Z.$r.sw,{dr:r,sl:Y,O$t:Q.smth*50*X.D()/R.w.h,sS:this.id==A.p$||Q.emode==1,ne:Q.prsr},H,T,e,p)}if(this.id==A.PX){this.GC.O_P(Q.brush,Q.qsmode==2?0:16777215)}var $=R.w.JQ(o.x,o.y);
$=A.ub.$P(R,$,Z);if(B.R(a.Fl)&&this.Zp){this.GC.moveTo(this.Zp.x,this.Zp.y,o.Sh);this.GC.lineTo($.x,$.y,o.Sh)}else this.GC.moveTo($.x,$.y,o.Sh);
this.Zp=$;this.dh=$.clone();this.ao=new an($)};A.lg.prototype.JN=function(R,Z,B){if(R.w.h!=0&&R.w.h!=this.Od){this.Od=R.w.h;
this.Wg(B)}};A.lg.prototype.qh=function(R,Z,B,o){if(this.GC==null)return;var r=R.q[R.C[0]],Y=R.w.JQ(o.x,o.y);
Y=A.ub.$P(R,Y,Z);var E=this.ao.mq(Y,B);if(E.EW(this.Zp))return 1;this.GC.lineTo(E.x,E.y,o.Sh);this.Zp=E;
if(this.id==A.va||this.id==A.cY){var p=this.ZO(),y=11;p=R.w.Nv(Y.x-p.x,Y.y-p.y);var z=y>>>1,u=new N(Math.round(p.x)-z,Math.round(p.y)-z,y,y),Q=O.a(u.b()*4);
O.yg(16777215);for(var H=0;H<y;H++)Q[(H*y+z)*4+3]=Q[(y*z+H)*4+3]=255;R.A.Xd=[[Q,u]];R.Xl=!0}};A.lg.prototype.Cg=function(R,Z,B,o){if(this.id!=A.PX||R==null)return;
if(R.O==null||R.C[0]!=this.O$f){this.O$f=R.C[0];this.GY({qsmode:0},Z)}};A.lg.prototype.U=function(R,Z){if(R.Y_.length!=0){R.Xl=!0;
return}var B=R.q[R.C[0]];if(Z==null){Z=this.GC.JI();if(this.Zk()&&B.Fv<=0)Z=Z.Rg(this.OH)}if(Z.Pa())return;
if(B.Fv<=0){B.U(Z)}if(B.Fv==1){B.F$().Zr=!0;B.Aq(R)}if(B.Fv==3){B.U()}R.U(R.root.fv(Z,R,R.C[0]))};A.lg.prototype.YF=function(R,Z,B,o,r){if(this.GC==null)return;
this.GC.finish();if(this.id!=A.Oyh&&this.id!=A.cY&&this.id!=A.PX)this.Qo(R);if(this.id==A.va||this.id==A.cY){R.A.Xd=[];
R.Xl=!0}if(this.id==A.PX){var Y=R.O;R.O=this.vL;var E=new n(X.E.$,!0);E.data={d:"setsel",$L:this.name,O:Y};
E.B=A.tz;Z.j(E);if(this.yl.qsmode==0)this.GY({qsmode:1},Z)}else{this.finish(R,this.GC.xQ());this.GC=null;
this.SL=null}this.dir=0};A.lg.prototype.GY=function(R,Z){for(var B in R)this.yl[B]=R[B];var o=new n(X.E.K,!0);
o.data={d:X.l.pT,B:this.id,Xj:R};Z.j(o)};A.lg.prototype.Zk=function(){var R=this.id;return R==A.PX||R==A.Vb||R==A.ORe||R==A.OyE||R==A.OOI||R==A.Oyl};
A.lg.prototype.finish=function(R,Z,B,o){var r=R.Y_.length!=0?-1-R.Y_[0]:R.C[0],Y=R.q[r],E=r<0?1:Y.Fv,p=r<0?R.tP[-r-1]:E<=0?null:E==1?Y.F$():Y.YQ(R).m,y=p?p.rect:Y.rect,Q;
if(this.Zk()||!y.EW(this.OH)){if(p==null){if(this.Zk())Y.gG();else{var z=Z.fj(this.OH),u=O.a(z.b()*4);
O.GN(Y.buffer,Y.rect,u,z);Y.buffer=u;Y.rect=z}}else p.gG();this.U(R,y)}if(E<=0){Q=O.a(Z.b()*4);O.GN(this.$J,this.OH,Q,Z)}else{Q=O.a(Z.b());
O.set(Q,p.color);O.WX(this.$J,this.OH,Q,Z)}this.LG(R,!1,B?B:this.name,r,E,Z,Q,o)};A.lg.prototype.LG=function(R,Z,B,o,r,Y,E,p){var y=E;
if(r>0){y=O.a(Y.b()*4);A.lg.dJ(E,Y,0,y,Y)}var z=new OV(B,this);z.data=[{r:o,rX:r,_:Y,Gp:y}];if(p)z.data.OLG=[R.O,null];
R.ER(z);if(Z)this.G_(z.data,R);else if(p)R.O=null;Oi.Bi.OYd(R,z.data)};A.lg.prototype.KC=function(R,Z){this.OOC(R,Z,!1)};
A.lg.prototype.G_=function(R,Z){this.OOC(R,Z,!0)};A.lg.prototype.OOC=function(R,Z,B){if(R.d=="drawtemp"){var o=B?R.O$w:R.O$B,r=Z.q[R.r];
r.UG.oS=o;r.Uk(Z,0,0,Z.O);r.U()}else{Oi.Bi.zR(Z,R);if(R.OLG){Z.O=R.OLG[B?1:0];Z.OL=!0}}Z.U()};A.lg.prototype.Qo=function(R){this.da(R,this.JP,this.GC.VW(),this.GC.mb(),this.GC.JI());
this.U(R)};A.lg.prototype.da=function(R,Z,B,o,r){var Y=this.yl,E=R.q[R.C[0]],p=R.Y_.length!=0?R.tP[R.Y_[0]]:E.Fv<=0?null:E.Fv==1?E.F$():E.YQ(R).m,y=O.a(r.b()*4);
if(p==null){O.GN(this.$J,this.OH,y,r)}else{A.lg.dJ(this.$J,this.OH,p.color,y,r)}if(R.O&&Z!="qselect"){var z=r.Rg(R.O.rect),u=O.a(z.b()*4);
if(Z=="copy"){var Q=O.a(z.b());O.WX(R.O.channel,R.O.rect,Q,z);O.GN(y,r,u,z);O.e.AD(B,o,u,z,Q,z,0,z,1,!1)}else{O.GN(B,o,u,z);
O.Ac(R.O.channel,R.O.rect,u,z)}B=u;o=z}if(Z=="idraw"||Z=="ierase"){if(this.SL==null)this.SL=O.a(this.OH.b());
var H=this.yl.samp,T=this.$V.Dk,C=H==0?this.Zp:this.dh,e=C.x,$=C.y,x=A.yd.ou(this.$J,this.OH,[C,new VP(e-2,$),new VP(e+2,$),new VP(e,$-2),new VP(e,$+2)]);
if(H==2)x=[[T>>>16&255,T>>>8&255,T>>>0&255,255]];var M=A.yd.OYC(y,r,this.Zp,x,this.yl.wconf),m=O.a(r.b());
O.WX(this.SL,this.OH,m,r);O.zg.fj(M,m,m);O.WX(m,r,this.SL,this.OH);O.Ac(m,r,B,o);Z=Z.slice(1)}if(Z=="erase"&&(Oi.Bi.OSM(R)!=16777215||p))Z="draw";
if(Z=="draw")O.e.FO(Y.bmode,B,o,y,r,r,Y.opacity);else if(Z=="erase"){var G=O.a(r.b()*4);O.GN(B,o,G,r);
if(p==null){var K=O.a(r.b());O.KT(G,K,3);O.iQ(K,Y.opacity);O.za(K);O.Ac(K,r,y,r)}else{O.yg(G,0,4278190080);
O.e.FO("norm",G,r,y,r,r,Y.opacity)}}else if(Z=="clone"||Z=="heal"){var s=this.ZO(),L=this.sX.clone();
L.offset(s.x,s.y);var _=r.clone();_.yj(1,1);var P=O.a(_.b()*4),i=O.a(_.b());O.GN(B,o,P,_);O.KT(P,i,3);
O.yg(P,0);if(p==null){O.GN(this.sa,L,P,_);var w=O.a(_.b());O.KT(P,w,3);O.UO(w,i)}else A.lg.dJ(this.$J,L,p.color,P,_);
if(Z=="clone"){O.qH(i,P,3);O.e.FO(Y.bmode,P,_,y,r,r,Y.opacity)}if(Z=="heal"){var k=O.clone(i);O.round(k,20);
var h=O.a(_.b()*4);O.GN(this.$J,this.OH,h,_);O.e.AD(P,_,h,_,k,_,0,_,1,!1);O.xB.OV(h,k,_);O.e.AD(h,_,y,r,i,_,0,r,1,!1)}}else if(Z=="dodge"||Z=="burn"){var P=O.a(r.b()*4),V=1,F=0,q=0,t=0;
O.GN(B,o,P,r);var j=r.b()*4,I=A.lg.Zy;if(this.yb){if(Z=="dodge")Z="burn";else Z="dodge"}var c=Y.rng;
if(Z=="dodge"){F=[1-V/2,1,1+V][c];q=[1,1/(1+V),1][c];t=[V/2,0,0][c]}if(Z=="burn"){F=[1/(1-V/2),1,1-V/2][c];
q=[1,1+V,1][c];t=[-(V/2)/(1-V/2),0,0][c]}for(var f=0;f<j;f+=4){var W=P[f+3];y[f+0]=I(y[f+0],F,q,t,W);
y[f+1]=I(y[f+1],F,q,t,W);y[f+2]=I(y[f+2],F,q,t,W)}}else if(Z=="sponge"||Z=="redeye"){var P=O.a(r.b()*4),i=O.a(r.b());
O.GN(B,o,P,r);O.KT(P,i,3);O.VG(y,P);var l=Y.smode;if(this.yb)l=1-l;var g=Go.wI("hue2");if(Z=="sponge")OA.Fk(g,0,[0,[-50,46][l],[6,5][l]]);
else OA.Fk(g,1,{zH:[265,305,25,55],BF:[0,-90,-70]});var v=GK.O$("hue2",g);GK.eX(v,P,P,r);O.e.AD(P,r,y,r,i,r,0,r,1,!1)}else if(Z=="copy")O.GN(B,o,y,r);
else if(Z=="sheal"){var P=O.a(r.b()*4),i=O.a(r.b());O.GN(B,o,P,r);O.KT(P,i,3);O.aZ.OV(this.$J,this.OH,i,y,r)}else if(Z=="qselect"){var Vg=this.OH,GE=Vg.Y,Gy=Vg.Z,GY=GE*Gy,Ga=this.GC.VW(),x=this.$J,GO=A.hs.ZS,i=GO.UA;
i.fill(128);for(var f=0;f<GY;f++){var J=Ga[f<<2],D=Ga[(f<<2)+3];if(D==255&&(J==0||J==255))i[f]=J}i[0]=i[GE-1]=0;
i[(Gy>>>1)*GE]=i[(Gy>>>1)*GE+GE-1]=0;A.Ar.MY(GO,!0);R.O={rect:Vg,channel:GO.O.slice(0)};R.OL=!0}if(p==null)O.GN(y,r,E.buffer,E.rect);
else A.lg.Zh(y,r,p)};A.lg.ZO=function(){return null};A.lg.Zy=function(R,Z,B,o,r){var Y=R*(1/255),E=o+Z*Math.pow(Y,B),p=Math.round(E*r+Y*(255-r));
return Math.max(0,Math.min(255,p))};A.lg.dJ=function(R,Z,B,o,r){var Y=O.a(r.b());O.set(Y,B);O.WX(R,Z,Y,r);
O.yg(o,4278190080);O.as(Y,o)};A.lg.Zh=function(R,Z,B){var o=O.a(Z.b());O.FZ(R,o);O.WX(o,Z,B.channel,B.rect)};
A.hs=function(R,Z,B){A.Kx.call(this,R,Z,B);this.yl={$p:"front",lB:0,DR:{RN:0,x:3,y:2},st:[10,!0,!0]};
this.FF=new VP(-1,-1);this.qU=new VP(-1,-1);this.XI="default";this.HW=null;this.Ez=!1;this.sN=!1;this.yb=!1;
this.si=0;this.ra=0;this.sT=!1;this.Sf=null;this.Ss=null;this.ns=!1};A.hs.prototype=new A.Kx;A.hs.ZS={key:""};
A.hs.Ze=function(R,Z){var B={DG:R,UU:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(Z)B.UU.T=Z;return B};A.hs.LY=function(R,Z){return A.hs.Ze("set",{t:"Objc",v:{classID:R,Top:{t:"UntF",v:{type:"#Pxl",val:Z.y}},Left:{t:"UntF",v:{type:"#Pxl",val:Z.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:Z.y+Z.Z}},Rght:{t:"UntF",v:{type:"#Pxl",val:Z.x+Z.Y}}}})};
A.hs.Gj=function(R,Z){var B=[],o=[],E="set";for(var r=0;r<R.length;r+=2){B.push(R[r]);o.push(R[r+1])}var Y={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:B},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:o}]}}}};
if(Z)E={front:"set",union:"addTo",difference:"subtractFrom",intersection:"interfaceWhite"}[Z];return A.hs.Ze(E,Y)};
A.hs.OOr=function(R,Z){var B={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:R.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:R.y}}}},o=A.hs.Ze("set",B);
o.UU.Tlrn={t:"long",v:Z[0]};o.UU.AntA={t:"bool",v:Z[1]};o.UU.Cntg={t:"bool",v:Z[2]};return o};A.hs.FP=function(R){return A.hs.Ze("set",{t:"enum",v:{Ordn:R?"Al":"None"}})};
A.hs.OOM=function(R,Z,B){var o={classID:"null"};if(R!="border")o.selectionModifyEffectAtCanvasBounds={t:"bool",v:B};
var r={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[R[0]];o[r]={t:"UntF",v:{type:"#Pxl",val:Z}};return{DG:R,UU:o}};
A.hs.OyP=function(R,Z,B){var o={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},r={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Trsp","Msk"][B]}},{t:"name",v:{classID:"Lyr",val:R}}]},Y=[{classID:"null",null:o,T:r},{classID:"null",null:r,T:o},{classID:"null",null:r,From:o},{classID:"null",null:r,With:o}],E=["set","add","subtract","interfaceIconFrameDimmed"];
return{DG:E[Z],UU:Y[Z]}};A.hs.OEz=function(R,Z){var B=new n(X.E.K,!0);B.data={d:X.l.zM,Fe:GG.ON};if(!Z.RG)R.j(B);
B.data={d:X.l.zM,Fe:GG.Mc};if(!Z.Al.Xw)R.j(B)};A.hs.prototype.sz=function(R,Z,B,o,r){A.hs.OEz(Z,r);this.HW=Z;
var Y=R.d,E,p,y=new N(0,0,B.Y,B.Z),G_=!1,Gf,Gl;if(Y=="fromAction"){var z=R.sJ,u=z.DG,Q=z.UU,H=Q?Q.selectionModifyEffectAtCanvasBounds:null,T=H&&H.v;
if(u=="inverse"){if(B.O==null){alert("No selection!");return}E={channel:O.a(y.b()),rect:y};O.WX(B.O.channel,B.O.rect,E.channel,E.rect);
O.za(E.channel);p=[7,2]}else if(u=="expand"){var C=Q.By.v.val,e=B.O.rect.clone();e.yj(C,C);var $=O.a(e.b()),x=O.a(e.b());
O.WX(B.O.channel,B.O.rect,x,e);O.style.stroke(x,$,e,C);E={channel:$,rect:e};p=[7,4]}else if(u=="contract"){var C=Q.By.v.val,M=B.O.rect.clone();
M.yj(1,1);if(!T)M=M.Rg(y);var x=O.a(M.b()),m=O.a(x.length);O.WX(B.O.channel,B.O.rect,x,M);O.za(x);O.style.stroke(x,m,M,C);
O.za(m);E={channel:m,rect:M};O.gG(E);p=[7,5]}else if(u=="border"){var C=Q.Wdth.v.val;E=A.hs.OjO(B.O,C/2,C/2);
p=[7,9]}else if(u=="feather"||u=="smoothness"){var C=Q.Rds.v.val;E=A.hs.OSw(B.O,C,u=="smoothness",y,T);
p=u=="feather"?[7,6]:[19,3,0]}else{var G=Q.null.v;function K(Gu){var GP=Gu.Top.v.val,GA=Gu.Left.v.val;
return new N(GA,GP,Gu.Rght.v.val-GA,Gu.Btom.v.val-GP)}function s(Gu){var GP=Gu[0].arr,Gn=Gu[1].arr,Yy={I:[],J:[]};
for(var Gj=0;Gj<GP.length;Gj++){Yy.J.push(Gj==0?"M":"L");Yy.I.push(GP[Gj],Gn[Gj])}Yy.J.push("Z");return Yy}var L=["set","addTo","subtractFrom","interfaceWhite"].indexOf(u),_=Q.T?Q.T.v:null;
if(_&&_.classID=="Elps"){E=this.OOJ(A.Wq.OEW(K(_)));p=[10,4]}else if(_&&_.classID=="Rctn"){var P=K(_);
E={channel:O.a(P.b()),rect:P.clone()};O.set(E.channel,255);p=[10,15]}else if(_&&_.classID=="ObSl"){var P=K(_),i=A.hs.ZS,w=i.rect,k=i.UA,h=w.Y,j=w.Z,I=P.x-w.x,V=I+P.Y-1,F=Math.max(I,Math.min(V,I+V>>>1)),q=P.y-w.y,t=q+P.Z-1,c=Math.max(q,Math.min(t,q+t>>>1)),f=Math.max(I,0),W=Math.min(V,h),l=Math.max(q,0),g=Math.min(t,j);
k.fill(128);if(0<=q)for(var v=f;v<W;v++)k[q*h+v]=0;if(t<j)for(var v=f;v<W;v++)k[t*h+v]=0;if(0<=I)for(var Vg=l;
Vg<g;Vg++)k[Vg*h+I]=0;if(V<h)for(var Vg=l;Vg<g;Vg++)k[Vg*h+V]=0;var GE=A.OO.OOg,Gy=Math.round(P.Y*GE),GY=Math.round(P.Z*GE);
for(var v=Math.max(0,F-Gy);v<Math.min(h,F+Gy);v++)k[c*h+v]=255;for(var Vg=Math.max(0,c-GY);Vg<Math.min(j,c+GY);
Vg++)k[Vg*h+F]=255;A.Ar.MY(i,!0);E={channel:i.O.slice(0),rect:w.clone()};p=[10,44]}else if(_&&_.classID=="Plgn"){E=this.OOJ(s(_.Pts.v.arr));
p=[10,9]}else if(_&&_.classID=="Pnt"){E=A.yd.OzL(B,new VP(_.Hrzn.v.val,_.Vrtc.v.val),[Q.Tlrn.v,Q.AntA==null||Q.AntA.v,Q.Cntg==null||Q.Cntg.v]);
p=[10,12]}else if(_&&_.Ordn=="None"){E=null;p=[7,1]}else if(_&&_.Ordn=="Al"){E={channel:O.a(y.b()),rect:y};
O.set(E.channel,255);p=[7,0]}else{var Ga=B.C[0],GB;if(G.length==2)Ga=OX.OW(B,G[1]);else if(_.length==2)Ga=OX.OW(B,_[1]);
var GO=(_?_:G)[0].v.enum,J=["Trsp","Msk","vectorMask"].indexOf(GO);console.log(J);var D=L!=-1?L:["set","add","subtract","interfaceIconFrameDimmed"].indexOf(u);
if(_&&_[0].t=="name"){for(var Gj=0;Gj<B.tP.length;Gj++)if(B.tP[Gj].name==_[0].v.val)Ga=Gj;GB={d:"fromchannel",ua:[-5-Ga,0,D]}}else if(GO=="RGB")GB={d:"fromchannel",ua:[-1,0,D]};
else GB={d:"fromlayer",ua:[Ga,J,D]};this.sz(GB,Z,B,o,r);return}if(Q.Fthr)E=A.hs.OSw(E,Q.Fthr.v.val,!1);
if(u!="set"&&B.O!=null)E=O.zg.BG(E,B.O,["","union","difference","intersection"][L])}if(u=="expand"||u=="contract")if(!T&&!y.contains(E.rect)){var GX=E.rect.Rg(y),Gw=O.a(GX.b());
O.WX(E.channel,E.rect,Gw,GX);E.channel=Gw;E.rect=GX}}if(Y=="qmask"){G_=!0;var GU=B.Lp(),GD=new N(0,0,B.Y,B.Z);
if(GU){E=GU.rect.EW(GD)&&O.in(GU.channel,255)?null:{rect:GU.rect.clone(),channel:GU.channel.slice(0)};
Gf=GU}else{E=null;Gl=new S.iH;Gl.color=0;Gl.name="Quick Mask";Gl.NM=!0;if(B.O){Gl.rect=B.O.rect.clone();
Gl.channel=B.O.channel.slice(0)}else{Gl.rect=GD;Gl.channel=O.a(Gl.rect.b());O.set(Gl.channel,255)}}p=[6,6,1]}if(Y=="setsel"){E=R.O;
p=R.$L}if(Y=="crange"){var Gi=R.Rt,Gh=R.Rz;E=A.hs.Oax(B,Gi,Gh,R.Ud);p=[7,8];Gi={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:Gi.wi},A:{t:"doub",v:Gi.t},B:{t:"doub",v:Gi.X}}};
Gh={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:Gh.wi},A:{t:"doub",v:Gh.t},B:{t:"doub",v:Gh.X}}};this.track({DG:"colorRange",UU:{__name:"Color Range",classID:"ClrR",Fzns:{t:"long",v:Math.round(R.Ud*200)},Mnm:Gi,Mxm:Gh,colorModel:{t:"long",v:0}}})}if(Y=="fromlayer"||Y=="fromchannel"||Y=="frompath"){var G$=R.ua[0],J=R.ua[1],L=R.ua[2];
if(Y=="fromlayer"){if(G$==null)G$=B.C[0];var GA=B.q[G$];if(J==0){var GJ=GA.rect,Ge=GA.buffer;if(GJ.Pa())return;
var Gq=O.a(Ge.length>>>2);O.KT(Ge,Gq,3);E={channel:Gq,rect:GJ.clone()}}else{if(GA.m==null)GA.Aq(B);var Gv=J==1?GA.F$():GA.m;
E=A.hs.OOA(Gv,y)}this.track(A.hs.OyP(GA.getName(),L,J))}else if(Y=="frompath"){if(G$==null){var yi=B.dm(),GZ=yi[1],yi=yi[0];
if(yi.length==0||GZ.length==0)return;G$=yi[GZ[0]].qp}var OU=G$>=0?B.q[G$]:B.EP[-1-G$],Gv=OU.add.vmsk.F$(),GH=Gv.mb();
if(GH.b()==0)return;var Gq=Gv.UV(),OB=B.JG.indexOf(-1-G$);if(OB!=-1)B.JG.splice(OB,1);E={channel:Gq,rect:GH}}else{if(G$==null)G$=A.hs.OEq(B);
E=A.hs.OOw(B,G$)}if(L!=0&&B.O)E=O.zg.BG(E,B.O,["","union","difference","intersection"][L]);p=[14,11]}if(E!=null&&O.in(E.channel,0)){E=null;
p=[7,1]}if(E)O.gG(E);var Gb=new OV(p,this);Gb.data={d:"changesel",vL:B.O,vq:E,Lp:G_,OLz:Gf,OLm:Gl};B.ER(Gb);
this.G_(Gb.data,B)};A.hs.OEq=function(R){var Z=0;if(R.Y_.length!=0)Z=-5-R.Y_[0];else if(JSON.stringify(R.w.Ej)=="[1,1,1]")Z=-1;
else Z=-2-R.w.Ej.indexOf(1);return Z};A.hs.OOw=function(R,Z){var B,o=new N(0,0,R.Y,R.Z);if(-5<Z&Z<0){var r=-Z-1,Y=R.fw(),E=O.a(o.b());
if(r==0)O.FZ(Y,E);else O.KT(Y,E,r-1);B={channel:E,rect:o.clone()}}if(Z<-4){B=A.hs.OOA(R.tP[-Z-5],o)}return B};
A.hs.OOA=function(R,Z){var B,o;if(R.iz()==0){o=R.mb();if(o.b()==0)return;B=R.UV()}else{o=Z;B=O.a(o.b());
R.yD(o,B)}return{channel:B,rect:o}};A.hs.prototype.hj=function(R){return this.sT||R.yL&&this.id!=A.OOh};
A.hs.prototype.KL=function(R,Z,B){var o=new n(Z,!0);o.data=B;R.j(o)};A.hs.prototype.Oyx=function(R,Z){var B=new n(X.E.K,!0);
B.data={d:X.l.Fj,JX:Z};R.j(B)};A.hs.prototype.mb=function(R,Z,B){Z=R.O==null||this.si>1||this.ra>1?Z:null;
var o=this.FF,r=this.qU;if(B){o.x=Math.max(0,Math.min(R.Y,o.x));o.y=Math.max(0,Math.min(R.Z,o.y));r.x=Math.max(0,Math.min(R.Y,r.x));
r.y=Math.max(0,Math.min(R.Z,r.y))}var Y=A.zi.lk(o,r,Z,!0,this.yl.DR),E=Y[0].x,p=Y[0].y;return new N(E,p,Y[1].x-E,Y[1].y-p)};
A.hs.prototype.JH=function(R,Z,B,o,r){if(this.LR())return;this.HW=Z;this.Ez=!1;this.sN=o.R(a.Fl);this.yb=o.R(a.yt);
this.si=this.sN?0:1;this.ra=this.yb?0:1;this.FF=R.w.JQ(r.x,r.y);this.FF=A.ub.$P(R,this.FF,B);if(this.Oqa(R,this.FF)){this.sT=!0;
this.Sf=R.O.rect.clone();return}this.mz(R,B,o,r);R.w.nC=new N};A.hs.prototype.Oqa=function(R,Z){if(R.O&&this.yl.$p=="front")return O.AK(Z,R.O.channel,R.O.rect);
return!1};A.hs.prototype.TU=function(R,Z,B,o,r){this.HW=Z;if(this.ns)return;var Y=R.w.JQ(r.x,r.y);if(VP.HP(this.FF,Y)*R.w.h>5)this.Ez=!0;
if(o.R(a.NF)){if(this.Ss==null)this.Ss=new VP(Y.x-this.FF.x,Y.y-this.FF.y);this.FF.x=Y.x-this.Ss.x;this.FF.y=Y.y-this.Ss.y}else this.Ss=null;
this.qU=Y;if(!this.sT)this.qU=A.ub.$P(R,this.qU,B);if(this.Oqa(R,this.qU))this.Oyx(Z,"move");else this.Oyx(Z,this.XI);
if(this.sT){var E=this.Sf.clone();E.x+=this.qU.x-this.FF.x;E.y+=this.qU.y-this.FF.y;var p=A.ub.vK(R,E,B);
R.O.rect.x=Math.round(this.qU.x-this.FF.x+this.Sf.x+p[0]);R.O.rect.y=Math.round(this.qU.y-this.FF.y+this.Sf.y+p[1]);
R.OL=!0;A.ub.vx(R,E,p);return}this.KV(R,B,o,r);if(R.w.nC)R.w.nC=this.mb(R,o)};A.hs.prototype.LR=function(){return!1};
A.hs.prototype.YF=function(R,Z,B,o,r){R.w.nC=null;this.qU=R.w.JQ(r.x,r.y);this.qU=A.ub.$P(R,this.qU,B);
if(this.sT){this.sT=!1;if(this.qU.EW(this.FF)&&this.Oyf()=="front"){this.KL(Z,X.E.e_,A.hs.FP());return}this.OYW(R,this.Sf,R.O.rect.clone());
if(R!=null&&R.A.jK){R.A.jK=null;R.Xl=!0}return}this.qK(R,B,o,r);A.hs.OEz(Z,B)};A.hs.prototype.OYW=function(R,Z,B){var o=R.lp();
if(o!=null&&o.B==this&&o.data.d=="movesel"){}else{o=new OV([7,7],this);o.data={d:"movesel",xT:Z};R.ER(o)}o.data.sQ=B;
this.G_(o.data,R)};A.hs.prototype.pJ=function(R,Z,B,o,r){this.ns=!0};A.hs.prototype.gT=function(R,Z,B,o,r){var Y=new n(X.E.K,!0);
Y.data={d:X.l.pT,B:this.id,Xq:r,fB:R,sI:B};Z.j(Y);this.ns=!1};A.hs.prototype.oZ=function(R,Z,B,o){var r=o.R(a.Fl),Y=o.R(a.yt);
if(this.Ez){if(this.si==0&&!r)this.si++;if(this.si==1&&r)this.si++;if(this.ra==0&&!Y)this.ra++;if(this.ra==1&&Y)this.ra++}if(R!=null&&R.O!=null){var E=o.Nh();
if(E.x!=0||E.y!=0){var p=R.O.rect.clone();p.x+=E.x;p.y+=E.y;this.OYW(R,R.O.rect.clone(),p)}}var y=A.hs.LA(this.yl.$p,r,Y),z=new n(X.E.K,!0);
z.data={d:X.l.pT,B:this.id,$p:y};Z.j(z)};A.hs.prototype.finish=function(R,Z,B,o){var r=R.O,Y=this.getSelection(R,Z,B,o);
if(Y==null)Y=A.hs.FP();else{var E=this.yl.lB,p=this.Oyf();if(E!=0)Y.UU.Fthr={t:"UntF",v:{type:"#Pxl",val:E}};
if(p!="front"&&p!="xor")Y.DG={union:"addTo",difference:"subtractFrom",intersection:"interfaceWhite"}[p]}this.KL(this.HW,X.E.e_,Y);
this.FF.wh(-1,-1);this.qU.wh(-1,-1)};A.hs.prototype.Oyf=function(){return A.hs.LA(this.yl.$p,this.sN,this.yb)};
A.hs.LA=function(R,Z,B){if(Z)R="union";if(B)R="difference";if(Z&&B)R="intersection";return R};A.hs.prototype.getSelection=function(R,Z,B,o){return null};
A.hs.prototype.mz=function(R,Z,B,o){};A.hs.prototype.KV=function(R,Z,B,o){};A.hs.prototype.qK=function(R,Z,B,o){};
A.hs.prototype.KC=function(R,Z){var B=R.d;if(B=="changesel")Z.O=R.vL;if(B=="movesel")Z.O.rect=R.xT;if(R.Lp){if(R.OLz){Z.Y_=[Z.tP.length];
Z.tP.push(R.OLz)}else{Z.tP.pop();Z.Y_=[]}}Z.OL=!0};A.hs.prototype.G_=function(R,Z){var B=R.d;if(B=="changesel")Z.O=R.vq;
if(B=="movesel")Z.O.rect=R.sQ;if(R.Lp){if(R.OLm){Z.Y_=[Z.tP.length];Z.tP.push(R.OLm)}else{Z.tP.pop();
Z.Y_=[]}}Z.OL=!0};A.hs.prototype.yK=function(R){this.yl=R};A.hs.prototype.OOJ=function(R){var Z=O.W.bE(R.I);
if(Z.Pa())return null;var B=X.T("canvas","");B.width=Z.Y;B.height=Z.Z;var o=B.getContext("2d");o.beginPath();
o.translate(-Z.x,-Z.y);Typr.U.pathToContext({cmds:R.J,crds:R.I},o);o.closePath();o.fill();var r=O.a(Z.b()),Y=o.getImageData(0,0,B.width,B.height);
O.KT(Y.data,r,3);return{rect:Z,channel:r}};A.hs.OSw=function(R,Z,B,o,r){if(B)Z=Math.round(Z*.7);var Y=Math.ceil(2.6*Z),E=R.rect.clone();
E.yj(Y,Y);if(o&&!r)E=E.Rg(o);var p=O.a(E.b()),y=O.a(p.length);O.WX(R.channel,R.rect,y,E);O.blur.uy(y,p,E,Z);
if(B){var z=p.length;for(var u=0;u<z;u++){var Q=(p[u]-128)*Z*2.5;p[u]=Math.max(0,Math.min(255,Math.round(128+Q)))}}return{channel:p,rect:E}};
A.hs.OjO=function(R,Z,B){var o=Math.max(1,Math.ceil(B)),r=R.rect.clone();r.yj(o,o);var Y=r.b(),E={channel:O.a(Y),rect:r},p=O.a(Y);
O.WX(R.channel,R.rect,p,E.rect);if(B!=0)O.style.stroke(p,E.channel,E.rect,B);else O.VG(p,E.channel);
var y=O.a(Y);O.za(p);if(Z!=0)O.style.stroke(p,y,E.rect,Z);else O.VG(p,y);O.zg.Rg(E.channel,y,E.channel);
return E};A.hs.Oax=function(R,Z,B,o){var r=new N(0,0,R.Y,R.Z),Y=R.fw();if(R.O){var E=R.O.rect.Rg(r),p=O.a(E.b()*4);
O.GN(Y,r,p,E);r=E;Y=p}var y=r.b(),z=O.a(y),u=1/o;for(var Q=0;Q<y;Q++){var H=Q<<2,T=O.MO(Y[H],Y[H+1],Y[H+2]),C=O.QD(T,Z,B,o,u);
z[Q]=255*C}return{rect:r,channel:z}};A.ZM=function(){A.lg.call(this,[10,18],A.Vn,"tools/blur");this.JP="copy"};
A.ZM.prototype=new A.lg;A.ZM.prototype.JH=function(R,Z,B,o,r){var Y=o.R(a.yt)?GM.mU:GM.Vn;this.fZ(R,B,o,r,this.yl.strn,Y);
if(this.GC==null)return;this.Qo(R)};A.ZM.prototype.TU=function(R,Z,B,o,r){this.JN(R,Z,B);if(this.YX)this.ff(R,B,r);
if(this.GC==null)return;if(!r.yL)return;this.qh(R,B,o,r);this.Qo(R)};A.Zs=function(){A.lg.call(this,[10,0],A.eP,"tools/brush");
this.JP="draw"};A.Zs.prototype=new A.lg;A.Zs.prototype.JH=function(R,Z,B,o,r){if(this.pn(o,Z,r))return;
this.fZ(R,B,o,r,this.yl.flow);if(this.GC==null)return;this.Qo(R)};A.Zs.prototype.TU=function(R,Z,B,o,r){this.JN(R,Z,B);
if(this.YX)this.ff(R,B,r);if(this.GC==null)return;if(!r.yL)return;this.qh(R,B,o,r);this.Qo(R)};A.ZT=function(){A.lg.call(this,[10,42],A.Okz,"tools/crepl");
this.JP="idraw";this.yl.bmode="hue "};A.ZT.prototype=new A.lg;A.ZT.prototype.JH=function(R,Z,B,o,r){if(this.pn(o,Z,r))return;
this.fZ(R,B,o,r,this.yl.flow);if(this.GC==null)return;this.Qo(R)};A.ZT.prototype.TU=function(R,Z,B,o,r){this.JN(R,Z,B);
if(this.YX)this.ff(R,B,r);if(this.GC==null)return;if(!r.yL)return;this.qh(R,B,o,r);this.Qo(R)};A.Zd=function(){A.lg.call(this,[10,43],A.Oyl,"tools/redeye");
this.yl.smode=0;this.JP="redeye"};A.Zd.prototype=new A.lg;A.Zd.prototype.JH=function(R,Z,B,o,r){this.fZ(R,B,o,r,this.yl.flow);
if(this.GC==null)return;this.Qo(R)};A.Zd.prototype.TU=function(R,Z,B,o,r){this.JN(R,Z,B);if(this.YX)this.ff(R,B,r);
if(this.GC==null)return;if(!r.yL)return;this.qh(R,B,o,r);this.Qo(R)};A.oX=function(){A.lg.call(this,[10,38],A.p$,"tools/pencil");
this.JP="draw"};A.oX.prototype=new A.lg;A.oX.prototype.JH=function(R,Z,B,o,r){if(this.pn(o,Z,r))return;
this.fZ(R,B,o,r,this.yl.flow);if(this.GC==null)return;this.Qo(R)};A.oX.prototype.TU=function(R,Z,B,o,r){this.JN(R,Z,B);
if(this.YX)this.ff(R,B,r);if(this.GC==null)return;if(!r.yL)return;this.qh(R,B,o,r);this.Qo(R)};A.oa=function(){A.lg.call(this,[10,22],A.OyE,"tools/burn");
this.JP="burn"};A.oa.prototype=new A.lg;A.oa.prototype.JH=function(R,Z,B,o,r){this.fZ(R,B,o,r,this.yl.expo/Math.E);
if(this.GC==null)return;this.Qo(R)};A.oa.prototype.TU=function(R,Z,B,o,r){this.JN(R,Z,B);if(this.YX)this.ff(R,B,r);
if(this.GC==null)return;if(!r.yL)return;this.qh(R,B,o,r);this.Qo(R)};A.PW=function(R,Z,B){A.lg.call(this,R==""?null:R?R:[10,1],Z?Z:A.va,B?B:"tools/clone");
this.JP="clone";this.XS=null;this.s=null};A.PW.prototype=new A.lg;A.PW.prototype.JH=function(R,Z,B,o,r){var Y=this.yl,E=Y.alt[0];
if(o.R(a.yt)||o.R(a.qQ)||E){this.XS=R.w.JQ(r.x,r.y);this.s=null;if(E)this.GY({alt:[!1]},Z);this.Wg(B,o,R,r);
return}if(this.XS==null){alert(Ok.get([15,7,0]));return}this.Wg(B,o);this.fZ(R,B,o,r,this.yl.flow);if(this.GC==null)return;
this.s=this.Oyb(R.w.JQ(r.x,r.y));this.Qo(R)};A.PW.prototype.Oyb=function(R){var Z=this.s;if(Z==null||!this.yl.algnd)Z=new VP(Math.round(R.x-this.XS.x),Math.round(R.y-this.XS.y));
return Z};A.PW.prototype.TU=function(R,Z,B,o,r){this.JN(R,Z,B);if(this.YX)this.ff(R,B,r);if(this.GC==null){if(this.XS!=null)this.Wg(B,o,R,r);
return}if(!r.yL||this.XS==null)return;this.qh(R,B,o,r);this.Qo(R)};A.PW.prototype.ZO=function(){return this.s};
A.PW.prototype.disable=function(R,Z,B,o){this.XS=null;this.s=null};A.bG=function(R,Z,B){A.Kx.call(this,R,Z,B);
this.rA={Vu:{RN:0,x:0,y:0}};this.K$=null;this.cursor=null;this.Ol_=0;this.QW=null;this.FF=null;this.sv=null};
A.bG.prototype=new A.Kx;A.bG.prototype.uC=function(){return this.K$!=null};A.bG.prototype.hj=function(R){return this.K$&&this.K$.Ote()};
A.bG.prototype.JH=function(R,Z,B,o,r){this.QW=r;var Y=R.w.JQ(r.x,r.y);Y.x=Math.round(Y.x);Y.y=Math.round(Y.y);
var E=this.rA.Vu,p=E.RN!=0?E.x/E.y:null;if(this.K$)this.K$.JH(R,B,o,Y,p,!1);else this.FF=A.ub.$P(R,Y,B)};
A.bG.prototype.OOb=function(R,Z){var B=[R.x,R.y,R.x+R.Y,R.y,R.x+R.Y,R.y+R.Z,R.x,R.y+R.Z];return new VM(B,!0,!1,this.id==A._e,!0,Z,this.id==A._e?2:0)};
A.bG.prototype.Wg=function(R){var Z=new n(X.E.K,!0);Z.data={d:X.l.Fj,JX:this.cursor};R.j(Z)};A.bG.prototype.enable=function(R,Z,B,o){this.cursor="crosshair";
this.Wg(Z);if(R!=null&&R.O){var r=this.rA.Vu={RN:0,x:0,y:0};this.KL(Z,X.E.K,{d:X.l.pT,B:this.id,SH:!1,DR:r});
this.yK({hu:"cropby",OlD:3},Z,R,o,B)}};A.bG.prototype.TU=function(R,Z,B,o,r){this.QW=r;var Y=R.w.JQ(r.x,r.y);
if(!r.yL){var E="crosshair";if(this.K$){var p=this.K$.zy(Y,R.w.h);if(p)E=p;else E="default"}if(E!=this.cursor){this.cursor=E;
this.Wg(Z)}}if(this.K$)this.K$.TU(R,B,o,Y);else if(this.FF){var y=A.zi.lk(this.FF,A.ub.$P(R,Y,B),o,!0,this.rA.Vu),z=y[0].x,u=y[0].y,Q=this.sv=new N(z,u,y[1].x-z,y[1].y-u);
R.A.ql=O.W.Bu(Q);R.Xl=!0;A.Kx.VF(r.x+10,r.y-10,Q,R,B)}};A.bG.prototype.YF=function(R,Z,B,o,r){this.QW=r;
if(this.K$==null){if(this.FF){var Y=this.sv;if(Y){var E=this.rA.Vu;this.K$=this.OOb(Y,E.RN!=0);this.K$.mF(R,B);
this.sv=null;this.KL(Z,X.E.K,{d:X.l.pT,B:this.id,SH:!0})}this.FF=null;R.A.Xd=[];R.Xl=!0}return}var p=R.w.JQ(r.x,r.y);
this.K$.YF(R,B,o,p);this.KL(Z,X.E.K,{d:X.l.pT,B:this.id,SH:!0});var y=this.K$.UK();if(Math.abs(y[0]-y[4])<2||Math.abs(y[1]-y[5])<2){this.disable(R,Z,null,o);
return}if(Date.now()-this.Ol_<200&&this.K$.Yq(p)){this.Lh(R,B);this.disable(R,Z,B,o);return}this.Ol_=Date.now()};
A.bG.prototype.oZ=function(R,Z,B,o){var r=this.K$;if(r==null||this.QW&&this.QW.yL)return;if(o.R(a.Ic)){this.Lh(R,B);
this.disable(R,Z,B,o)}else if(o.R(a.UF)){this.disable(R,Z,B,o)}else r.oZ(R,B,o)};A.bG.Ll=function(R,Z){if(Z==null)Z=[!0,!0,!0,!0];
var B={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][R]}}},o=["Top","Left","Btom","Rght"];
for(var r=0;r<4;r++)B[o[r]]={t:"bool",v:Z[r]};return{DG:"trim",UU:B}};A.bG.OOD=function(R,Z,B,o){var r={classID:"null"};
if(o!=null){r.Wdth={t:"UntF",v:{type:"#Pxl",val:R}};r.Hght={t:"UntF",v:{type:"#Pxl",val:Z}};r.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][o]}}}if(B!=null)r.Rslt={t:"UntF",v:{type:"#Rsl",val:B}};
return{DG:"imageSize",UU:r}};A.bG.Oa$=function(R,Z,B){if(B==null)B=4;var o=Math.floor(B/3),r=B%3;return{DG:"canvasSize",UU:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:R}},Hght:{t:"UntF",v:{type:"#Pxl",val:Z}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][r]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][o]}}}}};
A.bG.prototype.sz=function(R,Z,B,o,r){var Y=new N(0,0,B.Y,B.Z),E=[11,3],p=B.ag,y=B.Y/2,z=B.Z/2,u=1,c,f;
if(R.d=="fromAction"){var Q=R.sJ,H=Q.DG,T=Q.UU,C=B.Y/B.Z,e=T.Wdth?T.Wdth.v.val:-1,$=T.Hght?T.Hght.v.val:-1,p=T.Rslt?T.Rslt.v.val:null,x=T.Wdth?T.Wdth.v.type:T.Hght?T.Hght.v.type:-1,M=1,m;
if(H=="imageSize"){if(T.Intr){if(T.Intr.v.Intp=="Nrst")M=0;if(T.Intr.v.Intp=="bicubicSharper")M=2;if(e==-1&&$==-1){var G=p/B.ag;
e=Math.round(B.Y*G);$=Math.round(B.Z*G)}else if(x=="#Prc"){if(e!=-1)e=Math.round(B.Y*e/100);if($!=-1)$=Math.round(B.Z*$/100)}if(T.CnsP&&T.CnsP.v){if(e==-1)e=Math.round($*C);
if($==-1)$=Math.round(e/C)}}else{if(x=="#Prc")p=Math.round(B.ag/((e!=-1?e:$)/100));else if(x==-1)p=Math.round(p);
else throw"e";e=B.Y;$=B.Z}m={d:"imgsize",tX:e,ta:$,tj:p,Hy:M}}else if(H=="canvasSize"){console.log(H,T);
if(e==-1)e=B.Y;if($==-1)$=B.Z;if(T.Rltv&&T.Rltv.v==!0){if(T.Wdth)e+=B.Y;if(T.Hght)$+=B.Z}var K=T.Vrtc?T.Vrtc.v.VrtL:"Cntr",s=T.Hrzn?T.Hrzn.v.HrzL:"Cntr";
m={d:"canvsize",tX:e,ta:$,Uf:3*["Top","Cntr","Btom"].indexOf(K)+["Left","Cntr","Rght"].indexOf(s)}}else if(H=="revealAll"){m={d:"revealAll"}}else if(H=="trim"){var L={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[T.trimBasedOn.v.trimBasedOn];
if(L==null)throw"e";var _=["Top","Left","Btom","Rght"],P=[!0,!0,!0,!0];for(var i=0;i<4;i++)if(T[_[i]])P[i]=T[_[i]].v;
m={d:"trim",OYI:L,DR:P}}if(m)this.sz(m,Z,B,o,r);return}else if(R.d=="imgsize"){Y=new N(0,0,R.tX,R.ta);
if(R.tj)p=R.tj;u=R.Hy}else if(R.d=="canvsize"){var w=R.Uf!=null?R.Uf:0;Y=new N(0,0,R.tX,R.ta);var k=B.Y-R.tX,h=B.Z-R.ta,j=Math.round(k/2),I=Math.round(h/2);
if(w==1||w==4||w==7)Y.x=j;if(w==2||w==5||w==8)Y.x=k;if(w==3||w==4||w==5)Y.y=I;if(w==6||w==7||w==8)Y.y=h;
if(R.s){Y.x=R.s.x;Y.y=R.s.y}}else if(R.d=="rot"&&(R.k+2*Math.PI)%(Math.PI/2)!=0){var V=O.W.Bu(Y).I,F=new GN;
F.translate(-y,-z);F.rotate(R.k);F.translate(y,z);O.W.P(V,F,V);Y=O.W.bE(V)}else if(R.d=="rot"&&R.k!=Math.PI&&R.k!=-Math.PI){Y=new N(y-B.Z/2,z-B.Y/2,B.Z,B.Y);
if((B.Y+B.Z&1)==1){y=Math.floor(y);z=Math.floor(z);Y=new N(y-Math.floor(B.Z/2),z-Math.floor(B.Y/2),B.Z,B.Y);
if((B.Y&1)==1&&R.k!=-Math.PI/2)Y.y--;if((B.Z&1)==1&&R.k==-Math.PI/2)Y.x--}}else if(R.d=="trim"){E=[11,12,0];
var q=B.fw(),t=new N(0,0,B.Y,B.Z);Y=O.jV(q,t,R.OYI,R.DR);if(Y.Pa())Y=t}else if(R.d=="cropbysel"){E=[11,12,1];
Y=B.O.rect.clone()}else if(R.d=="revealAll"){E=[11,12,2];Y=B.root.mb(B,!0)}if(R.d=="imgsize"||R.d=="rot"||R.d=="scl"){var W=new GN;
if(R.d=="imgsize"){E=[11,10];W.scale(R.tX/B.Y,R.ta/B.Z)}else{W.translate(-y,-z);if(R.d=="rot")W.rotate(R.k);
if(R.d=="scl")W.scale(R.k.x,R.k.y);W.translate(y,z);E=R.$L}f=O.f._B(W);c=this.OyG(B,r,f,u)}var l=new N(0,0,B.Y,B.Z);
if(!Y.Pa()&&(!Y.EW(l)||c!=null)){var g=new OV(E,this);g.data={xT:l,sQ:Y,Ohr:B.ag,tj:p,Xt:c,sU:f,tL:A.bG.Oye(B,Y,l,c!=null)};
B.ER(g);this.G_(g.data,B)}};A.bG.Oye=function(R,Z,B,o){if(R.On.length==0)return null;var r=JSON.stringify(R.On),Y=JSON.parse(r);
A.EO.OGx(Y,Z,B,o);Y=JSON.stringify(Y);return[r,Y]};A.bG.prototype.OyG=function(R,Z,B,o,r){var Y={q:[],vu:null,BV:null};
for(var E=0;E<R.q.length;E++)Y.q.push(E);for(var E=0;E<R.EP.length;E++)Y.q.push(-1-E);Y.vu=A.HQ.Yt(R,Y.q,!0);
A.HQ.lf(R,Z,Y.q,Y.vu,o,B,null,!0,r);Y.BV=A.HQ.Yt(R,Y.q,!0);return Y};A.bG.prototype.G_=function(R,Z){if(R.tj)Z.ag=R.tj;
if(R.tL)Z.On=JSON.parse(R.tL[1]);if(R.Xt){A.bG.OIR(Z,O.f.zs(R.sU));A.HQ.YD(Z,R.Xt.q,R.Xt.BV)}A.bG.GL(Z,R.sQ)};
A.bG.prototype.KC=function(R,Z){if(R.Ohr)Z.ag=R.Ohr;if(R.tL)Z.On=JSON.parse(R.tL[0]);var B=R.xT.clone();
B.offset(-R.sQ.x,-R.sQ.y);A.bG.GL(Z,B);if(R.XH)Z.w.s.CA(R.XH);Z.OOB();if(R.Xt){var o=O.f.zs(R.sU).clone();
o.za();A.bG.OIR(Z,o);A.HQ.YD(Z,R.Xt.q,R.Xt.vu)}};A.bG.OIR=function(R,Z){for(var B=0;B<R.q.length;B++){var o=R.q[B];
if(o.add.artb==null)continue;var r=O.W.Bu(o.NT()).I;O.W.P(r,Z,r);var Y=O.W.bE(r);o.yh(Y)}};A.bG.GL=function(R,Z){R.Y=Z.Y;
R.Z=Z.Z;var B=[];for(var o=0;o<R.q.length;o++)B.push(o);A.ub.oi(R,B,null,-Z.x,-Z.y);for(var o=0;o<R.q.length;
o++){R.q[o].Aq(R)}R.OOB();R.w.s.wh(0,0);if(R.O)R.O.rect.offset(-Z.x,-Z.y);for(var o=0;o<R.tP.length;
o++)R.tP[o].rect.offset(-Z.x,-Z.y)};A.bG.prototype.yK=function(R,Z,B,o,r){if(R.hu=="commit"){this.Lh(B,r);
this.disable(B,Z,null,o)}else if(R.hu=="cancel"){this.disable(B,Z,null,o)}var Y=null,E=this.rA.Vu;if(R.hu=="config"){this.rA=R.rA;
E=this.rA.Vu;if(B==null)return;Y=new N(0,0,B.Y,B.Z);if(E.RN==1){var p=E.x/E.y;Y.Z=Math.round(Y.Y/p)}if(E.RN==2){Y.Y=E.x;
Y.Z=E.y}Y.x=Math.round((B.Y-Y.Y)/2);Y.y=Math.round((B.Z-Y.Z)/2)}if(R.hu=="cropby"){if(B==null)return;
var y=R.OlD,Y;if(y==0)Y=B.root.mb(B,!0);if(y==1){if(B.C.length==0)alert("No layer is selected.");else{var z=B.root.oO(B.C[0]);
Y=z.mb(B,!0)}}if(y==2){if(B.C.length==0)alert("No layer is selected.");else{var u=B.q[B.C[0]];Y=O.jV(u.buffer,u.rect,0);
if(Y.Pa())Y=u.rect.clone()}}if(y==3){if(B.O!=null)Y=B.O.rect;else alert("There is no selection.")}}if(Y&&Y.Pa())Y=null;
if(Y!=null){this.K$=this.OOb(Y,E.RN!=0);this.K$.mF(B,r);this.KL(Z,X.E.K,{d:X.l.pT,B:this.id,SH:!0})}};
A.bG.prototype.Lh=function(R,Z){var B=this.K$.UK(),o=O.W.bE(B),r=this.OEO(R,B),Y=!1,E=this.rA.Vu,p=E.x,y=E.y,Q;
if(this.id==A.NH&&E.RN==2&&r.b()!=p*y){r=new N(r.x,r.y,p,y);Y=!0}var z=O.f.ik(B,r);z=O.f.za(z);var u=O.f.$N(z),H=Math.atan2(z[3],z[0]);
if(Math.abs(H)>1e-9||!u||Y)Q=this.OyG(R,Z,z,1,o);var T=new OV(this.name,this),C=new N(0,0,R.Y,R.Z);T.data={xT:C,sQ:r,Xt:Q,sU:z,XH:R.w.s.clone(),tL:A.bG.Oye(R,r,C,!1)};
R.ER(T);this.G_(T.data,R)};A.bG.prototype.OEO=function(R,Z){var B=O.f.ik(Z),o=O.f.$N(B),r=O.f.zs(B),Y=r.ec,E=r.Cf,p=Math.atan2(r.X,r.t);
r.rotate(p);var y=new N(Y,E,r.t,r._l);if(!o){function z(m,G,K){var s=m[G]-m[K],L=m[G+1]-m[K+1];return Math.sqrt(s*s+L*L)}var u=z(Z,0,2),Q=z(Z,4,6),H=Math.max(u,Q),T=z(Z,2,4),C=z(Z,6,0),e=Math.max(T,C),$=A.bG.OEG(Z,R.Y/2,R.Z/2),x,M;
if(isNaN($)||$==Infinity||$==-Infinity||Math.min($,1/$)<.1)$=(u+Q)/(T+C);if(H/e>$){x=H*1;M=x/$}else{M=e*1;
x=M*$}y.Y=x;y.Z=M}y.x=Math.round(y.x);y.y=Math.round(y.y);y.Y=Math.round(y.Y);y.Z=Math.round(y.Z);return y};
A.bG.OEG=function(R,Z,B){var o=R[0]-Z,r=R[1]-B,Y=R[2]-Z,E=R[3]-B,p=R[6]-Z,y=R[7]-B,z=R[4]-Z,u=R[5]-B,Q=((r-u)*p-(o-z)*y+o*u-r*z)/((E-u)*p-(Y-z)*y+Y*u-E*z),H=((r-u)*Y-(o-z)*E+o*u-r*z)/((y-u)*Y-(p-z)*E+p*u-y*z),T=-((H*y-r)*(Q*E-r)+(H*p-o)*(Q*Y-o))/((H-1)*(Q-1));
function C($){return $*$}var e=Math.sqrt((C(Q-1)+C(Q*E-r)/T+C(Q*Y-o)/T)/(C(H-1)+C(H*y-r)/T+C(H*p-o)/T));
if(Q==1&&H==1)e=Math.sqrt((C(E-r)+C(Y-o))/(C(y-r)+C(p-o)));return e};A.bG.prototype.disable=function(R,Z,B,o){if(R==null)return;
if(this.K$)this.K$.clear(R);this.K$=null;this.KL(Z,X.E.K,{d:X.l.pT,B:this.id,SH:!1})};A.bG.prototype.KL=function(R,Z,B,o){var r=new n(Z,!0);
r.data=B;if(o)r.B=o;R.j(r)};A.OIs=function(){A.bG.call(this,[10,2],A.NH,"tools/rcrop")};A.OIs.prototype=new A.bG;
A.Oy_=function(){A.bG.call(this,[10,39],A._e,"tools/pcrop")};A.Oy_.prototype=new A.bG;A.oB=function(){A.lg.call(this,[10,21],A.ORe,"tools/dodge");
this.JP="dodge"};A.oB.prototype=new A.lg;A.oB.prototype.JH=function(R,Z,B,o,r){this.fZ(R,B,o,r,this.yl.expo/Math.PI);
if(this.GC==null)return;this.Qo(R)};A.oB.prototype.TU=function(R,Z,B,o,r){this.JN(R,Z,B);if(this.YX)this.ff(R,B,r);
if(this.GC==null)return;if(!r.yL)return;this.qh(R,B,o,r);this.Qo(R)};A.ol=function(){A.lg.call(this,[10,3],A.Vb,"tools/eraser");
this.JP="erase"};A.ol.prototype=new A.lg;A.ol.prototype.JH=function(R,Z,B,o,r){this.fZ(R,B,o,r,this.yl.flow);
if(this.GC==null)return;this.Qo(R)};A.ol.prototype.TU=function(R,Z,B,o,r){this.JN(R,Z,B);if(this.YX)this.ff(R,B,r);
if(this.GC==null)return;if(!r.yL)return;var Y=this.qh(R,B,o,r);this.Qo(R)};A.ot=function(){A.lg.call(this,[10,45],A.Okp,"tools/beraser");
this.JP="ierase"};A.ot.prototype=new A.lg;A.ot.prototype.JH=function(R,Z,B,o,r){if(this.pn(o,Z,r))return;
this.fZ(R,B,o,r,this.yl.flow);if(this.GC==null)return;this.Qo(R)};A.ot.prototype.TU=function(R,Z,B,o,r){this.JN(R,Z,B);
if(this.YX)this.ff(R,B,r);if(this.GC==null)return;if(!r.yL)return;this.qh(R,B,o,r);this.Qo(R)};A.Gv=function(){A.hs.call(this,[10,15],A.tz,"tools/rselect");
this.XI="crosshair"};A.Gv.prototype=new A.hs;A.Gv.prototype.KV=function(R,Z,B,o){if(!o.yL||!this.Ez)return;
var r=this.mb(R,B,!0);R.A.ql=O.W.Bu(r);R.Xl=!0;A.Kx.VF(o.x+10,o.y-10,r,R,Z)};A.Gv.prototype.qK=function(R,Z,B,o){R.A.ql=null;
R.A.Xd=[];R.Xl=!0;this.finish(R,Z,B,o)};A.Gv.prototype.getSelection=function(R,Z,B,o){if(this.FF.EW(this.qU)||!this.Ez)return null;
var r=this.mb(R,B,!0);if(r.Pa())return null;return A.hs.LY("Rctn",r)};A.Wq=function(){A.hs.call(this,[10,4],A.Oer,"tools/eselect");
this.XI="crosshair"};A.Wq.prototype=new A.hs;A.Wq.prototype.KV=function(R,Z,B,o){if(!o.yL||!this.Ez)return;
var r=this.mb(R,B);R.A.ql=A.Wq.OEW(r);R.Xl=!0;A.Kx.VF(o.x+10,o.y-10,r,R,Z)};A.Wq.prototype.qK=function(R,Z,B,o){R.A.ql=null;
R.A.Xd=[];R.Xl=!0;this.finish(R,Z,B,o)};A.Wq.prototype.getSelection=function(R,Z,B,o){if(this.FF.EW(this.qU)||!this.Ez)return null;
var r=this.mb(R,B);if(!r.nl(new N(0,0,R.Y,R.Z)))return null;return A.hs.LY("Elps",r)};A.Wq.OEW=function(R){var Z=R.x,B=R.y,o=R.x+R.Y,r=R.y+R.Z,Y=(Z+o)/2,E=(B+r)/2,p=(Z-o)/2,y=(B-r)/2,z=.5522848,u={I:[Y,E-y],J:["M","C","C","C","C"]};
u.I.push(Y+z*p,E-y,Y+p,E-z*y,Y+p,E);u.I.push(Y+p,E+z*y,Y+z*p,E+y,Y,E+y);u.I.push(Y-z*p,E+y,Y-p,E+z*y,Y-p,E);
u.I.push(Y-p,E-z*y,Y-z*p,E-y,Y,E-y);return u};A.WC=function(){A.Kx.call(this,[10,5],A.OOU,"tools/eyedropper");
this.se=!1;this.nb=1};A.WC.prototype=new A.Kx;A.WC.prototype.hj=function(R){return R.yL};A.WC.prototype.sz=function(R,Z,B,o,r){if(R.d=="pickhere")this.LS(B,Z,r,o,R.O$L)};
A.WC.prototype.JH=function(R,Z,B,o,r){this.se=!0;this.LS(R,Z,B,o,r)};A.WC.prototype.TU=function(R,Z,B,o,r){if(this.se)this.LS(R,Z,B,o,r)};
A.WC.prototype.YF=function(R,Z,B,o,r){this.se=!1};A.WC.prototype.LS=function(R,Z,B,o,r){var Y=A.WC.Gx(R,r,this.nb),E=new n(X.E.K);
E.data={d:X.l.zM,Fe:GG.IU,_r:0,k:Y};Z.j(E)};A.WC.Gx=function(R,Z,B){var o=R.w.JQ(Z.x,Z.y),r=Math.floor(o.x),Y=Math.floor(o.y),E=(B-1)/2,p=Math.max(0,r-E),y=Math.max(0,Y-E),z=Math.min(R.Y,r+E+1),u=Math.min(R.Z,Y+E+1),Q=(z-p)*(u-y),H=R.fw(),T=0,C=0,e=0;
for(var r=p;r<z;r++)for(var Y=y;Y<u;Y++){var $=4*(Y*R.Y+r);T+=H[$];C+=H[$+1];e+=H[$+2]}T=Math.round(T/Q);
C=Math.round(C/Q);e=Math.round(e/Q);return T<<16|C<<8|e};A.WC.prototype.yK=function(R){this.nb=R.nb};
A.$f=function(){A.Kx.call(this,[10,6],A.Okb,"tools/gradient");this.yl={L:JSON.parse(Gk.FD.Oyn).v,FW:"Lnr",Xm:!1,OhM:!1,OSy:"norm",dr:1};
this.dT=!1;this.zu=null};A.$f.prototype=new A.Kx;A.$f.prototype.enable=function(R,Z,B,o){var r=new n(X.E.K,!0);
r.data={d:X.l.Fj,JX:"default"};Z.j(r)};A.$f.prototype.yK=function(R){this.yl=R.Fe};A.$f.prototype.JH=function(R,Z,B,o,r){if(!R._W())return;
this.zu=R.w.JQ(r.x,r.y);this.zu=A.ub.$P(R,this.zu,B);this.dT=!0};A.$f.prototype.TU=function(R,Z,B,o,r){if(!this.dT)return;
var Y=R.w.JQ(r.x,r.y);Y=A.ub.$P(R,Y,B);if(o.R(a.Fl))Y=A.$f.PU(this.zu,Y);R.A.ql={I:[this.zu.x,this.zu.y,Y.x,Y.y],J:["M","L"]};
R.A.KW=[this.zu.x,this.zu.y,Y.x,Y.y];R.Xl=!0};A.$f.prototype.YF=function(R,Z,B,o,r){if(!this.dT)return;
var Y=R.q[R.C[0]],E=R.w.JQ(r.x,r.y);E=A.ub.$P(R,E,B);if(o.R(a.Fl))E=A.$f.PU(this.zu,E);var p=E.ye(this.zu),y=VP.IM(this.zu,E,.5),z=Math.atan2(p.y,p.x),u=VP.HP(this.zu,E),Q=Math.sin(z),H=Math.cos(z);
if(u>2){var T;if(R.O)T=R.O.rect;else T=new N(0,0,R.Y,R.Z);var C=O.a(T.b()*4),e=this.yl,$=e.FW;if($!="Lnr"){u*=2;
y=this.zu}O.L.PT(e.L,C,T,[H*1/u,Q*1/u,-Q*1/u,H*1/u],y.x,y.y,e.Xm,Gk.L.types.indexOf($),B.Ky,B.Dk,null,e.OhM);
var x=Math.round(e.dr*256),M=C.length;if(x!=256)for(var m=0;m<M;m+=4)C[m+3]=C[m+3]*x>>>8;var G=new n(X.E.$);
G.B=A.Vb;G.data={d:"fillBMP",Ce:C,DV:e.OSy,$L:this.name};Z.j(G)}R.A.ql=null;R.A.KW=[];R.Xl=!0;this.dT=!1};
A.$f.PU=function(R,Z){if(R.EW(Z))return R;var B=Z.x-R.x,o=Z.y-R.y,r=Math.abs(B),Y=Math.abs(o);if(r>Y)Y=r/2>Y?0:r;
if(Y>r)r=Y/2>r?0:Y;r=B>0?r:-r;Y=o>0?Y:-Y;var E=Math.sqrt(B*B+o*o)/Math.sqrt(r*r+Y*Y);return new VP(R.x+r*E,R.y+Y*E)};
A.$f.uj=function(R,Z,B,o,r,Y,E){if(E==null)E=X.T("canvas","");var p=E.getContext("2d");E.width=Z;E.height=B;
var y=new N(0,0,Z,B),z=O.a(Z*B*4);O.gc(z,Z,B,4,0,0);var u=Math.sin(o),Q=Math.cos(o),H=O.a(Z*B*4);O.L.PT(R,H,y,[Q*1/Z,u*1/Z,-u*1/B,Q*1/B],Z/2,B/2,!1,0,r,Y);
O.e.FO("norm",H,y,z,y,y,1);var T=p.getImageData(0,0,Z,B);O.VG(z,T.data);p.putImageData(T,0,0);return E.toDataURL()};
A.$f.OEb=function(R,Z,B){var o=JSON.parse(JSON.stringify(R));for(var r=0;r<o.Clrs.v.length;r++){var Y=o.Clrs.v[r].v,E=Y.Type.v.Clry;
if(E=="UsrS")continue;var p=E=="FrgC"?Z:B;Y.Type.v.Clry="UsrS";Y.Clr={t:"Objc",v:O.L.hN({F:p>>16&255,S:p>>8&255,X:p&255})}}return o};
A.uB=function(){A.Kx.call(this,[10,7],A.vD,"tools/hand");this.sr=new VP(0,0);this.sZ=new VP(0,0)};A.uB.prototype=new A.Kx;
A.uB.prototype.sz=function(R,Z,B,o,r){var Y=R.d;if(Y=="setcls"){B.w.Ej=R.Ej;B.Xl=!0}if(Y=="scroll"&&!o.R(a.yt)){if(o.R(a.iW))A.uB.oW(B,B.w.s.x-R.XW.y,B.w.s.y-R.XW.x);
else A.uB.oW(B,B.w.s.x-R.XW.x,B.w.s.y-R.XW.y)}};A.uB.prototype.enable=function(R,Z,B,o){var r=new n(X.E.K,!0);
r.data={d:X.l.Fj,JX:"grab"};Z.j(r)};A.uB.prototype.JH=function(R,Z,B,o,r){this.sZ.CA(R.w.s);this.sr.wh(r.x,r.y)};
A.uB.prototype.TU=function(R,Z,B,o,r){if(!r.yL)return;A.uB.oW(R,this.sZ.x+(r.x-this.sr.x),this.sZ.y+(r.y-this.sr.y))};
A.uB.oW=function(R,Z,B){var o=R.w.h;if(R.Y*o<R.w.p.Y&&R.Z*o<R.w.p.Z)R.w.s.wh(0,0);else{R.w.s.x=Z;R.w.s.y=B}R.OF=!0};
A.Lt=function(){A.PW.call(this,[10,25],A.cY,"tools/hbrush")};A.Lt.prototype=new A.PW("");A.Lt.prototype.YF=function(R,Z,B,o,r){if(this.GC==null)return;
this.da(R,"heal",this.GC.VW(),this.GC.mb(),this.GC.xQ());this.U(R,this.GC.xQ());A.lg.prototype.YF.call(this,R,Z,B,o,r);
if(!this.yl.algnd)this.s=null};A.lF=function(){A.Kx.call(this,[10,8],A.cC,"tools/htype");this.jG=[];
this.qC=null;this.sI=null;this.caller=null;this.Ofq=0;this.th=0;this.so=null;this.OJj=null;this.sM=null;
this.Hg=null;this.nc=null;this.jX=null;this.jg=null;this.Oqp=null;this.Xe=null;this.K$=null;this.xX=!1;
this.mG=!1;this.VT=!1;this.nn=null;this.yB=null;this.OWE=null;this.ss=!1;this.HE=!1;this.DX=-1;this.Vp=-1;
this.nG=document.createElement("textarea");this.nG.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1;  position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; user-select:none; width:200px; height:150px;");
this.nG.addEventListener("input",this.ORy.bind(this),!1);this.nG.addEventListener("keydown",this.OVE.bind(this),!1)};
A.lF.prototype=new A.Kx;A.lF.prototype.hj=function(R){return R.yL};A.lF.prototype.Cg=function(R,Z,B,o){if(this.Hg!=null)return;
this.caller=Z;this.qC=R;var r=this.OOt(R);if(r.length!=0){var Y=null,E=[],p=[];for(var y=0;y<r.length;
y++){var z=R.q[r[y]],u=z.add.TySh,Q=0,H=GV.el(u.HC).length-2,T=GV.QR(u.HC,Q,H);GV.Jv(T,A.HQ.ho(u.P));
if(T.Bt.Font!=null)T.Bt.Font=T.bR[T.Bt.Font].Name;Y=T.bR;E.push(T.Bt);p.push(T.LH)}var T={bR:Y,Bt:GV._s(E),LH:GV._s(p)};
if(T.Bt.Font)GV.rz(T,T.Bt.Font);this.so=JSON.stringify(T);this.OXx(Z,T)}};A.lF.prototype.OOt=function(R){var Z=[];
for(var B=0;B<R.C.length;B++)if(R.q[R.C[B]].add.TySh)Z.push(R.C[B]);return Z};A.lF.prototype.sz=function(R,Z,B,o,r){if(this.Hg!=null){var Y=this.HE;
if(R.d=="warp"||R.d=="warpCancel"){if(R.d=="warp")this.Hg.add.TySh.qP=R.Ef;else this.Hg.add.TySh.qP=this.Oqp;
var B=this.qC;this.WW(B,r);if(!Y)this.WN(B)}if(R.d!="warp")this.nG.focus();if((R.d=="warpConfirm"||R.d=="warpCancel")&&Y){this.HE=!1;
if(R.d=="warpConfirm")this.rH(B,Z);else this.uc(B,Z)}}if(R.d=="editCurr"){if(this.Hg!=null)this.disable(B,Z,r,o);
this.qC=B;this.sI=r;this.caller=Z;this.oN(B,Z,r,[R.XK]);var E=GV.el(this.Hg.add.TySh.HC);this.DX=0;this.Vp=E.length-1;
this.WN(B);this.Ge();this.nG.focus()}if(R.d=="switchPntPrgr"){var p=B.q[B.C[0]],y=p.add.TySh,z=y.P.ho(),u=JSON.parse(JSON.stringify(y.HC)),Q=GV.hX(u),H=Q==1?GV.ri(u):[0,0,Math.round(p.rect.Y*1.05/z),Math.round(p.rect.Z*1.25/z)],T=GV.QR(u,0,0),C=[0,H[2],H[2]/2][T.LH.Justification%3],e=T.Bt.FontSize*.8;
GV.zE(u,1-Q);if(Q==0){C=-C;e=-e;GV.lZ(u,[0,0,H[2],H[3]])}var $=new GN(1,0,0,1,C,e);$.concat(y.P);R={Ih:B.C[0],d:"newED",sH:u,P:$}}if(R.d=="newED"){var p=B.q[R.Ih],y=p.add.TySh,x=this.ov(B,[R.Ih]);
y.HC=R.sH;if(R.P)y.P=R.P;var M=new YI(y.HC,r.YN),m=YK.uV(M,y);p.rect=m._;p.buffer=m.Y$;p.U();B.U();var G=new OV(this.name,this);
G.data={G$:x,sF:this.ov(B,[R.Ih])};B.ER(G)}};A.lF.prototype.Hc=function(R){return this.jG.indexOf(R)!=-1};
A.lF.prototype.enable=function(R,Z,B,o){var r=this.nG;if(!X.Zi(r))Z.G.appendChild(r);this.Xe="default";
this.Wg(Z)};A.lF.prototype.uC=function(){return this.Hg!=null};A.lF.prototype.OWO=function(R,Z){for(var B=R.q.length-1;
B>=0;B--){var o=R.q[B];if(o.add.TySh&&o.rect.a_(Z)&&R.OaZ(B)){var r=o._A(2)||o._A(31);return r?-2:B}}return-1};
A.lF.prototype.JH=function(R,Z,B,o,r){this.qC=R;this.sI=B;this.caller=Z;var Y=R.w.JQ(r.x,r.y),E=this.Hg==null;
if(E){var p=this.OWO(R,Y);if(p==-2){alert(Ok.get([6,57,0]));return}if(p>=0)this.oN(R,Z,B,[p]);else{this.VT=!0;
this.nn=r;return}}if(this.K$&&this.K$.JH(R,B,o,Y)&&O.Ef.oU(this.Hg.add.TySh.qP)||!E&&O.W.Pi(Y,this.Hg.rect)>20/R.w.h&&GV.hX(this.Hg.add.TySh.HC)==0){this.xX=!0;
this.yB=Y;this.OWE=this.Hg.add.TySh.P.clone();if(this.DX==-1&&this.Vp==-1)this.DX=this.Vp=this.LD(Y)}else{this.mG=!0;
this.DX=this.Vp=this.LD(Y);var y=Date.now();if(y-this.Ofq>300)this.th=0;this.th++;this.Ofq=y;if(this.th==2)this.OEP();
if(this.th==3)this.OVy();if(this.th>1){this.mG=!1;this.Ge()}}this.WN(R)};A.lF.prototype.oN=function(R,Z,B,o){var r=R.q[o[0]];
this.Hg=r;this.KL(Z,X.E.K,{d:X.l.pT,B:this.id,hu:"showactive"});this.nc=o;R.C=o.slice(0);R.fx();R.Hl=!0;
this.jg=this.ov(R,o);this.Oyt(r.add.TySh);this.WW(R,B)};A.lF.prototype.Oyt=function(R){if(GV.hX(R.HC)!=1)return;
var Z=GV.ri(R.HC);Z=new N(0,0,Z[2]-Z[0],Z[3]-Z[1]);var B=[Z.x,Z.y,Z.x+Z.Y,Z.y,Z.x+Z.Y,Z.y+Z.Z,Z.x,Z.y+Z.Z];
O.W.P(B,R.P,B);this.K$=new VM(B,!1,!1,!1,!0)};A.lF.prototype.OEP=function(){var R=GV.el(this.Hg.add.TySh.HC);
this.DX=this.OED(R,this.DX);this.Vp=this.OyV(R,this.DX)};A.lF.prototype.OED=function(R,Z){var B=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",o=[];
for(var r=0;r<B.length;r++)o.push(B.charAt(r));var Y=o.indexOf(R[Z])==-1?!0:!1;for(var r=Z-1;r>=0;r--)if(o.indexOf(R.charAt(r))!=-1==Y)return r+1;
return 0};A.lF.prototype.OyV=function(R,Z){var B=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",o=[];for(var r=0;
r<B.length;r++)o.push(B.charAt(r));var Y=o.indexOf(R[Z])==-1?!0:!1;for(var r=Z+1;r<R.length;r++)if(o.indexOf(R.charAt(r))!=-1==Y)return r;
return R.length-1};A.lF.prototype.OVy=function(){var R=this.jX.OlQ(this.DX);this.DX=R[0];this.Vp=R[1]};
A.lF.prototype.Wg=function(R){var Z=new n(X.E.K,!0);Z.data={d:X.l.Fj,JX:this.Xe};R.j(Z)};A.lF.prototype.TU=function(R,Z,B,o,r){var Y=R.w.JQ(r.x,r.y),E=this.Hg;
if(!r.yL){var p="default";if(this.K$&&O.Ef.oU(E.add.TySh.qP)){var y=this.K$.zy(Y,R.w.h);if(y)p=y;else if(this.K$.Yq(Y))p="text"}else if(E&&O.W.Pi(Y,E.rect)>20/R.w.h)p="move";
else if(this.OWO(R,Y)>=0)p="text";if(p!=this.Xe){this.Xe=p;this.Wg(Z)}}if(this.VT&&VP.HP(this.nn,r)>4){this.VT=!1;
this.OEA(R,Z,B,o,r);E=this.Hg;this.xX=!0;this.K$=new VM(null,!1,!1,!1,!0);var z=R.w.JQ(this.nn.x,this.nn.y);
z.x=Math.round(z.x);z.y=Math.round(z.y);this.K$.JH(R,B,o,z)}if(this.xX){var u=E.add.TySh;if(this.K$){this.K$.TU(R,B,o,Y);
var Q=u.P.clone(),H=Math.atan2(Q.X,Q.t);Q.rotate(H);var T=O.f.zs(O.f.ik(this.K$.UK())),C=Math.atan2(T.X,T.t);
T.rotate(C);if(!isNaN(T.t)&&T.t*T._l-T.X*T.f_!=0){var e=new N(0,0,T.t/Q.t,T._l/Q._l),$=Math.round(e.Y),x=Math.round(e.Z),M=u.HC.Curve;
if(M){var m=GV.ri(u.HC),G=new GN($/m[2],0,0,x/m[3],0,0);O.W.P(M.Points,G,M.Points);GV.WJ(u)}GV.lZ(u.HC,[0,0,$,x]);
u.P=O.f.zs(O.f.ik(this.K$.UK(),e));this.WW(R,B);GV.WJ(u)}}else{var K=Y.x-this.yB.x,s=Y.y-this.yB.y;u.P=this.OWE.clone();
var L=new VP(u.P.ec+K,u.P.Cf+s);L=A.ub.$P(R,L,B);u.P.ec=L.x;u.P.Cf=L.y;this.WW(R,B)}}if(this.mG)this.Vp=this.LD(Y);
if(this.xX||this.mG)this.WN(R)};A.lF.prototype.OEA=function(R,Z,B,o,r){var Y=R.dm(),E=Y[0],p=Y[1],y=R.xE();
y.add.lnsr="rend";var z=R.q.slice(0);y.AA("Text layer "+z.length);this.Hg=y;var u=R.C.length==0?R.q.length-1:R.C[R.C.length-1],Q=u+1;
if(z[u].add.lsct==YV.A_)Q--;this.jg={KZ:z.slice(0),vL:R.C.slice(0)};z.splice(Q,0,y);R.C=[Q];this.DX=this.Vp=0;
R.Kz(z);this.jg.aq=z.slice(0);this.jg.vq=R.C.slice(0);this.KL(Z,X.E.K,{d:X.l.pT,B:this.id,hu:"showactive"});
var H=R.w.JQ(r.x,r.y);y.add.TySh=GV.vr(H.x,H.y,B.XV);var T=y.add.TySh,C=T.HC;if(r.yL)GV.zE(C,1);else{GV.zE(C,0);
var e=E[p.pop()],$=e?e.add.vmsk:null;if($){$=$.clone();var x=$.u,G,K;for(var M=0;M<x.length;M++)if(x[M].lz!=null)x[M].lz=0;
var m=4*X.D()/R.w.h;G=O.V.AK($.u,H,!0,m);if(G.qp==-1)G=O.V.AK($.u,H);if(G.qp!=-1){GV.zE(C,1);var s=O.V.qY(x,G.qp),L=O.V.Bz(x,G.qp)-1;
x=$.u=x.slice(0,2).concat(x.slice(s,s+L+1));$.C=[];T.add={vmsk:$,vogk:S.uN(x)};C.Curve={};GV.IC(T);if(G.tv!=null){var _=YI.mp(C.Curve);
O.W.P(_[0],T.P,_[0]);var P=O.W.xI(_[0],H.x,H.y),i=B.XV.LH.Justification;if(i==2||i==5){var w=(_[2][P]+_[3]*.5)%_[3];
P=YI.Jh(w,_[2])}var k=_[1][P];k=k%L;$.BD=[k,k];GV.IC(T)}else this.Oyt(T)}}}return y};A.lF.prototype.YF=function(R,Z,B,o,r){var Y=R.w.JQ(r.x,r.y);
if(this.VT){this.VT=!1;this.OEA(R,Z,B,o,r);this.mG=!0}if(this.xX||this.mG){this.WN(R);this.Ge()}if(this.xX&&this.K$)this.K$.YF(R,B,o,Y);
this.xX=this.mG=!1;this.nG.focus()};A.lF.prototype.Ge=function(){var R=this.Hg.add.TySh,Z=Math.min(this.DX,this.Vp),B=Math.max(this.DX,this.Vp),o,r;
if(Z==B){var Y=GV.el(R.HC);if(Z==0||Y.charAt(Z-1)=="\n")o=r=Z;else o=r=Z-1}else{o=Z;r=B-1}var E=GV.QR(R.HC,o,r);
GV.Jv(E,A.HQ.ho(R.P));this.OXx(this.caller,E)};A.lF.prototype.OXx=function(R,Z){this.KL(R,X.E.K,{d:X.l.zM,Fe:GG.zb,XV:Z})};
A.lF.prototype.oZ=function(R,Z,B,o){if(o.R(a.UF))this.uc(R,Z)};A.lF.prototype.disable=function(R,Z,B,o){var r=this.Hg;
if(r&&GV.el(r.add.TySh.HC)!="\n")this.rH(R,Z);else this.uc(R,Z)};A.lF.prototype.yK=function(R,Z,B,o,r){if(this.HE)return;
if(R.hu=="commit")this.rH(B,Z);if(R.hu=="cancel")this.uc(B,Z);if(R.hu=="showwarp"){if(B==null)return;
if(this.Hg==null){var Y=B.q[B.C[0]],E=Y.add.TySh;if(E==null)return;this.oN(B,Z,r,[B.C[0]]);this.nG.focus();
this.HE=!0}this.Oqp=this.Hg.add.TySh.qP;var p=new n(X.E.K,!0);p.data={d:X.l.JT,fA:"textwarp"};Z.j(p)}};
A.lF.prototype.lU=function(R,Z){this.sI=R;var B=this.qC;if(B==null)return;if(Z!=GG.gy&&Z!=GG.zb&&Z!=GG.Ot)return;
if(this.ss){this.ss=!1;var o=this.nc;for(var r=0;r<o.length;r++){this.Hg=B.q[o[r]];this.WW(B,R)}this.rH(B,this.caller);
return}if(this.Hg==null){var Y=JSON.stringify(R.XV),E=!1;if(this.so==Y){return}this.so=Y;var o=this.OOt(B);
if(o.length!=0){this.oN(B,this.caller,R,o);for(var r=0;r<o.length;r++){var p=B.q[o[r]],y=p.add.TySh;
this.Hg=p;var z=GV.el(y.HC);this.DX=0;this.Vp=z.length-1;GV.Fz(y.HC,this.DX,this.Vp,this.Lf(R,y));var u=this.WW(B,R);
if(u==!1)E=!0}if(E){this.ss=!0;return}this.rH(B,this.caller)}return}var Q=Math.min(this.DX,this.Vp),H=Math.max(this.DX,this.Vp),y=this.Hg.add.TySh;
GV.Fz(y.HC,Q,H-1,this.Lf(R,y));var B=this.qC,u=this.WW(B,R);if(u)this.WN(B);if(document.activeElement.tagName.toLowerCase()!="input")this.nG.focus()};
A.lF.prototype.Lf=function(R,Z){var B=JSON.parse(JSON.stringify(R.XV));GV.Jv(B,1/A.HQ.ho(Z.P));return B};
A.lF.prototype.G_=function(R,Z){if(R.G$!=null)this.LJ(Z,R.sF);else this.OOL(Z,R.aq,R.vq)};A.lF.prototype.KC=function(R,Z){if(R.G$!=null)this.LJ(Z,R.G$);
else this.OOL(Z,R.KZ,R.vL)};A.lF.prototype.LJ=function(R,Z){for(var B=0;B<Z.length;B++){var o=Z[B],r=o.Ih,Y=R.q[r];
Y.buffer=o.Gp;Y.rect=o._.clone();Y.U();var E=Y.add.TySh;E.qP=o.Ef;E.VE=o.VE.clone();E.P=o.P.clone();
E.HC=JSON.parse(JSON.stringify(o.HC));Y.fE()}R.U()};A.lF.prototype.ov=function(R,Z){var B=[];for(var o=0;
o<Z.length;o++){var r=Z[o],Y=R.q[r],E=Y.add.TySh;B.push({Ih:r,P:E.P.clone(),Ef:JSON.parse(JSON.stringify(E.qP)),VE:E.VE.clone(),HC:JSON.parse(JSON.stringify(E.HC)),Gp:O.clone(Y.buffer),_:Y.rect.clone()})}return B};
A.lF.prototype.OOL=function(R,Z,B){R.C=B;R.Kz(Z);R.U()};A.lF.prototype.WW=function(R,Z,B){if(B==null)B=!1;
var o=this.Hg.add.TySh;if(!YK.IF(o,Z.YN))return!1;this.jX=new YI(o.HC,Z.YN);if(!B){var r=GV.el(o.HC);
this.nG.value=r.slice(0,r.length-1)}var Y=YK.uV(this.jX,o);if(O.Ef.oU(o.qP))o.VE=new N;else{if(GV.hX(o.HC)==1){var E=GV.ri(o.HC),p=Y.VE.y;
o.VE=new N(0,p,E[2]-E[0],E[3]-E[1]-p)}else{o.VE=Y.VE}}var y=this.Hg.rect;this.Hg.rect=Y._;this.Hg.buffer=Y.Y$;
this.Hg.U();R.iV();R.U(R.root.fv(Y._.fj(y),R,R.q.indexOf(this.Hg)));return!0};A.lF.prototype.ORy=function(R){if(this.Hg==null||this.HE)return;
var Z=this.nG.selectionStart,B=this.Hg.add.TySh,o=GV.el(B.HC),r=this.nG.value+"\n",Y=Math.min(this.DX,this.Vp),E=Math.max(this.DX,this.Vp),Q=!1;
this.DX=Math.min(Z,Y);if(r.length-Z<o.length-this.Vp)this.Vp=o.length-r.length+Z;if(o!=r){while(this.DX>0&&o.charAt(this.DX-1)!=r.charAt(this.DX-1))this.DX--}var p=o.substring(0,this.DX),y=o.substring(this.Vp,o.length),z=r.substring(this.DX,r.length-y.length);
GV.JW(B.HC,this.DX,this.Vp);GV.bt(B.HC,this.DX,z);var u=this.Lf(this.sI,B),H=-1;for(var T=0;T<z.length;
T++)H=Math.max(H,z.charCodeAt(T));if(H!=-1&&H>128&&u.Bt.Font!=null){var C=u.bR[u.Bt.Font].Name,e=this.sI.YN.nD(H,C,u.bR);
if(C!=e){GV.rz(u,e);Q=!0}}if(this.sM!=null&&z==this.sM){var $=JSON.parse(this.OJj);u.Bt=$.Bt;u.bR=$.bR;
Q=!0}GV.Fz(B.HC,this.DX,this.DX+z.length-1,u);this.DX=this.Vp=p.length+z.length;var x=this.qC,M=this.WW(x,this.sI,!0);
if(M)this.WN(x,!0);if(Q)this.Ge()};A.lF.prototype.OVE=function(R){if(this.Hg==null||this.HE)return;if(this.Hg==null)return;
var Z=a,B=0,o=0,x=!1;if(Z.ey(R.code,Z.OLd))B=1;if(Z.ey(R.code,Z.OwU))B=-1;if(Z.ey(R.code,Z.RQ))o=-1;
if(Z.ey(R.code,Z.Xy))o=1;var r=R.ctrlKey||R.metaKey,Y=Z.ey(R.code,a.OXt),E=Z.ey(R.code,a.OXz);if(Z.ey(R.code,a.Ic)&&r){this.rH(this.qC,this.caller);
return}if(Z.ey(R.code,a.sh)){R.preventDefault();var p=this.nG,y=p.value,z=p.selectionStart,u=p.selectionEnd;
p.value=y.substring(0,z)+"\t"+y.substring(u);p.selectionStart=p.selectionEnd=z+1;this.ORy(null);return}if((Z.ey(R.code,Z.zX)||Z.ey(R.code,Z.s$))&&r){var Q=this.DX,H=this.Vp;
if(Q>H){var T=Q;Q=H;H=T}var C=this.Hg.add.TySh,e=GV.el(C.HC);if(Q!=H){this.sM=e.slice(Q,H);this.OJj=JSON.stringify(this.sI.XV)}}var $=GV.el(this.Hg.add.TySh.HC);
if(B!=0||o!=0||Y||E){R.preventDefault();var M=this.DX;if(B!=0){if(r&&B==-1)M=this.OED($,this.DX-1);else if(r&&B==1)M=this.OyV($,this.DX);
else M=this.DX+B}else if(o!=0){var m=this.jX.mZ(this.DX);if(o==-1&&m.QY==0)M=0;else if(o==1&&m.QY==this.jX.Olr()-1)M=99999999999;
else M=this.jX.OAy(new VP(m._.x+m._.Y/2,0),m.QY+o)}else if(Y){var G=this.DX-1;while(G>0&&$.charCodeAt(G)!=10)G--;
M=G==0?0:G+1}else if(E){var G=this.DX;while(G<$.length-1&&$.charCodeAt(G)!=10)G++;M=G}M=Math.max(0,Math.min($.length-1,M));
if(R.shiftKey)this.DX=M;else this.DX=this.Vp=M;x=!0}if(Z.ey(R.code,a.l)&&r){this.DX=0;this.Vp=$.length-1;
x=!0}if(x){this.Ge();this.WN(this.qC)}};A.lF.OVV=function(R,Z){var B=R.length;if(B!=Z.length)return!1;
for(var o=0;o<B;o++)if(R[o].Ih!=Z[o].Ih)return!1;return!0};A.lF.prototype.rH=function(R,Z){if(this.Hg==null)return;
this.Hg.fE();var B=this.jg;if(B instanceof Array){var o=this.ov(R,this.nc),r=R.lp();if(r!=null&&r.B==this&&r.data.G$&&A.lF.OVV(r.data.G$,B))r.data.sF=o;
else{var Y=new OV(this.name,this);Y.data={G$:B,sF:o};R.ER(Y)}}else{var Y=new OV(this.name,this);Y.data={KZ:B.KZ,aq:B.aq,vL:B.vL,vq:B.vq};
R.ER(Y)}this.escape(R,Z)};A.lF.prototype.uc=function(R,Z){if(this.Hg==null)return;if(this.jg instanceof Array){this.LJ(R,this.jg);
if(this.Hg)GV.WJ(this.Hg.add.TySh)}else{R.C=this.jg.vL;R.Kz(this.jg.KZ)}R.U();this.escape(R,Z)};A.lF.prototype.escape=function(R,Z){this.Hg=null;
this.nc=null;this.jX=null;this.K$=null;this.nG.blur();R.A.ql=null;R.A.yq=null;R.A.KW=[];R.Xl=!0;this.xX=!1;
this.mG=!1;this.DX=this.Vp=-1;this.KL(Z,X.E.K,{d:X.l.pT,B:this.id,hu:"hideactive"})};A.lF.prototype.KL=function(R,Z,B,o){var r=new n(Z,!0);
r.data=B;if(o)r.B=o;R.j(r)};A.lF.prototype.LD=function(R){var Z=this.Hg.add.TySh,B=this.jX,o=Z.P.clone();
o.za();var r=o.qS(R),Y=GV.mb(Z,B),E=O.Ef.zT(Z.qP,Y),p=O.Va.g.gN(E,0,1,0,1),y=new Uint32Array(30),z=O.Va.g.Olc(p._K,p.Cr,r.x,r.y,y),u=O.Va.AK(E,r.x,r.y,p._K,y,z,!1),Q=O.Va.$B;
if(Q==null)Q=new Float64Array(2);r=new VP(Y.x+Q[0]*Y.Y,Y.y+Q[1]*Y.Z);var H=B.OAy(r);return H};A.lF.prototype.WN=function(R,Z){if(Z==null)Z=!1;
var B=this.Hg.add.TySh,o=GV.hX(B.HC),r=this.jX,Y=r?GV.mb(B,r):null;R.A.KW=[];R.A.ql=null;R.A.yq=null;
if(this.K$){this.K$.mF(R,this.sI,!O.Ef.oU(B.qP));var E=B.P.clone();E.za();O.W.P(R.A.KW,E,R.A.KW);O.W.P(R.A.ql.I,E,R.A.ql.I);
if(r&&r.Oli()){var p=Y.Y-20,y=Y.Z+8;R.A.ql.I.push(p,y,p+10,y,p+5,y-5,p+5,y+5);R.A.ql.J.push("M","L","M","L")}}else if(o==0)this.OVY(R,B,r);
else R.A.ql={I:[],J:[]};var z=Math.min(this.DX,this.Vp),u=Math.max(this.DX,this.Vp);if(!Z){this.nG.selectionStart=z;
this.nG.selectionEnd=u}if(r!=null){var Q=function(G,K){var s=G.x,L=G.y+G.Z,_=new GN;_.translate(-s,-L);
_.rotate(-K);_.translate(s,L);G.y+=G.Z*.27;var M=O.W.Bu(G);O.W.P(M.I,_,M.I);return M};if(z==u){z=Math.max(z,0);
var H=r.mZ(z);if(H){var T=H._,C=this.sI.XV.Bt.FontSize;if(C!=null&&C!=0){T.y+=T.Z-C;T.Z=C}var e=r.OlT(z);
if(e!=null&&e.In==1)T.x+=T.Y;var $=Q(T,H.XZ).I;R.A.ql.J.push("M","L");R.A.ql.I.push($[0],$[1],$[6],$[7])}}else{R.A.yq={I:[],J:[]};
for(var x=z;x<u;x++){var H=r.mZ(x),M=Q(H._,H.XZ);O.W.concat(R.A.yq,M)}}}if(r!=null){if(!Y.Pa()){var m=O.Ef.zT(B.qP,Y);
if(R.A.ql){R.A.ql=O.W.Ol(R.A.ql);R.A.ql=O.W.Of(R.A.ql,Math.min(Y.Y,Y.Z)/10);O.Va.apply(m,R.A.ql.I,Y)}if(R.A.yq){R.A.yq=O.W.Ol(R.A.yq);
R.A.yq=O.W.Of(R.A.yq,Math.min(Y.Y,Y.Z)/10);O.Va.apply(m,R.A.yq.I,Y)}O.Va.apply(m,R.A.KW,Y)}}if(R.A.ql)O.W.P(R.A.ql.I,B.P,R.A.ql.I);
if(R.A.yq)O.W.P(R.A.yq.I,B.P,R.A.yq.I);O.W.P(R.A.KW,B.P,R.A.KW);R.Xl=!0};A.lF.prototype.OVY=function(R,Z,B){if(B==null)return;
R.A.KW.push(0,0);if(R.A.ql==null)R.A.ql={J:[],I:[]};for(var o=0;o<B.LH.length;o++){var r=B.LH[o];for(var Y=0;
Y<r.W_.length;Y++){var E=r.W_[Y],p=r.eh.x+E.eh.x+E._.x,y=r.eh.y+E.eh.y+E._.y+E._.Z;R.A.ql.J.push("M","L");
R.A.ql.I.push(p,y,p+E._.Y,y)}}R.Xl=!0};A.DC=function(){A.hs.call(this,[10,9],A.OOh,"tools/lasso");this.XI="crosshair";
this.a$=null;this.yP=null;this.yB=null};A.DC.prototype=new A.hs;A.DC.prototype.mz=function(R,Z,B,o){this.a$=this.FF;
this.yP={I:[this.a$.x,this.a$.y],J:["M"]}};A.DC.prototype.KV=function(R,Z,B,o){this.yB=o;var r=this.yP;
if(r==null)return;if(!o.yL){if(this.yP!=null&&this.ra>1&&B.R(a.yt)){r.I.pop();r.I.pop();r.I.push(this.qU.x,this.qU.y);
R.A.ql=r;R.Xl=!0}return}r.J.push("L");r.I.push(this.qU.x,this.qU.y);this.a$=this.qU;if(this.Ez){R.A.ql=r;
R.Xl=!0}};A.DC.prototype.uC=function(){return this.yP!=null};A.DC.prototype.LR=function(){return this.yP!=null};
A.DC.prototype.oZ=function(R,Z,B,o){A.hs.prototype.oZ.call(this,R,Z,B,o);if(this.yP&&this.ra>1&&this.yB&&!this.yB.yL&&!o.R(a.yt))this.OIA(R,B,o)};
A.DC.prototype.qK=function(R,Z,B,o){this.yB=o;var r=this.yP;if(r==null)return;if(this.ra>1&&B.R(a.yt)){r.J.push("L");
r.I.push(this.qU.x,this.qU.y);return}this.OIA(R,Z,B)};A.DC.prototype.OIA=function(R,Z,B){this.finish(R,Z,B,this.yB);
this.yP=null;R.A.ql=null;R.Xl=!0};A.DC.prototype.getSelection=function(R,Z,B,o){if(this.FF.EW(this.qU)||!this.Ez)return null;
return A.hs.Gj(this.yP.I)};A.ub=function(){A.Kx.call(this,[10,11],A.tY,"tools/move");this.tS=new VP(0,0);
this.tf=new VP(0,0);this.if=null;this.ao=null;this.yr=new VP(0,0);this.U$=null;this.$V=null;this.HW=null;
this.KN=null;this.$m=[];this.rJ=null;this.dT=!1;this.d=0;this.su=null;this.IQ=null;this.tN=null;this.Qw=!1;
this.yl={HK:!1,HF:!1,tW:!1};this.K$=null;this.qN=null;this.OWF=null;var R=[];for(var Z=0;Z<O.uO.OD.length;
Z++)R.push({name:O.uO.OD[Z],H:function(B,o,r){return{FX:o.Al.zn==r}}});this.sf=new OD(R);this.sf.v("select",this.LN,this)};
A.ub.prototype=new A.Kx;A.Kx.prototype.hj=function(R){return this.dT&&this.d!=2};A.ub.prototype.OO_=function(){return this.dT&&this.d==0};
A.ub.prototype.OOQ=function(R,Z,B,o){this.Gr(R,-this.yr.x,-this.yr.y);this.yr.wh(0,0);this.YE(R,null,B);
this.hO(R)};A.ub.prototype.pW=function(){var R=this.yl;return[R.HK?1:0,R.HF?1:0,R.tW?1:0]};A.ub.prototype.OBB=function(R,Z,B){var o=this.yl;
if(R&&R[0]!=null)o.HK=R[0]==1;if(R&&R[1]!=null)o.HF=R[1]==1;if(R&&R[2]!=null)o.tW=R[2]==1;var r=new n(X.E.K,!0);
r.data={d:X.l.pT,B:this.id,t$:o,O$D:Z};B.j(r)};A.ub.Oyk=function(R,Z,B,o,r,Y,E){if(E==null)E=[!1,!0];
var p=new N(0,0,R.Y,R.Z),y=R.op(null,r,!0),z=R.O_z(y,E[0]?p:null,E[1]?null:p)[0];if(B!=1){var u=new N(0,0,Math.round(z.Y*B),Math.round(z.Z*B));
A.bG.GL(z,u);var Q=[];for(var H=0;H<z.q.length;H++)Q.push(H);var T=A.HQ.Yt(z,Q,!0);A.HQ.lf(z,o,Q,T,1,O.f._B(new GN(B,0,0,B,0,0)),null,!0);
z.oT()}var C=[];for(var H=0;H<Z.length;H++)C.push(GI.gm(z,Z[H].toUpperCase(),null,null,Y?Y[H]:null,o));
return C};A.ub.prototype.OEE=function(R,Z,B,o,r){if(R==null||R.C.length==0)return;var Y=A.ub.Oyk(R,[Z],B,o,null)[0],E=new n(X.E.K,!0);
E.data={d:X.l.Bx,data:Y,name:R.q[R.C[0]].getName()+"."+Z};r.j(E)};A.ub.prototype.yK=function(R,Z,B,o,r){if(R._r=="getPNG"){this.OEE(B,"png",R.ONU,r,Z)}else if(R._r=="getSVG"){this.OEE(B,"svg",R.ONU,r,Z)}if(R._r=="prms"){this.yl=R;
this.hO(B)}};A.ub.OVR=function(R){var Z=R.length,o=0;R.sort(function(p,y){return p[0]+p[1]/2-(y[0]+y[1]/2)});
var B=R[Z-1][0]+R[Z-1][1]-R[0][0];for(var r=0;r<Z;r++)o+=R[r][1];var Y=Math.round((B-o)/(Z-1)),E=R[0][0];
for(var r=0;r<Z;r++){R[r][0]=E;E+=R[r][1]+Y}};A.ub.prototype.sz=function(R,Z,B,o,r){var Y=R.d;if(Y=="trsl"){var E=Math.round(R.ONx),p=Math.round(R.ONZ);
this.yr.wh(E,p);this.oz(B,Z,o,r,!1,R.r);this.Gr(B,E,p);this.YE(B,null,r)}else if(Y=="gids"||Y=="gidsFromLayer"){var y=R.IQ,z,u;
if(y==null)y=JSON.parse(JSON.stringify(B.Vw));if(Y=="gids"){z=R.ZW;var Q=y[0].length+y[1].length,H=z[0].length+z[1].length;
u=Q==H?[23,2]:Q>H?[23,3]:[23,4];if(H==0)u=[11,15,0]}else if(Y=="gidsFromLayer"){var T=[[],[]];for(var C=0;
C<B.C.length;C++){var e=B.q[B.C[C]].rect;if(e.Pa())continue;T[0].push(e.x,e.x+e.Y);T[1].push(e.y,e.y+e.Z)}u=[11,15,1];
z=JSON.parse(JSON.stringify(B.Vw));A.ub.Lq(z,T)}if(JSON.stringify(y)==JSON.stringify(z))return;var Y=new OV(u,this);
Y.data={d:2,IQ:y,ZW:z};B.ER(Y);this.G_(Y.data,B)}else if(Y=="algn"){var $=R.k;if(B==null)return;if(B.C.length<2&&!(B.O!=null&&$!=3&&$!=7)){alert(Ok.get([15,7,5]));
return}var x=B.O;B.O=null;var e=x?x.rect:A.HQ.mb(B);this.oz(B,Z,o,r,!1);if(!this.dT)return;var M=this.KN,m={},G=[],K=[],s=[];
for(var C=0;C<M.length;C++){var L=M[C];while(B.q[L].getName()=="</Layer group>")L++;var _=B.root.oO(L),P=_;
while(_.parent!=null){_=_.parent;if(M.indexOf(_.index)!=-1)P=_}var i=K.indexOf(P.index);if(i==-1){i=K.length;
K.push(P.index)}G[C]=i}var w=[],k=[],h=[];for(var C=0;C<K.length;C++){var j=A.HQ.mb(B,B.op(!0,K[C]));
h.push(j);var I=$==3?[j.y,j.Z]:[j.x,j.Y];w[C]=I;k.push(I)}A.ub.OVR(k);for(var C=0;C<K.length;C++){var j=h[C],V=j.x,F=j.y;
if($==0)V=e.x;if($==1)V=e.x+(e.Y-j.Y)/2;if($==2)V=e.x+(e.Y-j.Y);if($==3)F=w[C][0];if($==4)F=e.y;if($==5)F=e.y+(e.Z-j.Z)/2;
if($==6)F=e.y+(e.Z-j.Z);if($==7)V=w[C][0];s.push(Math.round(V-j.x),Math.round(F-j.y))}var q=[];for(var C=0;
C<M.length;C++){var t=G[C];q[2*C]=s[2*t];q[2*C+1]=s[2*t+1]}this.Gr(B,0,0,null,q);var c=$==3||$==7?[20,4,6]:[20,4,$<3?$:$-1];
this.YE(B,null,r,q,c);B.O=x}};A.ub.Lq=function(R,Z){for(var B=0;B<Z.length;B++)for(var o=0;o<Z[B].length;
o++)if(R[B].indexOf(Z[B][o])==-1)R[B].push(Z[B][o])};A.ub.prototype.enable=function(R,Z,B,o,r){this.$V=B;
this.HW=Z;this.Qw=r?!0:!1;this.hO(R);this.Wg("default",Z)};A.ub.prototype.disable=function(R,Z,B,o){this.Otv(R)};
A.ub.prototype.Otv=function(R){if(R==null)return;if(this.K$){this.K$.clear(R);this.K$=null}if(R.A.tW){R.A.tW=null;
R.Xl=!0}if(R.A.jK){R.A.jK=null;R.Xl=!0}if(R.A.Fw[this.id]){delete R.A.Fw[this.id];R.Xl=!0}if(R.A.Xd.length!=0){R.A.Xd=[];
R.Xl=!0}};A.ub.prototype.Cg=function(R,Z,B,o){this.hO(R)};A.ub.prototype.hO=function(R,Z){if(R==null)return;
var B=this.yl;this.Otv(R);if(!this.Qw){var o;if(B.HF||B.tW)o=O.W.Hx(A.HQ.mb(R));if(B.HF&&!o.Pa()){this.K$=new VM([o.x,o.y,o.x+o.Y,o.y,o.x+o.Y,o.y+o.Z,o.x,o.y+o.Z],!0);
this.K$.mF(R,this.$V)}if(B.tW){var r=R.Ojb(R.C[0]),u=null,Q=!1;if(r==null)r=new N(0,0,R.Y,R.Z);R.A.tW={dH:[o],nA:[]};
var Y=R.A.tW.nA,E=o.x+o.Y,p=o.y+o.Z,y=o.x+Math.floor(o.Y/2),z=o.y+Math.floor(o.Z/2);if(Z){var H=R.root.AK(new VP(Math.floor(Z.x),Math.floor(Z.y)));
if(H){u=O.W.Hx(H.r.NQ(R));if(u.nl(o)){Q=(u.Uv(o)||o.Uv(u))&&!o.EW(u);if(!Q)u=null}}}this.Oae(o,Y);if(u!=null){R.A.tW.dH.push(u);
var T=u.x+u.Y,C=u.y+u.Z,e=u.x+Math.floor(u.Y/2),$=u.y+Math.floor(u.Z/2);if(Q){var x=y,M=z;if(o.Uv(u)){x=e;
M=$}Y.push(o.x,M,u.x,M);Y.push(E,M,T,M);Y.push(x,o.y,x,u.y);Y.push(x,p,x,C)}else{this.Oae(u,Y);var m=p<u.y||C<o.y,G=E<u.x||T<o.x;
if(E<u.x)Y.push(E,z,u.x,z);if(T<o.x)Y.push(T,z,o.x,z);if(p<u.y)Y.push(y,p,y,u.y);if(C<o.y)Y.push(y,C,y,o.y);
if(m&&!G){if(o.x<u.x)Y.push(o.x,$,u.x,$);if(u.x<o.x)Y.push(u.x,z,o.x,z)}}}else{if(o.y>r.y)Y.push(y,r.y,y,o.y);
if(p<r.y+r.Z)Y.push(y,p,y,r.y+r.Z);if(o.x>r.x)Y.push(r.x,z,o.x,z);if(E<r.x+r.Y)Y.push(E,z,r.x+r.Y,z)}R.Xl=!0}}if(this.d==2&&this.dT){var K=this.KN,s=K[0],L=(s==0?"X":"Y")+": "+O.uO.Tk(R.Vw[s][K[1]],R.ag,this.$V,s==0?R.Y:R.Z,!0);
A.Kx.OOd(Math.round(this.if.x)+10,Math.round(this.if.y)-10,[L],R);R.Xl=!0}if(this.d==3&&this.dT){var _=O.W.Bu(this.su);
R.A.Fw[this.id]={ql:_};R.Xl=!0}};A.ub.prototype.Oae=function(R,Z){var B=R.Y,o=R.Z,r=R.x+Math.floor(B*.2),Y=R.y+Math.floor(o*.2);
Z.push(r,R.y,r,R.y+o);Z.push(R.x,Y,R.x+B,Y)};A.ub.prototype.Wg=function(R,Z){var B={d:X.l.Fj,JX:R},o=new n(X.E.K,!0);
o.data=B;Z.j(o)};A.ub.prototype.pC=function(R){var Z=this.qN.ib()[0],B=this.U$,o=this.OWF[Z];this.OOa(B,o)};
A.ub.prototype.LN=function(R){var Z=JSON.parse(JSON.stringify(this.$V.Al));Z.zn=this.sf.ib()[0];var B=new n(X.E.K,!0);
B.data={d:X.l.zM,Fe:GG.Ry,Zx:Z};this.HW.j(B)};A.ub.prototype.gT=function(R,Z,B,o,r){if(this.dT)this.YF(R,Z,B,o,r);
this.U$=R;this.$V=B;this.HW=Z;var Y=R.w.JQ(r.x,r.y),E;if(A.ub.Lv(B,r)){E=this.sf}else{if(this.qN)this.qN.removeEventListener("select",this.pC);
var p=[];R.root.AK(Y,p);if(p.length==0)return;var y=[];this.OWF=p;for(var z=0;z<p.length;z++)y.push({name:R.q[p[z]].getName()});
E=this.qN=new OD(y);E.v("select",this.pC,this)}E.parent=Z;E.c();E.update(R,B);var u=new n(X.E.K,!0);
u.data={d:X.l.dF,Jd:E,x:r.dp+2,y:r.$M+1};Z.j(u)};A.ub.prototype.OOn=function(R,Z,B,o,r){return A.ub.Lv(B,r)};
A.ub.prototype.JH=function(R,Z,B,o,r){this.if=r;this.tS.wh(r.x,r.y);this.tf=R.w.JQ(r.x,r.y);this.ao=new an(this.tf);
this.oz(R,Z,o,B,!0)};A.ub.Lv=function(R,Z){return R.Uq&&(0<Z.x&&Z.x<O.uO.sx||0<Z.y&&Z.y<O.uO.sx)};A.ub.prototype.oz=function(R,Z,B,o,r,Y){var E,p=this.tf,y=!1;
if(r){var z=o.RG&&o.Al.Vw;if(A.ub.Lv(o,this.tS)){E=JSON.parse(JSON.stringify(R.Vw));if(this.tS.x<O.uO.sx)R.Vw[0].push(p.x);
if(this.tS.y<O.uO.sx)R.Vw[1].push(p.y);if(!z){var u=new n(X.E.K);if(!o.Al.Vw){u.data={d:X.l.zM,Fe:GG.Rf};
Z.j(u)}if(!o.RG){u.data={d:X.l.zM,Fe:GG.ON};Z.j(u)}z=!0}}var Q=this.OyT(R,p);if(z&&Q){this.d=2;this.IQ=E?E:JSON.parse(JSON.stringify(R.Vw));
this.KN=Q;this.dT=!0;this.rJ=A.HQ.mb(R);return}if(R.Y_.length!=0){this.d=4;this.rJ=R.tP[R.Y_[0]].rect.clone();
this.dT=!0;return}if(this.K$&&this.K$.zy(p,R.w.h,!0)!=null){var u=new n(X.E.K);u.data={d:X.l.nu,B:A.iY};
Z.j(u);var H=new n(X.E.$);H.B=A.iY;H.data={d:"doMouseDown",if:this.tS};Z.j(H);return}if(R.O&&R.O.rect.a_(p)){var T=Math.round(p.x),C=Math.round(p.y),e=R.O.rect;
y=R.O.channel[(C-e.y)*e.Y+T-e.x]>128}if(!y&&(!this.Qw&&(B.R(a.iW)||this.yl.HK)||this.Qw&&this.yl.HK&&(B.R(a.Fl)||R.C.length<2))){var $=this.OVa(R,p,B);
if(!$){R.C=[];R.ID=null;R.ZK=R.QL=!0;this.d=3;this.su=new N;this.dT=!0;return}}if(B.R(a.yt)&&!y){var H=new n(X.E.$);
H.B=A.zr;H.data={d:S.NC,O$q:!0};Z.j(H)}}if(R.Y_.length!=0){this.d=4;this.rJ=R.tP[R.Y_[0]].rect.clone();
this.dT=!0;return}this.KN=R.op(Y==null,Y,null,!0);for(var x=0;x<this.KN.length;x++){var M=R.q[this.KN[x]];
if(M._A(2)||M._A(31)){alert(Ok.get([6,57,0]));return}}this.$m=A.ub.OJe(R,this.KN);this.d=0;if(R.O&&(!r||y)&&R.C.length==1&&R._W(!1)){if(!R.OBL()){this.dT=!1;
return}var m=R.q[R.C[0]],G=B.R(a.yt);this.d=1;var K=R.history[R.ls];if(K.B==this&&K.data.d==1&&K.data.r==R.C[0]&&m.Fv==m.UG.Fv&&!G){this.tN=K}else{var s=m.UG,L=!1,_;
if(!m.HN(R,R.O)||G){L=!0;m.fk(R,R.O,G)}if(m.UG.Fv<=0){_=O.a(m.UG.oS.length>>2);O.KT(m.UG.oS,_,3)}else _=O.clone(R.O.channel);
var P={rect:m.UG.Zj.clone(),channel:_};this.tN=new OV(G?[12,53]:[12,54],this);this.tN.data={d:1,r:R.C[0],UG:m.UG,Xc:s,r$:L,vL:R.O,vq:P,_l:new VP(0,0)};
R.ER(this.tN);R.O=P;R.OL=!0}}this.dT=!0;this.rJ=A.HQ.mb(R)};A.ub.prototype.OVa=function(R,Z,B){var o=R.root.AK(new VP(Math.floor(Z.x),Math.floor(Z.y)));
if(o){if(o.r.add.vmsk)R.Xl=!0;var r=R.q.indexOf(o.r);if(B.R(a.Fl)){var Y=R.C.indexOf(r);if(Y==-1)R.C.push(r);
else if(R.C.length>1)R.C.splice(Y,1)}else if(R.C.indexOf(r)==-1){this.OOa(R,r)}}return o!=null};A.ub.prototype.OOa=function(R,Z){R.q[Z].Fv=0;
R.C=[Z];R.ID=null;R.fx();R.Hl=!0;R.ZK=!0};A.ub.prototype.TU=function(R,Z,B,o,r){this.if=r;var Y=R.w.JQ(r.x,r.y),H,T;
if(this.ao&&this.d<2)Y=this.ao.mq(Y,o);if(!this.dT){if(B.RG&&B.Al.Vw){var E=this.OyT(R,Y),p="default";
if(E)p=["col-resize","row-resize"][E[0]];else if(this.K$){var y=this.K$.zy(Y,R.w.h);if(y)p=y}this.Wg(p,Z)}this.hO(R,Y);
return}var z=this.tf,u=Math.round(Y.x-z.x)-this.yr.x,Q=Math.round(Y.y-z.y)-this.yr.y;if(this.rJ){if(this.d==2){Y=A.ub.$P(R,Y,B,[!1,R.O?R.O.rect:this.rJ,!0])}else{T=this.rJ.clone();
T.offset(this.yr.x+u,this.yr.y+Q);H=A.ub.vK(R,T,B);u+=Math.round(H[0]);Q+=Math.round(H[1])}}this.yr.x+=u;
this.yr.y+=Q;this.Gr(R,u,Q,Y,null,o.R(a.Fl));this.hO(R,Y);if(H)A.ub.vx(R,T,H)};A.ub.prototype.OyT=function(R,Z){Z=[Z.x,Z.y];
for(var B=0;B<2;B++)for(var o=0;o<R.Vw[B].length;o++)if(Math.abs(R.Vw[B][o]-Z[B])*R.w.h<4)return[B,o];
return null};A.ub.prototype.Gr=function(R,Z,B,o,r,Y){if(this.d==0){if(r)A.ub.oK(R,this.KN,this.$m,r);
else A.ub.oi(R,this.KN,this.$m,Z,B)}else if(this.d==1){var E=this.tN.data;E._l.offset(Z,B);A.ub.GH(R,E.r,Z,B)}else if(this.d==2){var p=1e-5;
if(Y)p=R.w.h<=1?10:1;else if(R.w.h<=1)p=1;var y=p*Math.round(o.x/p),z=p*Math.round(o.y/p),u=[y,z],Q=this.KN;
R.Vw[Q[0]][Q[1]]=u[Q[0]]}else if(this.d==3){var H=this.tf,T=O.W.bE([H.x,H.y,o.x,o.y]);this.su=T;var C=[];
R.root.OBA(T,C);if(JSON.stringify(R.C)!=JSON.stringify(C)){R.C=C;R.ZK=!0;R.QL=!0}}else if(this.d==4){for(var e=0;
e<R.Y_.length;e++)R.tP[R.Y_[e]].rect.offset(Z,B);R.Xl=!0}};A.ub.GH=function(R,Z,B,o){var r=R.q[Z];R.O.rect.offset(B,o);
r.Uk(R,B,o,R.O);R.OL=!0;R.U()};A.ub.prototype.YF=function(R,Z,B,o,r){this.YE(R,r,B);this.hO(R)};A.ub.prototype.YE=function(R,Z,B,o,r){if(!this.dT)return;
this.dT=!1;if(this.d==0){if(o){this.OkC(R,null,o,r)}else{if(this.yr.x==0&&this.yr.y==0)return;this.OkC(R,this.yr.clone())}R.OF=!0}else if(this.d==2){var Y=0;
Z=[Z.x,Z.y];var E=this.KN,p=this.IQ[0].length+this.IQ[1].length,y=R.Vw[0].length+R.Vw[1].length;if(B.Uq&&Z[E[0]]<O.uO.sx){R.Vw[E[0]].splice(E[1],1);
Y=1;if(p==y-1)return}if(p<y)Y=2;var z=new OV([[23,2],[23,3],[23,4]][Y],this);z.data={d:2,IQ:this.IQ,ZW:JSON.parse(JSON.stringify(R.Vw))};
R.ER(z)}else if(this.d==4){var z=new OV([12,54],this);z.data={d:4,C:R.Y_.slice(0),s:this.yr.clone()};
R.ER(z)}this.yr.wh(0,0)};A.ub.prototype.oZ=function(R,Z,B,o){var r=o.Nh();if(R!=null&&(r.x!=0||r.y!=0)){this.yr.wh(r.x,r.y);
this.oz(R,Z,o,B,!1);if(!this.dT)return;this.Gr(R,r.x,r.y);this.YE(R,null,B);this.hO(R)}};A.ub.prototype.KC=function(R,Z){if(R.d==0)A.ub.oK(Z,R.C,R.Ig,R.Qq,!0);
else if(R.d==2){Z.Vw=JSON.parse(JSON.stringify(R.IQ));Z.Xl=!0}else if(R.d==4){for(var B=0;B<R.C.length;
B++)Z.tP[R.C[B]].rect.offset(-R.s.x,-R.s.y);Z.Xl=!0}else{var o=Z.q[R.r];if(R.r$){o.fO(Z,R.Xc);Z.O=R.vL;
Z.OL=!0;Z.U();o.U()}else{A.ub.GH(Z,R.r,-R._l.x,-R._l.y)}}};A.ub.prototype.G_=function(R,Z){if(R.d==0)A.ub.oK(Z,R.C,R.Ig,R.Qq);
else if(R.d==2){Z.Vw=JSON.parse(JSON.stringify(R.ZW));Z.Xl=!0}else if(R.d==4){for(var B=0;B<R.C.length;
B++)Z.tP[R.C[B]].rect.offset(R.s.x,R.s.y);Z.Xl=!0}else{var o=Z.q[R.r];if(R.r$){o.UG=R.UG;Z.O=R.vq;A.ub.GH(Z,R.r,0,0);
o.U()}else{A.ub.GH(Z,R.r,R._l.x,R._l.y)}}};A.ub.prototype.OkC=function(R,Z,B,o){if(B){var r=!0;for(var Y=0;
Y<B.length;Y++)if(B[Y]!=0)r=!1;if(r)return}var E=R.history[R.ls];if(E.data&&E.B==this&&E.data.d==0&&B==null&&JSON.stringify(E.data.C)==JSON.stringify(this.KN)&&JSON.stringify(E.data.Ig)==JSON.stringify(this.$m)){var p=E.data.Qq,y=E.data.O$U.UU.T.v;
y.Hrzn.v.val+=Z.x;y.Vrtc.v.val+=Z.y;for(var Y=0;Y<p.length;Y+=2){p[Y]+=Z.x;p[Y+1]+=Z.y}}else{if(Z==null)Z=new VP(B[0],B[1]);
var z={DG:"move",UU:{classID:"null",null:OX.m$("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:Z.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:Z.y}}}}}},u=new OV(o?o:[12,54],this);
if(B)u.data={d:0,C:this.KN,Ig:this.$m,Qq:B};else u.data={d:0,C:this.KN,Ig:this.$m,Qq:A.ub.Oyc(this.KN,Z.x,Z.y)};
u.data.O$U=z;R.ER(u);this.track(z)}};A.ub.Oyc=function(R,Z,B){var o=[];for(var r=0;r<R.length;r++)o.push(Z,B);
return o};A.ub.oi=function(R,Z,B,o,r){A.ub.oK(R,Z,B,A.ub.Oyc(Z,o,r))};A.ub.oK=function(R,Z,B,o,r){if(Z.length==0)return;
if(B==null){B=[];for(var Y=0;Y<Z.length;Y++){B.push(R.q[Z[Y]].He(R,!0))}}var E=new N,p=new N(0,0,R.Y,R.Z);
for(var Y=0;Y<Z.length;Y++){var y=o[2*Y],z=o[2*Y+1];if(r){y=-y;z=-z}var u=R.q[Z[Y]],Q=B[Y];if(u.add.fxrp&&(Q.indexOf(0)!=-1||u.yJ()))u.add.fxrp.offset(y,z);
for(var H=0;H<Q.length;H++){var T=Q[H];if(T==0){u.rect.offset(y,z);if(u.by()&&u.YQ(R))u.YQ(R).rect.offset(y,z);
if(u.add.artb){var C=u.NT();C.offset(y,z);u.yh(C)}if(u.add.TySh){u.add.TySh.P.translate(y,z);if(u.add.TySh.add){u.add.TySh.add.vmsk.offset(y,z)}}if(u.add.SoLd){var e=new GN(1,0,0,1,y,z),$=u.add.SoLd,x=A.HQ.Qj($.Trnf),M=A.HQ.Qj($.nonAffineTransform);
O.W.P(x,e,x);O.W.P(M,e,M);$.Trnf=A.HQ.Kv(x);$.nonAffineTransform=A.HQ.Kv(M)}}if(T==1)u.F$().rect.offset(y,z);
if(T==2){u.add.vmsk.offset(y,z);if(u.add.vogk)O.je.P(u.add.vogk,[1,0,y,0,1,z,0,0],[])}if(T==3){u.YQ(R).m.rect.offset(y,z);
if(Q.length==1)u.U()}}if(Q.length>0){var m=u.add.GdFl;if(m==null)m=u.add.PtFl;if(u.yJ()&&!u.AX()&&u.add.vmsk!=null&&O.V.Oc(u.add.vmsk.u)&&u.add.vmsk.ed==255&&(m==null||m.Algn&&m.Algn.v)){u.rect.offset(y,z)}else u.Aq(R);
var G=R.root.fv(u.NQ(R),R,Z[Y]);E=E.fj(G);G.offset(-y,-z);E=E.fj(G);if(u.add.SoCo||u.add.GdFl||u.add.PtFl||GK.get(u.add)!=null)E=E.fj(p);
u.OYR()}}R.U(E)};A.ub.OJe=function(R,Z){var B=[];for(var o=0;o<Z.length;o++){var r=R.q[Z[o]];B.push(r.He(R))}return B};
A.ub.vx=function(R,Z,B){var o=R.A.jK={I:[],J:[]},r=Z.x+B[0],Y=Z.y+B[1];if(B[2]!=1e9){o.J.push("M","L");
o.I.push(B[2],Y,B[2],Y+Z.Z)}if(B[3]!=1e9){o.J.push("M","L");o.I.push(r,B[3],r+Z.Y,B[3])}R.Xl=!0};A.ub.$P=function(R,Z,B,o){var r=A.ub.Oyy(R,[[Z.x],[Z.y]],B,o);
return new VP(Z.x+r[0],Z.y+r[1])};A.ub.vK=function(R,Z,B,o,r){var Y=r==!0?0:1,E=A.ub.Oyy(R,[[Z.x,Z.x+(Z.Y>>>Y),Z.x+Z.Y],[Z.y,Z.y+(Z.Z>>>Y),Z.y+Z.Z]],B,o);
return E};A.ub.Oyy=function(R,Z,B,o){if(o==null)o=[!0,null,!0];var r=[0,0,1e9,1e9];if(!B.QU)return r;
var Y=JSON.parse(JSON.stringify(Z));for(var E=0;E<2;E++){var p=1e9,y=Z[E],z=0;for(var u=0;u<y.length;
u++){var Q=A.ub.OV_(R,y[u],Y[1-E][u],E,B,o);if(Q!=1e9)Y[E][u]=Q;if(Q!=1e9&&Math.abs(Q-y[u])<Math.abs(p)){p=Q-y[u];
z=Q}}if(p!=1e9){r[E]=p;r[E+2]=z}}return r};A.ub.OV_=function(R,Z,B,o,r,Y){var E=1e9,p=r.aV,y=r.Al;if(Y[0]&&p[0]&&y.Vw&&r.RG){var z=R.Vw[o];
for(var u=0;u<z.length;u++)if(Math.abs(z[u]-Z)<Math.abs(E-Z))E=z[u]}if(p[1]&&y.IP&&r.RG){var Q=Math.round(O.uO.PM(y.xj,R,y.xf));
if(o==1&&y.aW==1){var H=B*.5*Math.sqrt(4/3),T;Q*=Math.sqrt(4/3);T=Math.round((Z-H)/Q)*Q+H;if(Math.abs(T-Z)<Math.abs(E-Z))E=T;
T=Math.round((Z+H)/Q)*Q-H;if(Math.abs(T-Z)<Math.abs(E-Z))E=T}else{var T=Math.round(Z/Q)*Q;if(Math.abs(T-Z)<Math.abs(E-Z))E=T}}var C=R.On;
if(p[3]&&y.On&&r.RG&&C.length!=0){for(var u=0;u<C.length;u++){if(!Y[2]&&R.KF.indexOf(u)!=-1)continue;
var e=A.EO.jO(C,u);for(var $=0;$<3;$+=2)if(e[$+o]!=Z&&Math.abs(e[$+o]-Z)<Math.abs(E-Z))E=e[$+o]}}if(Y[1]){var x=Y[1],M=x.Y,m=x.Z,G=[x.x,x.y,x.x+(M>>>1),x.y+(m>>>1),x.x+M,x.y+m];
for(var u=0;u<6;u+=2)if(Math.abs(G[u+o]-Z)<Math.abs(E-Z))E=G[u+o]}if(p[4]){var M=R.Y,m=R.Z,G=[0,0,M>>>1,m>>>1,M,m];
for(var u=0;u<6;u+=2)if(Math.abs(G[u+o]-Z)<Math.abs(E-Z))E=G[u+o]}var K=Math.abs(E-Z)<=4*X.D()/R.w.h?E:1e9;
return K};A.yd=function(){A.hs.call(this,[10,12],A.OkB,"tools/mwand")};A.yd.prototype=new A.hs;A.yd.prototype.mz=function(R,Z,B,o){this.finish(R,Z,B,o)};
A.yd.prototype.getSelection=function(R,Z,B,o){var r=this.qU,Y=A.hs.OOr(new VP(Math.floor(r.x),Math.floor(r.y)),this.yl.st);
return Y};A.yd.OzL=function(R,Z,B){if(R.C.length!=1){alert("More than one layer selected.");return null}var o=R.q[R.C[0]],r;
if(o.add.lsct!=null&&o.add.lsct!=YV.fV){alert("No layer selected.");return null}if(Z.x<0||Z.x>R.Y||Z.y<0||Z.y>R.Z)return null;
var Y=new N(0,0,R.Y,R.Z),E=o.Fv<=0?null:o.Fv==1?o.F$():o.YQ(R).m;if(E==null&&Y.EW(o.rect))r=o.buffer;
else{r=O.a(Y.b()*4);if(E==null)O.GN(o.buffer,o.rect,r,Y);else A.lg.dJ(E.channel,E.rect,E.color,r,Y)}var p=A.yd.OYC(r,Y,Z,null,B),y=O.Fs(p,Y),z=O.a(y.b());
O.WX(p,Y,z,y);return{rect:y,channel:z}};A.yd.ou=function(R,Z,B){var o=Z.Y,Y=0,E=0,p=0,y=0;R=new Uint32Array(R.buffer);
var r=[],z=B.length;for(var u=0;u<z;u++){var Q=B[u],H=Math.round(Q.x-.5-Z.x),T=Math.round(Q.y-.5-Z.y);
if(!Z.a_(Q))H=T=0;var C=T*o+H,e=R[C];r.push([e&255,e>>8&255,e>>16&255,e>>>24])}return r};A.yd.OYC=function(R,Z,B,o,r){R=new Uint32Array(R.buffer);
var Y=Z.Y,E=Z.Z,p=Y*E;if(o==null)o=A.yd.ou(R,Z,[B]);var y=Math.round(B.x-.5-Z.x),z=Math.round(B.y-.5-Z.y),u=z*Y+y,Q=Date.now(),H=O.a(Y*E),T=r[0],C=1/T,e=r[1]&&T>0?255:0;
if(r[2]){var $=O.a(H.length),x=new Uint32Array(p),M=1;x[0]=y<<16|z;$[u]=1;while(M>0){var m=x[M-1];M--;
var G=m>>>16,K=m&65535,s=K*Y+G,L=A.yd.Lz(R[s],o);if(L>T){var _=e*(1-Math.max(0,Math.min(1,(L-T)*C)));
H[s]=~~_}else{H[s]=255;if(K!=E-1&&$[s+Y]==0){x[M++]=G<<16|K+1;$[s+Y]=1}if(K!=0&&$[s-Y]==0){x[M++]=G<<16|K-1;
$[s-Y]=1}if(G!=Y-1&&$[s+1]==0){x[M++]=G+1<<16|K;$[s+1]=1}if(G!=0&&$[s-1]==0){x[M++]=G-1<<16|K;$[s-1]=1}}}}else{for(var s=0;
s<p;s++){var L=A.yd.Lz(R[s],o);if(L<=T)H[s]=255}for(var K=0;K<E;K++)for(var G=0;G<Y;G++){var s=K*Y+G;
if(H[s]==0&&(G>0&&(H[s-1]==255||K>0&&H[s-Y-1]==255||K<E-1&&H[s+Y-1]==255)||G<Y-1&&(H[s+1]==255||K>0&&H[s-Y+1]==255||K<E-1&&H[s+Y+1]==255)||K>0&&H[s-Y]==255||K<E-1&&H[s+Y]==255)){var L=A.yd.Lz(R[s],o),_=e*(1-Math.max(0,Math.min(1,(L-T)*C)));
H[s]=~~_}}}return H};A.yd.Lz=function(R,Z){var B=Z.length,o=A.yd.OjR(R,Z[0]),r=1;while(r!=B){o=Math.min(o,A.yd.OjR(R,Z[r]));
r++}return o};A.yd.OjR=function(R,Z){var B=R&255,o=R>>>8&255,r=R>>>16&255,Y=R>>>24&255;if(Z[3]==0)return Y<5?0:255;
var E=Math.max(Math.abs(B-Z[0]),Math.max(Math.abs(o-Z[1]),Math.abs(r-Z[2])));return Y==0?255:E};A.Pu=function(){A.lg.call(this,[10,26],A.Oad,"tools/patch");
this.a$=null;this.yP=null;this.s=null;this.eh=null;this.sm=new VP;this.sc=null};A.Pu.prototype=new A.lg;
A.Pu.prototype.JH=function(R,Z,B,o,r){var Y=R.w.JQ(r.x,r.y);if(R.O&&O.AK(Y,R.O.channel,R.O.rect)){var E=new N(0,0,R.Y,R.Z),p=E.Rg(R.O.rect);
if(!R._W()||p.Pa())return;if(!p.EW(R.O.rect)){var y=O.a(p.b());O.WX(R.O.channel,R.O.rect,y,p);R.O={channel:y,rect:p}}this.VP(R);
this.eh=Y;this.sm=new VP(Y.x-R.O.rect.x,Y.y-R.O.rect.y);this.sc=O.a(R.O.rect.b()*4);O.set(this.sc,4294967295);
if(this.yl.patch==1){var z=R.q[R.C[0]];z.fk(R,R.O,!0);if(z.UG==null)this.eh=null}}else{this.yP={I:[Y.x,Y.y],J:["M"]};
this.a$=Y}};A.Pu.prototype.TU=function(R,Z,B,o,r){var Y=R.w.JQ(r.x,r.y);if(this.eh){if(this.yl.patch==1){var E=R.q[R.C[0]].UG,p=Y.x-this.sm.x,y=Y.y-this.sm.y;
A.ub.GH(R,R.C[0],Math.round(p-E.Zj.x),Math.round(y-E.Zj.y))}else this.OSl(R,Y,"clone")}if(this.a$){this.yP.J.push("L");
this.yP.I.push(Y.x,Y.y);this.a$=Y;R.A.ql=this.yP;R.Xl=!0}};A.Pu.prototype.YF=function(R,Z,B,o,r){var Y=R.w.JQ(r.x,r.y);
if(this.eh){this.OSl(R,Y,"heal");this.finish(R,R.O.rect);this.eh=null}if(this.a$){var E=A.hs.LA(this.yl.setop,o.R(a.Fl),o.R(a.yt)),p=new n(X.E.e_,!0);
if(this.yP.I.length<=4)p.data=A.hs.FP();else p.data=A.hs.Gj(this.yP.I,E);Z.j(p);this.a$=null;R.A.ql=null;
R.Xl=!0}};A.Pu.prototype.ZO=function(){return this.s};A.Pu.prototype.yK=function(R,Z,B,o,r){A.lg.prototype.yK.call(this,R,Z,B,o,r);
this.Wg(r,o)};A.Pu.prototype.Wg=function(R,Z){var B="auto;";if(Z!=null&&Z.R(a.Fl)&&!Z.R(a.yt)||this.yl.setop=="union")B="copy";
var o=new n(X.E.K,!0);o.data={d:X.l.Fj,JX:B};if(this.caller)this.caller.j(o)};A.Pu.prototype.OSl=function(R,Z,B){var o=new VP(Math.round(this.eh.x-Z.x),Math.round(this.eh.y-Z.y));
if(this.yl.patch==1)o.wh(-o.x,-o.y);this.s=o;this.da(R,B,this.sc,R.O.rect,R.O.rect);this.U(R,R.O.rect)};
A.YV=function(){A.lg.call(this,[10,13],A.OOS,"tools/pbucket")};A.YV.prototype=new A.lg;A.YV.prototype.enable=function(R,Z,B,o){var r=new n(X.E.K,!0);
r.data={d:X.l.Fj,JX:"default"};Z.j(r)};A.YV.prototype.lU=function(R,Z){};A.YV.prototype.YF=function(R,Z,B,o,r){if(!R._W())return;
var Y=R.w.JQ(r.x,r.y),E=A.yd.OzL(R,Y,this.yl.wconf);if(E==null)return;var p=O.a(E.rect.b()*4);O.yg(p,(B.Ky&255)<<16|(B.Ky>>8&255)<<8|(B.Ky>>16&255)<<0);
O.qH(E.channel,p,3);this.VP(R);this.da(R,"draw",p,E.rect,E.rect);this.U(R,E.rect);this.finish(R,E.rect)};
A.Ux=function(){A.hs.call(this,[10,14],A.OKA,"tools/plasso");this.XI="crosshair";this.jG=[];this.yP=null;
this.OvI=0};A.Ux.prototype=new A.hs;A.Ux.prototype.disable=function(R,Z,B,o){this.du(R)};A.Ux.prototype.mz=function(R,Z,B,o){this.jG=[a.ZR,a.ZE]};
A.Ux.prototype.Hc=function(R){return this.jG.indexOf(R)!=-1};A.Ux.prototype.hj=function(R){return this.yP!=null};
A.Ux.prototype.LR=function(){return this.yP!=null};A.Ux.prototype.uC=function(){return this.yP!=null};
A.Ux.prototype.KV=function(R,Z,B,o){if(this.yP==null)return;var r=this.yP,Y=r.I,E=Y.length-2,p=this.qU;
if(this.ra>1&&B.R(a.yt)&&o.yL){Y.push(0,0);r.J.push("L");E+=2}else if(B.R(a.Fl))p=A.$f.PU(new VP(Y[E-2],Y[E-1]),p);
Y[E]=p.x;Y[E+1]=p.y;R.A.ql=r;R.Xl=!0};A.Ux.prototype.qK=function(R,Z,B,o){var r=Date.now();if(this.yP==null)this.yP={I:[this.qU.x,this.qU.y,this.qU.x,this.qU.y],J:["M","L"]};
else{this.KV(R,Z,B,o);this.yP.J.push("L");this.yP.I.push(this.qU.x,this.qU.y);R.A.ql=this.yP;if(r-this.OvI<250||VP.HP(this.qU,new VP(this.yP.I[0],this.yP.I[1]))<5*X.D()/R.w.h){this.finish(R,Z,B,o);
this.du(R)}}this.OvI=r;R.A.ql=this.yP};A.Ux.prototype.du=function(R){this.yP=null;this.jG=[];if(R!=null){R.A.ql=null;
R.Xl=!0}};A.Ux.prototype.oZ=function(R,Z,B,o){A.hs.prototype.oZ.call(this,R,Z,B,o);if(this.yP==null)return;
if(o.R(a.ZR)||o.R(a.ZE)){this.yP.I.pop();this.yP.I.pop();this.yP.J.pop();this.KV(R,B,o)}if(o.R(a.Ic)){if(this.yP.I.length>4)this.finish(R,B,o);
this.yP=null}if(o.R(a.UF)){this.yP=null}R.A.ql=this.yP;R.Xl=!0};A.Ux.prototype.getSelection=function(R,Z,B,o){return A.hs.Gj(this.yP.I)};
A.rt=function(){A.hs.call(this,[10,10],A.OKS,"tools/mlasso");this.XI="crosshair";this.jG=[];this.u=[];
this.Q$=[];this.W_=[];this.Qe=null;this.xP=null;this.te=null;this.ts=0;this.hH=0};A.rt.prototype=new A.hs;
A.rt.prototype.disable=function(R,Z,B,o){this.clear(R)};A.rt.prototype.hj=function(R){return this.u.length!=0};
A.rt.prototype.uC=function(){return this.u.length!=0};A.rt.prototype.Hc=function(R){return this.jG.indexOf(R)!=-1};
A.rt.prototype.mz=function(R,Z,B,o){this.jG=[a.ZR,a.ZE];var r=this.om(this.FF,R);if(this.u.length!=0&&(VP.HP(r,this.u[0])<4*X.D()/R.w.h||Date.now()-this.ts<300)){this.YR(R,this.u[0]);
this.finish(R,Z,B);this.clear(R);return}this.ts=Date.now();if(this.u.length!=0)r=this.LU(r,R);else{var Y=R.Y,E=R.Z,p=O.a(Y*E),y=R.fw(),z=Y*E*4;
for(var u=0;u<z;u+=4)p[u>>>2]=~~(.5+O.Ju(y[u],y[u+1],y[u+2])*(y[u+3]*(1/255)));this.Qe=O.tF.Ohy(p,Y,E);
this.te=new Uint16Array(p.length)}this.YR(R,r);this.hH=B.R(a.yt)?1:0;this.Fx(R)};A.rt.prototype.YR=function(R,Z){var B=this.u;
this.Q$[B.length]=this.W_.length;if(B.length!=0){O.tF.jo(this.xP,Z.y*R.Y+Z.x);var o=this.Li(R,Z);o.reverse();
var r=A.rt.ORX(R,o);this.W_=this.W_.concat(r)}B.push(Z);this.OEk(R)};A.rt.prototype.OEk=function(R){var Z=this.u[this.u.length-1],B=Z.y*R.Y+Z.x;
this.xP=O.tF.OhY(this.Qe.xu,this.Qe.Aj,B);this.te.fill(0)};A.rt.prototype.om=function(R,Z){return new VP(Math.floor(Math.max(0,Math.min(Z.Y-1,R.x))),Math.floor(Math.max(0,Math.min(Z.Z-1,R.y))))};
A.rt.prototype.clear=function(R){this.W_=[];this.u=[];this.Q$=[];this.Qe=null;this.xP=null;this.te=null;
if(R!=null){R.A.ql=null;R.A.KW=[];R.Xl=!0}this.jG=[]};A.rt.prototype.KV=function(R,Z,B,o){var r=this.u,Y=r.length;
if(Y==0)return;var E=this.LU(this.om(this.qU,R),R),p=this.Li(R,E);for(var y=0;y<p.length;y++){var z=p[y],u=new VP(z%R.Y,Math.floor(z/R.Y));
if(this.te[z]>30&&VP.HP(u,r[Y-1])>20){this.YR(R,u);return}this.te[z]++}if(this.hH==1&&o.yL)this.YR(R,E);
this.Fx(R)};A.rt.prototype.Fx=function(R){var Z=this.u;if(Z.length!=0){var B=this.LU(this.om(this.qU,R),R),o=this.Li(R,B);
o.reverse();var r=A.rt.ORX(R,o),Y=this.W_.concat(r),E=R.A.ql={I:Y,J:["M"]};for(var p=2;p<Y.length;p+=2)E.J.push("L")}R.A.KW=[];
for(var p=0;p<Z.length;p++)R.A.KW.push(Z[p].x+.5,Z[p].y+.5);R.Xl=!0};A.rt.prototype.qK=function(R,Z,B,o){};
A.rt.prototype.oZ=function(R,Z,B,o){if(this.u.length==0)return;if(o.R(a.ZR)||o.R(a.ZE)){this.u.pop();
this.W_=this.W_.slice(0,this.Q$[this.u.length]);this.Q$.pop();if(this.u.length==0)this.clear(R);else this.OEk(R);
this.Fx(R)}if(o.R(a.Ic)){var r=this.om(this.qU,R);this.YR(R,r);this.finish(R,B,o);this.clear(R)}if(o.R(a.UF)){this.clear(R)}};
A.rt.prototype.getSelection=function(R,Z,B,o){return A.hs.Gj(this.W_)};A.rt.prototype.Li=function(R,Z){var B=this.u[this.u.length-1],o=B.y*R.Y+B.x,r=Z.y*R.Y+Z.x;
if(this.hH==1)return[r,o];var Y=[r];while(r!=o){r=this.xP.UP[r];Y.push(r);if(Y.length>5e3){console.log(Y);
throw"e"}}return Y};A.rt.ORX=function(R,Z){var B=[],o=R.Y;for(var r=0;r<Z.length;r++){var Y=Z[r];B.push(Y%o+.5,Math.floor(Y/o)+.5)}return B};
A.rt.prototype.LU=function(R,Z){var B=Z.Y,o=Z.Z,r=R.clone(),E=3;O.tF.jo(this.xP,R.y*B+R.x);var Y=this.xP.Lj[R.y*B+R.x];
for(var p=-E+1;p<E;p++)for(var y=-E+1;y<E;y++){var z=R.x+y,u=R.y+p;if(z<0||z>=B||u<0||u>=o)continue;
O.tF.jo(this.xP,u*B+z);if(this.xP.Lj[u*B+z]<Y)r.wh(z,u)}return r};A.uT=function(){A.Kx.call(this,[10,36],A.Ok_,"tools/ruler");
this.BD=null;this.eR=null;this.sd=null;this.sg=null};A.uT.prototype=new A.Kx;A.uT.prototype.hj=function(R){return R.yL};
A.uT.prototype.disable=function(R,Z,B,o){this.BD=this.eR=null;if(R)this.hO(R)};A.uT.prototype.JH=function(R,Z,B,o,r){var Y=R.w.h/X.D(),E=R.w.JQ(r.x,r.y);
E.x=Math.round(E.x);E.y=Math.round(E.y);var p=this.BD;if(p&&VP.HP(E,p[0])*Y<6)this.eR=[0];else if(p&&VP.HP(E,p[1])*Y<6)this.eR=[1];
else if(p&&A.uT.OVv(p[0],p[1],E)*Y<6&&Math.min(p[0].x,p[1].x)-5<=E.x&&E.x<=Math.max(p[0].x,p[1].x)+5&&Math.min(p[0].y,p[1].y)-5<=E.y&&E.y<=Math.max(p[0].y,p[1].y)+5){this.eR=[0,1];
this.sg=[p[0].clone(),p[1].clone()];this.sd=E}else{this.BD=[E.clone(),E.clone()];this.eR=[1]}};A.uT.prototype.TU=function(R,Z,B,o,r){if(this.eR==null)return;
var Y=this.BD,E=this.eR,p=R.w.JQ(r.x,r.y);p.x=Math.round(p.x);p.y=Math.round(p.y);if(E.length==2){var y=p.x-this.sd.x,z=p.y-this.sd.y;
Y[0]=this.sg[0].clone();Y[0].offset(y,z);Y[1]=this.sg[1].clone();Y[1].offset(y,z)}else{Y[E[0]].wh(p.x,p.y);
if(o.R(a.Fl)){Y[E[0]]=A.$f.PU(Y[1-E[0]],Y[E[0]])}}this.hO(R);this.KL(Z,X.E.K,{d:X.l.pT,B:this.id,O$$:Y[0],_b:Y[1]})};
A.uT.prototype.YF=function(R,Z,B,o,r){this.eR=null};A.uT.prototype.KL=function(R,Z,B){var o=new n(Z,!0);
o.data=B;R.j(o)};A.uT.prototype.hO=function(R){var Z=this.BD;if(Z==null){R.A.ql=null;R.A.KW=[]}else{var B=[Z[0].x,Z[0].y,Z[1].x,Z[1].y];
R.A.ql={J:["M","L"],I:B};R.A.KW=B}R.Xl=!0};A.uT.OVv=function(R,Z,B){var o=Z.x-R.x,r=Z.y-R.y,Y=Math.abs(r*B.x-o*B.y+Z.x*R.y-Z.y*R.x),E=Math.sqrt(o*o+r*r);
return Y/E};A.ob=function(){A.lg.call(this,[10,19],A.VQ,"tools/sharpen");this.JP="copy"};A.ob.prototype=new A.lg;
A.ob.prototype.JH=function(R,Z,B,o,r){var Y=this.yl.pdetail?GM.mU:GM.VQ;if(o.R(a.yt))Y=GM.Vn;this.fZ(R,B,o,r,this.yl.strn,Y);
if(this.GC==null)return;this.Qo(R)};A.ob.prototype.TU=function(R,Z,B,o,r){this.JN(R,Z,B);if(this.YX)this.ff(R,B,r);
if(this.GC==null)return;if(!r.yL)return;this.qh(R,B,o,r);this.Qo(R)};A.YI=function(){A.lg.call(this,[10,24],A.Oyh,"tools/shbrush");
this.JP="draw";this.yl.opacity=.5};A.YI.prototype=new A.lg;A.YI.prototype.JH=function(R,Z,B,o,r){this.fZ(R,B,o,r,1);
if(this.GC==null)return;this.Qo(R)};A.YI.prototype.TU=function(R,Z,B,o,r){this.JN(R,Z,B);if(this.YX)this.ff(R,B,r);
if(this.GC==null)return;if(!r.yL)return;this.qh(R,B,o,r);this.Qo(R)};A.YI.prototype.YF=function(R,Z,B,o,r){if(this.GC==null)return;
this.da(R,"sheal",this.GC.VW(),this.GC.mb(),this.GC.xQ(),null);this.U(R,this.GC.xQ());A.lg.prototype.YF.call(this,R,Z,B,o,r)};
A.Mk=function(){A.lg.call(this,[10,20],A.co,"tools/smudge");this.JP="copy"};A.Mk.prototype=new A.lg;
A.Mk.prototype.JH=function(R,Z,B,o,r){this.fZ(R,B,o,r,this.yl.strn,GM.co);if(this.GC==null)return;this.Qo(R)};
A.Mk.prototype.TU=function(R,Z,B,o,r){this.JN(R,Z,B);if(this.YX)this.ff(R,B,r);if(this.GC==null)return;
if(!r.yL)return;this.qh(R,B,o,r);this.Qo(R)};A.My=function(){A.lg.call(this,[10,23],A.OOI,"tools/sponge");
this.JP="sponge"};A.My.prototype=new A.lg;A.My.prototype.JH=function(R,Z,B,o,r){this.fZ(R,B,o,r,this.yl.flow);
if(this.GC==null)return;this.Qo(R)};A.My.prototype.TU=function(R,Z,B,o,r){this.JN(R,Z,B);if(this.YX)this.ff(R,B,r);
if(this.GC==null)return;if(!r.yL)return;this.qh(R,B,o,r);this.Qo(R)};A.Ae=function(){A.Kx.call(this,[10,17],A.vA,"tools/zoom");
this.za=!1;this.Fc=!0;this.tu=0;this.QH=null;this.zu=null;this.sP=0;this.XH=null;this.ae=0;this.sf=new OD([{name:[8,0],vt:"Ctrl + +"},{name:[8,1],vt:"Ctrl + -",vU:!0},{name:[20,3],vt:"Ctrl + 0"},{name:[20,2],H:function(R){return{Ni:Ok.get([20,2])+": 100%"}},vt:"Ctrl + 1"}],[{z:X.E.$,B:A.vA,i:{d:"zoom",Fc:!0}},{z:X.E.$,B:A.vA,i:{d:"zoom",Fc:!1}},{z:X.E.$,B:A.vA,i:{d:"adapt",k:"fitscr"}},{z:X.E.$,B:A.vA,i:{d:"adapt",k:"pixel"}}])};
A.Ae.prototype=new A.Kx;A.Ae.prototype.gT=function(R,Z,B,o,r){var Y=this.sf;Y.c();Y.parent=Z;Y.update(R,B);
var E=new n(X.E.K,!0);E.data={d:X.l.dF,Jd:Y,x:r.dp+2,y:r.$M+1};Z.j(E)};A.Ae.prototype.enable=function(R,Z,B,o){this.Lm(Z,o);
if(Date.now()-this.tu<300)this.sz({d:"adapt",k:"pixel"},Z,R,o,B);this.tu=Date.now()};A.Ae.prototype.JH=function(R,Z,B,o,r){this.zu=new VP(r.x,r.y);
this.sP=R.w.h;this.XH=R.w.s.clone()};A.Ae.prototype.TU=function(R,Z,B,o,r){if(this.zu==null)return;var Y=Math.round((r.x-this.zu.x)/16);
if(Y==0)return;var E=A.Ae.LM(this.sP),p=A.Ae.Dc[Math.max(0,Math.min(A.Ae.Dc.length-1,E-Y))];R.w.h=this.sP;
R.w.s=this.XH.clone();this.sz({d:"zoom",h:p,if:this.zu},Z,R,o,B)};A.Ae.prototype.YF=function(R,Z,B,o,r){if(VP.HP(this.zu,r)<4){var Y=this.Oja(o);
this.sz({d:"zoom",Fc:Y,if:r},Z,R,o,B)}this.zu=null};A.Ae.Dc=[32,16,12,8,7,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
A.Ae.Lr=function(R,Z,B,o){var r=1;while(R*r*1/2>B||Z*r*1/2>o)r*=1/2;if(R*r*2/3>B||Z*r*2/3>o)r*=1/2;else if(R*r>B||Z*r>o)r*=2/3;
return r};A.Ae.OV$=function(R,Z){var B=A.Ae.LM(R);if(Z&&B==0)return R;if(!Z&&B==A.Ae.Dc.length-1)return R;
return A.Ae.Dc[Z?B-1:B+1]};A.Ae.LM=function(R){var Z=0;while(A.Ae.Dc[Z]>R)Z++;return Z};A.Ae.YA=function(R,Z,B,o){var r=R.qC;
if(o==0||o==null){o=A.Ae.OV$(R.h,B);if(o==R.h)return}var Y=R.JQ(Z.x,Z.y);if(r.Y*o<=R.p.Y&&r.Z*o<=R.p.Z)R.s.wh(0,0);
else{R.s.x=Math.round(r.Y*o/2-Y.x*o+(Z.x-R.p.Y/2));R.s.y=Math.round(r.Z*o/2-Y.y*o+(Z.y-R.p.Z/2))}R.h=o};
A.Ae.prototype.sz=function(R,Z,B,o,r){var Y=0,E=!1,p=null;if(R.d=="adapt"){var y=0;if(R.k=="pixel")y=1;
if(R.k=="fitscr"){var y=0,z=B.w.p.Y,u=B.w.p.Z;if(B.Y<=z&&B.Z<=u){var Q=1;while(B.Y*(Q+1)<=z&&B.Z*(Q+1)<=u)Q++;
y=Q}else{y=A.Ae.Lr(B.Y,B.Z,z,u)}}p=new VP(Math.round(B.w.p.Y/2),Math.round(B.w.p.Z/2));Y=y;A.Ae.YA(B.w,p,E,Y);
B.OF=!0}if(R.d.startsWith("multi")){function H(w){var k=w[0].x-w[1].x,h=w[0].y-w[1].y;return Math.sqrt(k*k+h*h)}function T(w){return new VP((w[0].x+w[1].x)/2,(w[0].y+w[1].y)/2)}var C=R.Hk,e=T(C);
if(R.d=="multidown"){this.QH=[C,B.w.h,B.w.JQ(e.x,e.y)]}else{Y=this.QH[1]*H(C)/H(this.QH[0]);if(Y>=1)Y=Math.min(32,Math.round(Y));
else{var $=0,x=1e9,M=A.Ae.Dc;for(var m=0;m<M.length;m++){var G=Math.abs(1-Y/M[m]);if(G<x){x=G;$=m}}Y=M[$]}if(Y!=B.w.h)A.Ae.YA(B.w,e,E,Y);
var K=this.QH[2],s=B.w.Nv(K.x,K.y),L=B.w.s;L.x=Math.round(L.x+e.x-s.x);L.y=Math.round(L.y+e.y-s.y);B.OF=!0}}if(R.d=="scroll"){p=R.if;
this.ae+=R.XW.y;var _=14;if(this.ae<-_){E=!0;this.ae=Math.max(this.ae+_,-(_-1))}else if(this.ae>_){E=!1;
this.ae=Math.min(this.ae-_,_-1)}else return;A.Ae.YA(B.w,p,E,Y);B.OF=!0}if(R.d=="zoom"){p=R.if?R.if:new VP(Math.round(B.w.p.Y/2),Math.round(B.w.p.Z/2));
if(R.h!=null)Y=R.h;else E=R.Fc;A.Ae.YA(B.w,p,E,Y);B.OF=!0}if(R.d=="mskView"){var P=B.q[B.C[0]],i=P.Fv==3?P.YQ(B).m:P.F$();
if(R.k==0){B.w.Ej=[1,1,1];i.NM=!1}if(R.k==1){B.w.Ej=[1,1,1];i.NM=!0}if(R.k==2){B.w.Ej=[0,0,0];i.NM=!0}for(var m=0;
m<B.tP.length;m++)B.tP[m].NM=!1;B.Y_=[];B.Xl=!0}};A.Ae.prototype.oZ=function(R,Z,B,o){if(this.za!=o.R(a.yt)){this.za=o.R(a.yt);
var r={d:X.l.pT,B:this.id,za:this.za},Y=new n(X.E.K,!0);Y.data=r;Z.j(Y);this.Lm(Z,o)}};A.Ae.prototype.Lm=function(R,Z){var B=new n(X.E.K,!0),o=this.Oja(Z);
B.data={d:X.l.Fj,JX:o?"zoom-in":"zoom-out"};R.j(B)};A.Ae.prototype.yK=function(R,Z,B,o){this.Fc=R.Fc;
this.Lm(Z,o)};A.Ae.prototype.Oja=function(R){var Z=this.Fc;if(R.R(a.NF)&&R.R(a.iW))Z=!0;if(this.za)Z=!Z;
return Z};A.uu=function(R,Z,B){A.Kx.call(this,R,Z,B);this.mf=null;this.$V=null;this.HW=null;this.Ovx=0};
A.uu.prototype=new A.Kx;A.uu.prototype.enable=function(R,Z,B,o,r){this.$V=B;var Y=new n(X.E.K,!0);Y.data={d:X.l.Fj,JX:"default"};
Z.j(Y)};A.uu.prototype.gT=function(R,Z,B,o,r){if(R.dm()[0].length==0)return;var Y=new n(X.E.K,!0);Y.data={d:X.l.pT,B:this.id,Xq:r,fB:R,sI:B};
Z.j(Y)};A.uu.prototype.ONg=function(R,Z){var B=new n(X.E.K,!0);B.data={d:X.l.zM,Fe:GG.ON};if(!Z.RG)R.j(B);
B.data={d:X.l.zM,Fe:GG.iR};if(!Z.Al.EP)R.j(B)};A.uu.prototype.Cg=function(R,Z,B,o){if(R.C.length==0)return;
var r=R.q[R.C[0]],Y=r.add.vmsk,E=r.add.vstk,p=A.uu.Lb(R,R.C[0]);this.mf=R;this.HW=Z;if(r.yJ()&&Y!=null&&(JSON.stringify(E)!=JSON.stringify(B.tT)||JSON.stringify(p)!=JSON.stringify(B.tQ))){this.Ovx=Date.now();
var y=new n(X.E.K,!0);y.data={d:X.l.zM,Fe:GG.iy,k:p};Z.j(y);y.data={d:X.l.zM,Fe:GG.YC,k:E};Z.j(y)}};
A.uu.prototype.lU=function(R,Z){if(this.mf==null)return;if(Z==GG.gy||Z==GG.iy||Z==GG.YC){if(Date.now()-this.Ovx<50)return;
var B=Z==GG.iy,o=this.mf,r=B?R.tQ:R.tT,Y=[];for(var E=0;E<o.C.length;E++){var p=o.C[E],y=o.q[p];if(!y.yJ()||y.add.vmsk==null)continue;
Y.push(p)}var z=new n(X.E.$,!0);z.B=A.zr;z.data={d:S.xr,ZZ:Y,Ui:B,k:r};if(Y.length!=0)this.HW.j(z)}};
A.uu.prototype.OGS=function(R){if(typeof R=="number"){var Z=new n(X.E.e_,!0);Z.data=A.zi.DF(0);Z.data.UU.Usng.v.Type.v.Clr.v=O.L.hN({F:R>>>16&255,S:R>>>8&255,X:R>>>0&255});
this.HW.j(Z)}};A.uu.prototype.sz=function(R,Z,B,o,r){this.HW=Z;if(R.d=="newfill"){if(R.ju==0){var Y=new n(X.E.K,!0);
Y.data={d:X.l.JT,fA:"colorpicker",Oq:r.Ky,QF:this.OGS.bind(this)};Z.j(Y)}}else if(R.d=="pathedit"){var E=R._r,p="",y=B.EP.slice(0),z=B.JG.slice(0),u=B.EP.slice(0),Q=B.JG.slice(0);
if(E=="rnm"){var H=-1-R.qp,T=y[H],C=GF.EU(R.name,T.add);u[H]=C;p="Rename"}else if(E=="new"){u.push(GF.EU("Path "+y.length));
Q=[u.length-1];p="New"}else if(E=="del"){if(Q.length==0)return;Q.sort(function(i,q){return i-q});if(Q[0]==0){u[0]=GF.EU(y[0].name);
Q=Q.slice(1)}var e=0;while(Q.length!=0){u.splice(Q[0]-e,1);Q=Q.slice(1);e++}p="Delete"}else if(E=="fromsel"){var $=u[0]=GF.EU("Work Path");
Q=[0];if(B.O==null)return;var x=B.O.channel.slice(0);for(var M=0;M<x.length;M++)x[M]=x[M]>128?2:1;var m=B.O.rect.clone();
m.yj(1,1);var G=O.a(m.b());O.WX(x,B.O.rect,G,m);var K=RB.BP(G,m.Y,m.Z,Math.round(m.b()*5e-4)),s=RB.dm(K),L=new GN(1,0,0,1,-1+B.O.rect.x,-1+B.O.rect.y);
for(var M=0;M<s.length;M++)O.W.P(s[M].path.I,L,s[M].path.I);for(var M=0;M<s.length;M++){var _=s[M];if(_.color==1&&_.parent==-1)continue;
var P=O.W.un(s[M].path,!1);$.add.vmsk.u=$.add.vmsk.u.concat(P)}$.add.vogk=S.uN($.add.vmsk.u);p="Selection to"}var i=new OV(p+" Path",this);
i.data={Fi:y,Ha:z,O$o:u,Hj:Q};if(E=="fromsel"){i.data.vL=B.O;i.data.vq=null}B.ER(i);this.G_(i.data,B)}else{var w=B.dm(R.d=="append"),s=w[0],k=w[1],$=s[k[0]],h=$.add.vmsk,j=$.add.vogk,I=h.clone(),V=h.clone(),F=JSON.stringify(j);
if(R.d=="remove"){if(V.C.length==0)return;var e=0;for(var M=0;M<V.C.length;M++){j.splice(V.C[M]+e,1);
e--}V.u=O.V.O$R(V.u,V.C);V.C=[];V._R=[]}if(R.d=="append"){A.uu.OWM(R.O$s,V,j)}this.Nt(B,$.qp,V,j);this.mE(B,R.$L,$.qp,I,V.clone(),null,F,JSON.stringify(j))}};
A.uu.OBJ=function(R,Z){var B=O.V.O$X(R.u,R.C),o=[];for(var r=0;r<R.C.length;r++)o.push(JSON.parse(JSON.stringify(Z[R.C[r]])));
return[B,o]};A.uu.OWM=function(R,Z,B){var o=O.V._D(Z.u),r=O.V._D(R[0]);Z.u=Z.u.concat(R[0].slice(2));
Z.C=[];for(var Y=0;Y<r;Y++)Z.C.push(o+Y);for(var Y=0;Y<r;Y++)B.push(JSON.parse(JSON.stringify(R[1][Y])))};
A.uu.prototype.Hc=function(R,Z){if(Z==null)return!1;var B=Z.dm(),o=B[0],r=B[1];if(r.length==0)return!1;
var Y=o[r[0]],E=Y.add.vmsk;if(E&&E.C.length+E._R.length!=0)return[a.ZR,a.ZE].indexOf(R)!=-1};A.uu.prototype.oZ=function(R,Z,B,o){if(R==null)return;
var r=R.dm(),Y=r[0],E=r[1];if(E.length==0)return;var p=Y[E[0]],y=p.add.vmsk;if(o.R(a.UF)||o.R(a.Ic)){y._R=[];
R.Xl=!0}if(y.C.length!=0){var z=o.Nh();if(z.x!=0||z.y!=0){var u=y.clone(),Q=y.clone(),H=new GN(1,0,0,1,z.x,z.y),T=p.add.vogk,C=JSON.stringify(T);
O.V.lC(Q.u,H,Q.C);O.je.P(T,O.f._B(H),Q.C);this.Nt(R,p.qp,Q,T);this.mE(R,"Move Paths",p.qp,u,Q.clone(),!0,C,JSON.stringify(T))}if(o.R(a.ZR)||o.R(a.ZE))this.sz({d:"remove",$L:"Delete Paths"},Z,R,o,B)}};
A.uu.prototype.mE=function(R,Z,B,o,r,Y,E,p){var y=new OV(Z,this);y.data={VL:B,HI:o,Yw:r,OvQ:Y,OzK:E,HB:p};
R.ER(y)};A.uu.prototype.G_=function(R,Z){if(R.VL!=null)this.Nt(Z,R.VL,R.Yw.clone(),JSON.parse(R.HB));
else{Z.EP=R.O$o.slice(0);Z.JG=R.Hj.slice(0);Z.Xl=Z.ZK=!0}if(R.vL||R.vq){Z.O=R.vq;Z.OL=!0}};A.uu.prototype.KC=function(R,Z){if(R.VL!=null)this.Nt(Z,R.VL,R.HI.clone(),JSON.parse(R.OzK));
else{Z.EP=R.Fi.slice(0);Z.JG=R.Ha.slice(0);Z.Xl=Z.ZK=!0}if(R.vL||R.vq){Z.O=R.vL;Z.OL=!0}};A.uu.prototype.Nt=function(R,Z,B,o){var r=Z<0?R.EP[-1-Z]:Z<1e6?R.q[Z]:R.q[Z-1e6].add.TySh;
r.add.vmsk=B;r.add.vogk=o;if(1e6<=Z){GV.IC(r);var Y=R.q[Z-1e6],E=r,p=this.$V,y=new YI(E.HC,p.YN),z=YK.uV(y,E);
Y.rect=z._;Y.buffer=z.Y$;Y.U();R.U()}else if(0<=Z){B.Zr=!0;r.Aq(R);R.U()}R.Xl=R.ZK=!0};A.uu.Lb=function(R,Z){var B=R.q[Z],o=B.add.vstk,r=null;
if(o&&!o.fillEnabled.v)r={UD:0};else if(B.add.SoCo)r={UD:1,ZI:B.add.SoCo};else if(B.add.GdFl)r={UD:2,ZI:B.add.GdFl};
else if(B.add.PtFl)r={UD:3,ZI:B.add.PtFl};return r};A.uu.ME=function(R,Z){var B=R.add.vmsk,o=R.add.vstk,r=Z.UD;
if(o)o.fillEnabled.v=r!=0;if(r>0){var Y=["SoCo","GdFl","PtFl"][r-1];for(var E=0;E<3;E++)delete R.add[["SoCo","GdFl","PtFl"][E]];
R.add[Y]=Z.ZI}};A.zi=function(R,Z,B,o){A.uu.call(this,R,Z,B);this.yl={tmode:1,shape:yn.wI(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,cstr:{RN:0}};
this.O$F=o;this.aK=null;this.H_=null;this.tg=null};A.zi.prototype=new A.uu;A.zi.prototype.hj=function(R){return R.yL&&this.id!=A.vf};
A.zi.prototype.enable=function(R,Z,B,o,r){var Y=new n(X.E.K,!0);Y.data={d:X.l.Fj,JX:"crosshair"};Z.j(Y)};
A.zi.prototype.Rs=function(R,Z,B,o){};A.zi.prototype.JH=function(R,Z,B,o,r){this.ONg(Z,B);var Y=this.yl.tmode;
if(Y==2&&!R._W())return;var E=R.w.JQ(r.x,r.y);E=A.ub.$P(R,E,B);this.tg=[E.x,E.y];this.aK=E;this.H_=new VP(0,0)};
A.zi.prototype.OyC=function(R,Z,B){var o=[this.aK.clone(),Z.clone()];if(this.O$F)o=A.zi.lk(o[0],o[1],B,!0,this.yl.cstr);
if(R)R.w.nC=new N(o[0].x,o[0].y,o[1].x-o[0].x,o[1].y-o[0].y);return this.Rs(o[0],o[1],B.R(a.Fl),this.tg)};
A.zi.prototype.OOf=function(R,Z,B){var o=R.w.JQ(Z.x,Z.y),r=this.yl.cstr;if(r.RN==2){var Y=new N(o.x-r.x,o.y-r.y,r.x,r.y),E=A.ub.vK(R,Y,B);
o.x+=E[0];o.y+=E[1];A.ub.vx(R,Y,E)}else o=A.ub.$P(R,o,B);return o};A.zi.prototype.TU=function(R,Z,B,o,r){if(this.aK==null)return;
var Y=this.OOf(R,r,B);if(o.R(a.NF))this.aK=Y.ye(this.H_);else this.H_=Y.ye(this.aK);this.tg.push(Y.x,Y.y);
if(this.yl.shape==null)this.yl.shape=B.fh[0];var E=this.OyC(R,Y,o)[0],p=O.W.mM(E);R.A.ql=p;if(this.id!=A.vf&&this.id!=A.pZ&&this.id!=A.pm)A.Kx.VF(r.x+10,r.y-10,R.w.nC,R,B);
R.Xl=!0};A.zi.prototype.OGv=function(R,Z,B,o){var r=R[4].clone();if(o){r.x-=Z/2;r.y-=B/2}var Y=this.Rs(r,new VP(r.x+Z,r.y+B),!1,this.tg);
this.OjX(R[0],R[1],R[2],Y)};A.zi.prototype.OjX=function(R,Z,B,o){var r=new n(X.E.e_,!0);r.data=A.zi.Oqg(o[1],B);
Z.j(r);if(o[1].v.classID=="customShape"&&o[1].v.Nm.v.startsWith("--")){var Y=R.dm(),E=Y[0],p=Y[1],y=E[p.pop()],z=y.add.vmsk,u=y.add.vogk,Q=z.clone();
Q.u=o[0];this.Nt(R,y.qp,Q,u)}};A.zi.prototype.YF=function(R,Z,B,o,r){if(this.aK==null)return;var Y=this.OOf(R,r,B),E=this.yl.binop,p=this.yl.tmode,y=this.tg,z=y.length;
if(this.id==A.vf&&z<=4){}else if(z<=4){Y.x=Math.round(Y.x);Y.y=Math.round(Y.y);var u=new n(X.E.K);u.data={d:X.l.JT,fA:"createshape",O$m:this.OGv.bind(this),O$C:this.name,O$d:[R,Z,B,o,Y]};
Z.j(u)}else if(z!=2){var Q=this.OyC(R,Y,o),H=Q[0];if(p==0&&H.length>2){H[2].lz=[1,2,3,0][E];var T=R.dm(!0),C=T[0],e=T[1],$=C[e.pop()],x=$.add.vmsk,M=$.add.vogk,m=x.clone(),G=x.clone(),K=JSON.stringify(M);
G.u=G.u.concat(H.slice(2));G.C=[O.V._D(G.u)-1];var s=O.je.Pq(Q[1]);M.push(s?s:O.je.GP());this.Nt(R,$.qp,G,M);
this.mE(R,this.name,$.qp,m,G,null,K,JSON.stringify(M))}else if(p==1){this.OjX(R,Z,B,Q)}else if(p==2){var G=new S.lo;
G.u=G.u.concat(H.slice(2));var L=G.F$(),_=O.a(L.rect.b()*4);O.yg(_,(B.Ky&255)<<16|(B.Ky>>8&255)<<8|(B.Ky>>16&255)<<0);
O.qH(L.channel,_,3);var P=new n(X.E.$,!0);P.B=A.eP;P.data={d:"draw",Ev:{buffer:_,rect:L.rect.clone()},$L:this.name};
Z.j(P)}}this.aK=null;R.A.ql=null;R.A.jK=null;R.A.Xd=[];R.w.nC=null;R.Xl=!0};A.zi.prototype.yK=function(R,Z,B,o,r){for(var B in R)this.yl[B]=R[B]};
A.zi.lk=function(R,Z,B,o,r){var Y=R.x,E=R.y,p=Z.x,y=Z.y;if(r&&r.RN==2){if(o){p=Math.round(p);y=Math.round(y)}Y=p-r.x;
E=y-r.y}else{var z=0;if(r&&r.RN==1)z=r.y/r.x;else if(B&&B.R(a.Fl))z=1;if(z!=0){if(o){if(Y<p)Y=Math.floor(Y);
else Y=Math.ceil(Y);if(E<y)E=Math.floor(E);else E=Math.ceil(E)}var u=Math.abs(p-Y),Q=Math.abs(y-E),H=u;
if(Q/u<z)H*=Q/u/z;p=p>Y?Y+H:Y-H;y=y>E?E+H*z:E-H*z}if(B&&B.R(a.yt)){Y-=p-Y;E-=y-E}}var R=new VP(Y,E),Z=new VP(p,y);
if(o)A.zi.OGz(R,Z);return[R,Z]};A.zi.OGz=function(R,Z){if(R.x>Z.x){var B=R.x;R.x=Z.x;Z.x=B}if(R.y>Z.y){var B=R.y;
R.y=Z.y;Z.y=B}R.x=Math.floor(R.x);R.y=Math.floor(R.y);Z.x=Math.ceil(Z.x);Z.y=Math.ceil(Z.y)};A.zi.OGi=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
A.zi.DF=function(R,Z){var B=A.zi.OGi();if(Z==null)Z=JSON.parse(JSON.stringify(Gk.Ex[R]));Oi.T$.Yi(Z,B.Usng.v.Type.v,R);
return{DG:"make",UU:B}};A.zi.Oqg=function(R,Z){var B=Z.tQ,o=JSON.parse(JSON.stringify(Z.tT));if(B.UD==0)o.fillEnabled.v=!1;
var r=A.zi.DF(Math.max(0,B.UD-1),B.ZI);r.UU.Usng.v.Shp=R;r.UU.Usng.v.strokeStyle={t:"Objc",v:o};return r};
A.n_=function(){A.uu.call(this,[10,29],A._n,"tools/pen");this.v$=null;this.ro=null;this.fS=1;this.OiS=0;
this.Qm=null;this.QP=!1};A.n_.prototype=new A.uu;A.n_.prototype.hj=function(R){return this.v$!=null};
A.n_.prototype.JH=function(R,Z,B,o,r){this.ONg(Z,B);var Y=R.w.JQ(r.x,r.y),T,C;Y.x=Math.round(Y.x);Y.y=Math.round(Y.y);
var E=A.ub.$P(R,Y,B),p=R.dm(this.fS==0),y=p[0],z=p[1],u=y[z.pop()],Q=u?u.add.vmsk:null,H=4*X.D()/R.w.h;
if(Q)T=O.V.AK(Q.u,Y,!0,H);if(this.fS==1&&(Q==null||(Q._R.length==0||Q._R[0]!=Q.u.length-1)&&T.qp==-1)){var e=new n(X.E.e_,!0),$=O.je.HL("customShape",[0,0,1,1],null,null,null,"--");
e.data=A.zi.Oqg($,B);Z.j(e);p=R.dm(!0);y=p[0];z=p[1];u=y[z.pop()];Q=u.add.vmsk;Q.u=Q.u.slice(0,2)}var x=u.add.vogk;
this.v$=Q.clone();this.ro=JSON.stringify(x);var M=Q.u,m=O.V._D(M);C=O.V.eE(Q.u,new N(Y.x-H,Y.y-H,H*2,H*2));
T=O.V.AK(Q.u,Y,!0,H);if(T.qp!=-1&&C[0].length==0){var G=O.V.qY(M,T.qp);while(M[G].length<=T.tv){T.tv-=M[G].length;
G+=M[G].length+1}M[G].length++;M.splice(G+2+T.tv,0,{type:4,EY:E.clone(),N:E.clone(),IJ:E.clone()});Q._R=[G+2+T.tv]}else if(C[0].length==1&&o.R(a.yt)){var K=C[0],s=Q.u.length-1,L=Q.u[K];
L.IJ=L.N.clone();if(K!=s)L.EY=L.N.clone()}else{var _=0;if(Q._R.length!=1){Q.C=[m];M.push({type:3,length:1,lz:[1,2,3,0][this.OiS],DN:0,UE:0,UY:0});
_=M.length;x.push(O.je.GP())}else{var P=Q._R[0],i=O.V.Ei(M,P),G=O.V.qY(M,i);if(P==G+M[G].length&&VP.HP(Y,M[G+1].N)<H){M[G].type=0;
Q._R=[G+1];this.Qm=E;this.QP=!0;this.Nt(R,u.qp,Q,x);R.Xl=!0;return}M[G].length++;_=P+1}if(o.R(a.Fl)&&M[_-1]&&M[_-1].N)E=A.$f.PU(M[_-1].N,E);
M.splice(_,0,{type:4,EY:E.clone(),N:E.clone(),IJ:E.clone()});Q._R=[_];this.Qm=E}this.Nt(R,u.qp,Q,x);
R.Xl=!0};A.n_.prototype.TU=function(R,Z,B,o,r){if(this.v$==null)return;var Y=R.w.JQ(r.x,r.y),E=A.ub.$P(R,Y,B),p=R.dm(this.fS==0),y=p[0],z=p[1],u=y[z.pop()],Q=u.add.vmsk,H=Q.u,T=H[Q._R[0]];
if(o.R(a.NF)){if(o.R(a.Fl))E=A.$f.PU(this.Qm,E);var C=T.N.ye(T.IJ),e=T.EY.ye(T.N);T.IJ=E;T.N=E.add(C);
T.EY=T.N.add(e)}else{if(o.R(a.Fl))E=A.$f.PU(T.N,E);if(this.QP){var $=VP.HP(T.N,E),x=$==0?0:VP.HP(T.N,T.IJ)/$;
T.IJ.x=T.N.x+x*(E.x-T.N.x);T.IJ.y=T.N.y+x*(E.y-T.N.y)}else T.IJ=E;if(o.R(a.yt))T.type=5;else{T.type=4;
T.EY=T.N.add(T.N.ye(E))}this.Qm=E}this.Nt(R,u.qp,Q,u.add.vogk);R.Xl=!0};A.n_.prototype.YF=function(R,Z,B,o,r){if(this.v$==null)return;
var Y=R.dm(this.fS==0),E=Y[0],p=Y[1],y=E[p.pop()],z=y.add.vmsk,u=y.add.vogk;this.mE(R,this.QP?"Close Path":"Add Anchor Point",y.qp,this.v$,z.clone(),null,this.ro,JSON.stringify(u));
this.QP=!1;this.v$=null};A.n_.prototype.yK=function(R,Z,B,o,r){this.fS=R.tmode;this.OiS=R.binop};A.lE=function(){A.zi.call(this,[10,30],A.vf,"tools/fpen",!1)};
A.lE.prototype=new A.zi;A.lE.prototype.Rs=function(R,Z,B,o){return[O.V.Bp(o,this.yl.tolr),O.je.HL("customShape",[0,0,1,1],null,null,null,"--")]};
A.Wu=function(){A.uu.call(this,[10,27],A.Pw,"tools/pselect");this.Vd=null;this.fD=!1;this.yP=null;this.v$=null;
this.Ht=null;this.ro=null;this.HJ=null;this.rJ=null;this.fF=null;this.ao=null};A.Wu.prototype=new A.uu;
A.Wu.prototype.hj=function(R){return R.yL};A.Wu.prototype.JH=function(R,Z,B,o,r){var Y=R.w.JQ(r.x,r.y),E=R.dm(),p=E[0],y=E[1],z,u;
for(var Q=0;Q<y.length;Q++){var H=p[y[Q]],T=H.add.vmsk,C=O.V.AK(T.u,Y).qp;if(C!=-1){this.yP=z=H;u=C}for(var e=0;
e<T.BD.length;e++){var $=O.V.EX(T.u,T.BD[e]);if($==null)continue;var x=VP.HP($,Y);if(x<4*X.D()/R.w.h){var M=R.q[H.qp-1e6].add.TySh,m=M.HC.Curve,G=M.P,K=m.Reversed;
m.Reversed=!1;var m=YI.mp(M.HC.Curve);m.Reversed=K;O.W.P(m[0],G,m[0]);this.fF=[m,e,G.t*G._l-G.X*G.f_];
this.yP=z=H;u=0}}if(this.fF)break}if(z!=null){var T=z.add.vmsk;T._R=[];var s=T.C.indexOf(u);if(o.R(a.Fl)){if(s==-1){T.C.push(u);
this.fD=!0}else T.C.splice(s,1)}else{if(s==-1)T.C=[u];this.fD=!0}this.rJ=O.V.pA(T.u,T.C)}this.Vd=Y;this.ao=new an(Y);
R.ZK=!0;R.Xl=!0};A.Wu.prototype.TU=function(R,Z,B,o,r){if(this.Vd==null)return;var Y=R.w.JQ(r.x,r.y);
if(this.fD){Y=this.ao.mq(Y,o);var E=this.yP;if(this.v$==null){this.v$=this.Ht=E.add.vmsk.clone();this.ro=this.HJ=JSON.stringify(E.add.vogk);
if(o.R(a.yt)){var p=this.v$.clone(),y=JSON.parse(this.ro),z=A.uu.OBJ(p,y);A.uu.OWM(z,p,y);this.Ht=p;
this.HJ=JSON.stringify(y)}}var p=this.Ht.clone(),y=JSON.parse(this.HJ);if(this.fF){var u=this.fF,Q=u[0][0],H=O.W.xI(Q,Y.x,Y.y);
p.BD[u[1]]=u[0][1][H];var T=Q[H*2],C=Q[H*2+1],e=(Q[H*2+2]-T)*(Y.y-C)-(Q[H*2+3]-C)*(Y.x-T);if(u[2]<0)e=-e;
p.Xm=e>0}else{var $=this.rJ.clone(),x=$.x,M=$.y;$.offset(Y.x-this.Vd.x,Y.y-this.Vd.y);$.x=Math.round($.x);
$.y=Math.round($.y);var m=A.ub.vK(R,$,B),G=new GN(1,0,0,1,$.x-x+m[0],$.y-M+m[1]);O.V.lC(p.u,G,p.C);O.je.P(y,O.f._B(G),p.C);
A.ub.vx(R,$,m)}this.Nt(R,E.qp,p,y)}else{var K=this.Vd;R.A.ql=O.W.Bu(new N(K.x,K.y,Y.x-K.x,Y.y-K.y));
R.Xl=!0}};A.Wu.prototype.YF=function(R,Z,B,o,r){if(this.Vd==null)return;var Y=R.w.JQ(r.x,r.y),E=this.yP,p=E?E.add.vmsk:null;
if(this.fD){var y=JSON.stringify(E.add.vogk);if(!this.Vd.EW(Y))this.mE(R,"Move Paths",E.qp,this.v$,p,null,this.ro,y);
if(R!=null&&R.A.jK){R.A.jK=null;R.Xl=!0}}else{if(p){var z=this.Vd,u=new N(z.x,z.y,Y.x-z.x,Y.y-z.y),Q=O.V.OUc(p.u,u);
if(o.R(a.Fl)){for(var H=0;H<Q.length;H++)if(p.C.indexOf(Q[H])==-1)p.C.push(Q[H])}else p.C=Q}R.A.ql=null;
R.Xl=!0}this.Vd=null;this.v$=null;this.fF=null;this.fD=!1;this.ao=null};A.Wu.prototype.Cg=function(R,Z,B,o){A.uu.prototype.Cg.call(this,R,Z,B,o);
if(R.C.length==0)return;var r=R.dm(),Y=r[0],E=r[1];if(E.length==0)return;var p=Y[E[0]],y=p.add.vmsk,z=p.add.vstk,u=p.add.vogk,Q=new n(X.E.K,!0);
Q.data={d:X.l.pT,B:this.id,hu:"main",Xv:y?y:null,je:u};Z.j(Q)};A.Wu.prototype.yK=function(R,Z,B,o,r){var Y=R.ua;
if(Y.Xv){var E=B.dm(),p=E[0],y=E[1],z=p[y[0]],u=z.add.vmsk.clone(),Q=JSON.stringify(z.add.vogk),H=Y.Xv;
this.Nt(B,z.qp,H,Y.je);var T=[18,5];if(u.u.length==H.u.length)T=u.C[0]==H.C[0]?"Fill Rule":"Path Order";
this.mE(B,T,z.qp,u,H,null,Q,JSON.stringify(Y.je))}};A.an=function(){A.uu.call(this,[10,28],A.pe,"tools/dselect");
this.BH=-1;this.ea=-1;this.gk=null;this.Vd=null;this.yP=null;this.v$=null;this.ro=null;this.ts=0;this.OUW={psnap:!1};
this.ao=null};A.an.prototype=new A.uu;A.an.prototype.hj=function(R){return R.yL};A.an.prototype.yK=function(R){this.OUW=R};
A.an.prototype.disable=function(R,Z,B,o){this.lR(R)};A.an.prototype.JH=function(R,Z,B,o,r){this.lR(R);
var Y=R.w.JQ(r.x,r.y),Q,H,T;this.gk=Y.clone();var E=R.dm(),p=E[0],y=E[1];if(y.length==0)return;var z=4*X.D()/R.w.h,u=new N(Y.x-z,Y.y-z,z*2,z*2);
for(var C=0;C<y.length;C++){Q=this.yP=p[y[C]];H=Q.add.vmsk;T=O.V.eE(H.u,u);if(T[0].length+T[1].length+T[2].length!=0)break}var e=[!1,!1,!1];
for(var $=0;$<3;$++){for(var x=0;x<T[$].length;x++)if(H._R.indexOf(T[$][x])!=-1){T[$]=[T[$][x]];e[$]=!0;
break}}if(T[0].length!=0&&(e[0]||!e[1]&&!e[2])){var M=T[0][0],m=H._R.indexOf(M);if(o.R(a.Fl)){if(m==-1)H._R.push(M);
else{H._R.splice(m,1);R.Xl=!0;return}}else if(m==-1)H._R=[M];this.BH=M;this.ea=0}else if(T[1].length!=0&&(e[1]||!e[2])){this.BH=T[1][0];
this.ea=1}else if(T[2].length!=0){this.BH=T[2][0];this.ea=2}else{var G=O.V.AK(H.u,Y,!0,z);if(G.qp==-1)this.Vd=Y;
else{H.C=[G.qp];H._R=[]}}if(this.v$==null){this.v$=Q.add.vmsk.clone();this.ro=JSON.stringify(Q.add.vogk)}this.ao=new an(Y);
R.Xl=!0};A.an.prototype.TU=function(R,Z,B,o,r){if(R==null)return;var Y=R.w.JQ(r.x,r.y),E=this.yP;if(this.BH!=-1){var p=this.v$.clone(),y=E.add.vogk,z=p.u[this.BH];
z=[z.N,z.EY,z.IJ][this.ea];if(o.R(a.Fl)){Y=this.ao.mq(Y,o);Y.x+=z.x-this.gk.x;Y.y+=z.y-this.gk.y}else{if(this.OUW.psnap){Y.x=Math.round(Y.x);
Y.y=Math.round(Y.y)}Y=A.ub.$P(R,Y,B)}if(this.ea==0){var u=new GN(1,0,0,1,Y.x-z.x,Y.y-z.y);O.V.lC(p.u,u,null,p._R)}else{var Q=p.u[this.BH],H=Q.EY,T=Q.IJ;
if(this.ea==2){H=Q.IJ;T=Q.EY}H.wh(Y.x,Y.y);if(Q.type==1||Q.type==4){var C=VP.HP(H,Q.N),e=VP.HP(T,Q.N);
if(e!=0){T.x=Q.N.x-(H.x-Q.N.x)*(e/C);T.y=Q.N.y-(H.y-Q.N.y)*(e/C)}}}this.lj(p,y);this.Nt(R,E.qp,p,y)}else if(this.Vd!=null){var $=this.Vd;
R.A.ql=O.W.Bu(new N($.x,$.y,Y.x-$.x,Y.y-$.y));R.Xl=!0}else{var x=R.dm(),M=x[0],m=x[1],E,p,s;if(m.length==0)return;
var G=4*X.D()/R.w.h,K=new N(Y.x-G,Y.y-G,G*2,G*2);for(var L=0;L<m.length;L++){E=M[m[L]];p=E.add.vmsk;
s=O.V.eE(p.u,K);if(s[0].length+s[1].length+s[2].length!=0)break}this.lR(R);for(var _=0;_<3;_++){for(var P=0;
P<s[_].length;P++){var i=s[_][P],w=p.u[i];w=_==0?w.N:_==1?w.EY:w.IJ;R.A.fu.push(R.A.rM.length>>>1);R.A.rM.push(w.x,w.y);
R.Xl=!0}}}};A.an.prototype.lR=function(R){if(R.A.rM.length!=0){R.A.rM=[];R.A.fu=[];R.Xl=!0}};A.an.prototype.YF=function(R,Z,B,o,r){var Y=R.w.JQ(r.x,r.y),E=this.yP,p=E?E.add.vmsk:null,y=E?E.add.vogk:null;
if(this.BH!=-1){if(Date.now()-this.ts<300){var z=p.u[this.BH],u=this.ea,Q=null;if(u==0){var H=z.EY.EW(z.N),T=z.IJ.EW(z.N);
if(!H&&!T){Q="Anchor Type";if(z.type==1||z.type==4)z.type++;else{z.type--;z.IJ=z.N.add(z.N.ye(z.EY))}}else{Q="Add Handles";
if(H&&T){z.EY.x-=30;z.IJ.x+=30}else if(H)z.EY=z.N.add(z.N.ye(z.IJ));else if(T)z.IJ=z.N.add(z.N.ye(z.EY))}}else{Q="Remove Handle";
if(u==1)z.EY.CA(z.N);else z.IJ.CA(z.N)}this.lj(p,y);this.Nt(R,E.qp,p,y);this.mE(R,Q,E.qp,this.v$,p,null,this.ro,JSON.stringify(y))}else if(!this.gk.EW(Y)){this.mE(R,"Drag Anchors",E.qp,this.v$,p,null,this.ro,JSON.stringify(y))}this.ts=Date.now()}else if(this.Vd!=null){var C=this.Vd,e=new N(C.x,C.y,Y.x-C.x,Y.y-C.y);
if(e.Y<0)e.x+=e.Y;if(e.Z<0)e.y+=e.Z;e.Y=Math.abs(e.Y);e.Z=Math.abs(e.Z);var $=O.V.eE(p.u,e);p._R=$[0];
R.A.ql=null}this.yP=null;this.v$=null;this.Vd=null;this.BH=this.ea=-1;this.ao=null;R.Xl=!0};A.an.prototype.lj=function(R,Z){for(var B=0;
B<R._R.length;B++){var o=O.V.Ei(R.u,R._R[B]);O.je.xV(Z,o)}};A.an.prototype.oZ=function(R,Z,B,o){if(R==null)return;
var r=R.dm(),Y=r[0],E=r[1];if(E.length==0)return;var p=Y[E[0]],y=p.add.vmsk;if(y==null||y._R.length==0)return;
var z=p.add.vogk,u=JSON.stringify(z),Q=o.Nh();if(Q.x!=0||Q.y!=0){var H=y.clone(),T=y.clone(),C=new GN(1,0,0,1,Q.x,Q.y);
O.V.lC(T.u,C,null,T._R);this.lj(T,z);this.Nt(R,p.qp,T,z);this.mE(R,"Move Anchors",R.C[0],H,T.clone(),!0,u,JSON.stringify(z))}if(o.R(a.ZR)||o.R(a.ZE)){var H=y.clone(),T=y.clone();
T.u=O.V.OUQ(T.u,T._R,z);T._R=[];this.Nt(R,p.qp,T,z);this.mE(R,"Delete Anchors",p.qp,H,T.clone(),!0,u,JSON.stringify(z))}};
A.an.prototype.mE=function(R,Z,B,o,r,Y,E,p){var y=R.lp();if(Y&&y!=null&&y.B==this&&y.data.OvQ&&y.data.VL==B&&JSON.stringify(y.data.HI._R)==JSON.stringify(o._R)){y.data.Yw=r;
y.data.HB=p}else{var y=new OV(Z,this);y.data={VL:B,HI:o,Yw:r,OvQ:Y,OzK:E,HB:p};R.ER(y)}};A.Rect=function(){A.zi.call(this,[10,32],A.pK,"tools/rect",!0)};
A.Rect.prototype=new A.zi;A.Rect.prototype.Rs=function(R,Z,B){var o=this.yl.crad,r=Z.x-R.x,Y=Z.y-R.y;
return[O.V.hk.Rect(R.x,R.y,r,Y,o),O.je.HL("Rctn",[R.x,R.y,Z.x,Z.y],[o,o,o,o])]};A.oD=function(){A.zi.call(this,[10,33],A._Q,"tools/ellipse",!0)};
A.oD.prototype=new A.zi;A.oD.prototype.Rs=function(R,Z,B){var o=Z.x-R.x,r=Z.y-R.y;return[O.V.hk.oD(R.x,R.y,o,r),O.je.HL("Elps",[R.x,R.y,Z.x,Z.y])]};
A.ll=function(){A.zi.call(this,[10,34],A.pZ,"tools/pshape",!1)};A.ll.prototype=new A.zi;A.ll.prototype.Rs=function(R,Z,B){var o=this.yl.pshape,r=this.yl.crad,Y=this.yl.irad/100,E=this.yl.sides,p=this.yl.width,y=this.yl.tsiz,z=this.yl.length,$;
Z=Z.clone();if(B){if(Math.abs(Z.x-R.x)<Math.abs(Z.y-R.y))Z.x=R.x;else Z.y=R.y}var u=R.x,Q=R.y,H=Z.x,T=Z.y,C=Math.sqrt((H-u)*(H-u)+(T-Q)*(T-Q)),e=Math.atan2(-T+Q,H-u);
if(o==0)$=O.V.hk.BZ(u,Q,C,e,E,r);if(o==1)$=O.V.hk.OxJ(u,Q,C,e,E,r,Y);if(o==2)$=O.V.hk.OxD(R.x,R.y,Z.x,Z.y,p,y/100);
if(o==3)$=O.V.hk.OxS(u,Q,C,e,z);return[$,O.je.HL("customShape",[R.x,R.y,Z.x,Z.y],null,null,null,"--")]};
A.qG=function(){A.zi.call(this,[10,35],A.pm,"tools/line",!1)};A.qG.prototype=new A.zi;A.qG.prototype.Rs=function(R,Z,B){var o=this.yl.width;
Z=Z.clone();if(B){Z=A.$f.PU(R,Z)}return[O.V.hk.qG(R.x,R.y,Z.x,Z.y,o),O.je.HL("Ln",null,null,[R.x,R.y,Z.x,Z.y],o)]};
A.lt=function(){A.zi.call(this,[10,31],A._g,"tools/cshape",!0)};A.lt.prototype=new A.zi;A.lt.prototype.Rs=function(R,Z,B){var o=this.yl.shape,r=o.pS.Y/o.pS.Z,Y=S.lo.yN(o.u);
Z=Z.clone();if(B){Z.y=R.y+(Z.x-R.x)/r}var E=Z.x-R.x,p=Z.y-R.y;O.V.lC(Y,new GN(E,0,0,p,R.x,R.y));return[Y,O.je.HL("customShape",[R.x,R.y,Z.x,Z.y],null,null,null,o.Kl)]};
A.HQ=function(R,Z,B){A.Kx.call(this,R,Z,B);this.yC=0;this.q=null;this.rs=null;this.sI=null;this.Hy=1;
this.gV=!1;this.cursor=null;this.Xc=null;this.vL=null;this.r$=!1;this.vu=null;this.O$G=0;this.HD=null;
this.hH=0;this.xT=null;this.K$=null;this.Ue=null;this.Hq=null;this.Hz=null};A.HQ.prototype=new A.Kx;
A.HQ.vp=function(R,Z){var B={classID:"null",null:OX.m$("Dcmn",!0)};if(R)B.Angl={t:"UntF",v:{type:"#Ang",val:Z}};
else B.Axis={t:"enum",v:{Ornt:Z}};return{DG:R?"rotateEventEnum":"flip",UU:B}};A.HQ.prototype.gT=function(R,Z,B,o,r){var Y=new n(X.E.K,!0);
Y.data={d:X.l.pT,B:this.id,Xq:r,fB:R,sI:B};Z.j(Y);this.ns=!1};A.HQ.prototype.hj=function(R){return this.K$&&this.K$.Ote()};
A.HQ.prototype.sz=function(R,Z,B,o,r){this.sI=r;if(R.d=="again"&&this.HD==null)return;if(R.d=="doMouseDown"){if(this.K$==null)return;
this.JH(B,Z,r,o,R.if);return}if(!this.pD(B,r))return;if(this.K$){this.Oxs(R,this.K$.NR());this.Q_(B,r,0);
this.Wm(B);return}this.OyJ(B,R.r==null,R.r);this.OBT(B);this.Oxs(R);this.rH(B,Z,R.$L,!1)};A.HQ.prototype.Oxs=function(R,Z){var B=this.xT;
if(Z==null){var o=R.Uf!=null?R.Uf:4;Z=this.K$.OGT()[o]}var r=Z.x,Y=Z.y;if(R.d=="rot"&&R.k!=Math.PI&&(B.Y+B.Z&1)==1){r=Math.floor(r);
Y=Math.floor(Y)}var E=new GN;E.translate(-r,-Y);if(R.d=="rot")E.rotate(R.k);if(R.d=="scl")E.scale(R.k.x,R.k.y);
if(R.d=="mat")E.concat(R.k);E.translate(r,Y);if(R.d=="again")E=this.HD;var p=this.K$.UK();O.W.P(p,E,p);
this.K$.hy(p)};A.HQ.prototype.uC=function(){return!0};A.HQ.prototype.pD=function(R,Z){if(R==null)return!1;
if(this.id==A.pb)return R.O!=null;var B=R.op(!0,null,null,!0);for(var o=0;o<B.length;o++){var r=R.q[B[o]];
if(r._A(2)||r._A(31)){alert(Ok.get([6,57,0]));return!1}if(r.add.artb){alert("You can not transform the whole artboard");
return!1}if(r.add.TySh)if(!YK.IF(r.add.TySh,Z.YN))return!1;if(r.add.SoLd){if(B.length==1&&!O.Ef.oU(r.add.SoLd.warp.v)&&(r.F$()&&r.F$().vG||r.add.vmsk&&r.add.vmsk.vG)){alert("Unlink masks before transforming Smart Object");
return!1}if(!R.O_k(r.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+R.zK(r.add.SoLd.Idnt.v).Re+")");
return!1}}}if(R.O==null)return!0;if(!R._W())return!1;return R.OBL()};A.HQ.prototype.JH=function(R,Z,B,o,r){var Y=R.w.JQ(r.x,r.y);
if(this.hH==1){var E=O.f.za(O.f.ik(this.K$.UK(),this.xT));Y=O.f.gM(E,Y)}var p=this.hH==0?this.K$:this.Ue;
this.gV=p.JH(R,B,o,Y);if(this.gV&&p.Yq(Y)){if(Date.now()-this.O$G<250)this.rH(R,Z,null,!0);this.O$G=Date.now()}};
A.HQ.prototype.Wg=function(R){var Z=new n(X.E.K,!0);Z.data={d:X.l.Fj,JX:this.cursor};R.j(Z)};A.HQ.prototype.TU=function(R,Z,B,o,r){var Y=R.w.JQ(r.x,r.y);
if(this.hH==1){var E=O.f.za(O.f.ik(this.K$.UK(),this.xT));Y=O.f.gM(E,Y)}var p=this.hH==0?this.K$:this.Ue;
if(!r.yL){var y="default";if(p){var z=p.zy(Y,R.w.h);if(z)y=z}if(y!=this.cursor){this.cursor=y;this.Wg(Z)}}if(!this.gV)return;
p.TU(R,B,o,Y);this.Q_(R,B,0);this.Wm(R);this.vb(Z)};A.HQ.prototype.YF=function(R,Z,B,o,r){var Y=R.w.JQ(r.x,r.y);
this.K$.YF(R,B,o,Y);this.gV=!1};A.HQ.prototype.oZ=function(R,Z,B,o){if(o.R(a.Ic))this.rH(R,Z,null,!0);
else if(o.R(a.UF))this.uc(R,Z);else{var r=this.K$.oZ(R,B,o);if(r){this.Q_(R,B,0);this.vb(Z)}}};A.HQ.prototype.yK=function(R,Z,B,o){if(R.hu=="commit")this.rH(B,Z,null,!0);
else if(R.hu=="cancel")this.uc(B,Z);else if(R.hu=="switchWarp"){this.hH=1-this.hH;this.OGU();this.Wm(B);
this.vb(Z)}else if(R.hu=="wrp"){this.Ue.OSa(R.gA);this.Wm(B);this.Q_(B,this.sI,0)}else if(R.hu=="ctyp"){this.K$.OYG(R.H$);
this.Wm(B);this.vb(Z)}else if(R.hu=="cen"){this.K$.OYl(R.Yd);this.Wm(B);this.Q_(B,this.sI,0);this.vb(Z)}else if(R.hu=="trn"){var r=O.f._B(R.zV),Y=this.xT,E=O.f.ik(this.K$.UK(),this.xT);
r[6]=E[6],r[7]=E[7];var p=[Y.x,Y.y,Y.x+Y.Y,Y.y,Y.x+Y.Y,Y.y+Y.Z,Y.x,Y.y+Y.Z];O.f.apply(r,p);this.Hy=R.Hy;
this.K$.hy(p);this.Wm(B);this.Q_(B,this.sI,0)}};A.HQ.prototype.Wm=function(R){if(this.hH==0)this.K$.mF(R,this.sI);
else{this.Ue.mF(R);var Z=O.f.ik(this.K$.UK(),this.xT);O.f.apply(Z,R.A.ql.I);O.f.apply(Z,R.A.KW)}};A.HQ.prototype.rH=function(R,Z,B,o){this.Q_(R,this.sI,this.Hy);
var r=new OV(B?B:this.name,this);if(this.yC==0)r.data={type:this.yC,q:this.q,vu:this.rs,BV:A.HQ.Yt(R,this.q)};
else if(this.yC==1){var Y=R.q[this.q[0]],E;if(Y.UG.Fv<=0){E=O.a(Y.UG.Zj.b());O.KT(Y.UG.oS,E,3)}else E=R.O.channel;
var p={rect:Y.UG.Zj.clone(),channel:E};r.data={type:this.yC,r:this.q[0],vL:this.vL,vq:p,Xc:this.Xc,r$:this.r$,UG:Y.UG,vu:this.vu,BV:{_:Y.UG.Zj,Gp:Y.UG.oS}}}else if(this.yC==2){r.data={type:this.yC,vL:this.vL,vq:{rect:R.O.rect.clone(),channel:O.clone(R.O.channel)}}}R.ER(r);
var y=this.xT,z=new VP(y.x+y.Y/2,y.y+y.Z/2),u=O.f.ik(this.K$.UK(),y),Q=O.f.zs(u),H=new GN;H.translate(z.x,z.y);
H.concat(Q);H.translate(-z.x,-z.y);Q=H.clone();var T=-Math.atan2(-Q.X,Q.t),C=new GN;C.rotate(T);Q.concat(C);
function e(x,M){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][M],val:x}}}var $={classID:"null",null:OX.m$("Lyr",!0),FTcs:{t:"enum",v:{QCSt:"Qcsa"}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:e(H.ec,0),Vrtc:e(H.Cf,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:e(Math.atan(Q.f_)*180/Math.PI,2),Vrtc:e(0,2)}},Wdth:e(Q.t*100,1),Hght:e(Q._l*100,1),Angl:e(T*180/Math.PI,2)};
this.HW=Z;this.track({DG:"transform",UU:$});this.escape(R,Z,o)};A.HQ.prototype.uc=function(R,Z){if(this.yC==0)A.HQ.YD(R,this.q,this.rs);
else if(this.yC==1){var B=R.q[this.q[0]];R.O=this.vL;if(!this.r$){B.UG.Zj=this.vu._;B.UG.oS=this.vu.Gp;
B.Uk(R,0,0,R.O)}else{B.fO(R,this.Xc)}R.U();R.OL=!0}else if(this.yC==2){R.O=this.vL;R.OL=!0}this.escape(R,Z,!0)};
A.HQ.prototype.escape=function(R,Z,B){this.K$.clear(R);this.K$=null;this.Ue=null;this.hH=0;if(B)this.KL(Z,X.E.K,{d:X.l.DW})};
A.HQ.prototype.G_=function(R,Z){if(R.type==0)A.HQ.YD(Z,R.q,R.BV);else{if(R.type==1){var B=Z.q[R.r];if(R.r$){B.UG=R.UG}else{B.UG.Zj=R.BV._;
B.UG.oS=R.BV.Gp}B.Uk(Z,0,0,Z.O);Z.U()}Z.O={rect:R.vq.rect.clone(),channel:O.clone(R.vq.channel)};Z.OL=!0}};
A.HQ.prototype.KC=function(R,Z){if(R.type==0)A.HQ.YD(Z,R.q,R.vu);else{if(R.type==1){var B=Z.q[R.r];if(R.r$){B.fO(Z,R.Xc)}else{B.UG.Zj=R.vu._;
B.UG.oS=R.vu.Gp;B.Uk(Z,0,0,Z.O)}Z.U()}Z.O=R.vL;Z.OL=!0}};A.HQ.prototype.OyJ=function(R,Z,B){R.dm();var o=[];
if(B==null)for(var r=0;r<R.JG.length;r++)if(R.EP[R.JG[r]].add.vmsk.u.length>2)o.push(-1-R.JG[r]);var Y=[];
if(B!=null||o.length==0||R.ID!=null&&R.ID.length!=0)Y=R.op(Z,B,null,!0);Y=Y.concat(o);this.q=Y};A.HQ.prototype.enable=function(R,Z,B,o,r,Y,E){if(this.cursor==null)this.cursor="default";
this.Wg(Z);if(this.K$)return;this.sI=B;this.OyJ(R,!0);this.OBT(R,Y&&Y.zt==1?1:null,E);this.vb(Z);this.Wm(R);
if(Y&&Y.zt==2)this.yK({hu:"switchWarp"},Z,R,o)};A.HQ.prototype.vb=function(R){var Z={d:X.l.pT,B:this.id};
if(this.hH==0){var B=O.f.ik(this.K$.UK(),this.xT),o=O.f.zs(B);Z.zV={lN:o,H$:this.K$.OYO(),Yd:this.K$.NR(),_:this.xT.clone()}}else{Z.gA=this.Ue.hA()}Z.OxO=this.Ue!=null;
this.KL(R,X.E.K,Z)};A.HQ.prototype.OBT=function(R,Z,B){var o=this.id==A.pb,r=!0,Y=this.q[0],E=R.q[Y],z=null;
if(o){this.yC=2;this.vL=R.O}else if(R.O&&this.q.length==1&&Y>=0&&!E.rect.Pa()){this.yC=1;this.vL=R.O;
this.Xc=E.UG;this.r$=!1;if(!E.HN(R,R.O)){this.r$=!0;E.fk(R,R.O,!1)}this.vu={Gp:E.UG.oS,_:E.UG.Zj}}else{this.yC=0;
this.rs=A.HQ.Yt(R,this.q,null,B);for(var p=0;p<this.rs.length;p++)if(this.rs[p][3]!=null)r=!1}var y=this.yC==1;
if(this.rs&&this.rs.length==1){var u=this.rs[0];if(u[3]==null)y=!0;if(u[4]!=null){z=R.q[this.q[0]].add.SoLd;
if(u[1]||u[2])y=!1}}var Q=o?R.O.rect.clone():A.HQ.mb(R,this.q,B);this.xT=Q;if(!o&&z){var H=A.HQ.Qj(z.nonAffineTransform);
this.xT=O.W.Rn(O.Ef.zT(z.warp.v));if(y)this.Ue=new Rr(z.warp.v);this.Hq=O.f.ik(H,this.xT);this.K$=new VM(H,!0,!0,r,!1,!1,Z)}else{if(y||o)this.Ue=new Rr(O.Ef.a(this.xT));
this.Hq=[1,0,0,0,1,0,0,0];this.K$=new VM([Q.x,Q.y,Q.x+Q.Y,Q.y,Q.x+Q.Y,Q.y+Q.Z,Q.x,Q.y+Q.Z],!0,!0,r,!1,!1,Z)}this.Hz=[1,0,0,0,1,0,0,0]};
A.HQ.mb=function(R,Z,B){if(Z==null)Z=R.op(!0,null,null,!0);var o=new N;if(R.O&&Z.length==1&&Z[0]>=0)o=R.O.rect.clone();
else for(var r=0;r<Z.length;r++){var Y=Z[r],E=0<=Y?R.q[Y]:R.EP[-1-Y],p=E.add.vmsk,y=0<=Y?E.NQ(R,Z.length==1,!1,B):O.V.pA(p.u,Z.length==1&&p.C.length!=0?p.C:null);
o=o.fj(y)}return o};A.HQ.prototype.KL=function(R,Z,B,o){var r=new n(Z,!0);r.data=B;if(o)r.B=o;R.j(r)};
A.HQ.Yt=function(R,Z,B,o){var r=[];for(var Y=0;Y<Z.length;Y++){var E=Z[Y],p,y;if(E>=0){p=R.q[E];y=p.He(R,B,o)}else{p=R.EP[-1-E];
y=[2]}var z=[];if(y.indexOf(0)!=-1){var u={Hb:[O.clone(p.buffer),p.rect.clone()]};z.push(u);if(p.by()){var Q=p.YQ(R);
u.Oxy=O.clone(Q.buffer);u.OxG=Q.rect.clone()}}else z.push(null);if(y.indexOf(1)!=-1)z.push(p.F$().clone());
else z.push(null);if(y.indexOf(2)!=-1)z.push({Xv:p.add.vmsk.clone(),uI:p.add.vstk?JSON.parse(JSON.stringify(p.add.vstk)):null,ZI:p.add.vstk?A.uu.Lb(R,E):null,je:p.add.vogk?JSON.parse(JSON.stringify(p.add.vogk)):null});
else z.push(null);if(p.add.TySh&&z[0]){GV.IC(p.add.TySh);z.push(p.add.TySh.P.clone())}else z.push(null);
if(p.add.SoLd&&z[0])z.push(JSON.parse(JSON.stringify(p.add.SoLd)));else z.push(null);if(y.indexOf(3)!=-1)z.push(p.YQ(R).m.clone());
else z.push(null);if(p.add.lmfx)z.push(JSON.stringify(p.add.lmfx));else z.push(null);r.push(z)}return r};
A.HQ.YD=function(R,Z,B){for(var o=0;o<Z.length;o++){var r=Z[o],Y=0<=r?R.q[r]:R.EP[-1-r],E=B[o];if(E[0]){Y.rect=E[0].Hb[1].clone();
Y.buffer=O.clone(E[0].Hb[0]);if(Y.by()){var p=Y.YQ(R);p.buffer=O.clone(E[0].Oxy);p.rect=E[0].OxG.clone()}}if(E[1]){Y.F$().channel=O.clone(E[1].channel);
Y.F$().rect=E[1].rect.clone();Y.F$().Zr=!0}if(E[2]){Y.add.vmsk=E[2].Xv.clone();if(E[2].ZI)A.uu.ME(Y,E[2].ZI);
if(E[2].uI)Y.add.vstk=JSON.parse(JSON.stringify(E[2].uI));if(E[2].je)Y.add.vogk=JSON.parse(JSON.stringify(E[2].je))}if(E[3]){Y.add.TySh.P=E[3].clone();
GV.WJ(Y.add.TySh)}if(E[4]){Y.add.SoLd=JSON.parse(JSON.stringify(E[4]))}if(E[5]){var y=Y.YQ(R).m;y.channel=O.clone(E[5].channel);
y.rect=E[5].rect.clone()}if(E[6]){Y.add.lmfx=JSON.parse(E[6])}if(0<=r){Y.Aq(R);Y.U()}}R.U()};A.HQ.ho=function(R){var Z=R.clone(),B=Math.atan2(-Z.X,Z.t),o=new GN;
o.rotate(-B);Z.concat(o);return(Math.abs(Z.t)+Math.abs(Z._l))/2};A.HQ.lf=function(R,Z,B,o,r,Y,E,p,y){var z=O.f.zs(Y),u=A.HQ.ho(z);
for(var Q=0;Q<B.length;Q++){var H=B[Q],T=0<=H?R.q[H]:R.EP[-1-H],C=o[Q];if(T.add.lmfx&&p)GS.OVm(T.add.lmfx,u);
if(C[0]&&!C[3]&&!C[4]&&!C[5]){var e=C[0].Hb;if(y){var $=y.clone(),x=O.a($.b()*4);O.GN(e[0],e[1],x,$);
e=[x,$]}var M=A.HQ.Wb(e,r,Y,E,r==0?T.buffer.buffer:null);if(M){T.rect=M.rect;T.buffer=M.buffer}}if(C[1])A.HQ.OSc(R,C[1],T.F$(),r,Y,E);
if(C[2]){var m=E&&!O.Ef.oU(E),G=C[2].Xv.clone(),K=B.length==1&&G.C.length!=0,s=B.length==1&&G._R.length>1;
if(s)K=!1;var L=K?G.C:null,_=s?G._R:null;if(m){var P=O.Ef.zT(E);O.f.apply(Y,P);O.V.OUt(G.u,P,L,_)}else O.V.OUI(G.u,Y,L,_);
if(T.add.vstk&&p){T.add.vstk.strokeStyleLineWidth.v.val=C[2].uI.strokeStyleLineWidth.v.val*u;var i=C[2].ZI;
if(i.UD==3){i=JSON.parse(JSON.stringify(i));var w=i.ZI.phase.v;i.ZI.Scl.v.val=Math.round(i.ZI.Scl.v.val*u);
w.Hrzn.v=Math.round(w.Hrzn.v*u);w.Vrtc.v=Math.round(w.Vrtc.v*u);A.uu.ME(T,i)}}if(T.add.vogk){T.add.vogk=JSON.parse(JSON.stringify(C[2].je));
if(m||s)O.je.OfQ(T.add.vogk);else O.je.P(T.add.vogk,Y,B.length>1?[]:G.C,p)}G.lB*=u;T.add.vmsk=G;if(T.add.vogk)O.je.xY(T.add.vogk,T.add.vmsk)}if(C[3]){var k=C[3].clone();
k.concat(z);T.add.TySh.P=k;GV.WJ(T.add.TySh);var h=new YI(T.add.TySh.HC,Z.YN),j=YK.uV(h,T.add.TySh);
T.rect=j._;T.buffer=j.Y$}if(C[4]){var I=T.add.SoLd,V=A.HQ.Qj(C[4].nonAffineTransform);O.f.apply(Y,V);
var F=O.W.bE(V);if(VM.hG(V)){if(E){var q=O.W.Rn(O.Ef.zT(C[4].warp.v)),t=O.f.ik(V,q),c=O.W.Rn(O.Ef.zT(E));
V=[c.x,c.y,c.x+c.Y,c.y,c.x+c.Y,c.y+c.Z,c.x,c.y+c.Z];O.f.apply(t,V);I.warp.v=E}var f=O.f.ik(V),W=V;if(!O.f.$N(f)){f[6]=f[7]=0;
W=[0,0,1,0,1,1,0,1];O.f.apply(f,W)}I.Trnf=A.HQ.Kv(W);I.nonAffineTransform=A.HQ.Kv(V);T.AS(R,r==0)}}if(C[5])A.HQ.OSc(R,C[5],T.YQ(R).m,r,Y,E);
if(0<=H){if(r!=0)T.gG();T.Aq(R);T.U()}}R.U()};A.HQ.q$=function(R,Z,B,o,r,Y){if(B==null)B=!1;return A.HQ.Wb(R,B?0:1,O.f._B(Z),null,o,r,Y)};
A.HQ.Wb=function(R,Z,B,o,r,Y,E){var p={},Q=0;if(o&&!O.Ef.oU(o)){var y=O.Ef.zT(o);O.f.apply(B,y);p.rect=O.W.bE(y);
p.buffer=O.a(p.rect.b()*4);O.Va.drawImage(y,R[0],R[1].Y,R[1].Z,p.buffer,p.rect,Z==0);return p}O.ir(R);
var z=R[0],u=R[1];while(Q+3<R.length&&R[Q+3].b()>16&&O.f.$N(B)&&A.HQ.ho(O.f.zs(B))<.3){Q+=2;var H=R[Q],T=R[Q+1],C=u.Y/T.Y,e=u.Z/T.Z;
B=O.f._s(B,[1,0,u.x,0,1,u.y,0,0]);B=O.f._s(B,[C,0,0,0,e,0,0,0]);B=O.f._s(B,[1,0,-u.x,0,1,-u.y,0,0]);
u=T;z=H}var $=O.f._s(B,O.f._B(new GN(u.Y,0,0,u.Z,u.x,u.y))),x=[0,0,1,0,1,1,0,1];O.f.apply($,x);p.rect=O.W.bE(x);
if(E)p.rect=p.rect.Rg(E);if(!VM.hG(x)||p.rect.Y>1e5||p.rect.Z>1e5||p.rect.b()>3e4*3e4)return null;var M=p.rect.b()*4;
if(r&&r.byteLength>=M&&M>=r.byteLength>>2){p.buffer=new Uint8Array(r)}else{p.buffer=O.a(M)}O.f.drawImage($,z,u.Y,u.Z,p.buffer,p.rect,Z==0,Y);
if(Z==2&&p.buffer){var m=p.rect.Y,G=p.rect.Z,K;K=[0,-1,0,-1,16,-1,0,-1,0];K=O.AO.fb(K);var s=p.buffer.slice(0);
O.PO(s);O.AO.Ms(s,p.buffer,m,G,K,0);O.QC(p.buffer);O.PL(p.buffer)}if(p.buffer)return p};A.HQ.OSc=function(R,Z,B,o,r,Y){if(Z.color==255)O.za(Z.channel);
var E=Z.rect,p=O.a(E.b()*4);O.qH(Z.channel,p,3);var y=A.HQ.Wb([p,E],o,r,Y);if(y){B.rect=y.rect;B.channel=O.a(y.rect.b());
O.KT(y.buffer,B.channel,3);B.Zr=!0}if(Z.color==255){O.za(Z.channel);if(y)O.za(B.channel)}};A.HQ.Qj=function(R){var Z=[],B=R.v.length;
for(var o=0;o<B;o++)Z.push(R.v[o].v);return Z};A.HQ.Kv=function(R){var Z={t:"VlLs",v:[]},B=R.length;
for(var o=0;o<B;o++)Z.v.push({t:"doub",v:R[o]});return Z};A.HQ.prototype.OGU=function(){var R=O.W.Rn(O.Ef.zT(this.Ue.hA())),Z=O.f.ik(this.K$.UK(),this.xT),B=[R.x,R.y,R.x+R.Y,R.y,R.x+R.Y,R.y+R.Z,R.x,R.y+R.Z];
O.f.apply(Z,B);this.K$.hy(B);this.xT=R};A.HQ.prototype.Q_=function(R,Z,B){var o=O.f.ik(this.K$.UK(),this.xT),p=1e-10,T=!1,C=!1;
o=O.f._s(o,O.f.za(this.Hq));var r=O.f.zs(o),Y=this.Hz,E=O.f.zs(Y);this.Hz=o;var y=Math.abs,z=Math.round,u=o[2]-Y[2],Q=o[5]-Y[5],H=y(o[0]-Y[0])<p&&y(o[1]-Y[1])<p&&y(o[3]-Y[3])<p&&y(o[4]-Y[4])<p&&y(o[6]-Y[6])<p&&y(o[7]-Y[7])<p&&y(u-z(u))<p&&y(Q-z(Q))<p;
if(this.yC==0&&this.q.length==1){var e=this.rs[0][2];T=e&&(e.Xv.C.length!=0||e.Xv._R.length>1)}for(var $=0;
$<this.q.length;$++)if(this.q[$]<0)C=!0;if(H&&this.yC==0&&B==0&&this.hH==0&&!T&&!C){A.ub.oi(R,this.q,A.ub.OJe(R,this.q),Math.round(-E.ec+r.ec),Math.round(-E.Cf+r.Cf));
return}var x=this.Ue?this.Ue.hA():null;if(this.yC==0){this.HD=O.f.zs(o);A.HQ.lf(R,Z,this.q,this.rs,B,o,x)}else if(this.yC==1){var M=R.q[this.q[0]],m=this.vu._;
if(M.Fv<=0){var G=this.vu.Gp,K=this.vL;if(x&&!O.Ef.oU(x)&&!K.rect.EW(m)){var s=O.a(K.rect.b()*4);O.GN(G,m,s,K.rect);
G=s;m=K.rect}var L=A.HQ.Wb([G,m],B,o,x);if(L){M.UG.oS=L.buffer;M.UG.Zj=L.rect;var _=O.a(L.rect.b());
O.KT(M.UG.oS,_,3);R.O={channel:_,rect:M.UG.Zj.clone()}}}else{var P=O.a(m.b()*4);O.qH(this.vu.Gp,P,3);
var L=A.HQ.Wb([P,m],B,o,x);if(L){M.UG.oS=O.a(L.rect.b());O.KT(L.buffer,M.UG.oS,3);M.UG.Zj=L.rect}this.Ofj(R,B,o,x)}M.Uk(R,0,0,R.O);
if(B!=0){M.gG();O.gG(R.O)}R.OL=!0;R.U()}else if(this.yC==2)this.Ofj(R,B,o,x)};A.HQ.prototype.Ofj=function(R,Z,B,o){var r=this.vL.rect,Y=O.a(r.b()*4);
O.qH(this.vL.channel,Y,3);var E=A.HQ.Wb([Y,r],Z,B,o),p=O.a(E.rect.b());O.KT(E.buffer,p,3);R.O={channel:p,rect:E.rect};
R.OL=!0};A.HQ.prototype.disable=function(R,Z,B,o){if(this.K$)this.rH(R,Z,null,!0)};A.ORV=function(){A.HQ.call(this,[10,16],A.iY,"tools/transform")};
A.ORV.prototype=new A.HQ;A.OYt=function(){A.HQ.call(this,[7,10],A.pb,"tools/transform")};A.OYt.prototype=new A.HQ;
A.Fo=function(R,Z,B){A.Kx.call(this,[10,46],A._P,"tools/transform");this.Us=[1,1,2,!0];this.Ln="\0\0\x03\x82";
this.uv=null;this.O$Y=null;this.eB=null;this.j_=null;this.yB=null;this.YM=null;this.FH=[]};A.Fo.prototype=new A.Kx;
A.Fo.prototype.uC=function(){return!0};A.Fo.ORG=function(R){if(R==null)return!1;if(R.C.length!=1)return!1;
var Z=R.q[R.C[0]];return Z.add.SoLd||R._W(!1)};A.Fo.prototype.pD=function(R,Z){return A.Fo.ORG(R)};A.Fo.prototype.enable=function(R,Z,B,o,r,Y,E){this.O$Y=Y.Ap;
var p=Y.Ap,y,e=null;if(p){var z=R.q[p.r];if(z.add.SoLd.filterFX!=null){var u=z.add.SoLd.filterFX.v.filterFXList.v;
if(u[p.index])y=JSON.parse(JSON.stringify(u[p.index].v.Fltr.v))}}var Q=y==null,z=R.q[R.C[0]],H=z.buffer,T=z.rect,C=z.add.SoLd;
if(C){var $=C.nonAffineTransform.v;e=[];for(var x=0;x<4;x++)e.push($[x*2].v,$[x*2+1].v);if(Q)this.MV("edit",Z);
var M=z.YQ(R);H=M.buffer;T=M.rect}this.uv={buffer:H.slice(0),rect:T.clone(),OxX:e};if(Q)y=A.Fo.OIT(this.uv,this.Us);
this.eB=y;this.j_=A.Fo.li(this.eB,this.Us);this.lD();this.hO(R);if(Q)this.XT(Z);var m=new n(X.E.K,!0);
m.data={d:X.l.pT,B:this.id,Fe:this.Us};Z.j(m);m.data={d:X.l.Fj,JX:"default"};Z.j(m)};A.Fo.prototype.disable=function(R,Z,B,o){if(this.j_)this.rH(R,Z,!0)};
A.Fo.prototype.lD=function(R){var Z=this.j_;this.FH=[];for(var B=0;B<Z.length;B++){var o=Z[B];for(var r=0;
r<o.C.length;r++)this.FH.push([B,o.C[B]]);o.cy=O.Dh.jk(o);if(R)O.Dh.aH(o)}};A.Fo.prototype.yK=function(R,Z,B,o){if(R.hu=="commit")this.rH(B,Z,!0);
else if(R.hu=="cancel")this.uc(B,Z,!0);else if(R.hu=="prm"){var r=!1;for(var Y=0;Y<3;Y++)if(this.Us[Y]!=R.Fe[Y])r=!0;
this.Us=R.Fe;if(r){this.eB=A.Fo.OIT(this.uv,this.Us,this.eB);this.j_=A.Fo.li(this.eB,this.Us);this.lD(!0);
this.XT(Z)}this.hO(B)}else if(R.hu=="moveDepth"){var E=this.j_;for(var p=0;p<E.length;p++){var y=E[p];
for(var Y=0;Y<y.C.length;Y++){var z=y.C[Y];y.FQ[z]+=R.OxI?1:-1}}this.XT(Z)}};A.Fo.prototype.Hc=function(R,Z){return R==a.ZR||R==a.ZE};
A.Fo.prototype.oZ=function(R,Z,B,o){var r=o.Nh();if(o.R(a.Ic))this.rH(R,Z,!0);else if(o.R(a.UF))this.uc(R,Z,!0);
else if(o.R(a.ZR)||o.R(a.ZE)){var Y=this.j_;for(var E=0;E<Y.length;E++){var p=Y[E];p.C.sort(function(Q,H){return H-Q});
for(var y=0;y<p.C.length;y++){var z=p.C[y],u=z*2;p.FQ.splice(z,1);p.g_.splice(z,1);p.gL.splice(z,1);
p.vy.splice(z,1);p.RK.splice(u,2);p.Cc.splice(u,2)}p.C=[];if(p.vy.length==0){p.oj=p.GW.slice(0);p.RY=p.GW.slice(0)}}this.lD(!0);
this.XT(Z);this.hO(R)}else if(r.x!=0||r.y!=0){this.Ojr(R,r.x,r.y,Z);this.Yn=null}};A.Fo.prototype.rH=function(R,Z,B){this.MV("confirm",Z);
this.escape(R,Z,B)};A.Fo.prototype.uc=function(R,Z,B){this.MV("cancel",Z);this.escape(R,Z,B)};A.Fo.prototype.escape=function(R,Z,B){R.A.ql=null;
R.A.rM=[];R.Xl=!0;this.j_=null;var o=new n(X.E.K,!0);o.data={d:X.l.DW};if(B)Z.j(o)};A.Fo.prototype.JH=function(R,Z,B,o,r){var Y=R.w.JQ(r.x,r.y),E=Y.x,p=Y.y,y=this.j_,z=null,u=[0,2,4,1.2,1.2,1.2],Q=-1,H=X.D()*5/R.w.h;
for(var T=0;T<y.length;T++){var C=y[T],e=O.W.xI(C.Cc,E,p,H);if(e!=-1)z=[T,e];if(Q==-1&&O.Dh.jj.OvG(C.RY,C.LF,E,p))Q=T}if(z==null&&Q!=-1){var C=y[Q];
A.Fo.Oac(C,E,p,E,p,0);z=[Q,C.vy.length-1];C.cy=O.Dh.jk(C)}this.yB=Y;if(z){var $=y[z[0]].C.indexOf(z[1])!=-1;
if(o.R(a.Fl)&&!$){y[z[0]].C.push(z[1]);this.FH.push(z)}else if(!$){y[z[0]].C=[z[1]];this.FH=[z]}}this.hO(R)};
A.Fo.Oac=function(R,Z,B,o,r,Y){var E=O.W.xI(R.RY,Z,B);R.vy.push(E);R.Cc.push(o,r);R.RK.push(R.RY[E*2]-Z,R.RY[E*2+1]-B);
R.gL.push(0);R.g_.push(!1);R.FQ.push(Y)};A.Fo.prototype.TU=function(R,Z,B,o,r){var Y=R.w.JQ(r.x,r.y),E=this.yB;
if(E)this.Ojr(R,Y.x-E.x,Y.y-E.y,Z)};A.Fo.prototype.Ojr=function(R,Z,B,o){var r={},Y=this.FH,E=this.j_;
if(this.Yn==null){this.Yn=[];for(var p=0;p<E.length;p++)this.Yn.push(E[p].Cc.slice(0))}for(var p=0;p<Y.length;
p++){var y=this.FH[p],z=y[0],u=E[y[0]],Q=y[1]*2;u.Cc[Q+0]=this.Yn[z][Q+0]+Z;u.Cc[Q+1]=this.Yn[z][Q+1]+B;
r[z]=z}for(var z in r)O.Dh.aH(this.j_[r[z]]);this.hO(R);this.XT(o)};A.Fo.prototype.MV=function(R,Z){var B=new n(X.E.$,!0);
B.B=A.Uz;B.data={d:R,Ap:this.O$Y,Ln:this.Ln,ct:this.eB};Z.j(B)};A.Fo.prototype.YF=function(R,Z,B,o,r){this.yB=null;
this.Yn=null};A.Fo.prototype.XT=function(R){A.Fo.OJs(this.j_,this.Us,this.eB);this.MV("edit",R)};A.Fo.prototype.hO=function(R){var Z=this.j_,B=this.eB;
R.A.ql={I:[],J:[]};R.A.rM=[];R.A.fu=[];for(var o=0;o<Z.length;o++){var r=Z[o];for(var Y=0;Y<r.C.length;
Y++)R.A.fu.push((R.A.rM.length>>>1)+r.C[Y]);R.A.rM=R.A.rM.concat(r.Cc);if(this.Us[3])O.W.concat(R.A.ql,O.W.ODk(r.RY,r.LF))}R.Xl=!0};
A.Fo.OIT=function(R,Z,B){var o=R.buffer,r=R.rect,Y=R.OxX,E=Go.wI("\0\0\x03\x82");if(Y)for(var p=0;p<4;
p++){E["PuX"+p].v=Y[p*2];E["PuY"+p].v=Y[p*2+1]}var y=E.puppetShapeList.v,z=O.Dh.OIC(o,r.Y,r.Z,Z[1],Z[2]),u=[];
for(var Q=0;Q<z.length;Q++){var H={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
H.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var T=z[Q];y.push({t:"Objc",v:H});var C=T.GW.slice(0);O.W.P(C,new GN(1,0,0,1,r.x,r.y),C);var e=T.LF;
for(var p=0;p<e.length;p+=3){var $=e[p+1];e[p+1]=e[p+2];e[p+2]=$}u.push({LF:e,GW:C,oj:C,RY:C,vy:[],RK:[],Cc:[],cy:null,C:[],gL:[],g_:[],FQ:[]})}if(B){var x=A.Fo.li(B,[]),M=u[0];
for(var p=0;p<x.length;p++){var m=x[p];for(var G=0;G<m.C.length;G++)M.C.push((M.Cc.length>>>1)+m.C[G]);
for(var G=0;G<m.vy.length;G++){var K=m.vy[G]*2,s=m.GW[K]-m.RK[G*2],L=m.GW[K+1]-m.RK[G*2+1];A.Fo.Oac(M,s,L,m.Cc[G*2],m.Cc[G*2+1],m.FQ[G])}}}A.Fo.OJs(u,Z,E);
return E};A.Fo.li=function(R,Z){function B(L){var _=[];for(var e=0;e<L.length;e++)_.push(L[e].v);return _}var o=R.puppetShapeList.v,r=[];
for(var Y=0;Y<o.length;Y++){var E=o[Y].v;Z[0]=E.meshRigidity.v-1;Z[1]=E.meshQuality.v-1;Z[2]=E.meshExpansion.v;
var p=E.pinVertexIndices.v.length,y=E.meshBoundaryPath.v.pathComponents.v[0].v.SbpL.v[0].v.Pts;y.v=[];
var z=new Uint32Array(new Uint8Array(E.indexArray.v).buffer),u=new Float32Array(new Uint8Array(E.originalVertexArray.v).buffer),Q=new Float32Array(new Uint8Array(E.deformedVertexArray.v).buffer),H=[],T=[],C=[];
for(var e=0;e<z.length;e++)H.push(z[e]);for(var e=0;e<u.length;e++){T.push(u[e]);C.push(Q[e])}var $=B(E.pinVertexIndices.v),x=B(E.pinOffsets.v),M=B(E.posFinalPins.v),m=B(E.PnRt.v),G=B(E.PnOv.v),K=B(E.PnDp.v),s=B(E.selectedPin.v);
r.push({LF:H,GW:T,oj:C.slice(0),RY:C,vy:$,RK:x,Cc:M,cy:null,gL:m,g_:G,FQ:K,C:s})}return r};A.Fo.OJs=function(R,Z,B){function o(T,C){var e=[];
for(var u=0;u<T.length;u++)e.push({t:C,v:T[u]});return e}function r(T,C,e){var $=new(e?Uint32Array:Float32Array)(T),x=new Uint8Array($.buffer);
for(var u=0;u<x.length;u++)C[u]=x[u]}var Y=B.puppetShapeList.v;for(var E=0;E<Y.length;E++){var p=R[E],y=Y[E].v;
y.meshRigidity.v=Z[0]+1;y.meshQuality.v=Z[1]+1;y.meshExpansion.v=Z[2];r(p.LF,y.indexArray.v,!0);r(p.GW,y.originalVertexArray.v);
r(p.RY,y.deformedVertexArray.v);var z=[];for(var u=0;u<p.vy.length;u++){var Q=p.vy[u]*2,H=u*2;z[H]=p.GW[Q]-p.RK[H];
z[H+1]=p.GW[Q+1]-p.RK[H+1]}y.PinP.v=o(z,"doub");y.pinVertexIndices.v=o(p.vy,"long");y.pinOffsets.v=o(p.RK,"doub");
y.posFinalPins.v=o(p.Cc,"doub");y.PnRt.v=o(p.gL,"long");y.PnOv.v=o(p.g_,"bool");y.PnDp.v=o(p.FQ,"doub");
y.selectedPin.v=o(p.C,"long")}};A.EO=function(R,Z,B){A.Kx.call(this,R?R:[10,40],Z?Z:A.pN,B?B:"tools/slice");
this.xG=null;this.HW=null;this.fm=null;this.O$A=null;this.Yg=null;this.sf=null};A.EO.prototype=new A.Kx;
A.EO.AK=function(R,Z){var B=-1;for(var o=0;o<R.length;o++){var r=A.EO.jO(R,o);if(r[0]<=Z.x&&Z.x<=r[2]&&r[1]<=Z.y&&Z.y<=r[3]){B=o;
break}}return B};A.EO.prototype.sz=function(R,Z,B,o,r){this.gg(B);B.On[B.KF[0]].v=R;B.Xl=!0;this.vQ(B)};
A.EO.prototype.enable=function(R,Z,B,o,r,Y){A.Kx.prototype.enable.call(this,R,Z,B,o,r,Y);if(!B.Al.On){var E=new n(X.E.K,!0);
E.data={d:X.l.zM,Fe:GG.Mb};Z.j(E)}};A.EO.prototype.disable=function(){this.xG=null;this.HW=null};A.EO.prototype.gT=function(R,Z,B,o,r){var Y=R.w.JQ(r.x,r.y),E=A.EO.AK(R.On,Y);
if(E==-1)return;this.xG=R;this.HW=Z;R.KF=[E];R.Xl=!0;if(this.sf==null){this.sf=new OD([{name:[5,4]},{name:[8,11,1],AP:!0}]);
this.sf.v("select",this.LN,this)}var p=this.sf;p.parent=Z;p.c();p.update(R,B);var y=new n(X.E.K,!0);
y.data={d:X.l.dF,Jd:p,x:r.dp+2,y:r.$M+1};Z.j(y)};A.EO.prototype.LN=function(R){var Z=this.sf.ib()[0],B=this.xG;
if(Z==0){this.gg(B);B.On.splice(B.KF[0],1);B.KF=[];B.Xl=!0;this.vQ(B)}if(Z==1){var o=new n(X.E.K,!0);
o.data={d:X.l.JT,fA:"soptions",k:B.On[B.KF[0]].v};this.HW.j(o)}};A.EO.prototype.JH=function(R,Z,B,o,r){if(R==null)return;
this.gg(R);var Y=R.w.JQ(r.x,r.y);Y=A.ub.$P(R,Y,B,[!0,null,!1]);Y.x=Math.round(Y.x);Y.y=Math.round(Y.y);
this.Yg=Y;R.On.unshift(A.EO.OBV());R.KF=[0];A.EO.Pj(R.On,0,[Y.x,Y.y,Y.x+20,Y.y+20]);R.Xl=!0};A.EO.prototype.TU=function(R,Z,B,o,r){if(this.fm==null)return;
var Y=R.w.JQ(r.x,r.y),E=this.Yg;Y=A.ub.$P(R,Y,B,[!0,null,!1]);Y.x=Math.round(Y.x);Y.y=Math.round(Y.y);
var p=[E.x,E.y,Y.x,Y.y];A.EO.OYn(p);A.EO.Pj(R.On,0,p);R.Xl=!0};A.EO.prototype.YF=function(R,Z,B,o,r){this.vQ(R);
this.Yg=null};A.EO.prototype.gg=function(R){this.fm=JSON.stringify(R.On);this.O$A=JSON.stringify(R.KF)};
A.EO.prototype.vQ=function(R){var Z=JSON.stringify(R.On);if(Z!=this.fm){var B=new OV(this.name,this);
B.data={vu:this.fm,BV:Z,OxW:this.O$A,Oxi:JSON.stringify(R.KF)};R.ER(B)}this.fm=null};A.EO.prototype.KC=function(R,Z){Z.On=JSON.parse(R.vu);
Z.KF=JSON.parse(R.OxW);Z.Xl=!0};A.EO.prototype.G_=function(R,Z){Z.On=JSON.parse(R.BV);Z.KF=JSON.parse(R.Oxi);
Z.Xl=!0};A.EO.prototype.Hc=function(R,Z){return Z!=null&&Z.KF.length!=0&&(R==a.ZR||R==a.ZE)};A.EO.prototype.oZ=function(R,Z,B,o){if(R==null)return;
this.gg(R);var r=o.Nh();if(r.x!=0||r.y!=0)A.EO.mG(R,r);if(o.R(a.ZR)||o.R(a.ZE)){var Y=R.On.slice(0);
for(var E=0;E<R.KF.length;E++)R.On.splice(R.On.indexOf(Y[R.KF[E]]),1);R.KF=[]}this.vQ(R)};A.EO.prototype.yK=function(R,Z,B,o,r){if(B==null||B.KF.length==0)return;
this.gg(B);var Y=B.On,E=B.KF;E.sort(function(C,e){return C-e});console.log(E);var p=Y.slice(0),y=[],z=[];
for(var u=0;u<E.length;u++){var Q=E[u],H=Y[Q];z.push(H);p.splice(p.indexOf(H),1)}var T=Math.max(0,Math.min(p.length,E[0]-R.dir));
for(var u=0;u<z.length;u++){p.splice(T+u,0,z[u]);y.push(T+u)}B.On=p;B.KF=y;this.vQ(B)};A.EO.OGx=function(R,Z,B,o){var r=new VP(-Z.x,-Z.y),Y=Z.Y/B.Y,E=Z.Z/B.Z,p=[0,0,Z.Y,Z.Z];
for(var y=0;y<R.length;y++){var z=A.EO.jO(R,y);if(o){z[0]=Math.round(z[0]*Y);z[1]=Math.round(z[1]*E);
z[2]=Math.round(z[2]*Y);z[3]=Math.round(z[3]*E)}else{A.EO.le(z,r);A.EO.OGK(z,p)}if(z[0]>=z[2]||z[1]>=z[3]){R.splice(y,1);
y--;continue}A.EO.Pj(R,y,z)}};A.EO.mG=function(R,Z){var B=R.On;for(var o=0;o<R.KF.length;o++){var r=A.EO.jO(B,R.KF[o]);
A.EO.le(r,Z);A.EO.Pj(B,R.KF[o],r)}};A.EO.OGK=function(R,Z){if(R[0]<Z[0])R[0]=Z[0];if(R[1]<Z[1])R[1]=Z[1];
if(Z[2]<R[2])R[2]=Z[2];if(Z[3]<R[3])R[3]=Z[3]};A.EO.le=function(R,Z){R[0]=Math.round(R[0]+Z.x);R[2]=Math.round(R[2]+Z.x);
R[1]=Math.round(R[1]+Z.y);R[3]=Math.round(R[3]+Z.y)};A.EO.Pj=function(R,Z,B){var o=R[Z].v.bounds.v;o.Left.v=B[0];
o.Top.v=B[1];o.Rght.v=B[2];o.Btom.v=B[3]};A.EO.jO=function(R,Z){var B=R[Z].v.bounds.v;return[B.Left.v,B.Top.v,B.Rght.v,B.Btom.v,Z]};
A.EO.OYn=function(R){if(R[2]<R[0]){var Z=R[0];R[0]=R[2];R[2]=Z}if(R[2]==R[0])R[2]++;if(R[3]<R[1]){var Z=R[1];
R[1]=R[3];R[3]=Z}if(R[3]==R[1])R[3]++};A.EO.Rn=function(R,Z){var B=1e9,o=-1e9,r=1e9,Y=-1e9;for(var E=0;
E<Z.length;E++){var p=A.EO.jO(R,Z[E]);B=Math.min(B,p[0]);r=Math.min(r,p[1]);o=Math.max(o,p[2]);Y=Math.max(Y,p[3])}return[B,r,o,Y]};
A.EO.OBV=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
A.Ny=function(){A.EO.call(this,[10,41],A._u,"tools/sselect");this.Yg=null;this.o$=null;this.JD=null;
this.YM=null;this.uo=!1};A.Ny.prototype=new A.EO;A.Ny.prototype.JH=function(R,Z,B,o,r){if(R==null)return;
var Y=R.w.JQ(r.x,r.y),E=A.Ny.Oqe(Y,4/R.w.h,R.On,R.KF);E.pop();if(E.length!=0){this.Yg=Y;this.JD=E;this.gg(R);
return}var p=R.On,y=A.EO.AK(p,Y);if(y==-1)R.KF=[];else{var z=R.KF.indexOf(y);if(o.R(a.Fl)){if(z==-1)R.KF.push(y);
else R.KF.splice(z,1)}else{R.KF.sort(function($,x){return $-x});if(z==-1)R.KF=[y];this.Yg=Y;this.gg(R);
this.o$=A.EO.Rn(p,R.KF);this.YM=[];for(var u=0;u<R.KF.length;u++)this.YM.push(A.EO.jO(p,R.KF[u]));if(o.R(a.yt)){var Q=p.slice(0),H=R.KF,T=[];
for(var u=0;u<H.length;u++){var y=H[u],C=Q[y],e=p.indexOf(C);T.push(e);p.splice(e,0,JSON.parse(JSON.stringify(C)))}R.KF=T}}}R.Xl=!0};
A.Ny.prototype.TU=function(R,Z,B,o,r){var Y=R.w.JQ(r.x,r.y);if(this.Yg==null){var E=A.Ny.Oqe(Y,4/R.w.h,R.On,R.KF),p=E.pop(),y=E.length==0?"default":["ew","nwse","ns","nesw"][p]+"-resize",z=new n(X.E.K,!0);
z.data={d:X.l.Fj,JX:y};Z.j(z);return}if(!this.uo&&Y.EW(this.Yg))return;this.uo=!0;var u=R.On,E=this.JD;
if(E){Y=A.ub.$P(R,Y,B,[!0,null,!1]);var Q=Math.round(Y.x),H=Math.round(Y.y);for(var T=0;T<E.length;T+=2){var C=A.EO.jO(u,E[T]),e=E[T+1];
C[e]=(e&1)==0?Q:H;A.EO.OYn(C);A.EO.Pj(u,E[T],C)}}else{var $=Y.ye(this.Yg),x=this.o$.slice(0);A.EO.le(x,$);
var M=new N(x[0],x[1],x[2]-x[0],x[3]-x[1]),m=A.ub.vK(R,M,B,[!0,null,!1],!0);A.ub.vx(R,M,m);$.x+=m[0];
$.y+=m[1];for(var T=0;T<R.KF.length;T++)A.EO.Pj(u,R.KF[T],this.YM[T]);A.EO.mG(R,$)}R.Xl=!0};A.Ny.prototype.YF=function(R,Z,B,o,r){if(this.Yg==null)return;
this.vQ(R);R.A.jK=null;R.Xl=!0;this.Yg=null;this.JD=null;this.YM=null;this.uo=!1};A.Ny.Oqe=function(R,Z,B,o){var r=R.x,Y=R.y,E=[],p=-1,y=[];
for(var z=0;z<o.length;z++){var u=o[z],Q=A.EO.jO(B,u),H=Q[0],T=Q[1],C=Q[2],e=Q[3];if(r<H-Z||C+Z<r||Y<T-Z||e+Z<Y)continue;
var $=[r<H+Z,Y<T+Z,C-Z<r,e-Z<Y],x=-1;for(var M=0;M<4;M++){if($[M]&&$[M+1&3])x=1+2*(M&1);if($[M])E.push(u,M)}if(x==-1){if($[0]||$[2])x=0;
if($[1]||$[3])x=2}if(x!=-1){p=x;y.push(u)}}var m=E.length;for(var z=0;z<m;z+=2){var u=E[z],G=E[z+1],K=A.EO.jO(B,u)[G];
for(var M=0;M<o.length;M++){var s=o[M];if(y.indexOf(s)!=-1)continue;var Q=A.EO.jO(B,s);if(Q[G&1]==K)E.push(s,G&1);
if(Q[2+(G&1)]==K)E.push(s,2+(G&1))}}E.push(p);return E};A.OO=function(){A.hs.call(this,[10,44],A.OeZ,"tools/oselect");
this.XI="crosshair";this.OxN=0};A.OO.prototype=new A.hs;A.OO.prototype.mz=function(R,Z,B,o){if(Math.random()<1/(1+this.OxN)){alert("The cross should be fully inside the object.",3500);
this.OxN++}};A.OO.prototype.KV=function(R,Z,B,o){A.Ar.Otg(R,A.hs.ZS,this.HW);if(!o.yL||!this.Ez)return;
var r=this.mb(R,B,!1),Y=r.Y,E=r.Z,p=r.x,y=r.y,z=r.x+Y,u=r.y+E,Q=p+Y/2,H=y+E/2,T=A.OO.OOg;R.A.ql={I:[p,y,z,y,z,u,p,u,Q-Y*T,H,Q+Y*T,H,Q,H-E*T,Q,H+E*T],J:"M L L L Z M L M L".split(" ")};
R.Xl=!0};A.OO.OOg=.12;A.OO.prototype.qK=function(R,Z,B,o){R.A.ql=null;R.Xl=!0;this.finish(R,Z,B,o)};
A.OO.prototype.getSelection=function(R,Z,B,o){if(this.FF.EW(this.qU)||!this.Ez)return null;var r=this.mb(R,B,!1),Y=R.q[R.C[0]];
if(r.Pa()||!r.nl(Y.rect))return null;return A.hs.LY("ObSl",r)};A.Ar=function(){A.lg.call(this,[10,37],A.PX,"tools/qselect");
this.JP="qselect"};A.Ar.prototype=new A.lg;A.Ar.prototype.JH=function(R,Z,B,o,r){this.fZ(R,B,o,r,1);
if(this.GC==null)return;this.Qo(R)};A.Ar.prototype.TU=function(R,Z,B,o,r){this.JN(R,Z,B);A.Ar.Otg(R,A.hs.ZS,Z);
if(this.YX)this.ff(R,B,r);if(this.GC==null)return;if(!r.yL)return;var Y=this.qh(R,B,o,r);if(Y!=1)this.Qo(R)};
A.Ar.Otg=function(R,Z,B){if(R&&Z.key!=A.Ar.ln(R)){Z.key=A.Ar.ln(R);var o=R.q[R.C[0]].rect.b(),Y="Image Analysis ...";
if(o==0)return;var r=o>1e6,E=new n(X.E.K,!0);E.data={d:X.l.D$,ef:Y};if(r)B.j(E);setTimeout(function(){var p=A.Ar.OYF(R);
for(var y in p)Z[y]=p[y];var E=new n(X.E.K,!0);E.data={d:X.l.Ds,ef:Y};if(r)B.j(E)},30)}};A.Ar.ln=function(R){var Z=R.C[0],B=R.q[Z],o=B.rect,r=o.Y,Y=o.Z,E=r*Y,p=B.buffer;
return[Z,o.x,o.y,r,Y,p[0],p[1],p[2],p[3]].join(",")};A.Ar.OYF=function(R){var Z=R.C[0],B=R.q[Z],o=B.rect,r=o.Y,Y=o.Z,E=r*Y,p=B.buffer,y=Date.now(),z=O.a(E);
z.fill(128);var u=O.WA.Ij(p,r,Y);console.log(Date.now()-y);var Q={key:A.Ar.ln(R),sL:p,rect:o.clone(),ZA:r,N$:Y,Ud:12,Oew:!1,UA:z,uH:u,O:O.a(E),DY:null,gf:null,gJ:null};
A.Ar.MY(Q);return Q};A.Ar.MY=function(R,Z){var B=R.ZA,o=R.N$,r=0,Y=0,E=Date.now(),p=R.DY!=null&&O.WA.OfI(R.uH.LF,R.DY.LF,R.DY.qQ,R.UA);
r=Date.now()-E;E=Date.now();if(!p&&!R.Oew){R.DY=O.WA.Bp(R.uH,B,o,R.UA,R.Ud);if(!O.WA.OfI(R.uH.LF,R.DY.LF,R.DY.qQ,R.UA)){R.Oew=!0;
console.log("conflict")}R.gf=O.WA.Ovt(R.sL,B,o,R.DY.LF,R.DY.qQ);R.gJ=[R.gf[0].slice(0),[]];Y=Date.now()-E;
E=Date.now()}var E=Date.now();if(Z){R.gJ[0].set(R.gf[0]);var y=R.gf[1],z=R.gJ[1];for(var u=0;u<y.length;
u++)z[u]=y[u].slice(0);O.WA.OvJ(R.DY.LF,B,o,R.DY.qQ,R.UA,R.O,R.gJ)}};function VM(R,Z,B,o,r,Y,E){this.Fi=null;
this.BD=R?R.slice(0):null;this.Gq=4;this.qU=null;this.ug=null;this.gz=null;this.Qn=-1;this.lS=null;this.OKG=!1;
this.OEX=[];for(var p=0;p<8;p++)this.OEX.push(GI.Oyg(0,PIMG.rotate,-.5,-.5,-45-p*45));this.OEx=Z;this.OxK=B;
this.Oxr=o;this.Oxp=r;this.OEd=Y;this.zt=E}VM.prototype.Ote=function(){return this.Qn!=-1};VM.prototype.UK=function(){return this.BD.slice(0)};
VM.prototype.hy=function(R){this.BD=R};VM.prototype.OGT=function(){return this.OX(this.BD)};VM.prototype.OYO=function(){return this.Gq};
VM.prototype.OYG=function(R){this.Gq=R};VM.prototype.NR=function(R){if(R==null)R=this.BD;if(this.Gq==9)return this.qU;
else return this.OX(R)[this.Gq]};VM.prototype.OYl=function(R){if(this.Gq==9)this.qU=R.clone();else{var Z=this.NR(),B=new GN(1,0,0,1,R.x-Z.x,R.y-Z.y);
O.W.P(this.BD,B,this.BD)}};VM.prototype.zy=function(R,Z,B){var o=this.Yz(R,Z),r;if(o==9)return"default";
if(o==10){if(B)return null;return!this.OEx?"move":null}if(o==-1||o==4)return null;if(o==11){var Y=this.NR().ye(R);
r=90-Math.atan2(Y.y,Y.x)*180/Math.PI;var E=Math.round(8*(r/360));E=(E+8)%8;return this.OEX[E]}else{var p=this.zG(R,this.BD);
r=[135,90,45,180,0,0,225,270,315][o];var y=O.f.ik(this.BD);r+=Math.atan2(-y[3],y[0])*180/Math.PI;var z="ew nesw ns nwse ew nesw ns nwse".split(" "),E=Math.round(8*(r/360));
E=(E+8)%8;return z[E]+"-resize"}};VM.prototype.zG=function(R,Z){var B=O.f.za(O.f.ik(Z)),o=new Float64Array(2);
O.f.jH(R.x,R.y,B,o);return new VP(o[0],o[1])};VM.prototype.Yq=function(R){var Z=this.zG(R,this.BD);return 0<=Z.x&&Z.x<=1&&0<=Z.y&&Z.y<=1};
VM.prototype.JH=function(R,Z,B,o,r,Y){this.OKG=Y;this.lS=o;var E=R.w.h,p;if(this.BD==null)o=A.ub.$P(R,o,Z);
this.gz=o.clone();if(this.BD==null){this.gz.offset(1,1);var y=r==null?1:1/r;this.BD=[o.x,o.y,o.x+1,o.y,o.x+1,o.y+y,o.x,o.y+y];
p=8}else{p=this.Yz(o,E);if(0<=p&&p<=8)this.gz=this.OX(this.BD)[p]}this.Fi=this.BD.slice(0);this.Qn=p;
this.mF(R,Z);this.ug=this.NR();return p!=-1};VM.prototype.Yz=function(R,Z){var B=-1,o=this.OX(),r=6*X.D()/Z;
if(B==-1)if(VP.HP(this.NR(),R)<r)B=9;if(B==-1)for(var Y=0;Y<o.length;Y++)if(Y!=4&&VP.HP(o[Y],R)<r)B=Y;
if(B==-1){if(this.Yq(R)){if(this.OEx)B=10}else{var E=this.zG(R,this.BD),p=new N(0,0,1,1);p.yj(.2,.2);
B=p.a_(E)?11:10}}return B};VM.prototype.TU=function(R,Z,B,o){if(this.Qn==-1)return;this.lS=o;var r=B.R(a.Fl),Y=B.R(a.yt),E=B.R(a.iW),p=R.w.h,y=this.gz,z=this.Qn,u=this.OX(),Q=A.ub.$P(R,y,Z),H=A.ub.$P(R,o,Z),T,C;
if(z==9){var u=this.OX(),e=-1;for(var $=0;$<u.length;$++)if(VP.HP(u[$],H)*p<10)e=$;this.Gq=e==-1?9:e;
this.qU=r?A.$f.PU(Q,H):H.clone()}else if(z==10){C=O.W.Rn(this.Fi);var x=C.x,M=C.y;C.offset(o.x-y.x,o.y-y.y);
if(this.ORA()){C.x=Math.round(C.x);C.y=Math.round(C.y)}T=A.ub.vK(R,C,Z);var m=new GN(1,0,0,1,C.x-x+T[0],C.y-M+T[1]);
O.W.P(this.Fi,m,this.BD)}else if(z==11){var G=this.NR(this.Fi),K=G.ye(o),s=G.ye(y),L=Math.atan2(K.y,K.x),_=Math.atan2(s.y,s.x),m=new GN(1,0,0,1,-G.x,-G.y),P=Math.PI/12;
if(r)m.rotate(Math.round((_-L)/P)*P);else m.rotate(_-L);m.translate(G.x,G.y);O.W.P(this.Fi,m,this.BD)}else{var i,w=this.Fi,k=z==0||z==2||z==6||z==8;
if(this.zt==1){if(k)r=Y=E=!0}else if(this.zt==2&&k&&this.OKG!=!0)E=!0;if(this.Oxr&&k&&E){var $=[0,0,2,0,0,0,6,0,4,0][z],h=-1,j=H.x,I=H.y;
if(r){var V=$+6&7,F=$+10&7,q=VM.OYy(w[$],w[$+1],w[V],w[V+1],H.x,H.y),t=VM.OYy(w[$],w[$+1],w[F],w[F+1],H.x,H.y),c=q[2]<t[2]?q:t;
j=c[0];I=c[1];if(Y)h=q[2]<t[2]?V:F}else if(Y)h=$+4&7;i=w.slice(0);if(h!=-1){var f=w[h],W=w[h+1],l=(w[$]+f)/2,g=(w[$+1]+W)/2;
i[h]=l-(j-l);i[h+1]=g-(I-g)}i[$]=j;i[$+1]=I}else if(k&&Y){var G=this.ug,v=G.x,Vg=G.y,GE=Q.x-v,Gy=Q.y-Vg,GY=1,Ga=1;
if(Math.abs(GE)>=1)GY=(H.x-v)/GE;if(Math.abs(Gy)>=1)Ga=(H.y-Vg)/Gy;if(r)GY=Ga=(GY+Ga)/2;var GO=new GN;
GO.translate(-v,-Vg);GO.scale(GY,Ga);GO.translate(v,Vg);i=w.slice(0);O.W.P(i,GO,i)}else{if(this.ORA()){H.x=Math.round(H.x);
H.y=Math.round(H.y)}var J=[0,1,2,5,8,7,6,3],D=J[(J.indexOf(z)+4)%8],GB=[];for(var $=0;$<3;$++)for(var h=0;
h<3;h++)GB.push(new VP(h/2,$/2));var G=this.ug,Gj=this.zG(H,w),GX=this.zG(y,w),Gw=Y&&(this.Gq==4||this.Gq==9)?this.zG(G,w):GB[D],G_=new GN,Gf=new GN,GY=(Gj.x-Gw.x)/(GX.x-Gw.x);
if(GY==0)GY=1e-4;var Ga=(Gj.y-Gw.y)/(GX.y-Gw.y);if(Ga==0)Ga=1e-4;if(this.Oxp){GY=Math.max(GY,0);Ga=Math.max(Ga,0)}if(z==0||z==2||z==6||z==8){if(r||this.OEd)G_.scale(GY,GY);
else G_.scale(GY,Ga)}if(z==1||z==3||z==5||z==7){var Gl=this.OEd;if(z==1||z==7)G_.scale(Gl?Ga:1,Ga);else G_.scale(GY,Gl?GY:1);
if(this.OxK&&E){if(z==1||z==7)Gf.f_=(Gj.x-Gw.x)/(Gj.y-Gw.y);else Gf.X=(Gj.y-Gw.y)/(Gj.x-Gw.x)}}var GO=new GN;
GO.translate(-Gw.x,-Gw.y);GO.concat(G_);GO.concat(Gf);GO.translate(Gw.x,Gw.y);i=[0,0,1,0,1,1,0,1];O.W.P(i,GO,i);
var c=O.f.ik(w);O.f.apply(c,i)}if(VM.hG(i))this.BD=i}this.mF(R,Z);if(T)A.ub.vx(R,C,T)};VM.OYy=function(R,Z,B,o,r,Y){var E=B-R,p=o-Z,y=r-R,z=Y-Z,u=E*E+p*p,Q=y*E+z*p,H=Q/u,T=R+H*E,C=Z+H*p,e=r-T,$=Y-C;
return[T,C,Math.sqrt(e*e+$*$)]};VM.prototype.ORA=function(){var R=this.BD;return Math.abs(R[1]-R[3])<1e-6&&Math.abs(R[2]-R[4])<1e-6||Math.abs(R[0]-R[2])<1e-6&&Math.abs(R[3]-R[5])<1e-6};
VM.hG=function(R){return O.W.Pz(R)||O.W.Pz([R[6],R[7],R[4],R[5],R[2],R[3],R[0],R[1]])};VM.prototype.YF=function(R,Z,B,o){this.Qn=-1;
this.lS=null;R.A.jK=null;R.A.Xd=[];R.Xl=!0};VM.prototype.oZ=function(R,Z,B){var o=B.Nh();if(o.x||o.y){var r=new GN(1,0,0,1,o.x,o.y);
O.W.P(this.BD,r,this.BD);this.mF(R,Z);return!0}return!1};VM.prototype.OX=function(R){if(R==null)R=this.BD;
var Z=R[6]-R[0],B=R[7]-R[1],o=R[4]-R[2],r=R[5]-R[3],Y=[R[0],R[1],R[2],R[3],R[0]+Z/2,R[1]+B/2,R[2]+o/2,R[3]+r/2,R[6],R[7],R[4],R[5]],E=[];
for(var p=0;p<3;p++){var y=p*4,z=Y[y+0],u=Y[y+1],Q=Y[y+2],H=Y[y+3];E.push(new VP(z,u));E.push(new VP(z+(Q-z)/2,u+(H-u)/2));
E.push(new VP(Q,H))}return E};VM.prototype.mF=function(R,Z,B){if(B==null)B=!1;var o=this.OX(),r=o[0],Y=o[2],E=o[6],p=o[8];
R.A.ql={J:[],I:[]};R.A.ql.J.push("M","L","L","L","Z");R.A.ql.I.push(r.x,r.y,Y.x,Y.y,p.x,p.y,E.x,E.y);
if(this.zt==2){var y=Y.ye(r),z=E.ye(r),u=p.ye(Y),Q=p.ye(E);for(var H=0;H<3;H++){R.A.ql.J.push("M","L","M","L");
var T=(H+1)*.25;R.A.ql.I.push(r.x+y.x*T,r.y+y.y*T,E.x+Q.x*T,E.y+Q.y*T);R.A.ql.I.push(r.x+z.x*T,r.y+z.y*T,Y.x+u.x*T,Y.y+u.y*T)}}R.w.nC=new N(0,0,VP.HP(o[0],o[2]),VP.HP(o[0],o[6]));
if(this.Qn!=-1&&this.Qn<9&&this.lS){var C=R.w.Nv(this.lS.x,this.lS.y);A.Kx.VF(C.x+10,C.y-10,R.w.nC,R,Z)}if(!B){R.A.KW=[];
for(var H=0;H<o.length;H++)if(H!=4)R.A.KW.push(o[H].x,o[H].y);var e=this.NR();R.A.KW.push(e.x,e.y)}R.Xl=!0};
VM.prototype.clear=function(R){R.w.nC=null;R.A.jK=null;R.A.ql=null;R.A.KW=[];R.Xl=!0};function Rr(R,Z){this.Ef=null;
this.Qn=-1;this.OSa(R)}Rr.prototype.hA=function(){return JSON.parse(JSON.stringify(this.Ef))};Rr.prototype.OSa=function(R){this.Ef=JSON.parse(JSON.stringify(R))};
Rr.prototype.Yq=function(R){return!0};Rr.prototype.zy=function(R,Z){var B=this.Yz(R,Z);if(B==-1)return"default";
return"pointer"};Rr.prototype.JH=function(R,Z,B,o){this.Qn=this.Yz(o,R.w.h);return this.Qn!=-1};Rr.prototype.Yz=function(R,Z){var B=-1,o=20*X.D(),r=this.OIB();
for(var Y=0;Y<r.length;Y++)if(VP.HP(r[Y],R)*Z<o)B=Y;return B};Rr.prototype.TU=function(R,Z,B,o){if(this.Qn==-1)return;
var r=R.w.h,Y=this.Qn,E=O.Ef.zT(this.Ef);E[Y*2]=o.x;E[Y*2+1]=o.y;O.Ef.Em(E,this.Ef)};Rr.prototype.YF=function(R,Z,B,o){this.Qn=-1;
R.Xl=!0};Rr.prototype.oZ=function(R,Z,B){var o=B.Nh();if(o.x||o.y){var r=new GN(1,0,0,1,o.x,o.y);O.W.P(this.BD,r,this.BD);
this.mF(R)}};Rr.prototype.OIB=function(R){var Z=O.Ef.zT(this.Ef),B=[];for(var o=0;o<Z.length;o+=2)B.push(new VP(Z[o],Z[o+1]));
return B};Rr.prototype.mF=function(R){var Z=this.OIB();R.A.ql={J:[],I:[]};R.A.ql.J.push("M","C","C","C","C");
var B=[0,1,2,3,7,11,15,14,13,12,8,4,0];for(var o=0;o<B.length;o++)R.A.ql.I.push(Z[B[o]].x,Z[B[o]].y);
R.A.ql.J.push("M","L","L","M","L","L","M","L","L","M","L","L");B=[4,0,1,2,3,7,11,15,14,13,12,8];for(var o=0;
o<B.length;o++)R.A.ql.I.push(Z[B[o]].x,Z[B[o]].y);R.A.KW=[];for(var o=0;o<Z.length;o++)R.A.KW.push(Z[o].x,Z[o].y);
R.Xl=!0};Rr.prototype.clear=function(R){R.A.ql=null;R.A.KW=[];R.Xl=!0};var Oi={};Oi.p_=function(R){this.id=R;
this.HW=null};Oi.p_.prototype.sz=function(R,Z,B,o,r){};Oi.p_.prototype.G_=function(R,Z){};Oi.p_.prototype.KC=function(R,Z){};
Oi.p_.prototype.track=function(R){var Z=new n(X.E.e_,!0);Z.data=R;R.SE=!0;this.HW.j(Z)};Oi.History=function(){Oi.p_.call(this,A.Fp);
this.uP=!0;this.OEn=0};Oi.History.prototype=new Oi.p_;Oi.History.prototype.sz=function(R,Z,B,o){if(R.d=="h_itemchange"){if(R.index<B.ls)for(var r=B.ls;
r>R.index;r--)this.hh(B);if(R.index>B.ls)for(var r=B.ls;r<R.index;r++)this.hJ(B)}if(R.d=="h_stepfwd")this.hJ(B);
if(R.d=="h_stepbck")this.hh(B);if(R.d=="h_undoredo"){var Y=this.uP||this.OEn!=B.ls;if(Y){this.hh(B);
Y=!1}else{this.hJ(B);Y=!0}this.uP=Y;this.OEn=B.ls}else this.uP=!0};Oi.History.prototype.hh=function(R){if(R.ls==0)return;
var Z=R.history[R.ls];Z.B.KC(Z.data,R);R.ls--};Oi.History.prototype.hJ=function(R){if(R.ls==R.history.length-1)return;
var Z=R.history[R.ls+1];Z.B.G_(Z.data,R);R.ls++};Oi.T$=function(){Oi.p_.call(this,A.zr);this.HW=null};
Oi.T$.prototype=new Oi.p_;Oi.T$.prototype.sz=function(R,Z,B,o,r){this.HW=Z;var Y=R.d,E=R.r!=null?R.r:B.C.length!=0?B.C[0]:B.q.length-1,p=B.q[E];
if(Y==S.EI&&B.O==null)Y=S.NC;if(Y==S.ED){var y=new OV([6,33],this),z=p.av()?["pass"].concat(Gd.pz):Gd.pz,u=R.r!=null?[R.r]:B.C,Q=JSON.stringify(u),H=[];
for(var T=0;T<u.length;T++)H.push(B.q[u[T]].QV);y.data={d:Y,ZZ:Q,Fg:H,Zx:z[R.Zx]};B.ER(y);this.G_(y.data,B);
this.track(OX.SG("Md",{t:"enum",v:{BlnM:Gd.Ie[R.Zx]}}))}if(Y==S.EN){var y,C=B.lp(),u=R.r!=null?[R.r]:B.C,Q=JSON.stringify(u);
if(C&&C.data&&C.data.d==Y&&C.data.ZZ==Q)y=C;else{var e=OX.SG("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(e);var H=[];for(var T=0;T<u.length;T++)H.push(B.q[u[T]].opacity);y=new OV([6,32],this);y.data={d:Y,ZZ:Q,Fg:H,Zx:R.Zx,mk:e.UU};
B.ER(y)}y.data.Zx=R.Zx;y.data.mk.T.v.Opct.v.val=Math.round(R.Zx*100/255);this.G_(y.data,B)}if(Y==S.aw){if(p.add.iOpa==null)p.add.iOpa=255;
var y,C=B.lp();if(C&&C.data&&C.data.d==Y&&C.data.r==E)y=C;else{y=new OV("Fill Opacity Change",this);
y.data={d:Y,r:E,Fg:p.add.iOpa,Zx:R.Zx};B.ER(y)}y.data.Zx=R.Zx;this.G_(y.data,B)}if(Y==S.UC){if(p.add.lspf==null)p.add.lspf=0;
var H=p.add.lspf,$=H,x=R.Zx,y;for(var T=0;T<x[0].length;T++){var M=x[1][T],m=1<<M;if(($&m)==0&&x[0][T])$^=m;
else if(($&m)!=0&&!x[0][T])$^=m}var C=B.lp();if(C&&C.data&&C.data.d==Y&&C.data.r==E)y=C;else{var y=new OV([6,57,1],this);
y.data={d:Y,r:E,Fg:H,Zx:$};B.ER(y)}y.data.Zx=$;this.G_(y.data,B)}if(Y==S.Hd){var G="----",K=R.gU,$=null;
for(var T=0;T<Gs.Ra.Bj.length;T++)if(p.add[Gs.Ra.Bj[T]])G=Gs.Ra.Bj[T];var s=p.add[G];if(K=="TySh")$=GV.vr(50,50,r.XV);
var y=new OV("Layer Type",this);y.data={d:Y,r:E,OVf:[G,s],gU:[K,$]};B.ER(y);this.G_(y.data,B)}if(Y==S.vS){var L=[];
if(o.R(a.yt)){var _=B.lp(),P=_?_.data:null;if(_!=null&&_.B==this&&P.d==S.vS&&P.ZZ.length!=1){var i=new n(X.E.$);
i.B=A.Fp;i.data={d:"h_stepbck"};Z.j(i);if(P.r==E)return}var w=B.root.oO(E),k=B.op(null,E);while(w.parent!=B.root){k.push(w.parent.index);
w=w.parent}for(var T=0;T<B.q.length;T++){var h=B.q[T],j=h.YT(),I=k.indexOf(T)!=-1;if(!I&&j)L.push(T);
if(T==E&&!j)L.push(T)}}else{L.push(E);var j=B.q[E].YT(),e={DG:j?"hide":"show",UU:{classID:j?"Hd":"Shw",null:{t:"VlLs",v:[OX.m$("Lyr",!0)]}}};
this.track(e)}var y=new OV("Layer visibility",this,!0);y.data={d:Y,ZZ:L,r:E};B.ER(y);this.G_(y.data,B)}if(Y==S.Eo){var e={DG:"select",UU:{classID:"null",MkVs:{t:"bool",v:!1}}},V,escape=!1;
if(B.w.Ej.join("")!="111"){B.w.Ej=[1,1,1];B.Xl=!0}if(o.R(a.iW)||R.OVJ==0){var F=B.C.indexOf(E);if(F==-1)B.C.push(E);
else if(B.C.length>1)B.C.splice(F,1);B.C.sort(function(y,EZ){return y-EZ});e.UU.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};
V=E}else if(o.R(a.Fl)&&!o.R(a.yt)&&R.Eb>0){Y=R.Eb==1?S.yZ:R.Eb==2?S.UB:S.XF;escape=!0}else if((o.R(a.Fl)||R.OVJ==1)&&B.C.length>0){var q=Math.min(E,B.C[0]),t=Math.max(E,B.C[B.C.length-1]);
B.C=[];for(var T=q;T<=t;T++)if(B.q[T].add.lsct!=YV.Ng)B.C.push(T);e.UU.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
V=E}else{V=E;var h=B.q[E];if(h.av()&&R.OxZ)h.add.lsct=YV.A_;else if(B.C.length==1&&B.C[0]==E&&R.Eb==h.Fv){return}B.C=[E];
B.fx()}if(V!=null){e.UU.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:B.q[V].getName()}}]},this.track(e)}if(!escape){if(B.C.length==1){var c=B.C[0];
for(var T=0;T<B.q.length;T++){if(T==c)continue;var f=B.q[T];f.Fv=0;f.GQ=!1}var p=B.q[c];if(R.Eb==2)p.GQ=!p.GQ;
else{p.Fv=R.Eb<=0?0:R.Eb;if(R.Eb==1||R.Eb==3){var W=R.Eb==3?p.YQ(B).m:p.F$();W.NM=!1}}}else for(var T=0;
T<B.q.length;T++){var f=B.q[T];f.Fv=0;f.GQ=!1}B.ID=null;B.OF=!0}}if(Y==S.yZ||Y==S.XF){var l=Y==S.yZ,W=l?p.F$():p.YQ(B).m;
if(W==null)return;var y=new OV(W.isEnabled?l?[6,15]:[6,42]:l?[6,14]:[6,41],this);y.data={d:Y,r:E};B.ER(y);
this.G_(y.data,B)}if(Y==S.UB){var W=p.add.vmsk;if(W==null)return;var y=new OV(W.isEnabled?[6,17]:[6,16],this);
y.data={d:Y,r:E};B.ER(y);this.G_(y.data,B)}if(Y==S.ONI){if(p.add.lsct==YV.A_)p.add.lsct=YV.Zg;else p.add.lsct=YV.A_;
B.OF=!0}if(Y==S.yu){if(!B.Fd(E))return;var y=new OV(p.fa?[6,19]:[6,18],this);y.data={d:Y,r:E};B.ER(y);
if(R.Zx==null||R.Zx!=p.fa)this.G_(y.data,B);this.track({DG:"groupEvent",UU:{classID:"GrpL",null:{t:"obj ",v:[OX.m$("Lyr",!0)]}}})}if(Y==S.OOW){if(p.X_())p.Kw-=32;
else p.Kw+=32;B.OF=!0}if(Y==S.au||Y==S.jS){var y;if(Y==S.au)y=new OV(p.add.lmfx.masterFXSwitch.v?[6,30]:[6,29],this);
if(Y==S.jS)y=new OV(p.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);y.data={d:Y,r:E};B.ER(y);this.G_(y.data,B)}if(Y==S.ab||Y==S.jW){var c=R.index,y;
if(Y==S.ab)y=new OV(p.add.lmfx[Gk._p[c[0]]].v[c[1]].v.enab.v?[6,30]:[6,29],this);if(Y==S.jW)y=new OV(p.add.SoLd.filterFX.v.filterFXList.v[c].v.enab.v?[6,44]:[6,43],this);
y.data={d:Y,r:E,index:R.index};B.ER(y);this.G_(y.data,B)}if(Y==S.F_){if(R.src==R.sj)return;var g=B.q[R.src],v=B.q[R.sj],Vg=g.add.lmfx?JSON.stringify(g.add.lmfx):"",GE=v.add.lmfx?JSON.stringify(v.add.lmfx):"";
if(v.add.lmfx==null){v.add.lmfx=JSON.parse(Gk.default);for(var T=0;T<Gk.order.length;T++)v.add.lmfx[Gk._p[T]]={t:"VlLs",v:[]}}if(R.Fm==null){v.add.lmfx=JSON.parse(Vg);
if(!R.rm)delete g.add.lmfx}else{var Gy=R.Fm[0],GY=Gk._p[Gy];if(Gk.OW_.indexOf(Gk.order[Gy])==-1)v.add.lmfx[GY].v=[];
v.add.lmfx[GY].v.push(g.add.lmfx[GY].v[R.Fm[1]]);if(!R.rm)g.add.lmfx[GY].v.splice(R.Fm[1],1)}var Ga=g.add.lmfx?JSON.stringify(g.add.lmfx):"",GO=v.add.lmfx?JSON.stringify(v.add.lmfx):"";
if(!v.X_())v.Kw+=32;var y=new OV("Move Layer Styles",this);y.data={d:Y,OGf:R.src,OGn:R.sj,OxC:Vg,Oxc:GE,OeO:Ga,Oey:GO};
B.ER(y);this.G_(y.data,B)}if(Y==S.OIk){var f=B.q[R.src],J=JSON.stringify(f.add.SoLd),D=JSON.parse(J),GB=D.filterFX.v.filterFXList.v;
GB.splice(R.Fm,1);var y=new OV([6,53],this);y.data={d:S.jb,Ig:[{VL:R.src,eW:[J,JSON.stringify(D)]}]};
B.ER(y);this.G_(y.data,B)}if(Y==S.Oj$){var g=B.q[R.src],v=B.q[R.sj],Gj=[];if(g!=v&&v.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(g==v&&!R.rm&&(R.Fm==R.gp||R.Fm==-1))return;var GX=g.YQ(B),J=JSON.stringify(g.add.SoLd),D=JSON.parse(J),GB=D.filterFX.v.filterFXList.v;
if(g==v){GB.splice(R.gp,0,GB[R.Fm]);if(!R.rm)GB.splice(R.Fm+(R.Fm<R.gp?0:1),1);Gj.push({VL:R.src,eW:[J,JSON.stringify(D)]})}else if(R.Fm==-1){var Gw=D.filterFX;
if(!R.rm){delete D.filterFX;Gj.push({VL:R.src,eW:[J,JSON.stringify(D)],wZ:[GX,null]})}var G_=v.by()?v.YQ(B):null,Gf=GF.OwS(GX),Gl=JSON.stringify(v.add.SoLd),GU=JSON.parse(Gl);
GU.placed.v=Gf.id;GU.filterFX=Gw;Gj.push({VL:R.sj,eW:[Gl,JSON.stringify(GU)],wZ:[G_,Gf]})}else{var GD=GB[R.Fm];
if(!R.rm){GB.splice(R.Fm,1);Gj.push({VL:R.src,eW:[J,JSON.stringify(D)]})}var Gl=JSON.stringify(v.add.SoLd),GU=JSON.parse(Gl);
if(GU.filterFX==null)GU.filterFX=Go.HR();var Gi=GU.filterFX.v.filterFXList.v;Gi.splice(R.gp,0,GD);var Gh={VL:R.sj,eW:[Gl,JSON.stringify(GU)]};
if(!v.by()){var Gf=GF.OAi(v.add.SoLd.placed.v);Gh.wZ=[null,Gf]}Gj.push(Gh)}var y=new OV([6,52],this);
y.data={d:S.jb,Ig:Gj};B.ER(y);this.G_(y.data,B)}if(Y==S.Xg){var W=p.F$(),y=new OV(W.vG?[6,26]:[6,25],this);
y.data={d:Y,r:E};B.ER(y);this.G_(y.data,B);this.track({DG:"set",UU:{classID:"setd",null:{t:"obj ",v:[OX.m$("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:W.vG}}}}})}if(Y==S.HM){var W=p.add.vmsk,y=new OV(W.vG?[6,28]:[6,27],this);
y.data={d:Y,r:E};B.ER(y);this.G_(y.data,B)}if(Y==S.Hs){var G$=[],y;for(var T=0;T<B.C.length;T++){var GA=B.C[T],h=B.q[GA];
if(h.add.vogk)G$.push(GA,JSON.stringify(h.add.vogk))}for(var T=0;T<B.JG.length;T++){var GA=B.JG[T],h=B.EP[GA];
if(h.add.vogk)G$.push(-1-GA,JSON.stringify(h.add.vogk))}O.je.OfP(B,R.pS,R.OeE);var GJ=[];for(var T=0;
T<B.C.length;T++){var GA=B.C[T],h=B.q[GA];if(h.add.vogk)GJ.push(GA,JSON.stringify(h.add.vogk))}for(var T=0;
T<B.JG.length;T++){var GA=B.JG[T],h=B.EP[GA];if(h.add.vogk)GJ.push(-1-GA,JSON.stringify(h.add.vogk))}var C=B.lp();
if(C&&C.data&&C.data.d==Y){var Ge=!0;for(var T=0;T<G$.length;T+=2)if(G$[T]!=C.data.gC[T])Ge=!1;if(Ge){y=C;
y.data.Xj=GJ}}if(y==null){var y=new OV([12,91,1],this);y.data={d:Y,gC:G$,Xj:GJ};B.ER(y)}this.G_(y.data,B)}if(Y==S.Hu){var y,C=B.lp();
if(C&&C.data&&C.data.d==Y&&C.data.r==E){y=C;y.data.fT=JSON.stringify(R.fT)}if(y==null){var y=new OV("Editing Artboard",this);
y.data={d:Y,r:E,OeY:JSON.stringify(p.add.artb),fT:JSON.stringify(R.fT)};B.ER(y)}this.G_(y.data,B)}if(Y==S.El){var GJ=B.tP.slice(0),Gq=B.Y_.slice(0),Gv=B.O,yi=B.O;
if(R._r=="fromAction"){var GZ=R.k.DG,OU=R.k.UU;if(GZ=="make"||GZ=="duplicate"){var GH=GJ.length,Gb=!1,Gu=!1;
if(B.Lp())GH--;var OB=new S.iH;OB.name="Alpha "+(GH+1);if(GZ=="make"){var GP=OU.Nw.v;OB.color=255;Gq=[GH];
OB.NM=!0;OB.lK=GP.Opct.v;if(GP.Nm)OB.name=GP.Nm.v;if(GP.classID=="SCch"){Gb=!0;yi=null;OB.ju=1}}else{var Gn=OU.null.v[0].v;
if(Gn.keyID=="fsel")Gb=!0;else{var Yy=A.hs.OEq(B);yi=A.hs.OOw(B,Yy);OB.color=0;OB.rect=yi.rect;OB.channel=yi.channel}}if(Gb){OB.color=0;
if(B.O){OB.rect=B.O.rect.clone();OB.channel=B.O.channel.slice(0)}if(Gu){OB.color=255-OB.color;O.za(OB.channel)}}GJ.splice(GH,0,OB)}else if(GZ=="delete"){var k=B.Y_;
k.sort(function(y,EZ){return EZ-y});if(k.length==0)return;for(var T=0;T<k.length;T++)GJ.splice(k[T],1);
Gq=[]}else if(GZ=="hide"){GJ[Gq[0]]=GJ[Gq[0]].clone();GJ[Gq[0]].NM=!1}}if(R._r=="rnm"){GJ[R.qp]=GJ[R.qp].clone();
GJ[R.qp].name=R.name}var y=new OV("Channel Edit",this);y.data={d:Y,gC:B.tP.slice(0),Ha:B.Y_.slice(0),Xj:GJ,Hj:Gq,vL:Gv,vq:yi};
this.G_(y.data,B);B.ER(y)}if(Y==S.Wd){var y=new OV(R.$L,this);y.data={d:S.Wd,KZ:B.q.slice(0),aq:R.aq,Td:B.C.slice(0),Tn:R.vq};
B.ER(y);this.G_(y.data,B)}if(Y==S.vR){var Gm=B.op(null,R.r),YR=1e10;if(Gm.length==0)return;if(B.q.length==Gm.length){alert("Project must have at least 1 layer");
return}var GW=[];for(var T=0;T<B.q.length;T++)if(Gm.indexOf(T)==-1)GW.push(B.q[T]);for(var T=0;T<Gm.length;
T++)YR=Math.min(YR,Gm[T]);YR=Math.max(YR-1,0);while(GW[YR].name=="</Layer group>")YR++;this.track({DG:"delete",UU:{classID:"Dlt",null:OX.m$("Lyr",!0)}});
var y=new OV([6,31],this);y.data={d:S.Wd,KZ:B.q.slice(0),aq:GW,Td:B.C.slice(0),Tn:[YR]};B.ER(y);this.G_(y.data,B)}if(Y==S.Ua){var k=R.OXj?R.OXj:B.C,YE=0,O_=!1;
if(k.length==0)return;if(k.length==1&&B.q[k[0]].gt==0){alert(Ok.get([15,7,5]));return}var Yq=[];for(var T=0;
T<B.q.length;T++){var YX=B.q[T].gt;Yq.push(YX);YE=Math.max(YE,YX)}var Y_=-1,OY=-1;for(var T=0;T<k.length;
T++){var YX=B.q[k[T]].gt;if(YX==0)O_=!0;else if(Y_==-1||Y_==YX)Y_=YX;else OY=YX}if(!O_)for(var T=0;T<k.length;
T++)B.q[k[T]].gt=0;else if(Y_!=-1&&OY==-1)for(var T=0;T<k.length;T++)B.q[k[T]].gt=Y_;else for(var T=0;
T<k.length;T++)B.q[k[T]].gt=YE+1;var GT=[];for(var T=0;T<B.q.length;T++){var YX=B.q[T].gt;if(GT[YX]==null)GT[YX]=0;
GT[YX]++}for(var T=0;T<B.q.length;T++){var YX=B.q[T].gt;if(GT[YX]==1)B.q[T].gt=0}var YY=Yq;Yq=[];for(var T=0;
T<B.q.length;T++){var YX=B.q[T].gt;Yq.push(YX);YE=Math.max(YE,YX)}var y=new OV(O_?[6,54,0]:[6,54,1],this);
y.data={d:S.Ua,Oet:YY,Oeq:Yq};B.ER(y);this.G_(y.data,B)}if(Y==S.NC&&(R.r!=null||B.C.length!=0)||Y==S.fR){var Of=B.IG(Y==S.NC?R.r:E,null,R.O$q);
if(Y==S.fR){var f=Of[0],GZ=f.add.SoLd.Idnt.v,Ox=B.zK(GZ).clone();f.add.SoLd.Idnt.v=Ox.on=GF.l_()+GZ.slice(8);
B.add.lnk2.push(Ox)}if(Y==S.NC){var yR={DG:"duplicate",UU:{classID:"null",null:OX.m$("Lyr",!0)}};if(R.VD){Of[0].AA(R.VD);
yR.Nm={t:"TEXT",v:R.VD}}this.track(yR);R.OXw=R.r}Y=S.aT;R.q=Of;R.wm=B;R.PE=B}if(Y==S.aT){var Oj,RV,OJ=R.wm,Ye=R.PE;
if(OJ!=Ye){console.log("ADDLAYERS different projs");var Oj=new N(0,0,OJ.Y,OJ.Z),RV=new N(0,0,Ye.Y,Ye.Z),ye=[],Ys=[];
for(var T=0;T<R.q.length;T++){var f=R.q[T];if(f.add.SoLd==null)continue;var GZ=f.add.SoLd.Idnt.v;if(ye.indexOf(GZ)==-1){ye.push(GZ);
Ys.push(GF.l_()+GZ.slice(8))}f.add.SoLd.Idnt.v=Ys[ye.indexOf(GZ)];var GX=f.YQ(OJ);if(GX){OJ.f$(GX);Ye.VO(GX)}}if(ye.length>0){if(Ye.add.lnk2==null)Ye.add.lnk2=[];
for(var T=0;T<ye.length;T++){var YC=OJ.zK(ye[T]),Ox=YC.clone();Ox.on=Ys[T];Ye.add.lnk2.push(Ox)}}}var Gv=Ye.C.slice(0);
Gv.sort(function(y,EZ){return y-EZ});var GW=Ye.q.slice(0),yi=[],YD=-1;for(var T=0;T<Gv.length;T++)YD=Math.max(YD,Gv[T]);
if(R.OXw!=null)YD=R.OXw;YD++;for(var T=0;T<R.q.length;T++){var h=R.q[T];GW.splice(YD,0,h);yi.push(YD);
YD++}if(R.q[R.q.length-1].av())yi=[YD-1];var y=new OV([6,0],this);y.data={d:S.Wd,KZ:Ye.q.slice(0),aq:GW,Td:Gv,Tn:yi};
Ye.ER(y);this.G_(y.data,Ye)}if(Y==S.Oy$){var yf=R.r!=null?[R.r]:B.op(),GW=B.q.slice(0);for(var T=0;T<yf.length;
T++){var h=B.q[yf[T]].clone();h.OEt(B);GW.splice(yf[T],1,h)}var y=new OV([6,8],this);y.data={d:S.Wd,KZ:B.q.slice(0),aq:GW,Td:B.C.slice(0),Tn:B.C.slice(0)};
B.ER(y);this.G_(y.data,B)}if(Y==S.OEh){var GW=B.q.slice(0),h=GW[B.C[0]]=GW[B.C[0]].clone(),RY=h.add.lmfx,YO=0;
delete h.add.lmfx;var EA=O.a(h.rect.b());O.KT(h.buffer,EA,3);var ES=GS.fo(RY,null,EA,h.rect,B,h.rect).type;
for(var T=0;T<Gk.order.length;T++){var Yf=Gk.order[T],YS=ES[Yf],Yp=T>7;for(var YB=0;YB<YS.length;YB++){var YW=YS[YB],u=B.xE();
u.QV=YW.DV;u.opacity=Math.round(255*YW.$p);u.fa=!Yp;u.buffer=YW.Y$;u.rect=YW.dP;u.rect.offset(h.rect.x,h.rect.y);
u.AA(h.getName()+"'s "+Ok.get(Gk.names[T]));GW.splice(B.C[0]+(Yp?0:1),0,u);if(Yp)YO++}}var y=new OV("Styles to Layers",this);
y.data={d:S.Wd,KZ:B.q.slice(0),aq:GW,Td:B.C.slice(0),Tn:[B.C[0]+YO]};B.ER(y);this.G_(y.data,B)}if(Y==S.fX){var yf=B.op(),GW=B.q.slice(0),YJ=new N(0,0,B.Y,B.Z);
for(var T=0;T<yf.length;T++){var yt=B.q[yf[T]],OS=yt.YT();yt.eM(!0);var yT=B.root.oO(yf[T]);if(yt.av())continue;
if(yT==null)continue;var h=yt.clone();h.OEt(B);var EM=yT.mb(B,!0),yA=B.q;B.Kz([h]);B.U();B.oT();h.buffer=O.a(EM.b()*4);
O.GN(B.fw(),YJ,h.buffer,EM);h.rect=EM;h.opacity=255;h.add.iOpa=255;h.QV="norm";h.U();h.g.VC=!0;B.Kz(yA);
if(h.add.lmfx)delete h.add.lmfx;h.m=h.JC=null;GW.splice(yf[T],1,h);h.eM(OS);yt.eM(OS)}var y=new OV([6,34],this);
y.data={d:S.Wd,KZ:B.q.slice(0),aq:GW,Td:B.C.slice(0),Tn:B.C.slice(0)};B.ER(y);this.G_(y.data,B)}if(Y==S.ORw){var yf=B.op(),GW=B.q.slice(0);
for(var T=0;T<yf.length;T++){var h=B.q[yf[T]],yC=h.add.TySh;if(yC==null)continue;var f=new YI(yC.HC,r.YN),RR=O.W.Io(YK.me(f,yC));
for(var Yu in RR){var Rh=RR[Yu],Yw=h.clone();delete Yw.add.TySh;Yw.Kw=Yw.Kw|1<<4;Yw.add.SoCo=JSON.parse(JSON.stringify(Gk.Ex[0]));
var Ra=Yw.add.SoCo.Clr.v;Ra.Rd.v=parseInt(Yu.slice(1,3),16);Ra.Grn.v=parseInt(Yu.slice(3,5),16);Ra.Bl.v=parseInt(Yu.slice(5,7),16);
var Xj=new S.lo;Xj.u=O.W.un(Rh,!1);if(Yw.add.vmsk!=null){Yw.add.vmsk.OAI();Xj.concat(Yw.add.vmsk)}Yw.add.vmsk=Xj;
Yw.add.vstk=JSON.parse(JSON.stringify(Gk.uI.default));Yw.uN();Yw.Aq(B);GW.splice(GW.indexOf(h),0,Yw)}GW.splice(GW.indexOf(h),1)}var y=new OV([6,40],this);
y.data={d:S.Wd,KZ:B.q.slice(0),aq:GW,Td:B.C.slice(0),Tn:B.C.slice(0)};B.ER(y);this.G_(y.data,B)}if(Y==S.Oan){var YT=B.C.length;
if(YT<2)return;if(!B.uG())return;var Yw=B.q[B.C[0]].clone(),GW=[];for(var T=0;T<B.q.length;T++)if(B.C.indexOf(T)==-1)GW.push(B.q[T]);
GW.splice(B.C[0],0,Yw);for(var T=1;T<YT;T++){var h=B.q[B.C[T]],YL=h.rect.clone();YL.yj(1,1);var EZ=O.a(YL.b()*4);
O.GN(h.buffer,h.rect,EZ,YL);Yw.extend(YL);var Rz=O.a(YL.b()*4);O.GN(Yw.buffer,Yw.rect,Rz,YL);var y=O.a(YL.b());
O.KT(EZ,y,3);O.round(y,200);O.qH(y,EZ,3);O.e.FO("norm",EZ,YL,Rz,YL,YL,1);O.xB.OV(Rz,y,YL);O.GN(Rz,YL,Yw.buffer,Yw.rect)}var y=new OV([2,10],this);
y.data={d:S.Wd,KZ:B.q.slice(0),aq:GW,Td:B.C.slice(0),Tn:[B.C[0]]};B.ER(y);this.G_(y.data,B)}if(Y==S.fN){var GW=B.q.slice(0),Gq=B.C.slice(0);
for(var T=0;T<GW.length;T++){var h=GW[T],RE=h.add.vmsk;if(h.yJ()&&RE&&h.add.vstk.strokeEnabled.v&&!h.add.vstk.fillEnabled.v){var Rv=RE.u,yz=0,YM=-1;
for(var YB=0;YB<Rv.length;YB++){if((Rv[YB].type==0||Rv[YB].type==3)&&Rv[YB].lz!=-1){yz++;if(Rv[YB].type==3&&YM==-1){Rv[YB].DN=Rv[YB].lz=1;
YM=YB}}}if(yz>1&&YM!=-1){console.log("separating an open path into a new layer");h=h.clone();RE=h.add.vmsk;
Rv=RE.u;var u=Rv[YM].length,yw=h.clone();yw.add.lyid=B.Fn();RE.u=Rv.slice(0,2).concat(Rv.slice(YM,YM+u+1));
RE.C=[];h.Aq(B);h.U();var EV=yw.add.vmsk.u;yw.add.vmsk.u=EV.slice(0,YM).concat(EV.slice(YM+u+1,EV.length));
yw.add.vmsk.C=[];yw.Aq(B);GW[T]=h;GW.splice(T+1,0,yw);for(var YB=0;YB<Gq.length;YB++)if(Gq[YB]>T)Gq[YB]++;
var Ep=Gq.indexOf(T);if(Ep!=-1){Gq.splice(Ep+1,0,T+1)}}}}if(GW.length!=B.q.length){var y=new OV("Splitting open paths",this);
y.data={d:S.Wd,KZ:B.q.slice(0),aq:GW,Td:B.C.slice(0),Tn:Gq};B.ER(y);this.G_(y.data,B)}}if(Y==S.OSS){this.sz({d:S.fN},Z,B,o,r);
var Gv=B.C.slice(0),yA=B.q.slice(0),yf=B.op();if(yf.length==0)return;B.OWX(yf);var y=new OV([6,36,0],this);
y.data={d:S.Wd,KZ:yA,aq:B.q.slice(),Td:Gv,Tn:B.C.slice(0)};B.ER(y);this.G_(y.data,B)}if(Y==S.XN){var YC=R.qC.zK(R.id),Ox=YC.clone();
Ox.raw=R.data;Ox.MD="8BIM";Ox.UD="8BPB";Ox.Re=Ox.Re+".psd";Ox.fw(!1);YC.fw(!1);var y=new OV([6,36,1],this);
y.data={d:S.XN,id:R.id,PV:YC,PS:Ox};R.qC.ER(y);this.G_(y.data,R.qC)}if(Y==S.Oyi){var yo,VJ;if(R.uX){yo=R.qC;
VJ=R.uX}else{R.qC.iV();R.qC.ut();R.qC.U();R.qC.oT();R.qC.fw();yo=GI.PSD.qj(R.qC,0,0,[!0,!0]);VJ=R.qC.name}if(!(yo instanceof ArrayBuffer))throw"e";
yo=new Uint8Array(yo);var F=R.XK!=null?R.XK:B.C[B.C.length-1]+1,Op=B.VV(yo,VJ,0,0,!0),GW=B.q.slice(0);
GW.splice(F,0,Op);var y=new OV([6,36,2],this);y.data={d:S.Wd,KZ:B.q.slice(),aq:GW,Td:B.C.slice(0),Tn:[GW.indexOf(Op)]};
B.ER(y);this.G_(y.data,B)}if(Y==S.ORY){var RS=[],RO=[],Ew=0;for(var T=0;T<B.C.length;T++){var GA=B.C[T],h=B.q[GA];
if(h.av()&&RS.indexOf(GA)==-1){RS.push(GA);RO.push(h.getName())}}if(RS.length!=2){RS=[];RO=[];for(var T=0;
T<B.q.length;T++){var GA=T,h=B.q[GA];if(h.av()&&RS.indexOf(GA)==-1){RS.push(GA);RO.push(h.getName())}}}if(RS.length<2){alert("We need at least two folders of layers");
return}var YS=[];for(var yF=0;yF<RS.length;yF++){var w=B.root.oO(RS[yF]),Gh=[[],[],0,yF];YS.push(Gh);
if(w.children.length==0){alert("There is a folder \""+w.r.getName()+"\" without any layers.");return}for(var T=0;
T<w.children.length;T++){var GA=w.children[T].index,h=w.children[T].r,OB=h.getName(),XI=20;if(!OB.startsWith("_a_")){alert("Name of every frame should start with \"_a_\"");
return}var EO=OB.split(",");if(EO.length>1){var VY=parseInt(EO.pop());if(!isNaN(VY)&&VY!=0)XI=VY}Gh[0].push(h);
Gh[1].push(XI);Gh[2]+=XI}}YS.sort(function(y,EZ){return EZ[2]-y[2]});var Vh=YS[0],Yo=Vh[2];for(var RI=1;
RI<YS.length;RI++){var Gh=YS[RI],OW=1,RN=Gh[1].slice(0),XC=0;while((OW+1)*Gh[2]<=Vh[2]){OW++;RN=RN.concat(Gh[1])}Gh[1]=RN;
Gh[2]*=OW;var RM=Vh[2]/Gh[2];for(var T=0;T<Gh[1].length;T++){var Rk=Math.floor(Gh[1][T]*RM);Gh[1][T]=Rk;
XC+=Rk}while(XC<Yo){XC++;Gh[1][Gh[1].length-1]++}Gh[2]=XC}var Rq=[],Re=[],Rk=[];for(var T=0;T<YS.length;
T++){Rq.push(0);Re.push(0)}while(Ew<Yo){var R$=1e9,GH=-1;for(var T=0;T<YS.length;T++){var EY=YS[T][1],am=Rq[T];
if(am!=EY.length&&Re[T]+EY[am]<Ew+R$){GH=T;R$=Re[T]+EY[am]-Ew}}Re[GH]+=YS[GH][1][Rq[GH]];Rq[GH]++;if(R$!=0){Rk.push(R$);
Ew+=R$}}for(var T=0;T<Rk.length;T++){var E$=Rk[T],Rd=E$>>>1;if(E$<17){var GA=Rk.length-1;if(T==0)Rk[1]+=E$;
else if(T==Rk.length-1)Rk[GA-1]+=E$;else{Rk[T-1]+=Rd;Rk[T+1]+=E$-Rd}Rk.splice(T,1);T--}}var YG=B.C.slice(0);
B.C=RS;var Gm=B.op();Gm.sort(function(y,EZ){return y-EZ});var GW=[];for(var T=0;T<B.q.length;T++){if(Gm.indexOf(T)==-1)GW.push(B.q[T])}YS.sort(function(y,EZ){return y[3]-EZ[3]});
function y_(EY,aL){var T=0,al=0;while(al+EY[T]<=aL){al+=EY[T];T++}return T}Ew=0;GW.splice(Gm[0],0,B.ZP());
for(var Rw=0;Rw<Rk.length;Rw++){var L=[],Vc=new N;for(var T=0;T<YS.length;T++){var am=y_(YS[T][1],Ew)%YS[T][0].length,h=YS[T][0][am];
L.push(h);Vc=Vc.fj(h.rect)}var h=B.xE();h.rect=Vc;h.buffer=O.a(Vc.b()*4);for(var T=0;T<YS.length;T++){var Ro=L[T],Ej=Ro.opacity/255*(B.q[RS[T]].opacity/255);
O.e.FO("norm",Ro.buffer,Ro.rect,h.buffer,Vc,Vc,Ej)}h.eM(Rw==0);h.AA("_a_frm"+Rw+","+Rk[Rw]);GW.splice(Gm[0]+1+Rw,0,h);
Ew+=Rk[Rw]}var h=B.xE();h.AA(RO.join(" + "));h.QV="pass";h.add.lsct=YV.Zg;h.Kw=24;GW.splice(Gm[0]+1+Rk.length,0,h);
var y=new OV([6,12,0],this);y.data={d:S.Wd,KZ:B.q,aq:GW,Td:YG,Tn:[Gm[0]+1+Rk.length]};B.ER(y);this.G_(y.data,B)}if(Y==S.yz||Y==S.Xo||Y==S.Xs){var yA=B.q.slice(0),Gv=B.C.slice(0),VT=!0,Op,yi;
if(Y==S.yz)B.C=[B.C[0],B.C[0]-1];if(Y==S.Xs){B.C=[];for(var T=0;T<B.q.length;T++)if(B.q[T].YT())B.C.push(T)}var yf=B.op();
yf.sort(function(y,EZ){return y-EZ});var XB=new N,YJ=new N(0,0,B.Y,B.Z);for(var T=0;T<yf.length;T++){var GA=yf[T],h=B.q[GA];
VT=VT&&h.yJ()&&h.add.vmsk!=null;XB=XB.fj(B.root.oO(GA).mb(B,!0))}if(VT){Op=B.q[yf[0]].clone();var RE=Op.add.vmsk;
for(var T=1;T<yf.length;T++){var u=B.q[yf[T]],EV=S.lo.yN(u.add.vmsk.u);RE.u=RE.u.concat(EV.slice(2));
Op.add.vogk=Op.add.vogk.concat(JSON.parse(JSON.stringify(u.add.vogk)))}Op.add.vmsk.Zr=!0;Op.Aq(B)}else if(YJ.Uv(XB)){Op=B.xE();
Op.AA(B.q[yf[yf.length-1]].getName());Op.rect=XB;Op.buffer=O.a(XB.b()*4);var XV=B.fw(yf);O.GN(XV,YJ,Op.buffer,XB);
Op.U()}else{B.OWX(yf,!0);Op=B.q[B.C[0]];B.q.splice(B.C[0],1);var yM=B.zK(Op.add.SoLd.Idnt.v);B.add.lnk2.splice(B.add.lnk2.indexOf(yM),1);
delete Op.add.SoLd}var OQ=o.R(a.yt),RK=-1;if(R.UU&&R.UU.Dplc&&R.UU.Dplc.v)OQ=!0;if(OQ&&Y==S.Xs&&B.q[Gv[0]].NA()&&B.q[Gv[0]].rect.Pa()){RK=Gv[0];
Op.AA(B.q[RK].getName())}var GW=[];for(var T=0;T<B.q.length;T++)if(OQ||yf.indexOf(T)==-1)if(T!=RK)GW.push(B.q[T]);
var Xk=yf[yf.length-1],Ru=Xk==B.q.length-1?null:B.q[Xk+1],XA=Ru?GW.indexOf(Ru):GW.length;GW.splice(XA,0,Op);
yi=[XA];var y=new OV([6,12,0],this);y.data={d:S.Wd,KZ:yA,aq:GW,Td:Gv,Tn:yi};B.ER(y);this.G_(y.data,B)}if(Y==S.ft){var Yw=B.xE();
Yw.rect=new N(0,0,B.Y,B.Z);Yw.buffer=O.a(Yw.rect.b()*4);O.yg(Yw.buffer,4294967295);O.e.FO("norm",B.fw(),Yw.rect,Yw.buffer,Yw.rect,Yw.rect,1);
Yw.AA("Background");Yw.add.lspf=1<<2;var y=new OV([6,12,1],this);y.data={d:S.Wd,KZ:B.q.slice(),aq:[Yw],Td:B.C.slice(0),Tn:[0]};
B.ER(y);this.G_(y.data,B)}if(Y==S.vN||Y==S.aC||Y==S.vz||Y==S.aQ||Y==S.EI){var h=Y==S.EI?B.q[B.C[0]].clone():B.xE(),RH=Ok.get([0,3]),Xx=R.VD,XK=!1,Yc,VV;
if(Y==S.vz)RH=Ok.get([12,76,1]);if(Y==S.EI){var yt=B.q[B.C[0]],XX=yt.OBG(B,B.O);if(XX==null){alert("Copied area is empty");
return}h.rect=XX.rect,h.buffer=XX.Gp}if(Y==S.aQ){h.rect=Oi.T$.OtR(R.Ev,B);h.buffer=O.clone(R.Ev.buffer)}if(Y==S.vN){this.track({DG:"make",UU:{classID:"Mk",null:OX.m$("Lyr")}})}if(Y==S.aC){h.Kw|=16;
var YH=R.UU.Usng.v,Rm=YH.Type.v,yy=GK.HG[Rm.classID];RH=Ok.get(GK.names[yy]);if(YH.Nm)Xx=YH.Nm.v;h.add[yy]=Go.wI(yy);
for(var Xw in Rm)h.add[yy][Xw]=JSON.parse(JSON.stringify(Rm[Xw]));h.m=Oi.T$.OAC(B)}if(Y==S.vz){h.Kw|=16;
var OU=R.UU,YH=OU.Usng.v,yH=YH.Type.v,YZ=YH.Shp;if(YZ==null)h.m=Oi.T$.OAC(B);else{console.log(YH);h.add.vmsk=new S.lo;
h.add.vstk=JSON.parse(JSON.stringify(YH.strokeStyle?YH.strokeStyle.v:Gk.uI.default));h.add.vogk=[];if(YZ){var XR=O.je.Pq(YZ);
if(XR){h.add.vogk=[XR];h.add.vmsk.u.push({type:0,lz:1,length:0});O.je.xY(h.add.vogk,h.add.vmsk)}else{YZ=YZ.v;
var Xl=YZ.classID;if(Xl=="Plgn"){var aB=YZ.Cntr.v,yl=YZ.corner.v;aB=new VP(aB.Hrzn.v.val,aB.Vrtc.v.val);
yl=new VP(yl.Hrzn.v.val,yl.Vrtc.v.val);h.add.vmsk.u=O.V.hk.BZ(aB.x,aB.y,Math.sqrt(yl.x*yl.x+yl.y*yl.y),Math.atan2(yl.y,yl.x),YZ.sides.v,0)}else if(Xl=="customShape"){var XS=O.je.IN(YZ),XJ=XS[2]-XS[0],aE=XS[3]-XS[1],Xa=r.fh,Xf,Ex;
for(var T=0;T<Xa.length;T++)if(Xa[T].Kl==YZ.Nm.v)Xf=Xa[T];if(Xf){Ex=S.lo.yN(Xf.u);O.V.lC(Ex,new GN(XJ,0,0,aE,XS[0],XS[1]))}else Ex=O.V.hk.Rect(XS[0],XS[1],XJ,aE,0);
h.add.vmsk.u=Ex}h.uN()}}}var yQ={solidColorLayer:0,gradientLayer:1,patternLayer:2}[yH.classID],O$=["SoCo","GdFl","PtFl"][yQ];
h.add[O$]=JSON.parse(JSON.stringify(Gk.Ex[yQ]));Oi.T$.Yi(yH,h.add[O$],yQ);if(YZ==null)RH=Ok.get([6,48,0,yQ]);
if(O$=="PtFl")B.vi(GS.rf(h.add[O$].Ptrn.v,r.RU));h.Aq(B)}var YT=Oi.T$.OyU(B,RH+" ");h.AA(RH+" "+(YT+1));
if(Xx)h.AA(Xx);var Xr=B.C.length==0?B.q.length-1:B.C[B.C.length-1],X_=B.q[Xr];if(Y==S.vz&&X_.NA()&&X_.rect.Pa()){XK=!0;
h.AA(X_.getName());Yc=Xr}else{Yc=Xr+1;if(X_.add.lsct==YV.A_)Yc--}var GW=B.q.slice(0);GW.splice(Yc,XK?1:0,h);
var RX=[5,2];if(Y==S.vN)RX=[6,13];if(Y==S.aC)RX=[6,1];if(Y==S.vz){RX=[6,48,1];var YZ=R.UU.Usng.v.Shp;
if(YZ){var Om={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[YZ.v.classID];
if(Om)RX=Om}}if(Y==S.EI){RX=[6,49]}if(Y==S.EI||Y==S.vz||Y==S.aQ)if(B.O)VV=[B.O,null];var y=new OV(RX,this);
y.data={d:S.Wd,KZ:B.q.slice(0),aq:GW,Td:B.C.slice(0),Tn:[Yc],AV:VV};B.ER(y);this.G_(y.data,B);if(Y==S.vz&&YZ==null&&yQ!=0||Y==S.aC){var XM=new n(X.E.K);
XM.data={d:X.l.Bv,fA:OG.qr.TS};Z.j(XM)}}if(Y==S.FE){var h=B.xE();h.AA(Ok.get([0,4])+" "+B.q.length);
h.QV="pass";h.add.lsct=YV.A_;h.Kw=24;var Vd=B.ZP(),Xr=E,Yc=Xr+1,GW=B.q.slice(0);GW.splice(Yc,0,Vd,h);
var y=new OV([6,20],this);y.data={d:S.Wd,KZ:B.q.slice(0),aq:GW,Td:B.C.slice(0),Tn:[Yc+1]};B.ER(y);this.G_(y.data,B)}if(Y==S.$Y||Y==S.ET){var yr=Y==S.$Y?R.source:B.C[0],Ry,Et,Xt=B.C.indexOf(yr)!=-1,ym=o.R(a.yt)|R.OeN,OP;
if(Xt)OP=B.op();else OP=B.IR(yr);OP.sort(function(y,EZ){return y-EZ});if(Y==S.$Y){Ry=R.target;Et=R.mO>.5}else if(R.target!=null){Ry=R.target;
Et=!0;B.Hl=!0}else{var On=R._r;Et=On>1;if(On==0){Ry=B.q.length-1}if(On==1){Ry=OP[OP.length-1]+1;var u=B.IR(Ry);
if(u.indexOf(yr)==-1)Ry+=u.length-1}if(On==2){Ry=OP[0]-1;var u=B.IR(Ry);if(u.indexOf(yr)==-1)Ry-=u.length-1}if(On==3){Ry=0}if(Ry<0||Ry>B.q.length-1)return;
B.Hl=!0}if(OP.indexOf(Ry)!=-1)return;var Ey=B.q[Ry],GW=[];if(ym)GW=B.q.slice(0);else for(var T=0;T<B.q.length;
T++)if(OP.indexOf(T)==-1)GW.push(B.q[T]);var Xz=GW.indexOf(Ey);if(Y==S.$Y&&Ey.av()&&Ey.add.lsct==YV.Zg&&R.mO>.8)Xz-=B.IR(Ry).length-1;
var Xn=[],XQ=ym?B.IG(Xt?null:yr):null;for(var T=0;T<OP.length;T++){var RD=Xz+(Et?0:1)+T,f=ym?XQ[T]:B.q[OP[T]];
GW.splice(RD,0,f);Xn.push(RD)}var y=new OV(ym?[6,0]:[6,35],this);y.data={d:S.Wd,KZ:B.q.slice(0),aq:GW,Td:B.C.slice(0),Tn:Xn};
B.ER(y);this.G_(y.data,B);var OU={classID:"move",null:OX.m$("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:Xz+(Et?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:ym}};
this.track({DG:"move",UU:OU})}if(Y==S.jY){var h=B.xE(),Xd=Ok.get([0,4])+" ";h.AA(Xd+(Oi.T$.OyU(B,Xd)+1));
h.QV="pass";if(R.VD)h.AA(R.VD);h.add.lsct=B.C.length==1?YV.A_:YV.Zg;h.Kw=24;var Vd=B.ZP(),OP=B.op();
if(OP.length==0)return;OP.sort(function(y,EZ){return y-EZ});var GW=[];for(var T=0;T<B.q.length;T++)if(OP.indexOf(T)==-1)GW.push(B.q[T]);
var Xr=B.C[B.C.length-1]-OP.length;GW.splice(Xr+1,0,Vd);for(var T=0;T<OP.length;T++)GW.splice(Xr+2+T,0,B.q[OP[T]]);
GW.splice(Xr+2+OP.length,0,h);var y=new OV([6,9],this);y.data={d:S.Wd,KZ:B.q.slice(0),aq:GW,Td:B.C.slice(0),Tn:[GW.indexOf(h)]};
B.ER(y);this.G_(y.data,B);var e={DG:"make",SE:!0};e.UU={classID:"Mk",null:OX.m$("layerSection"),From:OX.m$("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:h.getName()}}}};
this.track(e)}if(Y==S.Ojx){if(B.C.length!=1)return;var F=B.C[0],XP=o.R(a.yt);if(B.q[F].F$()==null){Y=S.At;
R.zt=B.O?!XP?"RvlS":"HdSl":!XP?"RvlA":"HdAl"}else Y=S.yc}if(Y==S.At){if(B.C.length!=1)return;var F=B.C[0],h=B.q[F],EG=h.F$();
if(EG==null||R.Oez){var y=new OV([6,21],this),Oe=new S.iH,Oy=R.zt,Xv=Oy=="RvlS"||Oy=="HdSl";if(Oy=="RvlS"||Oy=="HdAl"||Oy=="Trns")Oe.color=0;
if(Xv){Oe.channel=O.clone(B.O.channel);Oe.rect=B.O.rect.clone();if(Oy=="HdSl")O.za(Oe.channel)}if(Oy=="Trns"){Oe.rect=h.rect.clone();
Oe.channel=O.a(h.rect.b());O.KT(h.buffer,Oe.channel,3)}y.data={d:Y,r:F,m:Oe,my:EG,AV:Xv?[B.O,null]:null};
B.ER(y);this.G_(y.data,B);B.q[F].Fv=1;this.track({DG:"make",UU:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:Oy}}}})}}else if(Y==S.HZ){var g=B.q[R.src],v=B.q[R.sj];
if(v.F$())return;var y=new OV([6,21],this),Oe=g.F$();if(R.rm){y.data={d:S.At,r:R.sj,m:Oe.clone()}}else{y.data={d:Y,src:R.src,sj:R.sj,m:Oe}}B.ER(y);
this.G_(y.data,B)}if(Y==S.Uw){if(B.C.length!=1)return;var F=E;if(B.q[F].F$()!=null){var y=new OV([6,22],this);
y.data={d:Y,r:F,m:B.q[F].F$()};B.ER(y);this.G_(y.data,B)}}if(Y==S.fq){var yA=B.q.slice(0),Yw=p.clone(),aG=Yw.F$();
O.Ac(aG.yD(Yw.rect),Yw.rect,Yw.buffer,Yw.rect);Oi.T$.zY(B,Yw);B.q[B.C[0]]=Yw;var y=new OV([5,8],this);
y.data={d:S.Wd,KZ:yA,aq:B.q.slice(),Td:B.C.slice(0),Tn:B.C.slice(0)};B.ER(y);this.G_(y.data,B)}if(Y==S.FU){if(B.C.length!=1)return;
var F=B.C[0];if(B.q[F].YQ(B).m==null){var y=new OV([6,45],this);y.data={d:Y,r:F,m:new S.iH};B.ER(y);
this.G_(y.data,B)}}if(Y==S.Fr){if(B.C.length!=1)return;var F=B.C[0];if(B.q[F].YQ(B).m!=null){var y=new OV([6,46],this);
y.data={d:Y,r:F,m:B.q[F].YQ(B).m};B.ER(y);this.G_(y.data,B)}}if(Y==S.fW){if(R.r==null&&B.C.length!=1)return;
if(B.q[E].by()){var y=new OV([6,47],this),J=JSON.stringify(B.q[E].add.SoLd),D=JSON.parse(J);delete D.filterFX;
y.data={d:S.jb,Ig:[{VL:E,eW:[J,JSON.stringify(D)],wZ:[B.q[E].YQ(B),null]}]};B.ER(y);this.G_(y.data,B)}}if(Y==S.yc){if(B.C.length!=1)return;
if(p.add.vmsk==null){var y=new OV([6,23],this),Oe=new S.lo;Oe.u[1].all=R.OYA?0:1;y.data={d:Y,r:E,mX:!0,m:Oe,je:"[]",uI:null};
if(p.yJ()){y.data.uI=JSON.stringify(Gk.uI.default)}B.ER(y);this.G_(y.data,B)}}if(Y==S.Ho){var g=B.q[R.src],v=B.q[R.sj];
if(v.add.vmsk)return;var y=new OV([6,23],this),RE=g.add.vmsk;y.data={r:R.sj,mX:g.GQ,m:RE.clone(),je:JSON.stringify(g.add.vogk),uI:g.add.vstk?JSON.stringify(g.add.vstk):null};
if(R.rm){y.data.d=S.yc}else{y.data.d=Y;y.data.src=R.src;y.data.sj=R.sj}B.ER(y);this.G_(y.data,B)}if(Y==S.US){if(B.C.length!=1)return;
var h=B.q[E],RE=h.add.vmsk;if(RE!=null){var y=new OV([6,24],this);y.data={d:Y,r:E,mX:h.GQ,m:RE,je:JSON.stringify(h.add.vogk),uI:h.add.vstk?JSON.stringify(h.add.vstk):null};
B.ER(y);this.G_(y.data,B)}}if(Y==S.FL){var y=new OV("Metadata",this);y.data={d:Y,vu:JSON.stringify(B.mt),BV:JSON.stringify(R.BV)};
B.ER(y);this.G_(y.data,B)}if(Y==S.ja){var aY=R.sj?R.sj:B,Xe=aY.name,Xx=R.k+".psd";if(Xe==Xx)return;var y=new OV([6,37],this);
y.data={d:Y,mB:Xe,VD:Xx};if(R.OeU!=!0)aY.ER(y);this.G_(y.data,aY)}if(Y==S.$s){var Xe=p.getName(),Xx=R.name.substring(0,255);
if(Xe==Xx)return;var y=new OV([6,37],this);y.data={d:Y,r:E,mB:Xe,VD:Xx,OXA:p.add.lnsr,OjG:null};B.ER(y);
this.G_(y.data,B);this.track(OX.SG("Nm",{t:"TEXT",v:Xx}))}if(Y==S.$c){var aX=B.op(),aa=[],Xm=[];for(var T=0;
T<aX.length;T++){aa.push(B.q[aX[T]].add.lclr);Xm.push(R.OIg)}var y=new OV([6,38],this);y.data={d:Y,q:aX,Oe$:aa,Oee:Xm};
B.ER(y);this.G_(y.data,B)}if(Y==S.Fu){var y=B.history[B.ls];if(y!=null&&y.B==this&&y.data.d==Y&&y.data.r==R.mJ&&y.data.Zx.uA==R.Dq.uA)y.data.Zx=R.Dq;
else{y=new OV("Mask Density / Feather",this);y.data={d:Y,r:R.mJ,rb:B.q[R.mJ].OET(R.Dq.uA),Zx:R.Dq};B.ER(y)}this.G_(y.data,B)}if(Y==S.xr){var aI=JSON.stringify(R.k),Or=JSON.parse(aI),y=B.history[B.ls];
if(y!=null&&y.B==this&&y.data.d==Y&&y.data.Ui==R.Ui&&y.data.ZZ.join(",")==R.ZZ.join(",")){for(var T=0;
T<R.ZZ.length;T++)y.data.mN[T]=Or;if(y.data.UU&&Or.UD!=0)Oi.T$.Yi(Or.ZI,y.data.UU.T.v,Or.UD-1)}else{y=new OV([11,6],this);
y.data={d:Y,ZZ:R.ZZ,Ui:R.Ui,OwY:[],mN:[]};var aw=!1;for(var T=0;T<R.ZZ.length;T++){var GA=R.ZZ[T],h=B.q[GA],ak=R.Ui?A.uu.Lb(B,GA):JSON.parse(JSON.stringify(h.add.vstk));
y.data.OwY.push(ak);y.data.mN.push(Or);if(JSON.stringify(ak)!=aI)aw=!0}if(!aw)return;B.ER(y);if(R.Ui&&Or.UD>0){var OU=y.data.UU={classID:"setd",null:OX.m$("contentLayer",!0),T:{t:"Objc",v:{}}},O$=["SoCo","GdFl","PtFl"][Or.UD-1];
Oi.T$.Yi(Or.ZI,OU.T.v,Or.UD-1);this.track({DG:"set",UU:OU})}}if(R.Ui&&Or.UD==3)B.vi(GS.rf(Or.ZI.Ptrn.v,r.RU));
if(!R.Ui){var Ee=Or.strokeStyleContent.v;if(Ee.classID==Gk.uI.FJ[2])B.vi(GS.rf(Ee.Ptrn.v,r.RU))}this.G_(y.data,B)}};
Oi.T$.Yi=function(R,Z,B){var o=[Gk.up,Gk.rR,Gk.rB][B];if(Z.classID==null)Z.classID=["solidColorLayer","gradientLayer","patternLayer"][B];
for(var r=0;r<o.length;r++)if(R[o[r]])Z[o[r]]=JSON.parse(JSON.stringify(R[o[r]]))};Oi.T$.OAC=function(R){var Z=new S.iH;
if(R.O!=null){Z.color=0;Z.channel=O.clone(R.O.channel);Z.rect=R.O.rect.clone()}return Z};Oi.T$.OOz=function(R,Z,B,o){var r=o.Y/B.Y,Y=o.Z/B.Z,E=o.Y/2,p=o.Z/2,y=O.W.Bu(o).I;
for(var z=0;z<R.q.length;z++){var u=R.q[z],Q=u.add.SoLd;if(Q==null||Q.Idnt.v!=Z)continue;if(r!=1||Y!=1){var H=A.HQ.Qj(Q.nonAffineTransform),T=O.f.ik(H,o),C=new GN;
C.translate(-E,-p);C.scale(r,Y);C.translate(E,p);var e=O.f._s(T,O.f._B(C)),$=y.slice(0);O.f.apply(e,$);
Q.Trnf=A.HQ.Kv($);Q.nonAffineTransform=A.HQ.Kv($)}u.AS(R)}R.U()};Oi.T$.OUh=function(R,Z,B){Z.color=255-Z.color;
O.za(Z.channel);Z.Zr=!0;R.Aq(B);B.U()};Oi.T$.prototype.KC=function(R,Z){var B=R.d,o=Z.q[R.r];if(B==S.XN){Z.add.lnk2.splice(Z.add.lnk2.indexOf(R.PS),1,R.PV);
Oi.T$.OOz(Z,R.id,R.PS.NO[1],R.PV.NO[1])}if(B==S.ED){var r=JSON.parse(R.ZZ);for(var Y=0;Y<r.length;Y++)Z.q[r[Y]].QV=R.Fg[Y];
Z.U()}if(B==S.EN){var r=JSON.parse(R.ZZ);for(var Y=0;Y<r.length;Y++)Z.q[r[Y]].opacity=R.Fg[Y];Z.U()}if(B==S.UC){o.add.lspf=R.Fg}if(B==S.Hd){var E=R.gU,p=R.OVf;
delete o.add[E[0]];if(p[0]!="----")o.add[p[0]]=p[1]}if(B==S.aw){o.add.iOpa=R.Fg;Z.U()}if(B==S.vS){for(var Y=0;
Y<R.ZZ.length;Y++){var y=Z.q[R.ZZ[Y]];y.eM(!y.YT())}Z.U()}if(B==S.yZ){var z=o.F$();z.isEnabled=!z.isEnabled;
o.Aq(Z);Z.U()}if(B==S.XF){var z=o.YQ(Z).m;z.isEnabled=!z.isEnabled;o.U();Z.U()}if(B==S.UB){var z=o.add.vmsk;
z.isEnabled=!z.isEnabled;if(!z.isEnabled){if(o.JC){o.m=o.JC;o.JC=null}else o.m=null}else if(o.m){o.JC=o.m;
o.m=null}o.Aq(Z);Z.U()}if(B==S.yu){o.fa=!o.fa;Z.U()}if(B==S.au){o.add.lmfx.masterFXSwitch.v=!o.add.lmfx.masterFXSwitch.v;
o.g.VC=!0;Z.U()}if(B==S.jS){o.add.SoLd.filterFX.v.enab.v=!o.add.SoLd.filterFX.v.enab.v;o.OC(Z);Z.U()}if(B==S.ab){var u=R.index,Q=o.add.lmfx[Gk._p[u[0]]].v[u[1]].v;
Q.enab.v=!Q.enab.v;o.g.VC=!0;Z.U()}if(B==S.F_){var H=Z.q[R.OGf],T=Z.q[R.OGn],C=R.OxC,e=R.Oxc;if(C=="")delete H.add.lmfx;
else H.add.lmfx=JSON.parse(C);if(e=="")delete T.add.lmfx;else T.add.lmfx=JSON.parse(e);H.g.VC=!0;T.g.VC=!0;
Z.U()}if(B==S.jW){var $=o.add.SoLd.filterFX.v.filterFXList.v[R.index].v;$.enab.v=!$.enab.v;o.OC(Z);Z.U()}if(B==S.OIK){o.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(R.OLq));
o.OC(Z);Z.U()}if(B==S.Xg){var z=o.F$();z.vG=!z.vG}if(B==S.HM){var z=o.add.vmsk;z.vG=!z.vG}if(B==S.Hs){var x=R.gC;
for(var Y=0;Y<x.length;Y+=2){var M=x[Y],y=M>=0?Z.q[M]:Z.EP[-1-M];y.add.vogk=JSON.parse(x[Y+1]);O.je.xY(y.add.vogk,y.add.vmsk);
if(M>=0)y.Aq(Z)}Z.U()}if(B==S.Hu){o.add.artb=JSON.parse(R.OeY);Z.U()}if(B==S.El){Z.O=R.vL;Z.tP=R.gC.slice(0);
Z.Y_=R.Ha.slice(0);Z.Xl=Z.ZK=!0}if(B==S.Ua){var m=R.Oet;for(var Y=0;Y<m.length;Y++)Z.q[Y].gt=m[Y]}if(B==S.Wd){if(R.Td)Z.C=R.Td;
if(R.AV)Z.O=R.AV[0];Z.ID=null;Z.U();Z.Kz(R.KZ)}if(B==S.At){Oi.T$.zY(Z,o);if(R.my)Oi.T$.YU(Z,o,R.my);
if(R.AV){var G=R.AV[0];if(G==null)delete Z.O;else Z.O=G}}if(B==S.HZ){Oi.T$.zY(Z,Z.q[R.sj]);Oi.T$.YU(Z,Z.q[R.src],R.m)}if(B==S.Uw){Oi.T$.YU(Z,o,R.m)}if(B==S.FU){o.YQ(Z).m=null;
o.U();Z.U()}if(B==S.Fr){o.YQ(Z).m=R.m;o.U();Z.U()}if(B==S.jb){Oi.T$.OEu(Z,R.Ig,0)}if(B==S.yc){Oi.T$.MR(Z,o,!0)}if(B==S.Ho){Oi.T$.MR(Z,Z.q[R.sj],R.m.isEnabled);
Oi.T$.MX(Z,Z.q[R.src],R)}if(B==S.US){Oi.T$.MX(Z,o,R)}if(B==S.FL){Z.mt=JSON.parse(R.vu)}if(B==S.ja){Z.name=R.mB}if(B==S.$s){o.AA(R.mB);
if(R.OXA)o.add.lnsr=R.OXA;else delete o.add.lnsr}if(B==S.$c){for(var Y=0;Y<R.q.length;Y++)Z.q[R.q[Y]].add.lclr=R.Oe$[Y]}if(B==S.xr){var K=R.OwY;
for(var Y=0;Y<R.ZZ.length;Y++){var y=Z.q[R.ZZ[Y]],s=K[Y];if(!R.Ui)y.add.vstk=JSON.parse(JSON.stringify(s));
else A.uu.ME(y,JSON.parse(JSON.stringify(s)));y.HS(Z)}Z.U()}if(B==S.Fu){o.OwK(R.rb);o.Aq(Z);Z.U()}Z.OF=!0};
Oi.T$.prototype.G_=function(R,Z){var B=R.d,o=Z.q[R.r];if(B==S.XN){Z.add.lnk2.splice(Z.add.lnk2.indexOf(R.PV),1,R.PS);
Oi.T$.OOz(Z,R.id,R.PV.NO[1],R.PS.NO[1])}if(B==S.ED){var r=JSON.parse(R.ZZ);for(var Y=0;Y<r.length;Y++)Z.q[r[Y]].QV=R.Zx;
Z.U()}if(B==S.EN){var r=JSON.parse(R.ZZ);for(var Y=0;Y<r.length;Y++)Z.q[r[Y]].opacity=R.Zx;Z.U()}if(B==S.UC){o.add.lspf=R.Zx}if(B==S.Hd){var E=R.OVf,p=R.gU;
delete o.add[E[0]];if(p[0]!="----")o.add[p[0]]=p[1]}if(B==S.aw){o.add.iOpa=R.Zx;Z.U()}if(B==S.vS){for(var Y=0;
Y<R.ZZ.length;Y++){var y=Z.q[R.ZZ[Y]];y.eM(!y.YT())}Z.U()}if(B==S.yZ){var z=o.F$();z.isEnabled=!z.isEnabled;
o.Aq(Z);Z.U()}if(B==S.XF){var z=o.YQ(Z).m;z.isEnabled=!z.isEnabled;o.U();Z.U()}if(B==S.UB){var z=o.add.vmsk;
z.isEnabled=!z.isEnabled;if(!z.isEnabled){if(o.JC){o.m=o.JC;o.JC=null}else o.m=null}else if(o.m){o.JC=o.m;
o.m=null}o.Aq(Z);Z.U()}if(B==S.yu){o.fa=!o.fa;Z.U()}if(B==S.au){o.add.lmfx.masterFXSwitch.v=!o.add.lmfx.masterFXSwitch.v;
o.g.VC=!0;Z.U()}if(B==S.jS){o.add.SoLd.filterFX.v.enab.v=!o.add.SoLd.filterFX.v.enab.v;o.OC(Z);Z.U()}if(B==S.ab){var u=R.index,Q=o.add.lmfx[Gk._p[u[0]]].v[u[1]].v;
Q.enab.v=!Q.enab.v;o.g.VC=!0;Z.U()}if(B==S.F_){var H=Z.q[R.OGf],T=Z.q[R.OGn],C=R.OeO,e=R.Oey;if(C=="")delete H.add.lmfx;
else H.add.lmfx=JSON.parse(C);if(e=="")delete T.add.lmfx;else T.add.lmfx=JSON.parse(e);H.g.VC=!0;T.g.VC=!0;
Z.U()}if(B==S.jW){var $=o.add.SoLd.filterFX.v.filterFXList.v[R.index].v;$.enab.v=!$.enab.v;o.OC(Z);Z.U()}if(B==S.OIK){o.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(R.OLW));
o.OC(Z);Z.U()}if(B==S.Xg){var z=o.F$();z.vG=!z.vG}if(B==S.HM){var z=o.add.vmsk;z.vG=!z.vG}if(B==S.Hs){var x=R.Xj;
for(var Y=0;Y<x.length;Y+=2){var M=x[Y],y=M>=0?Z.q[M]:Z.EP[-1-M];y.add.vogk=JSON.parse(x[Y+1]);O.je.xY(y.add.vogk,y.add.vmsk);
if(M>=0)y.Aq(Z)}Z.U()}if(B==S.Hu){o.add.artb=JSON.parse(R.fT);Z.U()}if(B==S.El){Z.O=R.vq;Z.tP=R.Xj.slice(0);
Z.Y_=R.Hj.slice(0);Z.Xl=Z.ZK=!0}if(B==S.Ua){var m=R.Oeq;for(var Y=0;Y<m.length;Y++)Z.q[Y].gt=m[Y]}if(B==S.Wd){var G=R.aq,K=0,s;
for(var Y=0;Y<G.length;Y++){var y=G[Y],L=y.add.lsct;if(L==YV.Ng)K++;else if(L==YV.A_||L==YV.Zg)K--;if(y.add.artb&&K!=0)s="Artboards can not be inside folders."}if(s){Z.history.pop();
Z.ls--;alert(s);return}if(R.Tn)Z.C=R.Tn;if(R.AV)Z.O=R.AV[1];Z.ID=null;Z.U();Z.Kz(R.aq)}if(B==S.At){if(R.my)Oi.T$.zY(Z,o);
Oi.T$.YU(Z,o,R.m);if(R.AV){var _=R.AV[1];if(_==null)delete Z.O;else Z.O=_}}if(B==S.HZ){Oi.T$.zY(Z,Z.q[R.src]);
Oi.T$.YU(Z,Z.q[R.sj],R.m)}if(B==S.Uw){Oi.T$.zY(Z,o)}if(B==S.FU){o.YQ(Z).m=R.m;o.Fv=0;o.U();Z.U()}if(B==S.Fr){o.YQ(Z).m=null;
o.Fv=0;o.U();Z.U()}if(B==S.jb){Oi.T$.OEu(Z,R.Ig,1)}if(B==S.yc){Oi.T$.MX(Z,o,R)}if(B==S.Ho){Oi.T$.MR(Z,Z.q[R.src],R.m.isEnabled);
Oi.T$.MX(Z,Z.q[R.sj],R)}if(B==S.US){Oi.T$.MR(Z,o,R.m.isEnabled)}if(B==S.FL){Z.mt=JSON.parse(R.BV)}if(B==S.ja){Z.name=R.VD}if(B==S.$s){o.AA(R.VD);
if(R.OjG)o.add.lnsr=R.OjG;else delete o.add.lnsr}if(B==S.$c){for(var Y=0;Y<R.q.length;Y++)Z.q[R.q[Y]].add.lclr=R.Oee[Y]}if(B==S.xr){var P=R.mN;
for(var Y=0;Y<R.ZZ.length;Y++){var y=Z.q[R.ZZ[Y]],i=P[Y];if(!R.Ui)y.add.vstk=JSON.parse(JSON.stringify(i));
else A.uu.ME(y,JSON.parse(JSON.stringify(i)));y.HS(Z)}Z.U()}if(B==S.Fu){o.OwK(R.Zx);o.Aq(Z);Z.U()}Z.OF=!0};
Oi.T$.OyU=function(R,Z){var B=0;for(var o=0;o<R.q.length;o++){var r=R.q[o].getName();if(r.startsWith(Z)){var Y=r.slice(Z.length).trim(),E=parseInt(Y);
if(!isNaN(E)&&E+""==Y)B=E}}return B};Oi.T$.OEu=function(R,Z,B){for(var o=0;o<Z.length;o++){var r=Z[o],Y=R.q[r.VL];
if(r.eW){Y.add.SoLd=JSON.parse(r.eW[B])}if(r.wZ){if(r.wZ[1-B]!=null)R.f$(r.wZ[1-B]);if(r.wZ[B]!=null)R.VO(r.wZ[B]);
else Y.Fv=0}Y.AS(R)}};Oi.T$.OtR=function(R,Z){var B=R.OH,o=R.rect.clone();if(B!=null&&(B.x!=Z.Y||B.y!=Z.Z)){o.x=Math.floor((Z.Y-o.Y)/2);
o.y=Math.floor((Z.Z-o.Z)/2)}return o};Oi.T$.zY=function(R,Z){if(Z.JC)Z.JC=null;else Z.m=null;Z.Aq(R);
R.U();Z.Fv=0};Oi.T$.YU=function(R,Z,B){if(Z.m)Z.JC=B;else Z.m=B;Z.Aq(R);R.U()};Oi.T$.MR=function(R,Z,B){if(Z.JC&&B){Z.m=Z.JC;
Z.JC=null}else if(Z.m&&B){Z.m=null}delete Z.add.vogk;delete Z.add.vstk;delete Z.add.vmsk;Z.Aq(R);Z.GQ=!1;
R.U()};Oi.T$.MX=function(R,Z,B){Z.add.vogk=JSON.parse(B.je);if(B.uI)Z.add.vstk=JSON.parse(B.uI);else delete Z.add.vstk;
Z.add.vmsk=B.m.clone();if(Z.m&&Z.add.vmsk.isEnabled)Z.JC=Z.m;Z.Aq(R);Z.GQ=B.mX;R.U()};Oi.Zt=function(){Oi.p_.call(this,A.WD);
this.R$=null;this.Ur=null;this.Af=null;this.eF=[];this.Pf=null};Oi.Zt.prototype=new Oi.p_;Oi.Zt.prototype.sz=function(R,Z,B,o,r){var Y=B.q[R.r],E=R.qp,y=null;
if(this.R$==null){this.Af=Oi.Zt.OE(B,Y);this.R$=JSON.stringify(this.Af);if(Y.add.lmfx)this.Ur=JSON.stringify(Y.add.lmfx)}if(Y.add.lmfx==null){Y.add.lmfx=JSON.parse(Gk.default);
for(var p=0;p<Gk.order.length;p++)Y.add.lmfx[Gk._p[p]]={t:"VlLs",v:[]}}if(R.d=="changeprop"){if(E!=0){var z=this.eF[E[0]];
if(z==null)z=Gk.eF[E[0]];z=JSON.parse(z);var u=Y.add.lmfx[Gk._p[E[0]]].v;if(u[E[1]]==null)u[E[1]]={t:"Objc",v:z};
y=u[E[1]].v;for(var Q in z)if(y[Q]==null)y[Q]=z[Q]}if(R.d=="changeprop"){if(E==0){this.Af[R.hz].v=R.k;
Oi.Zt.Ym(B,Y,this.Af)}else if(R.hz=="lagl"){if(y.uglg&&y.uglg.v){B.jC(R.k.val);this.Af.OwR=B.vT()}else y[R.hz].v=R.k}else if(R.hz=="Lald"){if(y.uglg.v){B.uY(R.k.val);
this.Af.OwL=B.jc()}else y[R.hz].v=R.k}else if((E[0]==3||E[0]==8)&&(R.hz=="Clr"||R.hz=="Grad")){if(R.hz=="Clr"){y.Clr={t:"Objc",v:R.k};
delete y.Grad}if(R.hz=="Grad"){y.Grad={t:"Objc",v:R.k};delete y.Clr}}else{y[R.hz].v=R.k}if(E!=0)this.eF[E[0]]=JSON.stringify(y)}if(E!=0)if(y.Ptrn)B.vi(GS.rf(y.Ptrn.v,r.RU))}else if(R.d=="setstl"){var H=R.k.Lefx;
if(H)GS.ORK(H,B,r.RU);GS.OwZ(R.k,Y);this.Af=Oi.Zt.OE(B,Y)}else if(R.d=="st_dupsingle"){var T=Y.add.lmfx[Gk._p[R.lJ[0]]].v;
if(T[R.lJ[1]]==null)return;var C=JSON.parse(JSON.stringify(T[R.lJ[1]]));T.splice(R.lJ[1],0,C)}else if(R.d=="st_movsingle"){var e=R.lJ[1],T=Y.add.lmfx[Gk._p[R.lJ[0]]].v;
if(T[R.lJ[1]]==null)return;var $=Math.max(0,Math.min(T.length-1,e+R.Owt)),x=T[$];T[$]=T[e];T[e]=x}else if(R.d=="cancel"){if(this.Ur==null)delete Y.add.lmfx;
else Y.add.lmfx=JSON.parse(this.Ur);Oi.Zt.Ym(B,Y,JSON.parse(this.R$));this.R$=null;this.Ur=null}else if(R.d=="confirm"){var M=new OV([11,6],this);
M.data={q:[R.r],mK:[this.Ur],ms:[JSON.stringify(Y.add.lmfx)],mH:[this.R$],mT:[JSON.stringify(this.Af)]};
B.ER(M);this.R$=null;this.Ur=null}else if(R.d=="st_copy"){this.Pf=[this.R$,this.Ur];this.R$=null;this.Ur=null}else if(R.d=="st_paste"||R.d=="st_clear"){if(R.d=="st_paste"&&this.Pf==null)return;
var m=B.C.indexOf(R.r)==-1?[R.r]:B.C.slice(0),G=[],K=[],s=[],L=[];for(var p=0;p<m.length;p++){var Y=B.q[m[p]],_=Oi.Zt.OE(B,Y);
G.push(Y.add.lmfx?JSON.stringify(Y.add.lmfx):null);s.push(JSON.stringify(_));if(R.d=="st_paste"){K.push(this.Pf[1]);
L.push(this.Pf[0])}else{K.push(null);_.lrMd.v=0;_.Opct.v.val=100;_.iOpa.v.val=100;_.blIf={v:[]};for(var P=0;
P<10;P++)_.blIf.v.push(0,0,255,255);L.push(JSON.stringify(_))}}var M=new OV([11,6],this);M.data={q:m,mK:G,ms:K,mH:s,mT:L};
this.G_(M.data,B);B.ER(M);this.R$=null;this.Ur=null}else{var i=this.Af,w=null;if(R.d=="st_delsingle"){w=JSON.parse(this.Ur);
w[Gk._p[R.lJ[0]]].v.splice(R.lJ[1],1);w=JSON.stringify(w)}if(w==null)delete Y.add.lmfx;else Y.add.lmfx=JSON.parse(w);
if(i!=null)Oi.Zt.Ym(B,Y,i);var M=new OV([11,6],this);M.data={q:[R.r],mK:[this.Ur],ms:[w],mH:[this.R$],mT:[JSON.stringify(i)]};
B.ER(M);this.R$=null;this.Ur=null}Y.g.VC=!0;B.U()};Oi.Zt.OE=function(R,Z){if(Z.add.iOpa==null)Z.add.iOpa=255;
var B=Z.av()?["pass"].concat(Gd.pz):Gd.pz;return{lrMd:{v:B.indexOf(Z.QV)},Opct:{v:{type:"#Prc",val:Math.round(Z.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(Z.add.iOpa*100/255)},t:"UntF"},blIf:{v:Z.PG.slice(0)},OwR:R.vT(),OwL:R.jc(),av:Z.av()}};
Oi.Zt.Ym=function(R,Z,B){var o=Z.av()?["pass"].concat(Gd.pz):Gd.pz;Z.QV=o[B.lrMd.v];Z.opacity=Math.round(B.Opct.v.val*255/100);
Z.add.iOpa=Math.round(B.iOpa.v.val*255/100);Z.PG=B.blIf.v.slice(0);R.jC(B.OwR);R.uY(B.OwL)};Oi.Zt.prototype.KC=function(R,Z){for(var B=0;
B<R.q.length;B++){var o=Z.q[R.q[B]],r=R.mK[B];if(r==null)delete o.add.lmfx;else o.add.lmfx=JSON.parse(r);
Oi.Zt.Ym(Z,o,JSON.parse(R.mH[B]));o.g.VC=!0}Z.U()};Oi.Zt.prototype.G_=function(R,Z){for(var B=0;B<R.q.length;
B++){var o=Z.q[R.q[B]],r=R.ms[B];if(r==null)delete o.add.lmfx;else o.add.lmfx=JSON.parse(r);Oi.Zt.Ym(Z,o,JSON.parse(R.mT[B]));
o.g.VC=!0}Z.U()};Oi.eA=function(){Oi.p_.call(this,A.pd)};Oi.eA.prototype=new Oi.p_;Oi.eA.prototype.sz=function(R,Z,B,o){var r=JSON.parse(JSON.stringify(B.lP)),Y=JSON.parse(JSON.stringify(B.lP)),E=null,p=null,y=null,z=-1,u=!1;
if(R.d=="delLC"){var Q=Oi.eA.MB(B.lP,R.qp),H=B.lP.lastAppliedComp?B.lP.lastAppliedComp.v:0;Y.list.v.splice(Q,1);
if(H==R.qp)delete Y.lastAppliedComp;E="Delete Layer Comp"}if(R.d=="editLC"){var Q=Oi.eA.MB(B.lP,R.qp),T=Y.list.v[Q].v;
if(R.VD!=null)T.Nm.v=R.VD;if(R.OAA!=null){var C=R.OAA,e=T.capturedInfo.v,$=e&(1<<C)-1;e=e>>C;if((e&1)==1)e--;
else e++;T.capturedInfo.v=(e<<C)+$}E="Layer Comp properties"}if(R.d=="setLC"){Oi.eA.Ma(B);if(R.qp==0)delete Y.lastAppliedComp;
else Y.lastAppliedComp={t:"long",v:R.qp};E="Switch Layer Comp";u=!0}if(R.d=="updLC"){Oi.eA.Ma(B);p=Oi.eA.OYr(B,R.qp);
y=Oi.eA.hD(B,R.qp);Y.lastAppliedComp={t:"long",v:R.qp};E="Update Layer Comp";z=R.qp;u=!0}if(R.d=="addLC"){Oi.eA.Ma(B);
var x=1;for(var M=0;M<Y.list.v.length;M++)x=Math.max(x,Y.list.v[M].v.compID.v)+1;x+=Math.floor(Math.random()*1e4);
var m={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(Y.list.v.length+1)},compID:{t:"long",v:x},capturedInfo:{t:"long",v:7}}};
Y.list.v.push(m);Y.lastAppliedComp={t:"long",v:x};E="New Layer Comp";var G=Oi.eA.hD(B,x);Oi.eA.ML(B,G,x)}var K=new OV(E,this);
K.data={OeM:r,Oes:Y,OAZ:p,O_y:y,qp:z,Fx:u};this.G_(K.data,B);B.ER(K)};Oi.eA.prototype.G_=function(R,Z){Z.lP=R.Oes;
Z.ZK=!0;if(R.O_y)Oi.eA.ML(Z,R.O_y,R.qp);if(R.Fx){var B=Z.lP.lastAppliedComp?Z.lP.lastAppliedComp.v:0,o=Oi.eA.MB(Z.lP,B),r=o==-1?null:Z.lP.list.v[o].v,Y=r?r.capturedInfo.v:7;
Oi.eA.Mw(Z,B,Y);Z.U()}};Oi.eA.prototype.KC=function(R,Z){Z.lP=R.OeM;Z.ZK=!0;if(R.OAZ)Oi.eA.ML(Z,R.OAZ,R.qp);
if(R.Fx){var B=Z.lP.lastAppliedComp?Z.lP.lastAppliedComp.v:0,o=Oi.eA.MB(Z.lP,B),r=o==-1?null:Z.lP.list.v[o].v,Y=r?r.capturedInfo.v:7;
Oi.eA.Mw(Z,B,Y);Z.U()}};Oi.eA.Ma=function(R){if(R.lP.lastAppliedComp!=null||!R.mC)return;var Z=Oi.eA.hD(R,0);
Oi.eA.ML(R,Z,0);R.mC=!1};Oi.eA.MI=function(R,Z,B){R.v.Hrzn.v+=Z;R.v.Vrtc.v+=B};Oi.eA.MB=function(R,Z){var B=R.list.v;
for(var o=0;o<B.length;o++)if(B[o].v.compID.v==Z)return o;return-1};Oi.eA.OYK=function(R){var Z=R.layerSettings.v,r=null;
if(Z.length==0)return;var B="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),o=Z[0].v;
if(o.enab==null)o.enab={t:"bool",v:!0};if(o.Ofst==null)o.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var Y=0;Y<Z.length;Y++){var E=Z[Y].v;if(r==null)r=JSON.parse(JSON.stringify(E));else for(var p=0;
p<B.length;p++){var y=B[p];if(E[y])r[y]=JSON.parse(JSON.stringify(E[y]))}Z[Y].v=JSON.parse(JSON.stringify(r))}};
Oi.eA.OqR=function(R,Z){var B=R.add.shmd.cmls,o=B.layerSettings.v;for(var r=0;r<o.length;r++){var Y=o[r].v,E=Y.compList.v[0].v;
if(E==Z)return r}return-1};Oi.eA.Owj=function(R,Z){var B=Oi.eA.OqR(R,Z);return B==-1?null:R.add.shmd.cmls.layerSettings.v[B].v};
Oi.eA.Mw=function(R,Z,B){for(var o=0;o<R.q.length;o++){var r=R.q[o],Y=r.add.shmd.cmls;if(Y==null)continue;
var E=Y.layerSettings.v,p=Oi.eA.Owj(r,Z);if(p==null){r.eM(!1);continue}if((B&1)!=0){if(p.enab)r.eM(p.enab.v);
else r.eM(!0)}if((B&2)!=0){if(p.Ofst){var y=p.Ofst.v,z=r.NQ(R),u=Math.round(y.Hrzn.v-z.x),Q=Math.round(y.Vrtc.v-z.y);
if(u!=0||Q!=0)A.ub.oi(R,[o],null,u,Q)}}if((B&4)!=0){if(p.Lefx){var H=JSON.parse(JSON.stringify(p.Lefx.v));
Ri.KX(H);if(JSON.stringify(H)!=JSON.stringify(r.add.lmfx)){r.add.lmfx=H;r.g.VC=!0}}else delete r.add.lmfx;
if(p.blendOptions){var T=p.blendOptions.v;if(T.Opct)r.opacity=Math.round(255*T.Opct.v.val/100);if(T.Md)r.QV=r.add.lsct==YV.Ng?"norm":Gd.AQ(T.Md.v.BlnM)}else{r.opacity=255;
r.QV=r.av()?"pass":"norm"}}}};Oi.eA.OYr=function(R,Z){var B={};for(var o=0;o<R.q.length;o++){var r=R.q[o];
if(r.add.shmd==null||r.add.shmd.cmls==null)continue;B["l"+r.add.lyid]=JSON.parse(JSON.stringify(Oi.eA.Owj(r,Z)))}return B};
Oi.eA.hD=function(R,Z){var B={};for(var o=0;o<R.q.length;o++){var r=R.q[o],Y=r.add.lyid;B["l"+Y]=Oi.eA.OwH(R,r,Z)}return B};
Oi.eA.OwH=function(R,Z,B){var o=Z.add.shmd?Z.add.shmd.cmls:null,r={classID:"null"},Y=Z.NQ(R),E={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:Y.x},Vrtc:{t:"long",v:Y.y}}};
r.compList={t:"VlLs",v:[{t:"long",v:B}]};r.enab={t:"bool",v:Z.YT()};r.Ofst=JSON.parse(JSON.stringify(E));
r.FXRefPoint=JSON.parse(JSON.stringify(o&&o.origFXRefPoint?o.origFXRefPoint:E));r.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:Gd.iv(Z.QV)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*Z.opacity/255}}}};
if(Z.add.vmsk){r.vectorMask={t:"Objc",v:{classID:"null"}};r.vectorMask.v.Ofst=JSON.parse(JSON.stringify(E))}if(Z.add.lmfx){r.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(Z.add.lmfx))};
Ri.wf(r.Lefx.v)}return r};Oi.eA.OYc=function(R,Z){var B=Z.add.lyid;if(Z.add.shmd==null)Z.add.shmd={};
if(Z.add.shmd.cmls==null){Z.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:B},layerSettings:{t:"VlLs",v:[{t:"Objc",v:Oi.eA.OwH(R,Z,0)}]}}}};
Oi.eA.ML=function(R,Z,B){for(var o=0;o<R.q.length;o++){var r=R.q[o],Y=r.add.lyid;Oi.eA.OYc(R,r);var E=r.add.shmd.cmls,p=E.layerSettings.v,y=Z["l"+Y];
if(y!=null)y={t:"Objc",v:JSON.parse(JSON.stringify(y))};var z=Oi.eA.OqR(r,B);if(z==-1){if(y==null)continue;
else p.push(y)}else{if(y==null)p.splice(z,1);else p[z]=y}}};Oi.eA.hq=function(R,Z){for(var B=0;B<R.q.length;
B++){var o=R.q[B],r=o.add.lyid;if(o.add.shmd==null||o.add.shmd.cmls==null)continue;var Y=o.NQ(R),E=Math.round(Y.x),p=Math.round(Y.y);
if(!Z){E=-E;p=-p}var y=o.add.shmd.cmls,z=y.layerSettings.v;if(y.origFXRefPoint)Oi.eA.MI(y.origFXRefPoint,-E,-p);
for(var u=0;u<z.length;u++){var Q=z[u].v;Oi.eA.MI(Q.Ofst,E,p);var H=Q.imageMask,T=Q.vectorMask;if(H&&H.v.Ofst)Oi.eA.MI(H.v.Ofst,E,p);
if(T&&T.v.Ofst)Oi.eA.MI(T.v.Ofst,E,p)}}};Oi.Bi=function(){Oi.p_.call(this,A.Pl);this.BV=null;this.eZ=null};
Oi.Bi.prototype=new Oi.p_;Oi.Bi.Mh=function(R,Z,B,o){if(o)Z/=4;var r=0,Y=0,E=255,p=0,y=0,z=255;while(Y+R[r]<Z){Y+=R[r];
r++}while(p+R[E]<Z){p+=R[E];E--}if(o){r-=Math.round(R[r]/(B/32));E+=Math.round(R[E]/(B/32));if(r<0)y=Math.round(-r*255/(E-r));
if(E>255)z=255-Math.round((E-255)*255/(E-r))}return[Math.max(r,0),Math.min(E,255),y,z,100]};Oi.Bi.prototype.sz=function(R,Z,B,o,r){var Y=R.d;
if(Y=="auto"){var E=R.mc,p=Oi.Bi.getData(B);for(var y=0;y<p.length;y++){var z=p[y],u;if(E<3){}else{var Q=Go.wI("hue2");
OA.Fk(Q,0,[0,-100,0]);u=GK.O$("hue2",Q)}GK.eX(u,z.Gp,z.Ab,z._)}Oi.Bi.hc(B,p);Oi.Bi.hx(B,p,E<3?[4,16,E]:[19,7,0],this);
B.U()}if(Y=="edit_layer")this.ORW(R,Z,B,o);if(Y=="edit"||Y=="confirm"||Y=="cancel")this.hW(R,Z,B,r,!0);
if(Y=="start"){if(B.C.length==0)return;var H=B.q[B.C[0]];if(H.add.SoLd&&H.Fv<=0){var T=new n(X.E.$,!0);
T.B=A.Uz;T.data={d:"start",Ln:R.ej};Z.j(T);return}if(!B.uG())return;if(b[R.ej]&&R.ct==null){if(B.C.length!=1)alert("Will be applied to "+B.C.length+" layers.");
var T=new n(X.E.K,!0);T.data={d:X.l.JT,fA:"afw_"+R.ej};Z.j(T)}else{this.hW({d:"edit",ct:R.ct,Ln:R.ej},Z,B,r);
this.hW({d:"confirm",Ln:R.ej},Z,B,r)}}};Oi.Bi.prototype.ORW=function(R,Z,B,o){var r=R.d,Y=B.C[0],E=B.q[Y],p=B.history[B.ls],y;
if(p&&p.B==this&&p.data.rb!=null&&p.data.r==Y)y=p;else{var z=new n(X.E.e_,!0),u={classID:"setd",null:OX.m$("AdjL",!0),T:{t:"Objc",v:R.k}};
z.data={SE:!0,DG:"set",UU:u};Z.j(z);var y=new OV([6,39],this),Q=GK.get(E.add);y.data={r:Y,rb:E.add[Q],Zx:R.k,mk:u};
B.ER(y)}y.data.Zx=R.k;y.data.mk.T.v=R.k;this.G_(y.data,B)};Oi.Bi.getData=function(R,Z,B){var o=[],r=new N(0,0,R.Y,R.Z),Y=R.Y_.length!=0?[-1-R.Y_[0]]:R.C;
for(var E=0;E<Y.length;E++){var p=Y[E],y=p<0?null:R.q[p],z={r:p,rX:p<0?1:y.Fv};o.push(z);var u=R.tP[-1-p];
if(0<=p)u=y.Fv<=0?null:y.Fv==1?y.F$():y.YQ(R).m;var Q=u?u.rect:y.rect;if(R.O)z._=u!=null?R.O.rect.Rg(r):R.O.rect.Rg(Q);
else z._=Z||u!=null?Q.fj(r):Q.clone();if(B)z._=B[E]._.clone();var H=z._.b();z.Gp=O.a(H*4);if(u)A.lg.dJ(u.channel,u.rect,u.color,z.Gp,z._);
else O.GN(y.buffer,Q,z.Gp,z._);z.Ab=z.Gp.slice(0);if(R.O){z.u_=O.a(H);O.WX(R.O.channel,R.O.rect,z.u_,z._)}}return o};
Oi.Bi.ORN=function(R,Z,B){if(Z==null)return Z;var o=GK.SY(R,Z),Y;if(o==-1)return Z;var r=B.length>>>2,E=O.fy(B),p=.001*r;
if(o==0||o==2)Y=[[0,255,0,255,100],Oi.Bi.Mh(E[1],p,r,o==2),Oi.Bi.Mh(E[2],p,r,o==2),Oi.Bi.Mh(E[3],p,r,o==2)];
if(o==1)Y=[Oi.Bi.Mh(E[0],p*.33,r,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var y=Go.wI("levl");
for(var z=0;z<4;z++)OO.Fk(y,z,Y[z]);return y};Oi.Bi.prototype.hW=function(R,Z,B,o){if(this.BV==null)this.BV=Oi.Bi.getData(B,null,R.Ln=="fade"?B.lp().data:null);
if(R.d=="edit"){this.eZ=[R.Ln,R.ct];var r=this.BV[0],Y=Oi.Bi.ORN(R.Ln,R.ct,r.Gp),E=GK.O$(R.Ln,Y);if(R.Ln=="fade")E=R.ct;
if(E!=null){for(var p=0;p<this.BV.length;p++){var y=this.BV[p];if(R.Hm)O.VG(y.Gp,y.Ab);else if(R.Ln=="fade"){var z=Gd.AQ(R.ct.Md.v.BlnM),u=R.ct.Opct.v.val/100,Q=B.lp().data[p];
O.VG(Q.Gp,y.Ab);if(z=="norm")O.e.AD(y.Gp,y._,y.Ab,y._,null,null,null,y._,u);else{var H=GS.xC();H.Um=!0;
for(var p=0;p<Q.Gp.length;p+=4)if(Q.Gp[p+3]!=y.Gp[p+3]){H=null;break}O.e.FO(z,y.Gp,y._,y.Ab,y._,y._,u,H)}}else GK.eX(E,y.Gp,y.Ab,y._)}Oi.Bi.hc(B,this.BV)}}if(R.d=="cancel"){Oi.Bi.OEv(B,this.BV);
this.BV=null}if(R.d=="confirm"){var T=R.Ln=="fade"?[2,11]:GK.names[R.Ln],C=GK.SY(R.Ln,this.eZ[1]);if(C!=-1)T=[4,16,C];
Oi.Bi.hx(B,this.BV,T,this);this.BV=null;if(C==-1)Oi.Bi.OtA(Z,this.eZ)}B.U()};Oi.Bi.OtA=function(R,Z){var B=Z[0],o=Z[1],r,Y;
if(GK.AE[B]){r=GK.AE[B];if(b[B])Y=o}if(Go.AE[B]){r=Go.AE[B];if(b[B])Y=o}if(r==null)return;var E=new n(X.E.e_,!0);
E.data={SE:!0,DG:r};if(Y){Y=JSON.parse(JSON.stringify(Y));Y.classID="null";delete Y.__name;E.data.UU=Y}R.j(E)};
Oi.Bi.OEv=function(R,Z){Oi.Bi.zR(R,Z)};Oi.Bi.hx=function(R,Z,B,o){for(var r=0;r<Z.length;r++){var Y=Z[r],E=R.q[Y.r],p=Y.r<0?R.tP[-1-Y.r]:Y.rX<=0?null:Y.rX==1?E.F$():E.YQ(R).m;
if(p){p.gG();p.Zr=!0;if(E)E.Aq(R)}else{E.gG();E.U()}delete Y.Ab;delete Y.u_}var y=new OV(B,o);y.data=Z;
R.ER(y)};Oi.Bi.hc=function(R,Z,B){for(var o=0;o<Z.length;o++){var r=Z[o],Y=R.q[r.r],E=B?r.Gp:r.Ab,p=r._;
if(r.rX==0){Y.extend(p);if(r.u_){O.GN(r.Gp,p,Y.buffer,Y.rect);O.e.AD(E,p,Y.buffer,Y.rect,r.u_,p,0,p,1)}else O.GN(E,p,Y.buffer,Y.rect)}else{var y=r.r<0?R.tP[-1-r.r]:r.rX==1?Y.F$():Y.YQ(R).m;
y.extend(p);if(r.u_){var z=O.a(p.b()*4);O.VG(r.Gp,z);O.e.AD(E,p,z,p,r.u_,p,0,p,1);A.lg.Zh(z,p,y)}else A.lg.Zh(E,p,y);
y.Zr=!0;if(Y)Y.Aq(R)}if(Y)Y.U()}if(!B)Oi.Bi.OYd(R,Z)};Oi.Bi.zR=function(R,Z){for(var B=0;B<Z.length;
B++){var o=Z[B],r=R.q[o.r],Y=o._,E=O.a(Y.b()*4);if(o.rX==0){O.GN(r.buffer,r.rect,E,Y);r.extend(Y);O.GN(o.Gp,Y,r.buffer,r.rect);
r.gG()}else{var p=o.r<0?R.tP[-1-o.r]:o.rX==1?r.F$():r.YQ(R).m;A.lg.dJ(p.channel,p.rect,p.color,E,Y);
p.extend(Y);A.lg.Zh(o.Gp,Y,p);p.gG();p.Zr=!0;if(r)r.Aq(R)}o.Gp=E;if(r)r.U()}};Oi.Bi.OYd=function(R,Z){var B=Oi.Bi.OSM(R),o=~B;
if(B==16777215)return;for(var r=0;r<Z.length;r++){var Y=Z[r],E=R.q[Y.r],p=Y._;if(Y.rX!=0)continue;E.extend(p);
var y=p.x-E.rect.x,z=p.y-E.rect.y,u=E.rect.Y,Q=new Uint32Array(Y.Gp.buffer),H=new Uint32Array(E.buffer.buffer);
for(var T=0;T<p.Z;T++)for(var C=0;C<p.Y;C++){var e=T*p.Y+C,$=(T+z)*u+(C+y);H[$]=H[$]&B|Q[e]&o}E.gG();
E.U()}R.U()};Oi.Bi.OSM=function(R){var Z=R.w.Ej;return Z[2]*16711680|Z[1]*65280|Z[0]*255};Oi.Bi.prototype.KC=function(R,Z){var B=Z.q[R.r];
if(R.rb!=null)B.add[GK.get(B.add)]=R.rb;else Oi.Bi.zR(Z,R);Z.U()};Oi.Bi.prototype.G_=function(R,Z){var B=Z.q[R.r];
if(R.rb!=null)B.add[GK.get(B.add)]=R.Zx;else Oi.Bi.zR(Z,R);Z.U()};Oi.Iv=function(){Oi.p_.call(this,A.Uz);
this.BV=null;this.Pe=null;this.d=null;this.eZ=null};Oi.Iv.prototype=new Oi.p_;Oi.Iv.prototype.sz=function(R,Z,B,o,r){if(R.d=="start"){if(B.C.length==0)return;
var Y=B.q[B.C[0]];if(Y.add.SoLd&&Y.Fv<=0){}else if(!B.uG())return;var E=R.Ln;if((b[E]||Go.Dy[E])&&R.ct==null){if(B.C.length!=1)alert("Will be applied to "+B.C.length+" layers.");
var p=new n(X.E.K,!0);p.data=Oi.Iv.OJo(E,this.hQ(B,E));Z.j(p)}else{var y={d:"edit",Ln:E,ct:R.ct,Ap:this.hQ(B)};
this.sz(y,Z,B,o,r);y.d="confirm";delete y.ct;this.sz(y,Z,B,o,r)}}if(R.d=="edit"||R.d=="cancel"||R.d=="confirm"){if(R.d=="edit")this.eZ=[R.Ln,R.ct];
if(R.Ap)this.ORv(R,B,r);else this.ORz(R,Z,B,r)}if(R.d=="applylast"&&this.eZ!=null){var y={d:"edit",Ln:this.eZ[0],ct:this.eZ[1],Ap:this.hQ(B)};
this.sz(y,Z,B,o,r);y.d="confirm";delete y.ct;this.sz(y,Z,B,o,r)}};Oi.Iv.OJo=function(R,Z){var B=Go.Dy[R];
if(B)return{d:X.l.nu,B:B,t$:{Ap:Z}};else return{d:X.l.JT,fA:"afw_"+R,Ap:Z}};Oi.Iv.prototype.hQ=function(R,Z){var B=R.q[R.C[0]],o;
if(B.add.SoLd&&B.Fv<=0){o={r:R.C[0],index:0};if(B.add.SoLd.filterFX!=null){var r=B.add.SoLd.filterFX.v.filterFXList.v;
o.index=r.length;for(var Y=0;Y<r.length;Y++)if(U.KK(r[Y].v.filterID.v)==Z&&Go.Dy[Z])o.index=Y}}return o};
Oi.Iv.prototype.ORv=function(R,Z,B){var o=Z.q[R.Ap.r],r=R.Ln;if(R.d=="edit"){if(this.d==null){var Y=Go.names[r];
if(Y==null)Y=GK.names[r];this.d=new OV(Y,this);this.d.data={Ap:R.Ap,Oeb:JSON.parse(JSON.stringify(o.add.SoLd))}}if(!o.by()){o.add.SoLd.filterFX=Go.HR();
this.d.data.wZ=GF.OAi(o.add.SoLd.placed.v);Z.VO(this.d.data.wZ);o.AS(Z)}var E=o.add.SoLd.filterFX.v.filterFXList.v;
if(E[R.Ap.index]==null){E.push(Go.iJ(r,B))}if(R.ct){E[R.Ap.index].v.enab.v=R.Hm!=!0;E[R.Ap.index].v.Fltr.v=R.ct}this.d.data.OeT=JSON.parse(JSON.stringify(o.add.SoLd));
this.G_(this.d.data,Z)}if(R.d=="cancel"){if(this.d)this.KC(this.d.data,Z);this.d=null}if(R.d=="confirm"){if(this.d)Z.ER(this.d);
this.d=null}};Oi.Iv.prototype.zX=function(R){return{F:R>>>16,S:R>>>8&255,X:R&255}};Oi.Iv.prototype.ORz=function(R,Z,B,o){if(this.BV==null){var r=Go.OSA(R.Ln,R.ct);
this.BV=Oi.Bi.getData(B,r.x!=0||r.y!=0)}if(R.d=="edit"){var Y=JSON.stringify(R.ct);if((R.ct==null||Y!=this.Pe)&&R.Hm!=!0)for(var E=0;
E<this.BV.length;E++){var p=this.BV[E],y={rect:p._,buffer:p.Gp},z={rect:p._,buffer:p.Ab};Go.eX(R.Ln,y,R.ct,this.zX(o.Ky),this.zX(o.Dk),z,B.add.lnk2?B.add.lnk2:[]);
this.Pe=Y}Oi.Bi.hc(B,this.BV,R.Hm)}if(R.d=="cancel"){Oi.Bi.OEv(B,this.BV);this.BV=null;this.Pe=null}if(R.d=="confirm"){Oi.Bi.hx(B,this.BV,Go.names[R.Ln],this);
this.BV=null;this.Pe=null;Oi.Bi.OtA(Z,this.eZ)}B.U()};Oi.Iv.prototype.KC=function(R,Z){if(R.Ap){var B=Z.q[R.Ap.r];
if(R.wZ)Z.f$(R.wZ);B.add.SoLd=JSON.parse(JSON.stringify(R.Oeb));if(B.by())B.OC(Z);else{B.AS(Z);B.Fv=0}}else Oi.Bi.zR(Z,R);
Z.U()};Oi.Iv.prototype.G_=function(R,Z){if(R.Ap){var B=Z.q[R.Ap.r];if(R.wZ)Z.VO(R.wZ);B.add.SoLd=JSON.parse(JSON.stringify(R.OeT));
if(B.by())B.OC(Z);else B.AS(Z);if(!B.X_())B.Kw+=32}else Oi.Bi.zR(Z,R);Z.U()};var GG={gy:"0",eP:"1",zh:"2",Yb:"3",qZ:"4",Oj:"5",OI:"6",z$:"7",$:"8",bO:"8.5",OA:"8.8",zZ:"9",Ot:"10",zb:"11",iy:"12",YC:"13",Ow:"14",YP:"15",IU:"21",M$:"22",ON:"23",Ry:"23.0",Rf:"23.1",MM:"23.2",iR:"23.3",hg:"23.4",Mb:"23.5",Mc:"23.6",Okt:"30",Rv:"31",sG:"40",RH:"41",RT:"42"};
GG.KQ={};GG.KQ[GG.eP]=["abr","brushes",yB,[9,3]];GG.KQ[GG.zh]=["grd","gradients",EC,[12,37]];GG.KQ[GG.Yb]=["shc","contours",aN,[12,21]];
GG.KQ[GG.qZ]=["asl","styles",ah,[12,22]];GG.KQ[GG.Oj]=["pat","patterns",yd,[12,62]];GG.KQ[GG.OI]=["csh","shapes",yn,[12,77]];
GG.KQ[GG.z$]=["aco","swatches",yE,[9,8]];GG.KQ[GG.$]=["atn","actions",VQ,[9,9]];GG.KQ[GG.bO]=["tpl","tpresets",aT,[9,12]];
GG.KQ[GG.OA]=["icc","profiles",yG,"ICCs"];function a(){this.XC={};this.PK=0}a.prototype.reset=function(){this.XC={};
this.PK=0};a.prototype.ORF=function(R){this.PK++;this.XC[R]=!0};a.prototype.ORu=function(R){this.PK--;
delete this.XC[R];if(this.PK<=0||a.ey(R,a.OIE))this.reset()};a.prototype.R=function(R){for(var Z=0;Z<R.$A.length;
Z++)if(this.XC[R.$A[Z]])return!0;return!1};a.prototype.Nh=function(){var R=this,Z=R.R(a.Fl)?10:1,B=0,o=0;
if(R.R(a.OwU))B=-Z;if(R.R(a.OLd))B=Z;if(R.R(a.RQ))o=-Z;if(R.R(a.Xy))o=Z;return new VP(B,o)};a.prototype.hP=function(){var R=this,Z=a.sp;
for(var B=0;B<10;B++)if(R.R(Z[B]))return B;return-1};a.ey=function(R,Z){return Z.$A.indexOf(R)!=-1};
a.ORR=function(R){var Z=R.code,r=!1;if(Z=="")return!1;var B=a.ey,o=a.sp.concat([a.XB,a.sD,a.sW,a.Sk]);
for(var Y=0;Y<o.length;Y++)if(B(Z,o[Y]))r=!0;if(R.altKey&&!R.shiftKey&&!R.ctrlKey&&r)return!1;return a.OIW.indexOf(Z)==-1||R.shiftKey&&(Z=="F5"||Z=="F6")};
a.OUU=function(R){var Z=R.code;return Z!=""&&(a.OIW.indexOf(Z)==-1||R.shiftKey&&(Z=="F5"||Z=="F6"))};
a.ORd=function(R){if(R==null)return"";var Z=[];for(var B=0;B<R.length;B++)Z.push(R[B].Yw);return Z.join(" + ")};
a.OIW="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
a.OtL=function(R){var Z=R.code,B=R.key.toLowerCase(),o=B.charCodeAt(0);if(B.length==1&&97<=o&&o<=122&&Z.startsWith("Key")&&Z.toLowerCase().charCodeAt(3)!=o){var r="Key"+B.toUpperCase();
Z=r}return Z};a.Ic={Yw:"Enter",$A:["Enter","NumpadEnter"]};a.Fl={Yw:"Shift",$A:["ShiftLeft","ShiftRight"]};
a.OIE={Yw:"Meta",$A:["MetaLeft","MetaRight","OSLeft","OSRight"]};a.iW={Yw:"Ctrl",$A:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};
a.yt={Yw:"Alt",$A:["AltLeft","AltRight"]};a.OXh={Yw:"CtrlOrAlt",$A:a.iW.$A.concat(a.yt.$A)};a.UF={Yw:"Escape",$A:["Escape"]};
a.NF={Yw:"Space",$A:["Space"]};a.sh={Yw:"Tab",$A:["Tab"]};a.OXt={Yw:"Home",$A:["Home"]};a.OXz={Yw:"End",$A:["End"]};
a.OwU={Yw:"Left",$A:["ArrowLeft"]};a.RQ={Yw:"Up",$A:["ArrowUp"]};a.OLd={Yw:"Right",$A:["ArrowRight"]};
a.Xy={Yw:"Down",$A:["ArrowDown"]};a.XB={Yw:"+",$A:["NumpadAdd","Equal"]};a.sD={Yw:"-",$A:["NumpadSubtract","Minus","Slash"]};
a.OXK={Yw:";",$A:["Semicolon"]};a.OUZ={Yw:"Dead",$A:["Dead"]};a.OXp={Yw:"=",$A:["Equal"]};a.ZE={Yw:"Backspace",$A:["Backspace"]};
a.ZR={Yw:"Delete",$A:["Delete"]};a.OXZ={Yw:"Backslash",$A:["Backslash","IntlBackslash"]};a.OXC={Yw:"Backquote",$A:["Backquote"]};
a.sW={Yw:"[",$A:["BracketLeft"]};a.Sk={Yw:"]",$A:["BracketRight"]};a.OaF={Yw:".",$A:["Period"]};a.Oau={Yw:",",$A:["Comma"]};
a.Ojf={Yw:"'",$A:["Quote"]};a.l={Yw:"A",$A:["KeyA"]};a.OqV={Yw:"B",$A:["KeyB"]};a.zX={Yw:"C",$A:["KeyC"]};
a.Da={Yw:"D",$A:["KeyD"]};a.E={Yw:"E",$A:["KeyE"]};a.hF={Yw:"F",$A:["KeyF"]};a.OeB={Yw:"G",$A:["KeyG"]};
a.OYY={Yw:"H",$A:["KeyH"]};a.SV={Yw:"I",$A:["KeyI"]};a.OX$={Yw:"J",$A:["KeyJ"]};a.qQ={Yw:"K",$A:["KeyK"]};
a.wi={Yw:"L",$A:["KeyL"]};a.WZ={Yw:"M",$A:["KeyM"]};a.xu={Yw:"N",$A:["KeyN"]};a.Oam={Yw:"O",$A:["KeyO"]};
a.iS={Yw:"P",$A:["KeyP"]};a.OjD={Yw:"Q",$A:["KeyQ"]};a.qr={Yw:"R",$A:["KeyR"]};a.Ols={Yw:"S",$A:["KeyS"]};
a.g={Yw:"T",$A:["KeyT"]};a.Rl={Yw:"U",$A:["KeyU"]};a.ONG={Yw:"V",$A:["KeyV"]};a.OOj={Yw:"W",$A:["KeyW"]};
a.s$={Yw:"X",$A:["KeyX"]};a.Oje={Yw:"Y",$A:["KeyY"]};a.sK={Yw:"Z",$A:["KeyZ"]};a.OVN={Yw:"0",$A:["Numpad0","Digit0"]};
a.OGZ={Yw:"1",$A:["Numpad1","Digit1"]};a.Ojo={Yw:"2",$A:["Numpad2","Digit2"]};a.OIj={Yw:"3",$A:["Numpad3","Digit3"]};
a.OIJ={Yw:"4",$A:["Numpad4","Digit4"]};a.OIv={Yw:"5",$A:["Numpad5","Digit5"]};a.OIr={Yw:"6",$A:["Numpad6","Digit6"]};
a.OIp={Yw:"7",$A:["Numpad7","Digit7"]};a.OIu={Yw:"8",$A:["Numpad8","Digit8"]};a.OIb={Yw:"9",$A:["Numpad9","Digit9"]};
a.sp=[a.OVN,a.OGZ,a.Ojo,a.OIj,a.OIJ,a.OIv,a.OIr,a.OIp,a.OIu,a.OIb];a.OUM={Yw:"F1",$A:["F1"]};a.O$i={Yw:"F2",$A:["F2"]};
a.O$x={Yw:"F3",$A:["F3"]};a.O$e={Yw:"FF",$A:["F4"]};a.OBy={Yw:"F5",$A:["F5"]};a.OBa={Yw:"F6",$A:["F6"]};
a.O$K={Yw:"F7",$A:["F7"]};a.O$b={Yw:"F8",$A:["F8"]};a.O$P={Yw:"F9",$A:["F9"]};a.OxV={Yw:"F10",$A:["F10"]};
a.OxY={Yw:"F11",$A:["F11"]};a.OxR={Yw:"F12",$A:["F12"]};function OV(R,Z,B){if(B==null)B=!1;this.name=R;
this.B=Z;this.md=B;this.data=null}var OX={};OX.m$=function(R,Z){var B={t:"Clss",v:{classID:R}};if(Z)B={t:"Enmr",v:{classID:R,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[B]}};OX.SG=function(R,Z){var B={classID:"Lyr"};B[R]=Z;return{DG:"set",UU:{classID:"null",null:OX.m$("Lyr",!0),T:{t:"Objc",v:B}}}};
OX.OBI=function(R,Z,B,o,r){var Y=new n(X.E.e_,!0),E=[],p=0,y=OX.OYp(Z,B,o,E);while(E.length!=0){var z=E.pop();
p++;if(!z.H)continue;if(z.DG=="conditional"){var u=R.q[R.C[0]],Q=z.UU.null.v.Cndt,H=!1;if(Q=="Bckg")H=!1;
else if(Q=="Pxel"&&R._W(!1))H=!0;else if(Q=="Adjs"&&GK.get(u.add))H=!0;else if(Q=="Shp"&&u.add.vogk)H=!0;
else if(Q=="Grup"&&u.av())H=!0;var T=z.UU.then.v;if(H)OX.OYp(Z,T[0].v.val,T[1].v.val,E)}else if(z.DG=="stop"){alert(z.UU.Msge.v);
break}else{Y.data={DG:z.DG,UU:z.UU};r.j(Y)}}};OX.OYp=function(R,Z,B,o){var r;for(var Y=0;Y<R.length;
Y++){if(R[Y].$L!=B)continue;var E=R[Y].p;for(var p=0;p<E.length;p++){if(E[p].$L!=Z)continue;r=E[p].p}}var y=r.length;
for(var Y=0;Y<y;Y++)o.push(r[y-1-Y])};OX.OBU=function(R){var Z=R.DG,B=R.UU,o,E,p,y,z,u;if(B&&B.null)o=B.null.v[0];
if(B&&o==null&&B.At)o=B.At.v[0];if(o&&o.t=="obj ")o=o.v[0];var r=o?o.v.classID:null,Y=["purge"];if(Y.indexOf(Z)!=-1)return Z[0].toUpperCase()+Z.slice(1);
u=GK.AE;for(E in u)if(u[E]==Z)p=E;u=Go.AE;for(E in u)if(u[E]==Z)y=E;u=Yt.AE;for(E in u)if(u[E]==Z)z=E;
if(p){var Q=GK.SY(p,B);if(Q!=-1)return[4,16,Q];return GK.names[p]}if(y)return Go.names[y];if(z)return Yt.names[z];
var H=OX.OOu;if(Z=="make"){if(o){if(r=="AdjL")return[6,1];else if(r=="layerSection")return[6,9];else if(r=="Lyr")return[6,13];
else if(r=="Chnl"&&o.v.enum=="Msk")return[6,2];else if(r=="contentLayer")return[6,48,1];else if(r=="BckL")return"Make Background Layer";
else if(r=="Path")return"Make Path"}if(B.Nw){r=B.Nw.v.classID;if(r=="Dcmn")return[11,7];else if(r=="Chnl"||r=="SCch")return"New Channel"}}else if(Z=="select"){if(r=="Chnl")return"Select "+(o.v.enum=="Msk"?"Mask ":"")+"Channel";
else if(r=="Mn")return"Select Panel \""+o.v.enum+"\"";else if(r=="Lyr")return"Select Layer \""+o.v.val+"\""}else if(H[Z]&&r=="Chnl"){var T=o.v.keyID=="fsel";
return H[Z]+" "+(T?"Selection":"Channel")}else if(Z=="set"){if(r=="Lyr")return"Set Current Layer";else if(r=="AdjL")return[6,39];
else if(r=="contentLayer")return[6,48,2];else if(r=="Prpr")return[11,6];else if(r=="Clr")return"Set "+(o.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else console.log(r)}else if(Z=="move"){if(r=="Lyr")return"Move Layer"}else if(Z=="show"||Z=="hide"){var C="";
if(r=="Lyr")+"Layer";if(r=="Chnl")+"Channel";return(Z=="show"?"Show":"Hide")+" "+C}else if(Z=="reset"){if(r=="Clr")return"Reset Colors"}else if(Z=="exchange"){if(r=="Clr")return[22,7,0]}else if(Z=="rotateEventEnum")return[2,5];
else if(Z=="flip"){var e=B.Axis.v.Ornt=="Hrzn";return[2,6,[22,4,e?2:3]]}if(r=="Chnl"){if(Z=="duplicate"){if(o.v.keyID=="fsel")return"Selection to Channel";
else return"Duplicate Channel"}if(Z=="delete")return"Delete Channel"}var $={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49],copyMerged:[5,7],paste:[5,2],close:[1,12],groupEvent:[6,18],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fill:[2,3],colorRange:[7,8],desaturate:[19,7,0],transform:[10,16],delete:B?[6,31]:[2,2],align:[20,4,0],placedLayerEditContents:"Edit Contents",newPlacedLayer:[6,7],canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],conditional:"If"},x=$[Z];
if(x==null)x=OX.OAK[Z];if(x)return x;console.log(Z,B);return Z};OX.OAK={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
OX.OOu={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
OX.OwI=function(R,Z,B,o){var r=R.DG,Y=R.UU,E=new n(X.E.$,!0),z,u,Q,H,T,x;E.B=A.zr;var p=new n(X.E.K,!0),y=["purge","updatePlacedLayer"];
if(y.indexOf(r)!=-1)return;T=GK.AE;for(z in T)if(T[z]==r)u=z;T=Go.AE;for(z in T)if(T[z]==r)Q=z;T=Yt.AE;
for(z in T)if(T[z]==r)H=z;if(u){E.B=A.Pl;E.data={d:"start",ej:u,ct:Y}}else if(Q){E.B=A.Uz;E.data={d:"start",Ln:Q,ct:Y}}else if(H){E.B=A.Uz;
E.data={d:"start",Ln:"GEfc",ct:Y}}else if(r=="imageSize"||r=="canvasSize"||r=="revealAll"||r=="trim"){E.B=A.NH;
E.data={d:"fromAction",sJ:R}}else if(r=="fill"||r=="delete"&&Y==null){E.B=A.eP;E.data={d:"fromAction",sJ:R}}else if(r=="colorRange"){var C=Y.Mnm.v,e=Y.Mxm.v;
E.B=A.tz;E.data={d:"crange",Rt:{wi:C.Lmnc.v,t:C.A.v,X:C.B.v},Rz:{wi:e.Lmnc.v,t:e.A.v,X:e.B.v},Ud:Y.Fzns.v/200}}else if(OX.OAK[r]||OX.OOu[r]&&(!1||Y.With&&Y.With.v[0].v.keyID=="fsel"||Y.From&&Y.From.v[0].v.keyID=="fsel"||Y.null&&Y.null.v[0].v.keyID=="fsel"||Y.T.v[0]&&Y.T.v[0].v.keyID=="fsel")){E.B=A.tz;
E.data={d:"fromAction",sJ:R}}var $={copyToLayer:S.EI,mergeLayersNew:o&&o.C.length==1?S.yz:S.Xo,rasterizeLayer:S.Oy$,mergeVisible:S.Xs,flattenImage:S.ft,newPlacedLayer:S.OSS};
if($[r])E.data={d:$[r],UU:Y};if(E.data){Z.j(E);return}if(r=="desaturate"){E.B=A.Pl;E.data={d:"auto",mc:3};
Z.j(E);return}if(r=="close"){if(Y.Svng.v.YsN=="Ys"){p.data={d:X.l.Gk};Z.j(p)}p.data={d:X.l.Du,Up:o};
Z.j(p);return}var $={placedLayerEditContents:X.l.Ojt,copyEvent:X.l.GR,paste:X.l.e$};if($[r])p.data={d:$[r]};
if(p.data){Z.j(p);return}if(Y.null||Y.At)x=(Y.null?Y.null:Y.At).v;else x=[{t:"----",v:Y}];if(x[0].t=="obj "){if(x.length!=1)throw"e";
x=x[0].v}for(var M=0;M<x.length;M++){var m=x[M],G=m.v.classID;E.data=null;if(r=="make"){if(Y.null==null&&Y.Nw)G=Y.Nw.v.classID;
if(G=="AdjL"){E.data={d:S.aC,UU:Y}}else if(G=="layerSection"){E.data={d:S.jY};if(Y.Usng)E.data.VD=Y.Usng.v.Nm.v}else if(G=="Lyr"){if(Y.Usng&&Y.Usng.v.length==2)E.data={d:S.OEh};
else{E.data={d:S.vN};if(Y.Usng)E.data.VD=Y.Usng.v.Nm.v}}else if(G=="Chnl"&&m.v.enum=="Msk"){E.data={d:S.At,zt:Y.Usng.v.UsrM}}else if(G=="Chnl"||G=="SCch"){E.data={d:S.El,_r:"fromAction",k:R}}else if(G=="contentLayer"){E.data={d:S.vz,UU:Y}}else if(G=="BckL"){o.q[o.C[0]].OwC();
continue}else if(G=="Dcmn"){var K=Y.Nw.v;p.data={d:X.l.ii,qC:GF.O_V(K,B)}}else if(G=="Ptrn")p.data={d:X.l.Be,Fe:0};
else if(G=="Path"){E.B=A.Pw;E.data={d:"pathedit",_r:"fromsel"}}else{console.log(r,Y);throw"e"}}else if(r=="select"){if(G=="Lyr"){var s=Y.selectionModifier,L=s?s.v.selectionModifierType:null,_=OX.OW(o,m);
E.data={d:S.Eo,r:_,OVJ:L?["addToSelection","addToSelectionContinuous"].indexOf(L):null,Eb:0,OxZ:!0}}else if(G=="Chnl"){E.data={d:S.Eo,r:_,Eb:1}}}else if((r=="set"||r=="reset"||r=="exchange")&&G=="Clr"){p.data={d:X.l.zM,Fe:GG.IU,_r:r=="reset"?3:2};
if(r=="set"){p.data._r=m.v.keyID=="FrgC"?0:1;var P=O.L.iz(Y.T.v);p.data.k=P.F<<16|P.S<<8|P.X}}else if(r=="set"){if(G=="AdjL"){var i=Y.T.v.classID;
i=GK.HG[i];E.B=A.Pl;if(i)E.data={d:"edit_layer",k:Y.T.v}}else if(G=="Lyr"){var w=Y.T.v,_=OX.OW(o,m);
if(w.Nm)E.data={d:S.$s,name:w.Nm.v};else if(w.Opct)E.data={d:S.EN,Zx:Math.round(w.Opct.v.val*255/100)};
else if(w.fillOpacity)E.data={d:S.aw,Zx:Math.round(w.fillOpacity.v.val*255/100)};else if(w.Md)E.data={d:S.ED,Zx:Gd.Ie.indexOf(w.Md.v.BlnM)};
else if(w.Usrs)E.data={d:S.Xg,r:_};else if(w.Blnd){E.B=A.WD;E.data={d:"setstl",r:_,k:{blendOptions:{t:"objc",v:w}}};
Z.j(E);E.data={d:"confirm",r:_}}else if(w.Clr){var k={Ylw:3}[w.Clr.v.Clr];if(k==null)throw"e";E.data={d:S.$c,OIg:k}}else if(x[0].t=="prop")continue;
else{console.log(Y);throw"e"}var h=o.q[_];h.Own()}else if(G=="Prpr"){var w=JSON.parse(JSON.stringify(Y.T.v));
if(m.v.keyID=="TxtS"){var _=OX.OW(o,Y.null.v[1]),h=o.q[_],j=h.add.TySh,I=JSON.parse(JSON.stringify(j.HC)),V=GV.el(I),F=GV.QR(I,0,V.length-2);
if(w.Undl&&w.Undl.v.Undl=="underlineOnLeftInVertical")F.Bt.Underline=!0;GV.Fz(I,0,V.length-1,F);E.B=A.cC;
E.data={d:"newED",Ih:_,sH:I};M=1e9}else{for(var q in w)if(w[q].v){if(q=="Scl")w[q].v.val=100;if(w[q].v.TrnS&&w[q].v.TrnS.v.Crv==null){w[q].v.TrnS=JSON.parse(Gk.eF[9]).TrnS}}Ri.KX(w);
if(w.masterFXSwitch==null)w.masterFXSwitch={t:"bool",v:!0};var _=OX.OW(o,Y.null.v[1]);E.B=A.WD;E.data={d:"setstl",r:_,k:{Lefx:{t:"objc",v:w}}};
Z.j(E);E.data={d:"confirm",r:_}}}else if(G=="contentLayer"){var _=OX.OW(o,m),w=Y.T.v;if(w.classID=="shapeStyle")w=w.FlCn.v;
var t={solidColorLayer:0,gradientLayer:1,patternLayer:2}[w.classID],Q=JSON.parse(JSON.stringify(Gk.Ex[t]));
Oi.T$.Yi(w,Q,t);E.data={d:S.xr,ZZ:[_],Ui:!0,k:{UD:t+1,ZI:Q}}}else{console.log(m,Y);throw G}}else if(r=="move"){if(G=="Lyr"){var w=Y.T.v;
if(w.classID=="Ofst"){E.data={d:"trsl",ONx:w.Hrzn.v.val,ONZ:w.Vrtc.v.val};E.B=A.tY}else{var c,f;if(w[0].t=="Enmr"){if(w[0].v.enum=="Frnt")f=0;
else if(w[0].v.enum=="Prvs")f=2;else if(w[0].v.enum=="Back")f=3;else throw"e"}else c=w[0].v.val;E.data={d:S.ET,target:c,_r:f,OeN:Y.Dplc?Y.Dplc.v:!1}}}}else if(r=="groupEvent")E.data={d:S.yu};
else if(r=="show"||r=="hide"){if(G=="Lyr"){var _=OX.OW(o,m);if(_==-1)continue;var W=o.q[_].YT();if(r=="show"&&W||r=="hide"&&!W)continue;
E.data={d:S.vS,r:_}}else if(G=="Chnl"){E.data={d:S.El,_r:"fromAction",k:R}}}else if(r=="rotateEventEnum"){E.B=A.NH;
var l=Y.Angl.v.val;E.data={d:"rot",$L:[2,5],k:-l*Math.PI/180}}else if(r=="flip"){E.B=A.NH;var g=Y.Axis.v.Ornt=="Hrzn",v=g?new VP(-1,1):new VP(1,-1);
E.data={d:"scl",$L:[2,6,[22,4,g?2:3]],k:v}}else if(r=="transform"){var Vg=1,GE=1,Gy=0,GY=0,Ga=0,GO=0,J=0;
if(Y.Wdth)Vg=Y.Wdth.v.val/100;if(Y.Hght)GE=Y.Hght.v.val/100;if(Y.Skew){var D=Y.Skew.v;Gy=D.Hrzn.v.val;
GY=D.Vrtc.v.val}if(Y.Ofst){var GB=Y.Ofst.v;GO=GB.Hrzn.v.val;J=GB.Vrtc.v.val}if(Y.Angl)Ga=Y.Angl.v.val;
var Gj=new GN;Gj.concat(new GN(Vg,Vg*Math.tan(GY*Math.PI/180),GE*Math.tan(Gy*Math.PI/180),GE,0,0));Gj.rotate(-Ga*Math.PI/180);
Gj.translate(GO,J);var GX={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3}[Y.FTcs.v.QCSt];
if(GX==null)throw Y.FTcs.v.QCSt;var _=Y.null?OX.OW(o,m):null;E.B=A.iY;E.data={d:"mat",Uf:GX,k:Gj,r:_}}else if(G=="Chnl"){E.data={d:S.El,_r:"fromAction",k:R}}else if(r=="duplicate")E.data={d:S.NC,VD:Y.Nm?Y.Nm.v:null};
else if(r=="delete")E.data={d:S.vR};else if(r=="align"){E.B=A.tY;var u={AdLf:0}[Y.Usng.v.ADSt];if(u==null)throw"e";
E.data={d:"algn",k:u}}if(E.data)Z.j(E);else if(p.data)Z.j(p);else{console.log(R);alert("Unknown action \""+r+"\"");
throw"e"}}};OX.OW=function(R,Z){var B=Z.t,o=-1;if(B=="name"){var r=Z.v.val,o=-1;for(var Y=0;Y<R.q.length;
Y++)if(R.q[Y].getName()==r){o=Y;break}}if(B=="Enmr"&&R.C.length!=0)o=R.C[0];if(B=="Enmr"&&Z.v.enum=="Frwr")o=R.C[0]-1;
if(B=="prop"){if(Z.v.keyID=="Bckg")o=0}return o};var GK={};GK.get=function(R){for(var Z in GK.names)if(R[Z]!=null)return Z;
return null};GK.O$=function(R,Z){var B=GK.Sa,o;if(R=="brit"){var r=Z.Brgh?Z.Brgh.v:0,Y=Z.Cntr?Z.Cntr.v:0,E=Z.useLegacy?Z.useLegacy.v:!1;
if(E){var p=r/255,y=1+Y/100;if(y>1)y=1+Math.tan(Math.PI/2*Y/101);var z=(1-y)/2,u=O.lN.OB(p,p,p),Q=[y,0,0,z,0,y,0,z,0,0,y,z,0,0,0,1],H=O.lN.multiply(u,Q),T=new O.ZF(256);
for(var C=0;C<256;C++)T.F[C]=C;O.lN.transform(T,T,H);o={type:B.Zq,Gg:T.F,d_:T.F,DV:T.F,zj:!1,zA:!1}}else{var e=1024,$=-30+60*(Y+100)/200,x=[];
for(var C=0;C<4;C++)x.push(O.An.Hn(C/3*255,C/3*255,!0));x[1].v.Hrzn.v=64;x[1].v.Vrtc.v=64-$;x[2].v.Hrzn.v=128+64;
x[2].v.Vrtc.v=128+64+$;x.sort(function(YT,YL){return YT.v.Hrzn.v-YL.v.Hrzn.v});var M=O.An.Or(x,e);function m(YT,e){var x=[],YL=3;
for(var C=0;C<YL+1;C++)x.push(O.An.Hn(C/YL*255,C/YL*255,!0));x[1].v.Hrzn.v=130-YT*26;x[1].v.Vrtc.v=130+YT*51;
x[2].v.Hrzn.v=233-YT*48;x[2].v.Vrtc.v=233+YT*10;return O.An.Or(x,e)}var G=m(Math.abs(r)/100,e);if(r<0){var K=[],s=1/e;
for(var C=0;C<e;C++){var L=C*s,_=C;while(G[_]>L&&_>1)_--;K[C]=_*s}G=K}var P=new Uint8Array(e);for(var C=0;
C<e;C++){var i=Math.round((e-1)*G[C]);P[C]=Math.round(255*M[i])}o={type:B.Zq,Gg:P,d_:P,DV:P,zj:!1,zA:!1}}}if(R=="levl"){var w=[],k,h,u,j,I,V;
for(var C=0;C<4;C++)w.push(OO.Ff(Z,C));k=-w[0][0]/255;h=1/(w[0][1]/255-w[0][0]/255);u=O.lN.multiply(O.lN.O_(h,h,h),O.lN.OB(k,k,k));
j=O.lN.O_(1/(w[1][1]/255-w[1][0]/255),1/(w[2][1]/255-w[2][0]/255),1/(w[3][1]/255-w[3][0]/255));I=O.lN.OB(-w[1][0]/255,-w[2][0]/255,-w[3][0]/255);
V=O.lN.multiply(j,I);var P=new O.ZF(256);for(var C=0;C<256;C++)P.F[C]=P.S[C]=P.X[C]=C;var F=1/(w[0][4]/100),q=1/(w[1][4]/100),t=1/(w[2][4]/100),c=1/(w[3][4]/100);
O.lN.transform(P,P,V);for(var C=0;C<256;C++){P.F[C]=Math.round(Math.max(0,Math.min(255,255*Math.pow(P.F[C]/255,q))));
P.S[C]=Math.round(Math.max(0,Math.min(255,255*Math.pow(P.S[C]/255,t))));P.X[C]=Math.round(Math.max(0,Math.min(255,255*Math.pow(P.X[C]/255,c))))}O.lN.transform(P,P,u);
for(var C=0;C<256;C++){P.F[C]=Math.round(Math.max(0,Math.min(255,255*Math.pow(P.F[C]/255,F))));P.S[C]=Math.round(Math.max(0,Math.min(255,255*Math.pow(P.S[C]/255,F))));
P.X[C]=Math.round(Math.max(0,Math.min(255,255*Math.pow(P.X[C]/255,F))))}k=w[0][2]/255;h=w[0][3]/255-w[0][2]/255;
u=O.lN.multiply(O.lN.OB(k,k,k),O.lN.O_(h,h,h));j=O.lN.O_(w[1][3]/255-w[1][2]/255,w[2][3]/255-w[2][2]/255,w[3][3]/255-w[3][2]/255);
I=O.lN.OB(w[1][2]/255,w[2][2]/255,w[3][2]/255);V=O.lN.multiply(I,j);O.lN.transform(P,P,O.lN.multiply(u,V));
o={type:B.Zq,Gg:P.F,d_:P.S,DV:P.X,zj:!1,zA:!1}}if(R=="curv"){var f=OR.Ff(Z,0).length==256?1:0,W=[];if(f==0){var l=O.An.Di(OR.Ff(Z,0),256);
for(var C=1;C<4;C++){var g=O.An.Di(OR.Ff(Z,C),256);W.push(O.An.Pn(g,l))}}else{var v=[];for(var C=0;C<4;
C++){var Vg=new Uint8Array(256);v.push(Vg);var GE=OR.Ff(Z,C);for(var _=0;_<256;_++)Vg[_]=GE[_]}for(var C=1;
C<4;C++)W.push(O.An.Pn(v[C],v[0]))}o={type:B.Zq,Gg:W[0],d_:W[1],DV:W[2],zj:!1,zA:!1}}if(R=="expA"){var Gy=Z.Exps.v,GY=Z.Ofst.v,Ga=Z.gammaCorrection.v,P=new Uint8Array(256);
for(var C=0;C<256;C++){var Z=C/255,GO=Math.pow(Math.abs(GY),1/(Math.PI/2));if(GY>0){Z=Math.max(GY/Math.E,Z);
Z=Z*Math.exp(GY/1.75+Gy/Math.PI);Z=(1-GO)*Z+GO*1}else{Z=Z*Math.exp(-GY*1.75+Gy/Math.PI);Z=Z+-GO*1.14}Z=Math.pow(Z,1/Ga);
Z=Math.max(0,Math.min(1,Z));P[C]=Math.round(Z*255)}o={type:B.Zq,Gg:P,d_:P,DV:P,zj:!1,zA:!1}}if(R=="vibA"){o={type:B.SA,Fe:[Z.vibrance?Z.vibrance.v:0,Z.Strt?Z.Strt.v:0]}}if(R=="hue2"){var J=[],D=[],GB=[],Gj=Z.Clrz?Z.Clrz.v:!1;
for(var C=0;C<256;C++){J[C]=C/255;D[C]=0;GB[C]=0}var GX=OA.Ff(Z,0),Gw=GK.tA(GX[1]/100);if(Gj){var G_=GX[0]/360;
for(var C=0;C<256;C++){J[C]=G_;D[C]=Gw}}else{for(var C=0;C<256;C++){var Gf=J[C],Gl=D[C];J[C]+=GX[0]/360;
for(var _=0;_<6;_++){var GU=OA.Ff(Z,_+1),GD=GU.BF,Gi=GU.zH,GO=0;for(var Gh=1;Gh<4;Gh++)if(Gi[Gh]<Gi[0])Gi[Gh]+=360;
var G$=Gi[0],GA=Gi[1],GJ=Gi[2],Ge=Gi[3],Gq=Gf*360;if(Gq<Gi[0])Gq+=360;var Gv=(Gq-G$)/(GA-G$),yi=(Gq-GJ)/(Ge-GJ);
if(Gv<0)GO=0;else if(Gv<1)GO=Gv;else if(yi<0)GO=1;else if(yi<1)GO=1-yi;else GO=0;var y=GK.tA(GD[1]/100);
J[C]+=GO*GD[0]/360;D[C]+=GO*y;GB[C]+=GO*GD[2]/100}}for(var C=0;C<256;C++){D[C]=(1+D[C])*(1+Gw)-1;GB[C]=Math.max(-1,Math.min(1,GB[C]))}}var GZ=new Uint8Array(256),OU=new Uint8Array(256),GH=new Uint8Array(256);
for(var C=0;C<256;C++){var OB=J[C],Gb=D[C],Gu=GB[C];if(OB>1)OB--;if(OB<0)OB++;Gb=GK.OwB(Gb);Gb=(1+Gb)*.5;
Gu=(1+Gu)*.5;GZ[C]=Math.round(255*OB);OU[C]=Math.round(255*Gb);GH[C]=Math.round(255*Gu)}var GP=GX[2]/100,Gn=GP<0?-GP:GP,Yy=GP<0?0:1;
o={type:B.Sj,Oqs:GZ,oQ:OU,ONp:GH,Ovj:Gn*Yy,Ml:1-Gn,OLP:GX[2]/100,OzI:Gj?1:0}}if(R=="nvrt"){var P=new Uint8Array(256);
for(var C=0;C<256;C++)P[C]=255-C;o={type:B.Zq,Gg:P,d_:P,DV:P,zj:!1,zA:!1}}if(R=="post"){var Gm=Z.Lvls.v,P=new Uint8Array(256),GO=Gm/255.001,GW=255/(Gm-1);
for(var C=0;C<256;C++)P[C]=Math.floor(C*GO)*GW;o={type:B.Zq,Gg:P,d_:P,DV:P,zj:!1,zA:!1}}if(R=="grdm"){var YR=Z.Grad.v,YE=Z.Rvrs,Yq=O.L.$z(YR.Clrs.v,0,0),e=1024,YX=O.L.gQ(YR,Yq,e,YE?YE.v:!1),O_=O.a(e),Y_=O.a(e),OY=O.a(e);
O.KT(YX,O_,0);O.KT(YX,Y_,1);O.KT(YX,OY,2);o={type:B.Zq,Gg:O_,d_:Y_,DV:OY,zj:!0,zA:!1}}if(R=="selc"){var GT=new Float32Array(9*3*2),YY=Z.MG,Of=Z.Mthd?Z.Mthd.v.CrcM=="Absl":!1;
for(var _=0;_<9;_++){var Ox=_*6,yR=OK.Ff(Z,_),Oj=yR[0]/100,RV=yR[1]/100,OJ=yR[2]/100,Ye=yR[3]/100;if(Of){GT[Ox]=GT[Ox+1]=GT[Ox+2]=1;
GT[Ox+3]=Oj*(1+Ye)+Ye;GT[Ox+4]=RV*(1+Ye)+Ye;GT[Ox+5]=OJ*(1+Ye)+Ye}else{GT[Ox+0]=(1+Oj)*(1+Ye);GT[Ox+1]=(1+RV)*(1+Ye);
GT[Ox+2]=(1+OJ)*(1+Ye)}}o={type:B.Sv,fl:GT}}if(R=="blwh"){var ye="Rd Yllw Grn Cyn Bl Mgnt".split(" "),o=[],RY=0,EA=0;
for(var C=0;C<6;C++)o.push(Z[ye[C]].v);o.push(Z.useTint.v,Z.tintColor.v);var Ys=[];for(var C=0;C<6;C++)Ys.push((o[C]-50)/50);
var YC=O.L.iz(o[7]);YC.F/=255;YC.S/=255;YC.X/=255;var YD=O.Jn(YC.F,YC.S,YC.X),Gu=O.jJ(O.ZU(YD.N$,1,.5)),yf=YD.tH*YD.ct;
if(Gu==.5)RY=EA=.5;else{RY=yf*(.5-Gu)/(.5/Gu-1);EA=1-yf*(.5-Gu)-1/(2*(1-Gu));EA/=1-1/(2*(1-Gu))}o={type:B.SM,OKX:Ys,ck:o[6]?1:0,Ozi:YD.N$,jJ:Gu,O$N:yf,LZ:RY,OKE:EA}}if(R=="blnc"){var w=[],ES=["ShdL","MdtL","HghL"];
for(var C=0;C<3;C++){var Gm=Z[ES[C]].v,YO=Gm[0].v/100,Yf=Gm[1].v/100,YS=Gm[2].v/100,Yp=Z.PrsL.v?Yp=(Math.min(YO,Yf,YS)+Math.max(YO,Yf,YS))/2:0;
w[C]=[YO-Yp,Yf-Yp,YS-Yp]}var W=[O.a(256),O.a(256),O.a(256)];for(var _=0;_<3;_++)for(var C=0;C<256;C++){var L=C*(1/255),YB=0,$=0,YW=0;
$=w[2][_];YW=Math.abs($);if($<0)YB=Math.pow(L,Math.SQRT2);else YB=1.63*(Math.pow(L+.04,.5)-.2);L=YW*YB+(1-YW)*L;
$=w[1][_];YW=Math.abs($);if($<0)YB=Math.pow(L,2);else YB=Math.min(2.35*(Math.pow(L+.09,.5)-.3),Math.pow(L,1/2));
L=YW*YB+(1-YW)*L;$=w[0][_];YW=Math.abs($);if($<0)YB=L<.4?0:Math.pow((L-.4)/.6,Math.SQRT2);else YB=Math.pow(L,Math.SQRT2/2);
L=YW*YB+(1-YW)*L;L=Math.max(0,Math.min(1,L));W[_][C]=Math.round(L*255)}o={type:B.Zq,Gg:W[0],d_:W[1],DV:W[2],zj:!1,zA:!1}}if(R=="phfl"){var YJ=O.L.iz(Z.Clr.v),yt=[YJ.F/255,YJ.S/255,YJ.X/255],OS=Z.Dnst.v/100,W=[O.a(256),O.a(256),O.a(256)];
for(var _=0;_<3;_++)for(var C=0;C<256;C++){var L=C*(1/255),yT=L*yt[_];yT=Math.max(0,Math.min(1,yT));
L=OS*yT+(1-OS)*L;W[_][C]=Math.round(L*255)}o={type:B.Zq,Gg:W[0],d_:W[1],DV:W[2],zj:!1,zA:Z.PrsL.v}}if(R=="thrs"){var P=O.a(256);
for(var C=Z.Lvl.v;C<256;C++)P[C]=255;o={type:B.Zq,Gg:P,d_:P,DV:P,zj:!0,zA:!1}}if(R=="mixr"){var EM=GK.HY(Z),H=[];
for(var C=0;C<EM.k.length;C++)if(C%5!=3)H.push(EM.k[C]/100);if(EM.ht){for(var yA=1;yA<3;yA++)for(var L=0;
L<4;L++)H[yA*4+L]=H[L]}o={type:B.tV,lN:H}}if(R=="rplc"){var yC=Z.Mnm.v,RR=Z.Mxm.v;o={type:B.tw,Rt:[yC.Lmnc.v,yC.A.v,yC.B.v],Rz:[RR.Lmnc.v,RR.A.v,RR.B.v],shift:[Z.H.v/360,Z.Strt.v/100,Z.Lght.v/100],Ud:Z.Fzns.v/200}}if(R=="clrL"&&Z.profile){var Yu=new Uint8Array(Z.profile.v),Rh=ICC.R(Yu.buffer),Yw=[],Ra=0,Xj=Rh.tags.A2B0;
Ra=Xj&&Xj.gpnum?Xj.gpnum[0]:0;Ra=Ra>8?Ra:17;var Yw=ICC.U.sampleLUT(Rh,Ra);o={type:B.sb,Gp:ICC.U.rgba8LUT(Yw,Ra),Oed:Yw,xu:Ra}}return o};
GK.SY=function(R,Z){var B=-1;if(R!="levl"||Z==null)B=-1;else if(Z.Auto)B=0;else if(Z.AuCo)B=1;else if(Z.autoBlackWhite)B=2;
return B};GK.Sa={Zq:0,Sj:1,SA:2,Sv:3,SM:4,tV:5,tw:6,sb:7};GK.tA=function(R){if(R<0)return R;return Math.pow(Math.tan(Math.PI/2*R),1.3)};
GK.OwB=function(R){if(R<0)return R;R=Math.pow(R,1/1.3);return Math.atan2(R,1)/(Math.PI/2)};GK.eX=function(R,Z,B,o){var r=GK.Sa,Y=Date.now();
if(d.lx&&o.b()>300*300&&R.type!=r.Zq&&R.type!=r.sb){o=o.clone();o.x=o.y=0;var E=d.yY(0,o.Y,o.Z);E.set(Z);
d._H(E,o);E.TT(o);GK.lA(R,E.na,o);E.get(B);return}if(R.type==r.sb){var p=R.Oed,y=R.xu,H=3;function z(Gm,GW,Ga,YR,YE,Yq){var YX=1-YR;
Yq[YE+0]=YX*Ga[Gm]+YR*Ga[GW];Yq[YE+1]=YX*Ga[Gm+1]+YR*Ga[GW+1];Yq[YE+2]=YX*Ga[Gm+2]+YR*Ga[GW+2]}var u=[0,0,0,0,0,0,0,0,0,0,0,0],Q=(y-1.000001)/255;
for(var T=0;T<Z.length;T+=4){var o=Q*Z[T],C=Q*Z[T+1],e=Q*Z[T+2],$=~~o,x=~~C,M=~~e;z(H*(M+y*x+y*y*$),H*(M+1+y*x+y*y*$),p,e-M,0,u);
z(H*(M+y*(x+1)+y*y*$),H*(M+1+y*(x+1)+y*y*$),p,e-M,3,u);z(0,3,u,C-x,6,u);z(H*(M+y*x+y*y*($+1)),H*(M+1+y*x+y*y*($+1)),p,e-M,0,u);
z(H*(M+y*(x+1)+y*y*($+1)),H*(M+1+y*(x+1)+y*y*($+1)),p,e-M,3,u);z(0,3,u,C-x,9,u);z(6,9,u,o-$,0,u);B[T]=~~(.5+u[0]*255);
B[T+1]=~~(.5+u[1]*255);B[T+2]=~~(.5+u[2]*255)}}if(R.type==r.tV)O.lN.I_(Z,B,R.lN);if(R.type==r.SM){var m=R.O$N,G=R.jJ,K=R.LZ,s=R.OKE,L=Z.length;
for(var T=0;T<L;T+=4){var o=Z[T]*(1/255),C=Z[T+1]*(1/255),e=Z[T+2]*(1/255),_=O.Gd(o,C,e),P=0;for(var i=0;
i<6;i++)P+=Math.min(1,1.7*(1-_.Aj))*_.tH*R.OKX[i]*GK.OGk(_.N$,i*(1/6));var w=Math.max(0,Math.min(1,_.Aj*(1+P)));
if(R.ck==1){var k=0;if(w<K)k=w*(.5/G);else if(w<s)k=w+m*(.5-G);else k=1-(1-w)*.5/(1-G);_.N$=R.Ozi;_.tH=Math.min(1,m+3*m*Math.abs(w-.5*(K+s)));
_.Aj=k}else{_.N$=0;_.tH=0;_.Aj=w}var h=O.ZU(_.N$,_.tH,_.Aj);B[T]=Math.round(h.F*255);B[T+1]=Math.round(h.S*255);
B[T+2]=Math.round(h.X*255)}}if(R.type==r.Sv){var j=R.fl,L=Z.length,I=1/255;for(var T=0;T<L;T+=4){var o=Z[T]*I,C=Z[T+1]*I,e=Z[T+2]*I,_=O.Gd(o,C,e),V=Math.max(o,Math.max(C,e)),F=Math.min(o,Math.min(C,e)),q=1-o,t=1-C,c=1-e,f=0,W=0,l=0;
for(var i=0;i<9;i++){var g=i*6,Gy=0;if(j[g]==1&&j[g+1]==1&&j[g+2]==1&&j[g+3]==0&&j[g+4]==0&&j[g+5]==0)continue;
var v=q*j[g]+j[g+3],Vg=t*j[g+1]+j[g+4],GE=c*j[g+2]+j[g+5];if(i<6)Gy=GK.OGk(_.N$,i*(1/6))*_.tH*2*Math.min(_.Aj,1-_.Aj);
else if(i==6)Gy=Math.max(0,F-.5)*2;else if(i==7)Gy=1-(Math.abs(V-.5)+Math.abs(F-.5));else Gy=Math.max(0,.5-V)*2;
f+=(Math.max(0,Math.min(1,v))-q)*Gy;W+=(Math.max(0,Math.min(1,Vg))-t)*Gy;l+=(Math.max(0,Math.min(1,GE))-c)*Gy}q=Math.max(0,Math.min(1,q+f));
t=Math.max(0,Math.min(1,t+W));c=Math.max(0,Math.min(1,c+l));o=1-q;C=1-t;e=1-c;B[T]=Math.round(o*255);
B[T+1]=Math.round(C*255);B[T+2]=Math.round(e*255)}}if(R.type==r.Zq){O.OXl(Z,B,R.Gg,R.d_,R.DV,R.zj,R.zA)}if(R.type==r.Sj){var GY=new Uint32Array(Z.buffer),Ga=new Uint32Array(B.buffer),L=GY.length;
if(GK.mQ==null){GK.mQ=new Float64Array(256);for(var T=0;T<256;T++)GK.mQ[T]=GK.tA(-1+2*T/255)}var GO=GK.mQ;
for(var T=0;T<L;T++){var J=GY[T],o=(J&255)*(1/255),C=(J>>>8&255)*(1/255),e=(J>>>16&255)*(1/255),D=J>>>24,GB=Math.min(o,C,e),Gj=Math.max(o,C,e),GX=0,Gw=0,G_=0;
if(Gj!=GB){var Gf=Gj-GB;switch(Gj){case o:GX=(C-e)/Gf+(C<e?6:0);break;case C:GX=(e-o)/Gf+2;break;case e:GX=(o-C)/Gf+4;
break}GX=GX*(1/6)}var Gl=~~(GX*255+.5),GU=R.Oqs[Gl]*(1/255),GD=R.oQ[Gl]*(1/255)*2-1,Gi=R.ONp[Gl]*(1/255)*2-1,P=-Gi,Gh=GB;
if(0<Gi){P=Gi;Gh=Gj}var G$=R.Ovj+R.Ml*P*Gh,GA=R.Ml*(1-P);o=G$+GA*o;C=G$+GA*C;e=G$+GA*e;Gj=Math.max(o,C,e);
GB=Math.min(o,C,e);G_=(Gj+GB)*.5;if(Gj!=GB){var Gf=Gj-GB;Gw=G_>.5?Gf/(2-(Gj+GB)):Gf/(Gj+GB)}var GJ=GD;
if(R.OzI==0){GD=GO[Math.floor((1+GD)*127.5)];GJ=Math.min(Gw*(1+GD),1)}GX=GU;Gw=GJ;if(Gw==0)o=C=e=G_;
else{var Ge=G_<.5?G_*(1+Gw):G_+Gw-G_*Gw,Gq=2*G_-Ge;o=O.Zb(Gq,Ge,GX+1/3);C=O.Zb(Gq,Ge,GX);e=O.Zb(Gq,Ge,GX-1/3)}Ga[T]=D<<24|e*255<<16|C*255<<8|o*255}}if(R.type==r.tw){O.VG(Z,B);
var GY=new Uint32Array(Z.buffer),Ga=new Uint32Array(B.buffer),L=GY.length,Gv=R.Ud,yi=1/Gv,GZ={wi:R.Rt[0],t:R.Rt[1],X:R.Rt[2]},OU={wi:R.Rz[0],t:R.Rz[1],X:R.Rz[2]};
for(var T=0;T<L;T++){var J=GY[T],$=J&255,x=J>>>8&255,M=J>>>16&255,o=$*(1/255),C=x*(1/255),e=M*(1/255),D=J>>>24,GH=O.MO($,x,M),OB=O.QD(GH,GZ,OU,Gv,yi);
if(OB==0)continue;var _=O.Gd(o,C,e),GU=2+_.N$+OB*R.shift[0];_.N$=GU-~~GU;_.tH=Math.max(0,Math.min(1,_.tH+OB*R.shift[1]));
_.Aj=Math.max(0,Math.min(1,_.Aj+OB*R.shift[2]));var h=O.ZU(_.N$,_.tH,_.Aj);o=h.F;C=h.S;e=h.X;Ga[T]=D<<24|e*255<<16|C*255<<8|o*255}}if(R.type==r.SA){var GY=new Uint32Array(Z.buffer),Ga=new Uint32Array(B.buffer),L=GY.length,Gb=R.Fe[0]/100,Gu=R.Fe[1]/100;
for(var T=0;T<L;T++){var J=GY[T],o=(J&255)*(1/255),C=(J>>>8&255)*(1/255),e=(J>>>16&255)*(1/255),D=J>>>24,_=O.Jn(o,C,e),GX=_.N$,Gw=_.tH,G_=_.ct,GP=0,Gn=45/360,Yy=GX<Gn?Math.cos(Math.PI/2*(GX-Gn/2)/(Gn/2)):0;
Gw=Gw+.2*(1-.4*Yy)*Gb*Math.max(0,Math.sin(Gw*Math.PI));Gw=Gw*(1+Gu);Gw=Math.max(0,Math.min(1,Gw));var h=O.Aa(GX,Gw,G_);
o=h.F;C=h.S;e=h.X;Ga[T]=D<<24|e*255<<16|C*255<<8|o*255}}};GK.lA=function(R,Z,B){d.ej.lA(R,Z)};GK.OGk=function(R,Z){var B=O.ie(Z,R)*6;
return Math.max(0,Math.min(1,B<0?1+B:1-B))};GK.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
GK.OqU=["expA","clrL","selc"];GK.t_=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];GK.Owf=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
GK.sn=[[13,1,1],[13,1,4],[13,1,5]];GK.Ou={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA","\0\0\0\xDE":"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh","\0\0\0\xDD":"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr","\0\0\0\xDF":"clrL",rplc:"rplc"};
GK.HG=function(){var R=JSON.parse(JSON.stringify(GK.Ou));delete R["\0\0\0\xDE"];delete R["\0\0\0\xDD"];
delete R.GrMp;R.vibrance="vibA";R.photoFilter="phfl";R.GdMp="grdm";return R}();GK.AE={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
GK.keys={levl:[a.iW,a.wi],curv:[a.iW,a.WZ],hue2:[a.iW,a.Rl],nvrt:[a.iW,a.SV],blnc:[a.iW,a.OqV]};GK.OBg=function(R){var Z=Go.wI("mixr");
Z.Mnch={t:"bool",v:R.ht};function B(o,r){var Y={classID:"ChMx"},E={Rd:0,Grn:1,Bl:2,Cnst:4};for(var p in E)Y[p]={t:"UntF",v:{type:"#Prc",val:o[r+E[p]]}};
return{t:"Objc",v:Y}}if(R.ht)Z.Gry=B(R.k,0);else{Z.Rd=B(R.k,0);Z.Grn=B(R.k,5);Z.Bl=B(R.k,10)}return Z};
GK.HY=function(R){function Z(o,r,Y){var E={Rd:0,Grn:1,Bl:2,Cnst:4};for(var p in E)if(o[p])r[Y+E[p]]=o[p].v.val}var B={ht:!1,k:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(R.Mnch&&R.Mnch.v)B.ht=!0;if(B.ht)Z(R.Gry.v,B.k,0);else{Z(R.Rd.v,B.k,0);Z(R.Grn.v,B.k,5);Z(R.Bl.v,B.k,10)}return B};
var Go={};Go.OP=[{ZI:"GEfc"},{ZI:"LnCr"},{ZI:"LqFy",vU:!0},{Zo:"3D",ew:["\0\0\x03^"]},{Zo:[24,2],ew:"Avrg,Blr ,BlrM,\0\0\x02\xB1,GsnB,MtnB,RdlB,\0\0\x02\xB5".split(",")},{Zo:[24,4],ew:"Dspl,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave".split(",")},{Zo:[24,6],ew:["AdNs","DstS","Mdn "]},{Zo:[24,8],ew:["ClrH","Crst","Mztn","Msc ","Pntl"]},{Zo:[24,10],ew:["Clds","DfrC","LnsF"]},{Zo:[24,12],ew:["Shrp","ShrM","\0\0\x03\xE8","UnsM"]},{Zo:[24,14],ew:["FndE","\0\0\x03\xFD"]},{Zo:[24,16],ew:["HghP","Mxm ","Mnm ","Ofst","Rept"]},{Zo:"Fourier",ew:["dDFT","iDFT"]}];
Go.AE={LqFy:"LqFy",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod","\0\0\x02\xB1":"boxblur",GsnB:"gaussianBlur",MtnB:"motionBlur",RdlB:"radialBlur","\0\0\x02\xB5":"surfaceBlur","\0\0\x03^":"lightFilterGradient",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",AdNs:"addNoise",DstS:"dustAndScratches","Mdn ":"median",ClrH:"colorHalftone",Crst:"",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"",Clds:"clouds",DfrC:"differenceClouds",LnsF:"LnsF",Shrp:"sharpen",ShrM:"sharpenMore","\0\0\x03\xE8":"smartSharpen",UnsM:"unsharpMask",FndE:"findEdges","\0\0\x03\xFD":"oilPaint",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset"};
Go.Dy={"\0\0\x03\x82":A._P};Go.names={"\0\0\x03^":"Normal Map","\0\0\x03\x82":[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],"\0\0\x02\xB1":[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],"\0\0\x02\xB5":[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],AdNs:[24,7,0],DstS:[24,7,2],"Mdn ":[24,7,3],ClrH:[24,9,0],Crst:[24,9,1],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Shrp:[24,13,0],ShrM:[24,13,2],"\0\0\x03\xE8":[24,13,3],UnsM:[24,13,4],FndE:[24,15,3],"\0\0\x03\xFD":[24,15,4],HghP:[24,17,1],"Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform"};
Go.wI=function(R){var Z=null;if(R=="GEfc")Z=Yt.wI("GlwE");if(R=="LqFy"){var B={ZA:50,N$:50,map:new Float32Array(50*50*2)},o=new Uint8Array(Vp.tJ(B)),r=[];
for(var Y=0;Y<o.length;Y++)r.push(o[Y]);Z={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:r}}}if(R=="\0\0\x03\x82"){Z={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(R=="LnCr")Z={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(R=="\0\0\x03\xFD")Z={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(R=="\0\0\x03^")Z={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(R=="\0\0\x02\xB1")Z={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(R=="GsnB")Z={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(R=="Bokh")Z={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIa"}},BkDc:{t:"long",v:0},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:61},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(R=="MtnB")Z={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(R=="RdlB")Z={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(R=="\0\0\x02\xB5")Z={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(R=="Dspl")Z={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(R=="Pnch")Z={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(R=="Plr ")Z={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(R=="Rple")Z={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(R=="Shr ")Z={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(R=="Sphr")Z={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(R=="Twrl")Z={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(R=="Wave")Z={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(R=="AdNs")Z={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(R=="DstS")Z={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(R=="Mdn ")Z={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(R=="ClrH")Z={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(R=="Crst")Z={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(R=="Mztn")Z={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(R=="Msc ")Z={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(R=="Pntl")Z={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(R=="LnsF")Z={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(R=="\0\0\x03\xE8")Z={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(R=="UnsM")Z={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(R=="HghP")Z={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(R=="Mxm ")Z={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:9}}};
if(R=="Mnm ")Z={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:14}}};if(R=="Ofst")Z={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(R=="Rept")Z={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(R=="brit")Z={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(R=="levl")Z={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(R=="curv")Z={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(R=="expA")Z={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(R=="vibA")Z={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(R=="hue2")Z={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(R=="blnc")Z={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(R=="blwh")Z={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(R=="phfl")Z={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(R=="grdm")Z={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(Gk.eF[6]).Grad};
if(R=="selc")Z={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(R=="thrs")Z={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(R=="mixr")Z={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(R=="clrL")Z={__name:"Color Lookup",classID:"colorLookup"};if(R=="nvrt")Z={};if(R=="post")Z={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(R=="rplc")Z={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:100},Lght:{t:"long",v:2}};
if(R=="fade")Z={__name:"Fade",classID:"fade",Md:{v:{BlnM:"Nrml"},t:"enum"},Opct:{v:{type:"#Prc",val:100},t:"UntF"}};
return Z};Go.OwJ=function(R){var Z=new VP(0,0);if(R.enab.v==!1)return Z;var B=R.filterFXList.v;for(var o=0;
o<B.length;o++){var r=B[o].v;if(r.enab.v==!1)continue;var Y=U.KK(r.filterID.v),E=Go.OSA(Y,r.Fltr.v);
if(E.x>Z.x)Z.x=E.x;if(E.y>Z.y)Z.y=E.y}return Z};Go.OSA=function(R,Z){var B=0,o=0;if(["GsnB","\0\0\x02\xB1","\0\0\x03\xE8","UnsM","HghP"].indexOf(R)!=-1){var r=Z.Rds.v.val;
B=o=r*2.57}if(R=="MtnB")B=o=Z.Dstn.v.val;if("Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,Wave,RdlB,Clds,DfrC,Plr ,LnCr,\0\0\x03^,\0\0\x03\x82".split(",").indexOf(R)!=-1){B=o=1e4}if(R=="GEfc")B=o=1e4;
return new VP(Math.ceil(B),Math.ceil(o))};Go.HR=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
Go.iJ=function(R,Z){var B={F:Z.Ky>>16,S:Z.Ky>>8&255,X:Z.Ky&255},o={F:Z.Dk>>16,S:Z.Dk>>8&255,X:Z.Dk&255},r=Go.names[R];
if(r==null)r=GK.names[R];var Y=R;for(var E in GK.Ou)if(GK.Ou[E]==R)Y=E;var p={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:Ok.get(r)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:O.L.hN(B)},BckC:{t:"Objc",v:O.L.hN(o)},filterID:{t:"long",v:U.OfZ(Y)}}},y=Go.wI(R);
if(y)p.v.Fltr={t:"Objc",v:y};return p};Go.Otj=function(R,Z,B,o){var r=O.a(R.length);O.AO.Ms(R,Z,B,o,[-1,0,1,-2,0,2,-1,0,1],0,!0);
O.AO.Ms(R,r,B,o,[1,2,1,0,0,0,-1,-2,-1],0,!0);for(var Y=0;Y<r.length;Y+=4){var E=Z[Y],p=Z[Y+1],y=Z[Y+2],z=Z[Y+3],u=r[Y],Q=r[Y+1],H=r[Y+2],T=r[Y+3];
Z[Y]=255-Math.max(0,Math.min(255,Math.sqrt(E*E+u*u)));Z[Y+1]=255-Math.max(0,Math.min(255,Math.sqrt(p*p+Q*Q)));
Z[Y+2]=255-Math.max(0,Math.min(255,Math.sqrt(y*y+H*H)))}};Go.iN=function(R,Z,B,o,r,Y,E,p){var y=Date.now(),z=new O.ZF(B*o);
O.AB(R,z);var u=new O.ZF(B*o);O.AO.Jy(z.F,u.F,B,o,r,Y,E);O.AO.Jy(z.S,u.S,B,o,r,Y,E);O.AO.Jy(z.X,u.X,B,o,r,Y,E);
if(p==0)O.AO.Jy(z.t,u.t,B,o,r,Y);else if(p==1){O.za(z.t);O.AO.Jy(z.t,u.t,B,o,r,Y);O.za(u.t)}else O.VG(z.t,u.t);
O.oh(u,Z)};Go.HA=function(R,Z,B,o){O.PO(B);if(R<1){var r=Math.round(R*5),Y=[1,2,1,2,[40,26,13,6,4,2][r],2,1,2,1];
Y=O.AO.fb(Y);var E=B.slice(0);O.AO.Ms(E,B,o.Y,o.Z,Y,255)}else Z(B,o,R);O.PL(B)};Go.OwN=function(R,Z,B,o){for(var r=0;
r<R.length;r++){B[r]=R[r]*(1/255);o[r]=0}FFT.fft2d(B,o);var Y=Z>>>1,E=16384,p=128,z=100;while(p<Z){p<<=1;
E<<=2}var y=255/Math.log(E),u=-100;for(var Q=0;Q<Z;Q++)for(var H=0;H<Y;H++){var T=Z+Y+Q&Z-1,C=B[T*Z+H],e=o[T*Z+H],$=Math.sqrt(C*C+e*e),x=Math.atan2(e,C);
R[Q*Z+H]=Math.round(y*Math.log($+1));R[Q*Z+Y+H]=Math.round((Math.PI+x)*(255*.5/Math.PI))}};Go.Owi=function(R,Z,B,o){B.fill(0);
o.fill(0);var r=Z>>>1,Y=16384,E=128;while(E<Z){E<<=1;Y<<=2}var p=255/Math.log(Y),y=[],z=[],u=[];for(var Q=0;
Q<256;Q++){y[Q]=Math.exp(Q/p)-1;var H=Q*(2*Math.PI/255)-Math.PI;z[Q]=Math.sin(H);u[Q]=Math.cos(H)}for(var T=0;
T<Z;T++)for(var C=0;C<r;C++){var e=Z+r+T&Z-1,$=y[R[T*Z+C]],H=R[T*Z+r+C],x=$*u[H],M=$*z[H];B[e*Z+C]=x;
o[e*Z+C]=M;if(C!=0){var m=e==0?e*Z+Z-C:(Z-e)*Z+(Z-C);B[m]=x;o[m]=-M}}FFT.ifft2d(B,o);for(var Q=0;Q<R.length;
Q++){R[Q]=Math.max(0,Math.min(255,~~(.5+255*B[Q])))}};Go.OtI=new ArrayBuffer(512);Go.Owo=function(R){var Z=Go.OtI,B=R.length;
if(Z.byteLength<B)Go.OtI=Z=new ArrayBuffer(B);var o=new Uint8Array(Z);for(var r=0;r<B;r+=4){o[r]=R[r];
o[r+1]=R[r+1];o[r+2]=R[r+2];o[r+3]=R[r+3]}return Z};Go.eX=function(R,Z,B,o,r,Y,E,p){if(Y==null)Y={buffer:O.a(Z.buffer.length),rect:Z.rect.clone()};
O.VG(Z.buffer,Y.buffer);if(R=="GEfc")Yt.eX(R,Z,B,o,r,Y,E);if(R=="Bokh"){var y=Z.rect,z=Z.rect.Y,u=Z.rect.Z;
console.log(B);var Q=p[0].channel,H=Z.buffer.slice(0),T=B.BkDp.v/255,C=40*(.3+.7*((z+u)/2)/1750)*(B.BkIb.v/100)*(1+.2*Math.pow(T,.1)),e=H;
H=Z.buffer;for(var $=0;$<u;$++)for(var x=0;x<z;x++){var M=$*z+x,m=M<<2,G=0,K=0,s=0,L=1e-9,_=Math.abs(Q[M]*(1/255)-T),P=Math.round(_*C),i=Math.max(0,$-P),w=Math.min(u,$+P+1);
for(var k=i;k<w;k++){var h=k*z+x,j=h<<2,I=Math.abs(Q[h]*(1/255)-T),V=Math.max(I,_),F=Math.min(I,_),q=V==0||V==F?0:(V-F)/V,t=1-q,c=t;
G+=c*H[j];K+=c*H[j+1];s+=c*H[j+2];L+=c}var f=1/L;e[m]=G*f;e[m+1]=K*f;e[m+2]=s*f}H=e;e=Y.buffer;for(var $=0;
$<u;$++)for(var x=0;x<z;x++){var M=$*z+x,m=M<<2,G=0,K=0,s=0,L=1e-9,_=Math.abs(Q[M]*(1/255)-T),P=Math.round(_*C),W=Math.max(0,x-P),l=Math.min(z,x+P+1);
for(var g=W;g<l;g++){var h=$*z+g,j=h<<2,I=Math.abs(Q[h]*(1/255)-T),V=Math.max(I,_),F=Math.min(I,_),q=V==0||V==F?0:(V-F)/V,t=1-q,c=t;
G+=c*H[j];K+=c*H[j+1];s+=c*H[j+2];L+=c}var f=1/L;e[m]=G*f;e[m+1]=K*f;e[m+2]=s*f}}if(R=="\0\0\x03\x82"){var v=Date.now(),Vg=Go.Owo,GE=Z.buffer.slice(0),D=0,GB=0;
O.PO(GE);O.yg(Y.buffer,0);var z=Z.rect.Y,u=Z.rect.Z,Gy=B.puppetShapeList.v,GY=[],Ga=[],GO=[],J=[];for(var Gj=0;
Gj<Gy.length;Gj++){var GX=Gy[Gj].v,Gw=D*2,G_=GB*3,Gf=GX.originalVertexArray.v.length>>>2,Gl=GX.indexArray.v.length>>>2,GU=new Float32Array(Vg(GX.originalVertexArray.v));
for(var M=0;M<Gf;M++)GY[Gw+M]=GU[M];var GD=new Float32Array(Vg(GX.deformedVertexArray.v));for(var M=0;
M<Gf;M++)Ga[Gw+M]=GD[M];var Gi=new Uint32Array(Vg(GX.indexArray.v));for(var M=0;M<Gl;M++)GO[G_+M]=D+Gi[M];
var Gh=[],G$=[],GA=GX.PnDp.v;for(var M=0;M<GA.length;M++){Gh.push(GX.pinVertexIndices.v[M].v);G$.push(GA[M].v)}var GJ=O.Dh.OBl(GU,Gi,Gh,G$);
for(var M=0;M<GJ.length;M++)J[D+M]=GJ[M];D+=Gf>>>1;GB+=~~(Gl/3)}O.Dh.uV(GE,Y.buffer,Z.rect,GY,Ga,J,GO);
O.PL(Y.buffer)}if(R=="\0\0\x03^"){function Ge(Of){var XT=1/Math.sqrt(Of[0]*Of[0]+Of[1]*Of[1]+Of[2]*Of[2]);
Of[0]*=XT;Of[1]*=XT;Of[2]*=XT}var z=Z.rect.Y,u=Z.rect.Z,Gq=z*u,v=Date.now(),Gv=O.a(Gq),Yq=.3,YX=.7;O.FZ(Y.buffer,Gv);
var yi=O.a(Gq);O.blur.uy(Gv,yi,Y.rect,16);var GZ=O.a(Gq);O.blur.uy(Gv,GZ,Y.rect,8);var OU=Gv,GH=new Float32Array(Gq),OB=B.Dtl.v,Gb=OB[2].v,Gu=OB[1].v,GP=OB[0].v,Gn=B.Scl.v*40*B.textureScale.v/(Gb+Gu+GP);
Gb*=Gn;Gu*=Gn;GP*=Gn;for(var M=0;M<Gq;M++){var Yy=yi[M]*(1/255),Gm=GZ[M]*(1/255),GW=OU[M]*(1/255);GW=GW*GW;
GH[M]=Gb*Yy+Gu*Gm+GP*GW}var YR=B.blur.v;if(YR!=0){var YE=GH.slice(0);O.blur.Dj(YE,GH,Y.rect,YR)}var O_=z-1,Y_=u-1;
for(var $=1;$<Y_;$++)for(var x=1;x<O_;x++){var M=$*z+x,m=M*4,OY=GH[M],GT=Yq*(GH[M+1]-OY)+YX*(OY-GH[M-1]),YY=Yq*(GH[M+z]-OY)+YX*(OY-GH[M-z]),Of=[1,0,GT],Ox=[0,1,YY];
Ge(Of);Ge(Ox);var yR=Of[0],Oj=Of[2],RV=Ox[1],OJ=Ox[2],Ye=-Oj*RV,ye=-yR*OJ,Ys=yR*RV;Y.buffer[m]=~~(127.5+Ye*127.5);
Y.buffer[m+1]=~~(127.5+ye*127.5);Y.buffer[m+2]=~~(127.5+Ys*127.5)}}if(R=="dDFT"||R=="iDFT"){function YC(XT){if(XT==0)return 1;
XT--;XT|=XT>>1;XT|=XT>>2;XT|=XT>>4;XT|=XT>>8;XT|=XT>>16;return XT+1}var z=Z.rect.Y,u=Z.rect.Z,YD=YC(Math.max(z,u)),yf=YD>>>1,RY=new N(0,0,YD,YD),EA=new N(0,0,z,u);
EA.y=YD-u>>>1;var ES=z>>>1,YO=new N(0,EA.y,ES,u),Yf=new O.ZF(z*u);O.AB(Z.buffer,Yf);var YS=new Float64Array(YD*YD),Yp=new Float64Array(YD*YD),YB=O.a(YD*YD);
FFT.init(YD);var YW=[Yf.F,Yf.S,Yf.X];for(var M=0;M<3;M++){var YJ=YW[M];YB.fill(0);if(R=="dDFT"){O.WX(YJ,EA,YB,RY);
Go.OwN(YB,YD,YS,Yp);O.WX(YB,RY,YJ,EA,YO);YO.x+=ES;RY.x-=yf-ES;O.WX(YB,RY,YJ,EA,YO);YO.x-=ES;RY.x+=yf-ES}else{O.WX(YJ,EA,YB,RY,YO);
YO.x+=yf;EA.x+=yf-ES;O.WX(YJ,EA,YB,RY,YO);YO.x-=yf;EA.x-=yf-ES;Go.Owi(YB,YD,YS,Yp);O.WX(YB,RY,YJ,EA)}}O.oh(Yf,Y.buffer)}if(R=="Avrg"){var yt=0,OS=0,yT=0,EM=0,yA=1;
for(var M=0;M<Z.buffer.length;M+=4){var yC=Z.buffer[M+3];yT+=Z.buffer[M]*yC;OS+=Z.buffer[M+1]*yC;yt+=Z.buffer[M+2]*yC;
EM+=yC}var RR=1/EM;yt=Math.round(yA*(yt*RR)+(1-yA)*255);OS=Math.round(yA*(OS*RR)+(1-yA)*255);yT=Math.round(yA*(yT*RR)+(1-yA)*255);
O.yg(Y.buffer,yt<<16|OS<<8|yT,4278190080)}if(["GsnB","\0\0\x02\xB1","\0\0\x03\xE8","UnsM","HghP"].indexOf(R)!=-1){var P=B.Rds.v.val,Yu=R=="\0\0\x02\xB1"?O.blur.gB:O.blur.Owh;
Go.HA(P,Yu,Y.buffer,Y.rect);if(R=="UnsM"||R=="\0\0\x03\xE8"){var Rh=B.Amnt.v.val/100,Yw=0;if(R=="UnsM")Yw=B.Thsh.v;
else Rh*=.75;for(var M=0;M<Z.buffer.length;M++){if((M&3)==3){Y.buffer[M]=Z.buffer[M];continue}var Ra=Z.buffer[M],Xj=Y.buffer[M],YT=Rh*(Ra-Xj);
if(YT>0)YT=Math.max(0,YT-Yw);else YT=Math.min(0,YT+Yw);Y.buffer[M]=Math.max(0,Math.min(255,Ra+YT))}}if(R=="HghP")for(var M=0;
M<Z.buffer.length;M++){if((M&3)==3){Y.buffer[M]=Z.buffer[M];continue}var Ra=Z.buffer[M],Xj=Y.buffer[M];
Y.buffer[M]=Math.max(0,Math.min(255,128+Ra-Xj))}}if(R=="\0\0\x02\xB5"){var YL=B.Rds.v.val,EZ=B.Thsh.v,z=Z.rect.Y,u=Z.rect.Z;
Go.iN(Z.buffer,Y.buffer,z,u,YL,O.AO.ge,[EZ],2)}if(R=="AdNs"){var Rz=new Uint8ClampedArray(Y.buffer.buffer),RE=255*B.Nose.v.val/100,Rv;
if(B.Dstr.v.Dstr=="Gsn")Rv=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else Rv=function(){return Math.random()*2-1};for(var M=0;M<Rz.length;M+=4){var YL=Rz[M],yz=Rz[M+1],YM=Rz[M+2],yw,EV,Ep;
if(B.Mnch.v){yw=EV=Ep=Rv()}else{yw=Rv();EV=Rv();Ep=Rv()}YL+=RE*yw;yz+=RE*EV;YM+=RE*Ep;Rz[M]=YL;Rz[M+1]=yz;
Rz[M+2]=YM}}if(R=="Mdn "||R=="DstS"||R=="Mxm "||R=="Mnm "){var YL=0;if(R=="Mdn "||R=="Mxm "||R=="Mnm ")YL=B.Rds.v.val;
if(R=="DstS")YL=B.Rds.v;O.AO.$l=.5;var Yu=O.AO.js;if(R=="Mxm ")Yu=O.AO.g$;if(R=="Mnm ")Yu=O.AO.gx;var z=Z.rect.Y,u=Z.rect.Z,yo={"Mdn ":0,"Mxm ":1,"Mnm ":1,DstS:2}[R];
Go.iN(Z.buffer,Y.buffer,z,u,YL,Yu,[],yo);if(R=="DstS"){var EZ=B.Thsh.v;for(var M=0;M<z*u*4;M++){var VJ=Math.abs(Z.buffer[M]-Y.buffer[M]);
if(VJ<=EZ)Y.buffer[M]=Z.buffer[M]}}}if(R=="ClrH"){var YO=Z.rect.clone();YO.x=YO.y=0;var YL=B.Rds.v;YL=Math.round(YL*Math.sqrt(2));
var z=YO.Y,u=YO.Z,Yf=new O.ZF(z*u);O.AB(Z.buffer,Yf);O.za(Yf.F);O.za(Yf.S);O.za(Yf.X);var Op=X.T("canvas","");
Op.width=z;Op.height=u;var RS=Op.getContext("2d"),e=O.a(z*u*4);for(var RO=0;RO<3;RO++){var YB=RO==0?Yf.F:RO==1?Yf.S:Yf.X,yF=Math.PI*B["Ang"+(RO+1)].v/180,XI=new GN(1/YL,0,0,1/YL,0,0);
XI.rotate(yF);O.qH(YB,e,3);var EO=A.HQ.q$([e,YO],XI,!0),EA=EO.rect;RS.clearRect(0,0,z,u);var VY=Math.sin(yF),Vh=Math.cos(yF);
for(var M=0;M<EA.Z;M++)for(var Yo=0;Yo<EA.Y;Yo++){var x=(Yo+EA.x+.5)*YL,$=(M+EA.y+.5)*YL,RI=x,OW=$;x=Vh*RI-VY*OW;
$=VY*RI+Vh*OW;var Gq=EO.buffer[(M*EA.Y+Yo<<2)+3]*(1/255),P=YL*Math.sqrt(Gq*(1/Math.PI));RS.beginPath();
RS.arc(x,$,P,0,2*Math.PI);RS.fill()}var RN=RS.getImageData(0,0,z,u);O.KT(RN.data,YB,3)}O.za(Yf.F);O.za(Yf.S);
O.za(Yf.X);O.oh(Yf,Y.buffer)}if(R=="Crst"||R=="Pntl"){var z=Z.rect.Y,u=Z.rect.Z,Yu=R=="Crst"?O.vI.OBs:O.vI.OBx;
Yu(Z.buffer,z,u,Y.buffer,B.ClSz.v,[Math.round(r.F),Math.round(r.S),Math.round(r.X)])}if(R=="Mztn"){var z=Z.rect.Y,u=Z.rect.Z,Gq=z*u,Yf=new O.ZF(Gq),RM=[Yf.F,Yf.S,Yf.X];
O.AB(Z.buffer,Yf);var XC=B.MztT.v.MztT,Rk={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[XC],v=Date.now(),Ew=[];
for(var M=0;M<Gq;M++){Ew[M]=Math.random()}var Gq=z*u,Rq=Math.round(Gq*Rk[0]),Re=Gq-z-1;for(var M=0;M<Rq;
M++){var R$=Math.random(),EY=1;if(R$<.5){EY=z;R$*=2}else R$=2*(R$-.5);var am=Math.floor(R$*Re),E$=am+EY;
Ew[am]=Ew[E$]}var Rd=Math.round(z*Rk[1]);for(var $=0;$<u;$++)for(var M=0;M<Rd;M++){var R$=O.e.uk($*Gq+M),am=$*z+Math.floor(R$*(z-1));
Ew[am]=Ew[am+1]}var YG=new Float64Array(256);for(var M=0;M<256;M++){var y_=M/255,Rw=2*(y_<.5?y_:1-y_);
Rw=Rk[2]+Math.pow(Rw,Rk[3])*(1-Rk[2]);y_=y_<.5?Rw*.5:1-Rw*.5;YG[M]=y_}for(var Vc=0;Vc<3;Vc++){var YB=RM[Vc];
for(var $=0;$<u;$++){for(var x=0;x<z;x++){var M=$*z+x,Ro=YB[M],y_=YG[Ro],R$=Ew[M];YB[M]=R$>y_?0:255}}}O.oh(Yf,Y.buffer)}if(R=="Msc "){var Ej=B.ClSz.v.val,z=Z.rect.Y,u=Z.rect.Z,VT=Math.ceil(z/Ej),XB=Math.ceil(u/Ej),XV=O.a(VT*XB*4);
O.scale.Dv(Z.buffer,z,u,XV,VT,XB,1/Ej);O.scale.Dv(XV,VT,XB,Y.buffer,z,u,Ej)}if(R=="Clds"||R=="DfrC"){if(R=="Clds")O.yg(Y.buffer,4278190080);
var yM=O.a(256*4);for(var M=0;M<256;M++){var m=M<<2,OQ=M/255,Gi=1-OQ;yM[m]=Math.round(OQ*o.F+Gi*r.F);
yM[m+1]=Math.round(OQ*o.S+Gi*r.S);yM[m+2]=Math.round(OQ*o.X+Gi*r.X)}var z=Y.rect.Y,u=Y.rect.Z,Gq=z*u,RK=O.a(Gq);
noise.seed(Math.random());for(var $=0;$<u;$++)for(var x=0;x<z;x++){var Gn=0,Xk=1,Ru=1;for(var M=0;M<8;
M++){var XA=Ru*(1/170);Gn+=noise.perlin2(x*XA,$*XA)*Xk;Xk*=.5;Ru=Ru<<1}RK[$*z+x]=Math.round(Math.max(0,255*Math.min(1,.5+.7*Gn*.5)))}var RH=Y.buffer;
for(var M=0;M<Gq;M++){var m=M<<2,Vc=RK[M]<<2,YL=yM[Vc],yz=yM[Vc+1],YM=yM[Vc+2];if(R=="Clds"){RH[m]=YL;
RH[m+1]=yz;RH[m+2]=YM}else{RH[m]=Math.abs(RH[4*M]-YL);RH[m+1]=Math.abs(RH[4*M+1]-yz);RH[m+2]=Math.abs(RH[4*M+2]-YM)}}}if(R=="LnsF"){var z=Z.rect.Y,u=Z.rect.Z,XC=["Zm","Nkn","Nkn1","PnVs"].indexOf(B.Lns.v.Lns),Xx=B.FlrC.v,XX=[Math.min(XC,2),B.Brgh.v/100,Xx.Hrzn.v,Xx.Vrtc.v],v=Date.now();
O.Oft(Z.buffer,z,u,Y.buffer,XX)}if(R=="Blr "||R=="BlrM"||R=="Shrp"||R=="ShrM"){var z=Z.rect.Y,u=Z.rect.Z,YH;
if(R=="Blr ")YH=[1,2,1,2,16,2,1,2,1];else if(R=="BlrM")YH=[1,2,1,2,4,2,1,2,1];else if(R=="Shrp")YH=[0,-1,0,-1,8,-1,0,-1,0];
else YH=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];YH=O.AO.fb(YH);var Rm=Z.buffer.slice(0);O.PO(Rm);O.AO.Ms(Rm,Y.buffer,z,u,YH,R=="Shrp"||R=="ShrM"?0:255);
if(R=="Shrp"||R=="ShrM")O.QC(Y.buffer);O.PL(Y.buffer)}if(R=="MtnB"){var yy=-B.Angl.v*Math.PI/180,Xw=B.Dstn.v.val/2,v=Date.now(),z=Z.rect.Y,u=Z.rect.Z,y=Z.rect;
if(d.lx){var v=Date.now(),yH=Y.buffer;yH.set(Z.buffer);O.PO(yH);var YZ=d.yY(0,z,u);YZ.set(yH);var XR=O.a(4);
XR[0]=Math.round(128+127*Math.cos(yy));XR[1]=Math.round(128+127*Math.sin(yy));new Uint32Array(yH.buffer).fill(new Uint32Array(XR.buffer)[0]);
var Xl=d.yY(1,z,u);Xl.set(yH);d._H(YZ,y);YZ.TT(y);d.filter.lA({type:d.filter.yO,oR:Xl.NZ,RA:new Float32Array([1/z,1/u]),OlP:Xw/2,OSE:1},YZ.na);
YZ.get(yH);O.PL(yH)}else{var XI=new GN;XI.rotate(yy);var EO=A.HQ.q$([Z.buffer,Z.rect],XI,!1,null,!0);
Go.HA(Xw,O.blur.gw,EO.buffer,EO.rect);XI.za();EO=A.HQ.q$([EO.buffer,EO.rect],XI,!1,Y.buffer.buffer,!0,Y.rect)}console.log(Date.now()-v)}if(R=="RdlB"){var z=Z.rect.Y,u=Z.rect.Z,Rh=B.Amnt.v,aB=B.BlrM.v.BlrM=="Zm",RO=B.Cntr.v,g=RO.Hrzn.v,k=RO.Vrtc.v,GT=Math.max(g,1-g)*z,YY=Math.max(k,1-k)*u,P=Math.sqrt(GT*GT+YY*YY),yl=2*Math.PI*P*1.5,XS=Math.round(yl),XJ=Math.round(P),YO=new N(0,0,XS,XJ),aE=O.a(XS*XJ*4),Xa=aB?4:1,Xf=aB?.6:8*((z+u)/2)/1400,Ex=.1,XA=1,yQ=1;
O.f.gd(Z.buffer,z,u,aE,XS,XJ,g,k,Xa,Ex,XA,yQ);var O$=aB?O.a(XS*XJ*4):null;if(aB){O.f._J(aE,O$,XS,XJ);
var Xr=O$;O$=aE;aE=Xr;YO.Y=XJ;YO.Z=XS}Go.HA(Xf*Rh,O.blur.gw,aE,YO);if(aB){O.f._J(aE,O$,XJ,XS);var Xr=O$;
O$=aE;aE=Xr;YO.Y=XS;YO.Z=XJ}O.f.gn(aE,XS,XJ,Y.buffer,z,u,g,k,Xa,Ex,XA,yQ)}if(R=="Plr "){var z=Z.rect.Y,u=Z.rect.Z;
if(B.Cnvr.v.Cnvr=="RctP")O.f.gn(Z.buffer,z,u,Y.buffer,z,u,.5,.5,1,0,2,z/u);else O.f.gd(Z.buffer,z,u,Y.buffer,z,u,.5,.5,1,0,2,z/u)}if(R=="FndE"){var z=Z.rect.Y,u=Z.rect.Z;
Go.Otj(Z.buffer,Y.buffer,z,u)}if(R=="\0\0\x03\xFD"){var yF=B.LghD.v*Math.PI/180,X_=[Math.cos(yF),Math.sin(yF),.001],XK=[B.stylization.v,B.cleanliness.v,B.brushScale.v,B.microBrush.v,B.lightingOn.v,B.specularity.v,X_];
O.ux.filter(Z.buffer,Z.rect,Y.buffer,XK)}if(R=="Ofst"){var z=Z.rect.Y,u=Z.rect.Z,Yc=new Uint32Array(Z.buffer.buffer),RX=new Uint32Array(Y.buffer.buffer),RI=B.Hrzn.v,OW=B.Vrtc.v,VV=B.Fl.v.FlMd;
O.yg(RX,0);if(VV=="Bckg"||VV=="Rpt"){var YO=Z.rect.clone();YO.offset(RI,OW);O.GN(Yc,YO,RX,Y.rect)}if(VV=="Rpt"){var W,i,l,w,Om;
RI=Math.max(-z,Math.min(z,RI));OW=Math.max(-u,Math.min(u,OW));W=RI>0?RI:0;l=RI>0?z:z+RI;i=OW>0?0:OW+u;
w=OW>0?OW:u;Om=OW>0?0:z*(u-1);for(var $=i;$<w;$++)for(var x=W;x<l;x++)RX[$*z+x]=Yc[Om+x-RI];W=RI>0?0:z+RI;
l=RI>0?RI:z;i=OW>0?OW:0;w=OW>0?u:u+OW;Om=RI>0?0:z-1;for(var $=i;$<w;$++)for(var x=W;x<l;x++)RX[$*z+x]=Yc[Om+z*($-OW)];
if(RI>=0&&OW>=0){W=0;l=RI;i=0;w=OW;Om=0}if(RI>=0&&OW<0){W=0;l=RI;i=u+OW;w=u;Om=z*(u-1)}if(RI<0&&OW>=0){W=z+RI;
l=z;i=0;w=OW;Om=z-1}if(RI<0&&OW<0){W=z+RI;l=z;i=u+OW;w=u;Om=z*u-1}for(var $=i;$<w;$++)for(var x=W;x<l;
x++)RX[$*z+x]=Yc[Om]}if(VV=="Wrp"){RI=(RI+100*z)%z;OW=(OW+100*u)%u;var YO=new N(RI-z,OW-u,z,u);O.GN(Yc,YO,RX,Y.rect);
YO.offset(z,0);O.GN(Yc,YO,RX,Y.rect);YO.offset(0,u);O.GN(Yc,YO,RX,Y.rect);YO.offset(-z,0);O.GN(Yc,YO,RX,Y.rect)}}if(R=="Rept"){var XM=B.Rsft.v.val/100,Vd=B.SpcX.v.val/100;
Vd=Math.max(Vd,-.99);var yr=B.SpcY.v.val/100;yr=Math.max(yr,-.99);var XA=B.Scl.v.val/100,XI=new GN;XI.rotate(B.Angl.v*Math.PI/180);
XI.scale(XA,XA);var Ry={buffer:Z.buffer,rect:Z.rect};O.Uj(Ry);if(Ry.rect.Pa()){Ry.buffer=Z.buffer;Ry.rect=Z.rect}var RH=Ry.buffer,YO=Ry.rect,Et=O.jV(RH,YO,0),Xt=new Uint32Array(RH.buffer)[0];
if(!Et.Pa()&&!Et.EW(YO)){var ym=O.a(Et.b()*4);O.GN(RH,YO,ym,Et);RH=ym;YO=Et}YO.x=YO.y=0;Xt=Vd==0&&yr==0||B.SpcC.v?Xt:0;
function OP(x){return x<0?Math.ceil(x):Math.floor(x)}var On=XI.qS(new VP(YO.Y,0));On.x=OP(On.x);On.y=OP(On.y);
var Ey=XI.qS(new VP(0,YO.Z));Ey.x=OP(Ey.x);Ey.y=OP(Ey.y);var EO=A.HQ.q$([RH,YO],XI,!1),EA=EO.rect,Xz=EO.buffer,Xn=Math.round(EA.x),XQ=Math.round(EA.y),RD=Math.max(Y.rect.Y,Y.rect.Z)/Math.min(YO.Y*XA*(1+Vd),YO.Z*XA*(1+yr));
RD=Math.ceil(RD*1.7);O.yg(Y.buffer,Xt);for(var $=-RD;$<RD;$++){for(var x=-RD;x<RD;x++){var Xd=(x+$*XM)*(1+Vd),XP=$*(1+yr);
EA.x=Xn+Math.round(Xd*On.x+XP*Ey.x);EA.y=XQ+Math.round(Xd*On.y+XP*Ey.y);if(EA.nl(Y.rect))O.e.FO("norm",Xz,EA,Y.buffer,Y.rect,EA,1)}}}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr".split(",").indexOf(R)!=-1){var z=Z.rect.Y,u=Z.rect.Z,YG,EG=0;
if(R=="LqFy")YG=Vp.NW(new Uint8Array(B.LqMe.v).buffer);else{var Oe=R=="Dspl"?1:3;YG={ZA:Math.floor(z/Oe),N$:Math.floor(u/Oe)};
YG.map=new Float32Array(YG.ZA*YG.N$*2);if(R=="LnCr"){var g=.5*(YG.ZA-1),k=.5*(YG.N$-1),V=Math.max(Math.abs(0-g),Math.abs(1-g)),Oy=Math.max(Math.abs(0-k),Math.abs(1-k)),Xv=Math.sqrt(V*V+Oy*Oy),aG=0,aY=0,Xe=-1,aX=2,XA=B.LnSi.v/100,aB=1/XA,Xm=B.LnIa.v/100,aI=Xm==0?1e-6:Xm*4.6,Or=aB/Xv;
for(var $=0;$<YG.N$;$++){for(var x=0;x<YG.ZA;x++){var GT=(x-g)*Or,YY=($-k)*Or,YL=Math.sqrt(GT*GT+YY*YY)*aI,ak=Math.atan(YL),Ee=Xm>0?ak/YL:YL/ak,yQ=g+Xv*Ee*GT,aL=k+Xv*Ee*YY,M=$*YG.ZA+x<<1;
YG.map[M]=yQ-x;YG.map[M+1]=aL-$}}}else if(R=="Dspl"&&E.length!=0){EG=B.UndA.v.UndA=="WrpA"?2:1;var al=B.DspF.v.pth,aV;
for(var M=0;M<E.length;M++)if(E[M].on==al)aV=E[M];if(aV==null)aV=E[0];aV.fw();var aS=aV.NO[1],at=O.a(aS.b());
O.FZ(aV.NO[0],at);var af=aS.Y,aJ=2*B.HrzS.v/Oe,aD=2*B.VrtS.v/Oe;for(var $=0;$<YG.N$;$++){for(var x=0;
x<YG.ZA;x++){var V=Math.floor(aS.Y*x/YG.ZA),Oy=Math.floor(aS.Z*$/YG.N$),GT=YY=-.5+at[Oy*af+V]/255,M=$*YG.ZA+x<<1;
YG.map[M]=GT*aJ;YG.map[M+1]=YY*aD}}}else if(R=="Pnch"||R=="Twrl"||R=="Sphr"){var Rh=1,yy=Math.PI,aq=0,RO=3,Ej=1.53,Ee=1;
if(R=="Pnch"||R=="Sphr")Rh=B.Amnt.v/100;if(R=="Twrl")yy=B.Angl.v*Math.PI/180;if(R=="Sphr")aq=["Nrml","HrzO","VrtO"].indexOf(B.SphM.v.SphM);
function Yu(x){x=Math.pow(x,1-x*.3-x*x*(x*x)*.5);return-.225*Math.sin(x*Math.PI)}function aW(u,XT,YL,W,i,l,w,Ee){var GT=l-W,YY=w-i,Rt=W-u,jI=i-XT,OQ=GT*GT+YY*YY,YM=2*(GT*Rt+YY*jI),RO=Rt*Rt+jI*jI-YL*YL,jB=Math.sqrt(YM*YM-4*OQ*RO),jw=Ee/(2*OQ),jA=(-YM+jB)*jw,j_=(-YM-jB)*jw;
return Ee*Math.min(jA,j_)}var VT=YG.ZA,XB=YG.N$,aA=YG.ZA/2,Y_=YG.N$/2,av=1/aA,YL=Math.sqrt(RO*RO+1)/RO,YJ=RO+Math.sqrt(1/(RO*RO));
if(Rh<0){RO=1.72;YL=1;YJ=RO;Ej=-1;Ee=-1}for(var $=0;$<XB;$++){var YY=($-Y_)/Y_;for(var x=0;x<VT;x++){var GT=(x-aA)*av;
if(aq==1)YY=0;else if(aq==2)GT=0;var RT=Math.sqrt(GT*GT+YY*YY);if(RT<1&&RT!=0){var M=$*YG.ZA+x<<1;if(R=="Pnch"){var ai=-Rh*Yu(RT)/RT;
YG.map[M]=GT*ai*aA;YG.map[M+1]=YY*ai*Y_}else if(R=="Sphr"){var Xr=aW(0,YJ,YL,0,0,RT,RO,Ee),aU=Ej*Rh*(Xr-1);
YG.map[M]=GT*aU*aA;YG.map[M+1]=YY*aU*Y_}else if(R=="Twrl"){var yF=Math.atan2(YY,GT)-yy*(1-RT)*(1-RT),a$=Math.cos(yF),ax=Math.sin(yF);
YG.map[M]=(RT*a$-GT)*aA;YG.map[M+1]=(RT*ax-YY)*Y_}}}}}else if(R=="Shr "){var ae=JSON.parse(JSON.stringify(B.ShrP.v));
O.An.P(ae,new GN(0,255/127,255/127,0,-2,0));var aK=O.An.Or(ae,YG.N$,!0);EG=B.UndA.v.UndA=="WrpA"?2:1;
for(var $=0;$<YG.N$;$++){var GT=-aK[$]*YG.ZA;for(var x=0;x<YG.ZA;x++){var M=$*YG.ZA+x<<1;YG.map[M]=GT}}}else if(R=="Wave"){var ap=B.NmbG.v,aZ=B.WLMn.v,ao=B.WLMx.v,aM=B.AmMn.v*(Math.PI/4),as=B.AmMx.v*(Math.PI/4),aH=B.SclH.v/100,aF=B.SclV.v/100,XC=B.Wvtp.v.Wvtp,au=Math.sin;
if(XC=="WvTr")au=function(x){x*=2/Math.PI;return-.5+Math.abs(x%2-1)};if(XC=="WvSq")au=function(x){x*=2/Math.PI;
return 1+2*Math.floor(x%2-1)};var yV=[],aR=new O.e.jh(B.RndS.v);for(var M=0;M<ap;M++){yV.push(aR.get()*10);
yV.push(Math.PI*Oe/(aZ+aR.get()*(ao-aZ)));yV.push(aH*(aM+aR.get()*(as-aM))/Oe);yV.push(aR.get()*10);
yV.push(Math.PI*Oe/(aZ+aR.get()*(ao-aZ)));yV.push(aF*(aM+aR.get()*(as-aM))/Oe)}var aC=[],ac=[],ad=Math.max(YG.ZA,YG.N$);
for(var M=0;M<ad;M++){var GT=0,YY=0;for(var Yo=0;Yo<ap;Yo++){var aj=Yo*6;GT+=yV[aj+2]*au(yV[aj]+M*yV[aj+1]);
YY+=yV[aj+5]*au(yV[aj+3]+M*yV[aj+4])}aC[M]=YY;ac[M]=GT}for(var $=0;$<YG.N$;$++){for(var x=0;x<YG.ZA;
x++){var M=$*YG.ZA+x<<1;YG.map[M]=ac[$];YG.map[M+1]=aC[x]}}EG=B.UndA.v.UndA=="WrpA"?2:1}else if(R=="Rple"){EG=1;
var Rh=B.Amnt.v/100,aQ=4,aP=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],jk=1,t=1,Rt=0,jy=["Sml","Mdm","Lrg"].indexOf(B.RplS.v.RplS);
if(jy==0){jk=1;t=.2;Rt=3}if(jy==2){jk=1;t=2;Rt=-1;aP=aP.reverse()}var jE=function(x,$){var RO=Math.cos,Gn=0;
for(var M=0;M<aQ;M++)for(var Yo=0;Yo<aQ;Yo++)Gn+=aP[M*aQ+Yo]*RO(x*(M+Rt)-$*(Yo+Rt));return Gn},Ez=Math.floor(50/Oe),jG=new Float32Array(Ez*Ez*2),jY=t*Rh*.5/Oe;
for(var $=0;$<Ez;$++)for(var x=0;x<Ez;x++){var g=jk*x*2*Math.PI/Ez,k=jk*$*2*Math.PI/Ez,jR=jE(g,k),GT=(jE(g+.01,k)-jR)*100,YY=(jE(g,k+.01)-jR)*100,M=($*Ez+x)*2;
jG[M]=GT*jY;jG[M+1]=YY*jY}for(var $=0;$<YG.N$;$++)for(var x=0;x<YG.ZA;x++){var ax=$%Ez,a$=x%Ez,M=$*YG.ZA+x<<1,jX=ax*Ez+a$<<1;
YG.map[M]=jG[jX];YG.map[M+1]=jG[jX+1]}}}O.$g.IO(Z.buffer,Y.buffer,z,u,null,YG.map,YG.ZA,YG.N$,EG)}return Y};
var Yt={};Yt.OqG="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");Yt.tt="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
Yt.ti=["ScrC","ScrD","ScrL"];Yt.tc=["SDRD","SDHz","SDLD","SDVt"];Yt.AE={PntD:"paintDaubs"};Yt.names={PntD:"Paint Daubs",Spt:"Spatter",SprS:"Sprayed Strokes",BsRl:"Bas Relief",HlfS:"Halftone Pattern",GlwE:"Glowing Edges",StnG:"Stained Glass"};
Yt.wI=function(R){var Z;if(R=="PntD")Z={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};
if(R=="Spt")Z={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};if(R=="SprS")Z={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(R=="BsRl")Z={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};if(R=="HlfS")Z={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};
if(R=="GlwE")Z={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(R=="StnG")Z={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
Z.__name="Filter Gallery";Z.classID="GEfc";Z.GEfk={t:"enum",v:{GEft:R}};return Z};Yt.eX=function(R,Z,B,o,r,Y,E){R=B.GEfk.v.GEft;
var p=Z.rect.Y,y=Z.rect.Z;if(R=="Spt"||R=="SprS"){var p=Z.rect.Y,y=Z.rect.Z,z,u=1,Q=1;z={ZA:Math.floor(p/Q),N$:Math.floor(y/Q)};
z.map=new Float32Array(z.ZA*z.N$*2);var H=new O.e.jh(B.FlRs.v),T=new Float32Array(8192),C=B.SprR.v,e=C<20?.018*C:.36+(C-20)*.128;
if(R=="SprS"){e=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][C]}for(var $=0;
$<8192;$++)T[$]=(-1+2*H.get())*e*70;for(var x=0;x<y;x++)for(var M=0;M<p;M++){var m=x*p+M<<1;z.map[m]=T[m%7919];
z.map[m+1]=T[(m+1)%7919]}var G=z.map.slice(0),K=R=="Spt"?B.Smth.v-1:1;if(R=="Spt"&&K!=0){Yt.OjK(z.map,G,p,y,K);
Yt.OjC(G,z.map,p,y,K)}if(R=="SprS"){var s=B.StrL.v>>>1,L=s==0?2:1;Yt.OjK(z.map,G,p,y,L);Yt.OjC(G,z.map,p,y,L);
if(s!=0){var _=Yt.tc.indexOf(B.SDir.v.StrD),P=[1,1,1,0][_],i=[-1,0,1,1][_],w=2*s+1,k=1/w;for(var x=0;
x<y;x++)for(var M=0;M<p;M++){var m=x*p+M<<1,h=0,j=0;for(var $=0;$<w;$++){var I=Math.max(0,Math.min(p-1,M-(s+$)*P)),V=Math.max(0,Math.min(y-1,x-(s+$)*i)),F=V*p+I<<1;
h+=z.map[F];j+=z.map[F+1]}G[m]=h*k;G[m+1]=j*k}z.map=G}}O.$g.IO(Z.buffer,Y.buffer,p,y,null,z.map,z.ZA,z.N$,u)}if(R=="BsRl"){var q=Z.rect.b(),t=O.a(q),c=t.slice(0);
O.FZ(Z.buffer,t);var f=B.Dtl.v,W=B.Smth.v;if(f!=15){O.blur.uy(t,c,Z.rect,Math.round((15-f)*.5));O.VG(c,t)}var l=2/p,g=2/y,v=(2+Yt.tt.indexOf(B.LghD.v.LghD))*Math.PI*.25,h=Math.cos(v);
if(Math.abs(h)<.1)h=0;h=Math.sign(h);var j=Math.sin(v);if(Math.abs(j)<.1)j=0;j=Math.sign(j);var Vg=1/(h*h+j*j);
for(var x=0;x<y;x++)for(var M=0;M<p;M++){var $=x*p+M,P=M==p-1?t[$]-t[$-1]:t[$+1]-t[$],i=x==y-1?t[$]-t[$-p]:t[$+p]-t[$],GE=M*l-1,Gy=x*g-1,GY=P==0?GE:P*.4;
GY=Math.max(-1,Math.min(1,h*GY));var Ga=i==0?Gy:i*.4;Ga=Math.max(-1,Math.min(1,j*Ga));c[$]=128+127*(GY+Ga)*Vg}if(W!=1){O.blur.uy(c,t,Z.rect,Math.round((W-1)*.5));
O.VG(t,c)}O.as(c,Y.buffer)}if(R=="PlsW__"){var q=Z.rect.b(),t=O.a(q),c=t.slice(0);O.FZ(Z.buffer,t);var f=B.Dtl.v,W=B.Smth.v;
if(f!=15){O.blur.uy(t,c,Z.rect,Math.round((15-f)*.5));O.VG(c,t)}for(var x=0;x<y;x++)for(var M=0;M<p;
M++){var $=x*p+M,P=M==p-1?t[$]-t[$-1]:t[$+1]-t[$],i=x==y-1?t[$]-t[$-p]:t[$+p]-t[$],GO=P*P+i*i;c[$]=Math.max(0,255-GO*190)}var J=new Float32Array(q);
for(var $=0;$<q;$++)J[$]=c[$];if(W!=1){O.blur.Dj(J.slice(0),J,Z.rect,Math.round((W-1)*.2))}for(var x=0;
x<y;x++)for(var M=0;M<p;M++){var $=x*p+M,D=$<<2,GB=J[$],Gj=Y.buffer[D],GX=Y.buffer[D+1],Gw=Y.buffer[D+2],P=M==p-1?GB-J[$-1]:J[$+1]-GB,i=x==y-1?GB-J[$-p]:J[$+p]-GB,G_=-1,Gf=1,Gl=0,GU=P,GD=0,Gi=1,Gh=i,Gv=1;
P=Gl*Gh-GU*Gi;i=GU*GD-Gf*Gh;G_=Gf*Gi-Gl*GD;var G$=1/Math.sqrt(P*P+i*i+G_*G_);P*=G$;i*=G$;G_*=G$;var GA=M-p/2,GJ=x-y/2,Ge=p*.3,G$=1/Math.sqrt(GA*GA+GJ*GJ+Ge*Ge);
GA*=G$;GJ*=G$;Ge*=G$;var Gq=Math.max(0,GA*P+GJ*i+Ge*G_);if(Gq>1)throw Gq;var yi=Gq*255;Y.buffer[D]=Gv*yi+(1-Gv)*Gj;
Y.buffer[D+1]=Gv*yi+(1-Gv)*GX;Y.buffer[D+2]=Gv*yi+(1-Gv)*Gw}}if(R=="PntD"){var GZ=B.Shrp.v*.4,OU=B.BrsT.v.BrsT,GH={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[OU],OB=Math.round(B.Sz.v*.5);
O.AO.$l=GH[0];var Gb=O.AO.js;Go.iN(Z.buffer,Y.buffer,p,y,OB,Gb,[],0);var Gu=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];
Gu=O.AO.fb(Gu);var GP=Y.buffer.slice(0);O.AO.Ms(GP,Y.buffer,p,y,Gu,0);for(var $=0;$<Z.buffer.length;
$++){var Gn=Y.buffer[$]-GP[$];Y.buffer[$]=Math.max(0,Math.min(255,GP[$]+GZ*Gn))}}if(R=="GlwE"){var Yy=Y.buffer.slice(0);
O.AO.$l=.5;var Gb=O.AO.js;Go.iN(Z.buffer,Yy,p,y,B.Smth.v>>>1,Gb,[],0);Go.Otj(Yy,Y.buffer,p,y);O.VG(Y.buffer,Yy);
O.za(Yy);O.yg(Yy,4278190080,16777215);Go.iN(Yy,Y.buffer,p,y,B.EdgW.v>>>1,O.AO.g$,[],0);var Gv=B.EdgB.v/10;
for(var $=0;$<Yy.length;$++){if(($&3)==3)continue;var Gm=Y.buffer[$];Y.buffer[$]=Math.max(0,Math.min(255,Gm*Gv))}}if(R=="StnG"){var p=Z.rect.Y,y=Z.rect.Z;
O.vI.Owl(Z.buffer,p,y,Y.buffer,B.ClSz.v,[Math.round(o.F),Math.round(o.S),Math.round(o.X)],B.BrdT.v)}if(R=="HlfS"){var GW=B.HlSz.v,YR=GW*2+1,YE=B.Cntr.v,Yq=Yt.ti.indexOf(B.ScrT.v.ScrT),q=p*y,YX=q*4,O_=O.a(q),Y_=Z.buffer,yR=0,Oj=0;
for(var $=0;$<YX;$+=4)O_[$>>>2]=~~(.5+(Y_[$]+Y_[$+1]+Y_[$+2])*(1/3));var OY=O_.slice(0);O.blur.gI(OY,O_,Z.rect,GW);
var GT=Math.PI/YR,YY=new Float64Array(p),h=new Float64Array(p),Of=new Float64Array(2*p);for(var M=0;
M<p;M++){var Ox=(M-(p>>>1))*GT;YY[M]=Ox*Ox;h[M]=Math.cos(Ox);var P=M<<1;Of[P]=Math.sin(P*(1/4.5));Of[P+1]=Math.sin((P+1)*(1/4.5))}for(var x=0;
x<y;x++){var RV=(x-(y>>>1))*GT,j=Math.cos(RV),OJ=RV*RV;for(var M=0;M<p;M++){var Ye=j;if(Yq==0){var ye=.5+Math.sqrt(YY[M]+OJ)*4.5;
Ye=Of[~~ye]}else if(Yq==1){Ye=h[M]*j}var $=x*p+M,yi=O_[$]*(.75+.25*Ye),Ys=Y_[($<<2)+3]*(1/255),YC=Math.max(0,Math.min(255,~~yi));
yR+=YC*Ys,Oj+=Ys;O_[$]=YC}}yR/=Oj;var YD=128+1.26*(yR-128),Gv=.08+.25*Math.abs((128-yR)/128),yf=1+Gv*YE;
for(var $=0;$<q;$++){var yi=YD+(O_[$]-YD)*yf;O_[$]=Math.max(0,Math.min(255,~~yi))}if(YE>46)O.round(O_);
O.as(O_,Y.buffer)}for(var $=0;$<Z.buffer.length;$+=4)Y.buffer[$+3]=Z.buffer[$+3]};Yt.OYL=function(R){var Z=[0,0,0,0,0,0,0,0,0,0,0,0,0],B=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][R];
for(var o=0;o<13;o++){var r=o-6;Z[o]=1/(B*Math.sqrt(2*Math.PI))*Math.exp(-.5*(r/B)*(r/B))}return Z};
Yt.OjK=function(R,Z,B,o,r){var Y=Yt.OYL(r),E=6,p=13;for(var y=0;y<o;y++)for(var z=0;z<B;z++){var u=y*B+z<<1,Q=0,H=0;
for(var T=0;T<p;T++){var C=z+T-E,e=C<0?0:C>=B?B-1:C,$=(y*B+e)*2,x=Y[T];Q+=x*R[$];H+=x*R[$+1]}Z[u]=Q;
Z[u+1]=H}};Yt.OjC=function(R,Z,B,o,r){var Y=Yt.OYL(r),E=6,p=13;for(var y=0;y<o;y++)for(var z=0;z<B;z++){var u=y*B+z<<1,Q=0,H=0;
for(var T=0;T<p;T++){var C=y+T-E,e=C<0?0:C>=o?o-1:C,$=(e*B+z)*2,x=Y[T];Q+=x*R[$];H+=x*R[$+1]}Z[u]=Q;
Z[u+1]=H}};function Gd(){}Gd.WT=[2,5,5,7,4,4];Gd.pz="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
Gd.Ie="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
Gd.pp=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
Gd.Okc=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
Gd.AQ=function(R){if(R=="passThrough")return"pass";return Gd.pz[Gd.Ie.indexOf(R)]};Gd.iv=function(R){if(R=="pass")return"passThrough";
return Gd.Ie[Gd.pz.indexOf(R)]};Gd.getName=function(R){return Gd.pp[Gd.pz.indexOf(R)]};function S(){this.rect=null;
this.QV="norm";this.opacity=255;this.fa=!1;this.Kw=0;this.gt=0;this.PG=[];for(var R=0;R<10;R++)this.PG.push(0,0,255,255);
this.name=null;this.add={};this.buffer=null;this.lI=null;this.MK=null;this.m=null;this.JC=null;this.O_Z=30;
this.UT=S.WQ();this.OlH=S.WQ();this.OSI=S.WQ();this.OSd=S.WQ();this.Fv=0;this.GQ=!1;this.UG=null;this.g=new S.td}S.WQ=function(){var R=X.T("canvas");
R.width=R.height=30;return R.getContext("2d")};S.td=function(){this.uS=!0;this.VC=!0;this.mg=O.a(0);
this.Otz=O.a(0);this.sq=null;this.XE={};this.Oti=null;this.mP=null;this.Pr=null;this.xO=null;this._y=null;
this.XU=null;this.rc=null;this.aP=null;this.Xx=null;this.Pc=null;this.uf=null;this.bY=null;this._E=!1};
S.td.prototype.OVL=function(){this.uS=!1;this.VC=!1;this.sq=null;this._E=d.lx};S.td.prototype.Ows=function(){GS.OGX(this.XE);
this.mg=O.a(0);this.Otz=O.a(0);if(this.xO)this.xO.delete();if(this._y)this._y.delete();this.xO=null;
this._y=null;var R=[this.XU,this.rc,this.aP,this.Xx,this.Pc,this.uf];for(var Z=0;Z<6;Z++)if(R[Z]!=null&&R[Z]instanceof d.ZF)R[Z].delete();
this.XU=null;this.rc=null;this.aP=null;this.Xx=null;this.Pc=null;this.uf=null};S.prototype.U=function(R){if(R==null)R=this.rect.clone();
if(this.g.sq==null)this.g.sq=R;else this.g.sq=this.g.sq.fj(R)};S.prototype.av=function(){return this.add.lsct==YV.A_||this.add.lsct==YV.Zg};
S.prototype.yJ=function(){var R=this.add;return R.SoCo!=null||R.GdFl!=null||R.PtFl!=null};S.prototype.OYR=function(){var R=this.add.lmfx;
if(R==null)return;var Z=["GrFl","patternFill"];for(var B=0;B<Z.length;B++){var o=Gk._p[Gk.order.indexOf(Z[B])],r=R[o].v;
if(r.length==0)continue;for(var Y=0;Y<r.length;Y++){var E=r[Y].v;if(E.enab.v&&(E.Algn==null||!E.Algn.v))this.g.VC=!0}}};
S.prototype.OaW=function(){var R=this.m;if(this.yJ())R=this.F$();if(!d.lx)return R.UV();if(this.g._y==null||this.g.uS||d.lx!=this.g._E){if(this.g._y)this.g._y.delete();
this.g._y=new d.qM(R.mb().Y,R.mb().Z);this.g._y.set(R.UV())}return this.g._y};S.prototype.Oas=function(R){var Z=this.rect,B=this.buffer;
if(!d.lx){var o=this.tn(R,B,Z);if(o){B=o.Y$;Z=o.rect}return B}if(this.g.sq!=null||d.lx!=this.g._E){var o=this.tn(R,B,Z);
if(o){B=o.Y$;Z=o.rect}var r=Z;if(d.lx!=this.g._E||this.g.xO==null||this.g.xO.Y!=r.Y||this.g.xO.Z!=r.Z){if(this.g.xO)this.g.xO.delete();
this.g.xO=new d.ZF(r.Y,r.Z);this.g.xO.set(B)}else{var Y=this.g.sq.clone();Y.offset(-Z.x,-Z.y);this.g.xO.set(B,Y)}}return this.g.xO};
S.prototype.AX=function(){var R=this.m;if(this.yJ())R=this.F$();return R!=null&&R.isEnabled&&(R.iz()==0||R.iz()!=0&&!R.rect.Pa())};
S.prototype.tn=function(R,Z,B){if(this.by()){var o=this.YQ(R);if(o.m&&o.m.isEnabled&&(!o.m.rect.Pa()||o.m.color==0)){var r=this.add.SoLd.filterFX.v;
o.m.ed=r.filterMaskDensity?r.filterMaskDensity.v:255;o.m.lB=r.filterMaskFeather?r.filterMaskFeather.v:0;
var Y=o.buffer,E=o.m.yD(B);O.za(E);Z=O.clone(Z);O.e.AD(Y,o.rect,Z,B,E,B,0,B,1);return{Y$:Z,rect:B}}}};
S.prototype.Owm=function(){var R={uJ:!1,uD:!1,bX:0,ba:0};if(this.add.vmsk&&this.add.vmsk.isEnabled)R.uD=!0;
if(this.F$()&&this.F$().isEnabled)R.uJ=!0;if(R.uJ&&R.uD){R.bX=this.F$().rect.x-this.add.vmsk.F$().rect.x;
R.ba=this.F$().rect.y-this.add.vmsk.F$().rect.y}return R};S.prototype.Aq=function(R){if(this.add.lsct==YV.Ng)return;
var Z=this,B=this.F$()!=null&&this.F$().Zr,o=this.add.vmsk!=null&&this.add.vmsk.Zr,r=this.Owm(),Y=JSON.stringify(r)!=this.g.Oti||r.uJ&&B||r.uD&&o;
if(Y){if(r.uD){var E=this.add.vmsk.F$();if(r.uJ){this.m=this.F$()._s(E);this.g.mP=new VP(this.m.rect.x-this.F$().rect.x,this.m.rect.y-this.F$().rect.y)}else this.m=E}if(this.m)this.g.uS=!0;
if(this.m)this.g.Pr=new VP(this.rect.x-this.m.rect.x,this.rect.y-this.m.rect.y);if(r.uJ)this.F$().Zr=!1;
if(r.uD)this.add.vmsk.Zr=!1;this.U()}else{if(r.uJ&&r.uD){this.m.rect.x=this.F$().rect.x+this.g.mP.x;
this.m.rect.y=this.F$().rect.y+this.g.mP.y}}if(Z.yJ()){this.HS(R)}if(Z.NA()){var p;if(this.m)p=new VP(this.rect.x-this.m.rect.x,this.rect.y-this.m.rect.y);
if(this.m&&this.m.isEnabled&&(this.g.Pr==null||!p.EW(this.g.Pr))){this.g.Pr=p;this.U();this.g.uS=!0}}if(GK.get(Z.add)!=null)this.g.uS=!0;
this.g.Oti=JSON.stringify(r)};S.prototype.HS=function(R){var Z=this,B=Z.add.vstk,o,r=Z.add.vmsk?this.add.vmsk.F$():null,p=!0;
if(r&&r.isEnabled&&r.iz()==0)o=r.mb().clone();else o=new N(0,0,R.Y,R.Z);var Y=Z.F$();if(Y&&Y.isEnabled&&Y.iz()==0)o=o.Rg(Z.m.mb());
var E=r&&B;if(B&&(!B.strokeEnabled.v||B.strokeStyleLineWidth.v.val==0))E=!1;if(B&&!B.fillEnabled.v&&E)p=!1;
var y=O.a(o.b()*4);if(p){if(Z.add.SoCo)GS.rN(y,Z.add.SoCo.Clr.v);if(Z.add.GdFl)GS.xc(Z.add.GdFl,y,o,R,null,r&&r.color==0?r.rect:null);
if(Z.add.PtFl)GS.TA(Z.add.PtFl,y,o,R,Z.add.fxrp)}if(r){var z=r.ed;if(E)r.ed=255;var u=O.a(o.b());if(r.iz()!=0)O.set(u,Math.round(r.iz()));
if(r&&r.isEnabled){var Q=r.mb(),H=r.UV();if(Q.EW(o))O.VG(H,u);else O.WX(H,Q,u,o)}if(Z.add.SoCo&&p){O.qH(u,y,3)}else O.Ac(u,o,y,o);
if(E)r.ed=z}Z.buffer=y;Z.rect=o;if(E){var T=Gk.uI.vl.indexOf(B.strokeStyleLineAlignment.v.strokeStyleLineAlignment),C=B.strokeStyleContent.v,e=Gk.uI.FJ.indexOf(C.classID),$=this.add.vmsk.F$(B);
if(Z.rect.EW(new N(0,0,R.Y,R.Z)))Z.rect=Z.rect;else if(T!=0){var x=Z.rect.fj($.mb()),M=O.a(x.b()*4);
O.GN(Z.buffer,Z.rect,M,x);Z.buffer=M;Z.rect=x}var z=$.ed;$.ed=255;var m=$.yD(Z.rect);$.ed=z;if($.color==255)O.za(m);
var G=O.a(Z.rect.b()*4);if(e==0)GS.rN(G,C.Clr.v);if(e==1)GS.xc(C,G,Z.rect,R,null,r.color==0?r.rect:null);
if(e==2)GS.TA(C,G,Z.rect,R,Z.add.fxrp);var K=B.strokeStyleOpacity.v.val/100;if(K!=1)O.iQ(m,K);O.qH(m,G,3);
if($.color==255)T=2-T;if(T==0){O.e.FO("norm",G,Z.rect,Z.buffer,Z.rect,Z.rect,1);O.Ac(u,Z.rect,Z.buffer,Z.rect)}if(T==1){O.e.FO("norm",G,Z.rect,Z.buffer,Z.rect,Z.rect,1)}if(T==2){O.za(u);
O.e.AD(G,Z.rect,Z.buffer,Z.rect,u,o,255,Z.rect,1,!1);O.za(u)}if($.ed!=255){var s=O.clone(G);O.yg(s,4278190080,16777215);
O.e.FO("norm",s,Z.rect,Z.buffer,Z.rect,Z.rect,1-$.ed/255)}z=r.ed;r.ed=255;this.Otz=r.yD(Z.rect);r.ed=z}this.U()};
S.prototype.AS=function(R,Z){var B=this,o=B.add.SoLd.Idnt.v,r=B.add.SoLd,Y=R.uw(o,r.Crop?r.Crop.v:null);
if(Y==null)return;var E=Y.NO;r.Sz.v.Wdth.v=E[1].Y;r.Sz.v.Hght.v=E[1].Z;var p=r.warp.v,y=A.HQ.Qj(r.nonAffineTransform),z=O.f.ik(y,E[1]);
if(p&&!O.Ef.oU(p)){var u=O.W.Rn(O.Ef.zT(p)),Q=u.x,H=u.y,T=1/u.Y,C=1/u.Z;z=O.f.ik(y);z=O.f._s(z,[T,0,-Q*T,0,C,-H*C,0,0])}var e=A.HQ.Wb(E,Z?0:1,z,p);
if(e==null){B.buffer=O.a();B.rect=new N}else if(B.by()){var $=B.YQ(R);$.buffer=e.buffer;$.rect=e.rect.clone();
this.OC(R,Z)}else{B.buffer=e.buffer;B.rect=e.rect}B.Aq(R);B.U();R.U()};S.prototype.OC=function(R,Z){if(Z==null)Z=!1;
var B=this.YQ(R),o=this.add.SoLd.filterFX.v,r=Go.OwJ(o),Y=new N(0,0,R.Y,R.Z),E=B.rect.fj(Y),p=B.rect.clone();
p.yj(r.x,r.y);var y={buffer:null,rect:E.Rg(p)};y.buffer=O.a(y.rect.b()*4);O.GN(B.buffer,B.rect,y.buffer,y.rect);
if(o.enab.v&&Z==!1){var z=o.filterFXList.v;for(var u=0;u<z.length;u++){var Q=z[u].v;if(Q.enab.v==!1)continue;
var H=O.L.iz(Q.FrgC.v),T=O.L.iz(Q.BckC.v),C=U.KK(Q.filterID.v),e=Q.Fltr?Q.Fltr.v:null;if(GK.Ou[C]!=null){var $=GK.Ou[C],x=GK.O$($,e);
if(x)GK.eX(x,y.buffer,y.buffer,y.rect)}else y=Go.eX(C,y,e,H,T,null,R.add.lnk2?R.add.lnk2:[],R.tP)}}this.rect=y.rect;
this.buffer=y.buffer;this.gG();this.U();R.U()};S.prototype.fk=function(R,Z,B){this.UG=this.OB_(R,Z,B)};
S.prototype.OBG=function(R,Z){var B=this.OB_(R,Z,!0);if(B==null)return null;var o={Eb:B.Fv,Gp:B.oS,rect:B.Zj};
if(o.Eb==1||o.Eb==3){var r=o.rect,Y=O.a(r.Y*r.Z*4);O.qH(o.Gp,Y,0);O.qH(o.Gp,Y,1);O.qH(o.Gp,Y,2);O.QZ(R.O.channel,R.O.rect,Y,r);
o.Gp=Y}return o};S.prototype.OB_=function(R,Z,B){var o,r,Y,E,p,y,z;if(this.Fv<=0){var u=O.a(this.rect.b());
O.KT(this.buffer,u,3);o=O.zg.BG(Z,{channel:u,rect:this.rect},"intersection");if(o==null)return null;
var Q=O.Fs(o.channel,o.rect);E=o.rect.clone();p=this.rect.clone();r=O.a(E.b()*4);O.GN(this.buffer,p,r,E);
O.qH(o.channel,r,3);Y=O.clone(this.buffer);if(!B){var H=O.clone(Z.channel);O.za(H);O.Ac(H,Z.rect,Y,p)}y=O.clone(this.buffer);
z=this.rect.clone()}if(this.Fv==1||this.Fv==3){var T=this.Fv==1?this.F$():this.YQ(R).m;E=Z.rect.clone();
p=T.rect.clone();r=T.Olj(E);var Y=O.clone(T.channel);if(!B)O.e.fI(T.color==255?O.jR(E.b()):O.GP(E.b()),E,Y,p,Z.channel,E,1);
y=O.clone(T.channel);z=T.rect.clone()}return{Fv:this.Fv,oS:r,Zj:E,pS:Y,XX:p,bj:y,bI:z}};S.prototype.fO=function(R,Z){var B=this.UG;
if(B.Fv==0){this.rect=B.bI;this.buffer=B.bj;this.U()}if(B.Fv==1||B.Fv==3){var o=B.Fv==1?this.F$():this.YQ(R).m;
o.channel=B.bj;o.rect=B.bI;if(this.Fv==1){o.Zr=!0;this.Aq(R)}if(this.Fv==3)this.U()}this.UG=Z};S.prototype.HN=function(R,Z){if(this.Fv<=0&&Z.rect.EW(this.rect)){var B=O.a(this.rect.b());
O.KT(this.buffer,B,3);if(O.EW(R.O.channel,B)){var o=this.rect,r=this.buffer;this.UG={Fv:this.Fv,oS:r.slice(0),Zj:o.clone(),pS:O.a(0),XX:new N,bj:O.a(0),bI:new N};
return!0}}var Y=this.UG;if(Y==null)return!1;if(Y.Fv!=this.Fv)return!1;if(!Z.rect.EW(Y.Zj))return!1;var E=Y.XX.fj(Y.Zj);
if(Y.Fv<=0){if(!E.EW(this.rect))return!1;var p=O.a(Y.oS.length>>2);O.KT(Y.oS,p,3);if(!O.EW(Z.channel,p))return!1;
var y=O.a(E.Y*E.Z*4);O.GN(Y.pS,Y.XX,y,E);O.e.FO("norm",Y.oS,Y.Zj,y,E,E,1);return O.EW(y,this.buffer)}if(Y.Fv==1||Y.Fv==3){var z=Y.Fv==1?this.F$():this.YQ(R).m;
if(!E.EW(z.rect))return!1;var u=O.a(E.b());O.set(u,z.color);O.WX(Y.pS,Y.XX,u,E);O.e.fI(Y.oS,Y.Zj,u,E,Z.channel,E,1);
return O.EW(u,z.channel)}};S.prototype.Uk=function(R,Z,B,o){var r=this.UG;r.Zj.offset(Z,B);var Y=r.XX.fj(r.Zj);
if(r.Fv<=0){var E=O.a(Y.b()*4);O.GN(r.pS,r.XX,E,Y);O.e.FO("norm",r.oS,r.Zj,E,Y,Y,1);this.buffer=E;this.rect=Y;
this.U()}else{var p=this.Fv==1?this.F$():this.YQ(R).m,y=O.a(Y.b());O.set(y,p.color);O.WX(r.pS,r.XX,y,Y);
O.e.fI(r.oS,r.Zj,y,Y,o.channel,Y,1);p.channel=y;p.rect=Y.clone();if(this.Fv==1){p.Zr=!0;this.Aq(R)}if(this.Fv==3)this.U()}};
S.prototype.OBf=function(){var R=[-1,0,1,2];if(this.m)R.push(-2);if(this.JC)R.push(-3);return R};S.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};
S.prototype.AA=function(R){this.add.luni=this.name=R};S.prototype.fE=function(R){var Z=this.add.lnsr,B=this.add.TySh;
if(Z=="rend"&&B)this.AA(GV.el(B.HC).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))};S.prototype.YT=function(){return(this.Kw&1<<1)==0};
S.prototype.NA=function(){return(this.Kw&1<<4)==0};S.prototype.X_=function(){return(this.Kw&1<<5)!=0};
S.prototype.OwC=function(){var R=this;if(R.add.lnsr!="bgnd"){R.add.lnsr="bgnd";R.AA("Background");R.add.lspf=1<<2}};
S.prototype.Own=function(){var R=this;if(R.add.lnsr=="bgnd"){delete R.add.lnsr;R.AA("Layer 0");R.add.lspf=0}};
S.prototype._A=function(R){var Z=this.add.lspf;return Z==null?!1:(Z>>R&1)!=0};S.prototype.eM=function(R){if(R&&!this.YT())this.Kw-=2;
if(!R&&this.YT())this.Kw+=2};S.prototype.Hv=function(){var R=this.add.lmfx;if(R==null)return!1;for(var Z in R){if(Z=="masterFXSwitch")continue;
if(Z=="Scl")continue;if(Z=="classID")continue;if(R[Z].v.length>0)return!0}return!1};S.prototype.by=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
S.prototype.oY=function(){var R=this.add.lmfx;if(R==null)return!1;if(!R.masterFXSwitch.v)return!1;for(var Z in R){if(Z=="masterFXSwitch")continue;
if(Z=="Scl")continue;if(Z=="classID")continue;var B=R[Z].v;for(var o=0;o<B.length;o++)if(B[o].v.enab.v)return!0}return!1};
S.prototype.NQ=function(R,Z,B,o){var r=new N,Y=this.He(R,B,o);if(Y.indexOf(0)!=-1)r=r.fj(this.rect);
if(Y.indexOf(1)!=-1)r=r.fj(this.F$().mb());if(Y.indexOf(2)!=-1){var E=this.add.vmsk,p;if(Z){if(E._R.length>1){var y=O.V.Fa(E.u,null,E._R);
p=O.W.Rn(y)}else p=O.V.pA(E.u,E.C.length!=0?E.C:null)}else p=O.V.pA(E.u);r=r.fj(p)}if(Y.indexOf(3)!=-1)r=r.fj(this.YQ(R).m.mb());
if(Y.length==0&&this.yJ())r=new N(0,0,R.Y,R.Z);return r};S.prototype.NT=function(){var R=this.add.artb.artboardRect.v,Z=R.Btom.v,B=R.Left.v,o=R.Rght.v,top=R.Top.v;
return new N(B,top,o-B,Z-top)};S.prototype.yh=function(R){var Z=S.OAs(R);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=Z};S.OAs=function(R){var Z={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
Z.Btom.v=R.y+R.Z;Z.Left.v=R.x;Z.Rght.v=R.x+R.Y;Z.Top.v=R.y;return Z};S.prototype.He=function(R,Z,B){var o=[],r=this,Y=this.GQ;
if(!Z&&r.GQ&&B){o.push(2)}else if(r.Fv<=0||Z){if(r.NA())if(!this.rect.Pa())o.push(0);if(r.F$()&&!r.F$().rect.Pa())if(r.F$().vG||Z)o.push(1);
if(r.add.vmsk)if(r.add.vmsk.vG||Z)o.push(2);if(r.by()&&r.YQ(R).m&&!r.YQ(R).m.rect.Pa())o.push(3)}else if(r.Fv==1){o.push(1);
if(r.F$().vG&&!r.F$().rect.Pa()){if(r.NA())if(!this.rect.Pa())o.push(0);if(r.add.vmsk)if(r.add.vmsk.vG)o.push(2)}}else if(r.Fv==3&&!r.YQ(R).m.rect.Pa())o.push(3);
if(r.add.artb&&o.indexOf(0)==-1)o.push(0);o.sort();return o};S.prototype.F$=function(){var R=this;return R.JC?R.JC:R.add.vmsk&&R.add.vmsk.isEnabled?null:R.m};
S.prototype.YQ=function(R){var Z=this.add.SoLd.placed.v,B=R.add.FEid;if(B==null)return null;for(var o=0;
o<B.length;o++)if(B[o].id==Z)return B[o];return null};S.prototype.extend=function(R){O.OXq(this,R)};
S.prototype.O_I=function(R,Z){var B=R.clone();if(this.oY()){var o=this.add.lmfx,r=Z.root.oO(Z.q.indexOf(this)),Y=o.gradientFillMulti.v,E=!1;
for(var p=0;p<Y.length;p++)if(Y[p].v.enab.v&&Y[p].v.Algn.v)E=!0;if(E)B=B.fj(r.mb(Z,!1));var y=GS.OLj(this,Z);
B.offset(y.x,y.y);B.Y+=y.Y;B.Z+=y.Z}return B};S.prototype.gG=function(){if(this.NA())O.Uj(this);var R=this.F$();
if(R)R.gG()};S.prototype.clone=function(){var R=new S;R.rect=this.rect.clone();R.buffer=O.clone(this.buffer);
R.QV=this.QV;R.opacity=this.opacity;R.fa=this.fa;R.Kw=this.Kw;R.name=this.name;R.PG=this.PG.slice(0);
if(this.m)R.m=this.m.clone();if(this.JC)R.JC=this.JC.clone();for(var Z in this.add)R.add[Z]=Ri.clone(Z,this.add[Z]);
return R};S.prototype.OEt=function(R){var Z=this;if(Z.add.TySh)delete Z.add.TySh;if(Z.add.SoLd){var B=this.tn(R,this.buffer,this.rect);
if(B){this.buffer=B.Y$;this.rect=B.rect;this.U()}delete Z.add.SoLd}if(Z.add.SoCo||Z.add.GdFl||Z.add.PtFl){if(Z.add.vogk)delete Z.add.vogk;
if(Z.add.SoCo)delete Z.add.SoCo;if(Z.add.GdFl)delete Z.add.GdFl;if(Z.add.PtFl)delete Z.add.PtFl;if(Z.add.vmsk){console.log(Z.JC,Z.m);
delete Z.add.vmsk;if(Z.JC==null&&Z.m)delete Z.m;else if(Z.JC!=null&&Z.m!=null){Z.m=Z.JC;delete Z.JC}}}if(!Z.av()&&GK.get(Z.add)==null&&!this.NA())this.Kw-=16};
S.prototype.OET=function(R){var Z=255,B=0;if(R==2){var o=this.add.SoLd.filterFX.v;if(o.filterMaskDensity)Z=o.filterMaskDensity.v;
if(o.filterMaskFeather)B=o.filterMaskFeather.v}else{var r=R==0?this.F$():this.add.vmsk;Z=r.ed;B=r.lB}return{uA:R,QQ:Z,Oa:B}};
S.prototype.OwK=function(R){if(R.uA==2){var Z=this.add.SoLd.filterFX.v;if(R.QQ==255)delete Z.filterMaskDensity;
else Z.filterMaskDensity={t:"long",v:R.QQ};if(R.Oa==0)delete Z.filterMaskFeather;else Z.filterMaskFeather={t:"doub",v:R.Oa};
this.U()}else{var B=R.uA==0?this.F$():this.add.vmsk;B.ed=R.QQ;B.lB=R.Oa;B.Zr=!0}};S.prototype.uN=function(){var R=this,Z=R.add.vmsk;
if(Z==null)return;R.add.vogk=S.uN(Z.u)};S.uN=function(R){var Z=[],B=O.V._D(R);for(var o=0;o<B;o++)Z.push(O.je.GP());
return Z};var YV={fV:0,A_:1,Zg:2,Ng:3};S.iH=function(){this.name="Mask";this.NM=!1;this.Oq={F:255,S:0,X:0};
this.lK=50;this.ju=0;this.color=255;this.vG=!0;this.isEnabled=!0;this.Ri=!1;this.ed=255;this.lB=0;this.rect=new N;
this.channel=O.a(0);this.Olx=null;this.Ole=null;this.Zr=!0};S.iH.prototype._s=function(R){if(!this.isEnabled)return R;
var Z=new S.iH;Z.color=Math.round(this.iz()*R.iz()/255);if(this.iz()==0&&R.iz()==0)Z.rect=this.mb().Rg(R.mb());
else if(R.iz()==0)Z.rect=R.mb().clone();else if(this.iz()==0)Z.rect=this.mb().clone();else Z.rect=this.mb().fj(R.mb());
Z.channel=this.yD(Z.rect);Z.ed=255;Z.lB=0;var B=R.yD(Z.rect);O.OXL(B,Z.rect,Z.channel,Z.rect);return Z};
S.iH.prototype.mb=function(){if(this.lB==0)return this.rect;var R=Math.ceil(this.lB*2.2),Z=this.rect.clone();
Z.yj(R,R);return Z};S.iH.prototype.UV=function(){if(this.lB==0&&this.ed==255)return this.channel;if(this.lB==0){var R=O.clone(this.channel);
O.za(R);O.iQ(R,this.ed/255);O.za(R);return R}var Z=this.mb(),B=this.Olj(Z),R=O.a(Z.b());O.blur.uy(B,R,Z,this.lB);
if(this.ed!=255){O.za(R);O.iQ(R,this.ed/255);O.za(R)}return R};S.iH.prototype.iz=function(){return Math.round(255-(255-this.color)*(this.ed/255))};
S.iH.prototype.extend=function(R){O.extend(this,R,this.color)};S.iH.prototype.gG=function(){if(this.color==255)O.za(this.channel);
O.gG(this);if(this.color==255)O.za(this.channel)};S.iH.prototype.clone=function(){var R=new S.iH;R.name=this.name;
R.NM=this.NM;R.Oq=this.Oq;R.lK=this.lK;R.ju=this.ju;R.color=this.color;R.vG=this.vG;R.isEnabled=this.isEnabled;
R.Ri=this.Ri;R.ed=this.ed;R.lB=this.lB;R.rect=this.rect.clone();R.channel=O.clone(this.channel);return R};
S.iH.prototype.Olj=function(R,Z){if(Z==null)Z=O.a(R.b());O.set(Z,this.color);O.WX(this.channel,this.rect,Z,R);
return Z};S.iH.prototype.yD=function(R,Z){var B=this.mb(),o=this.UV();if(Z==null)Z=O.a(R.b());O.set(Z,this.iz());
O.WX(o,B,Z,R);return Z};S.lo=function(){this.vG=!0;this.isEnabled=!0;this.ed=255;this.lB=0;this.u=[{type:6},{type:8,all:0}];
this.BD=[-3,-3];this.Xm=!1;this.JC=null;this.Zr=!0;this.C=[];this._R=[]};S.lo.prototype.offset=function(R,Z){this.JC=this.F$();
O.V.lC(this.u,new GN(1,0,0,1,R,Z));this.JC.rect.offset(R,Z)};S.lo.prototype.F$=function(R){if(!this.Zr&&this.JC&&R==null){this.JC.isEnabled=this.isEnabled;
return this.JC}var Z=O.V.pA(this.u);if(Z.b()>3e4*3e4)Z=new N(0,0,100,100);if(R){var B=Math.ceil(R.strokeStyleLineWidth.v.val);
Z.yj(B,B)}Z=O.W.Hx(Z);var o=new S.iH;o.color=O.V.Oc(this.u)?0:255;o.vG=this.vG;o.isEnabled=this.isEnabled;
o.Ri=!0;o.rect=Z;o.ed=this.ed;o.lB=this.lB;o.channel=O.a(o.rect.b());if(!Z.Pa())O.V.O$l(this.u,o.channel,o.rect,R);
if(R==null){this.JC=o;this.Zr=!1}return o};S.lo.prototype.clone=function(){var R=new S.lo;R.vG=this.vG;
R.isEnabled=this.isEnabled;R.ed=this.ed;R.lB=this.lB;R.u=S.lo.yN(this.u);R.BD=this.BD.slice(0);R.Xm=this.Xm;
R.C=this.C.slice(0);R._R=this._R.slice(0);return R};S.lo.prototype.concat=function(R){var Z=R.u.slice(2);
if(Z.length==0)return;Z[0].lz=3;this.u=this.u.concat(Z)};S.lo.yN=function(R){var Z=[];for(var B=0;B<R.length;
B++){var o=R[B];if(o.type>5||o.type==0||o.type==3)Z.push(JSON.parse(JSON.stringify(o)));else Z.push({type:o.type,EY:o.EY.clone(),N:o.N.clone(),IJ:o.IJ.clone()})}return Z};
S.lo.OAj=function(R,Z,B){if(R.length!=Z.length)return!1;for(var o=2;o<R.length;o++){var r=R[o],Y=Z[o];
if(r.type!=Y.type)return!1;if(r.type==0||r.type==3){if(r.length!=Y.length||!B&&r.lz!=Y.lz)return!1}else if(!r.EY.EW(Y.EY)||!r.N.EW(Y.N)||!r.IJ.EW(Y.IJ))return!1}return!0};
S.lo.prototype.OAI=function(){var R=this.u;for(var Z=3;Z<R.length;Z++)if(R[Z].type==0||R[Z].type==3)R[Z].lz=-1};
S.Xh=function(){this.type=null;this.lX=2;this.on=null;this.Re="";this.UD="";this.MD="";this.open=0;this.raw=null;
this.NO=null};S.Xh.prototype.clone=function(){var R=new S.Xh;R.type=this.type;R.lX=this.lX;R.on=this.on;
R.Re=this.Re;R.UD=this.UD;R.MD=this.MD;R.open=this.open;R.raw=new Uint8Array(this.raw.buffer.slice(0));
return R};S.Xh.prototype.fw=function(R){var Z=this;if(Z.NO)return;var B=GI.jL(Z.raw.buffer);if(B!="svg"&&B!="pdf")R=0;
if(B==null){alert("Unsupported format: "+U.XG(Z.raw,0,4));return null}var o=GI.WP(B);if(o.$n){var r=new GF(name+(B=="psd"?"":"-"+B)+".psd");
o.Kf(Z.raw.buffer,r);for(var Y=0;Y<r.q.length;Y++)if(r.q[Y].yJ())r.q[Y].Aq(r);r.iV();r.U();r.oT();Z.NO=[r.fw(),new N(0,0,r.Y,r.Z)]}else if(o){var E=o.Kf(Z.raw.buffer)[0];
Z.NO=[new Uint8Array(E.data),E.Ix]}if(Z.NO){if(R==1){var p=Z.NO[0],y=Z.NO[1],z=O.a(y.b());O.KT(p,z,3);
var u=O.Fs(z,y),Q=O.a(u.b()*4);O.GN(p,y,Q,u);Z.NO=[Q,u]}O.ir(Z.NO)}};S.NC="0";S.vR="2";S.Ua="2.5";S.OSS="3";
S.XN="4";S.Oyi="5";S.fR="5.5";S.Oy$="6";S.fX="7";S.OEh="7.5";S.yz="8";S.Xo="9";S.Xs="9.3";S.ft="9.5";
S.ORY="9.6";S.yZ="10";S.UB="11";S.XF="12";S.Uw="13";S.HZ="13.5";S.fq="13.7";S.US="14";S.Ho="14.5";S.At="15";
S.yc="16";S.Xg="17";S.HM="18";S.Ojx="19";S.Hs="19.5";S.El="19.6";S.Hu="19.7";S.ED="20";S.EN="21";S.UC="21.5";
S.aw="22";S.Hd="22.5";S.vS="23";S.Oxa="24";S.Eo="25";S.ONI="26";S.OOW="27";S.au="28";S.ab="29";S.aT="30";
S.yu="31";S.vN="32";S.FE="33";S.aC="34";S.aQ="35";S.$Y="36";S.F_="36.5";S.jY="37";S.ET="37.5";S.Oxt="37.6";
S.$s="38";S.ja="38.5";S.FL="38.6";S.Wd="39";S.$c="40";S.ORw="41";S.Oan="42";S.jS="50";S.jW="51";S.FU="52";
S.Fr="53";S.fW="54";S.Oj$="54.5";S.OIk="54.6";S.OIK="54.7";S.jb="54.8";S.xr="55";S.vz="56";S.EI="57";
S.Fu="58";S.fN="59";function R_(){this.depth=0;this.index=-1;this.r=null;this.OeQ=null;this.bB=-1;this.children=null;
this.parent=null;this.bw=null}R_.prototype.OAD=function(){var R=0;if(this.r.av()){for(var Z=0;Z<this.children.length;
Z++)R+=this.children[Z].OAD()}else if(this.r.buffer)R+=this.r.buffer.length;return R};R_.prototype.oO=function(R){var Z=this.bw[R];
return this.bw[R]};R_.prototype.OBA=function(R,Z){var B=this.r;if(!B.YT()||B._A(2)||B._A(31))return null;
if(B.AX()){var o=B.m.rect.nl(R);if(!o&&B.m.color==0)return}if(B.av()){for(var r=0;r<this.children.length;
r++){var Y=this.children[r];Y.OBA(R,Z)}}else if(B.rect.nl(R))Z.push(this.index)};R_.prototype.AK=function(R,Z){var B=this.r;
if(!B.YT()||B._A(2)||B._A(31))return null;if(B.AX()){if(B.m.rect.a_(R)){if(!O.AK(R,B.m.channel,B.m.rect))return null}else if(B.m.color==0)return null}if(B.av()){for(var o=this.children.length-1;
o>=0;o--){var r=this.children[o],Y=r.AK(R,Z);if(Y&&Z==null)return Y}return null}else if(B.add.TySh&&B.rect.a_(R)||O.OXW(R,B.buffer,B.rect)){if(Z==null)return this;
else Z.push(this.index)}return null};R_.prototype.OAW=function(R){var Z=this.r;if(!Z.YT()||Z._A(2)||Z._A(31))return null;
var B=Z.add.vmsk;if(B&&B.isEnabled){var o=O.V.AK(B.u,R).qp;if(o!=-1)return{OlZ:this,Olo:o}}if(Z.av()){for(var r=this.children.length-1;
r>=0;r--){var Y=this.children[r],E=Y.OAW(R);if(E)return E}return null}return null};R_.prototype.OBd=function(R,Z){R.push(this.index);
if(this.r.av()){R.push(this.bB);if(Z)if(this.r.Fv==1&&this.r.F$().vG==!1)return;for(var B=0;B<this.children.length;
B++)this.children[B].OBd(R)}};R_.prototype.uj=function(R,Z,B){var o=this.r,r,Y;if(o.av()&&o.add.artb!=null)Z=o.NT();
if(Z.Y>Z.Z){r=B;Y=Math.floor(B*(Z.Z/Z.Y))}else{r=Math.floor(B*(Z.Y/Z.Z));Y=B}if(o.yJ()&&o.add.vmsk==null||o.add.TySh)r=Y=Math.max(Y,16);
var E=Y,p=o.yJ()&&o.add.vmsk;if(p){var y=o.rect.clone(),Q,H;if(y.Pa())y=new N(0,0,20,20);var z=y.Y,u=y.Z;
if(z>u){Q=B;H=Math.floor(B*(u/z))}else{Q=Math.floor(B*(z/u));H=B}if(Q*H==0)Q=H=16;O.Zz.Os(o.UT,Q,H,y,o.buffer,o.rect,!1);
O.Zz.Ozo(o.UT,Q,H);E=H}else if(o.add.TySh){O.Zz.OzH(o.UT,E,E,o.add.TySh)}else if(o.add.SoCo){E=Math.max(16,Math.min(r,Y));
O.Zz.Ozs(o.UT,E,E,o.add.SoCo)}else if(o.add.GdFl){O.Zz.OUy(o.UT,E,E,o.add.GdFl)}else if(o.add.PtFl){O.Zz.OUX(o.UT,E,E,o.add.PtFl,R)}else if(GK.get(o.add)!=null){O.Zz.OiU(o.UT,E,E,o.add)}else if(o.add.SoLd){O.Zz.Os(o.UT,r,Y,Z,o.buffer,o.rect,!1);
O.Zz.OzZ(o.UT,r,Y,o.add.SoLd)}else if(o.av()){E=16}else{if(o.NA())O.Zz.Os(o.UT,r,Y,Z,o.buffer,o.rect,!1);
else{O.Zz.Oii(o.UT,E,E)}}var T=o.F$();if(T)O.Zz.Op(o.OlH,r,Y,Z,T);if(o.by()&&o.YQ(R)&&o.YQ(R).m){var C=o.YQ(R).m;
O.Zz.Op(o.OSd,r,Y,Z,C)}if(!p&&o.add.vmsk){O.Zz.Op(o.OSI,r,Y,Z,o.add.vmsk.F$(),!0)}if(o.add.vmsk||T)E=Math.max(E,Y);
o.O_Z=Math.max(E,16);if(o.av()&&o.add.lsct==YV.A_)for(var e=0;e<this.children.length;e++)this.children[e].uj(R,Z,B)};
R_.prototype.OS$=function(R,Z,B,o){this.depth=B;var r=R[Z];if(o==null)o=[];this.bw=o;if(r.add.lsct==YV.Ng){this.OeQ=r;
this.bB=Z-1;this.children=[];var Y=Z+1;while(!0){var E=R[Y];if(E==null)console.log(Y,R.length);if(E.add.lsct==YV.A_||E.add.lsct==YV.Zg){if(r.add.lyid==E.add.lyid)r.add.lyid+=16777215;
this.r=E;this.index=Y-1;o[this.index]=this;o[Z-1]=this;break}var p=new R_;p.parent=this;Y=p.OS$(R,Y,B+1,o);
this.children.push(p)}return Y+1}else{this.r=r;this.index=Z-1;o[this.index]=this;return Z+1}};R_.prototype.fv=function(R,Z,B){var o=this.oO(B),r=R;
while(o.parent!=null){r=o.r.O_I(r,Z);o=o.parent}return r};R_.prototype.mb=function(R,Z){var B=this.r,o=new N;
if(!B.YT())return o;var r=B.F$();if(B.av())for(var Y=0;Y<this.children.length;Y++){var E=this.children[Y].mb(R,!0);
o=o.fj(E)}else if(GK.get(B.add)!=null)o=B.AX()&&B.m.color==0?B.m.mb().clone():new N(0,0,R.Y,R.Z);else if(B.yJ()&&B.add.vmsk&&B.add.vmsk.isEnabled&&B.add.vstk){o=B.rect.clone()}else if(B.yJ()&&r&&r.isEnabled&&r.iz()!=0)o=new N(0,0,R.Y,R.Z);
else{o=B.NQ(R,!1,!0);if(B.add.vmsk)o=O.W.Hx(o)}return Z?B.O_I(o,R):o};R_.prototype.OND=function(R,Z,B,o,r){var Y=this.r,E=GS.OE(Y);
if(!Y.YT())return;if(Y.opacity==255){this.Oel(R,Z,B,o,r);return}var p=O.clone(R);this.Oel(p,Z,B,o,r);
O.e.AD(p,Z,R,Z,null,null,0,B,Y.opacity/255,Y.QV=="diss")};R_.prototype.Oel=function(R,Z,B,o,r){var Y=this.r,E=GS.OE(Y),p=GK.get(Y.add)!=null,Q,C;
if(Y.av()&&Y.QV=="pass"&&!Y.AX()&&!(r.length>0||E.fill!=1||Y.oY())){this.FC(R,Z,B,o);return}var y=Y.av()&&Y.QV=="pass"&&(r.length>0||E.fill!=1||Y.oY()),z=Y.rect,u=Y.buffer;
if(Y.av()){z=this.mb(o,!1);var H=O.a(z.b()*4);Q=O.a(z.b());this.FC(H,z,B,o);O.KT(H,Q,3)}else if(p){z=Z.clone();
Q=O.a(z.b());O.set(Q,255)}else{z=Y.rect;Q=O.a(z.b());O.KT(u,Q,3)}if(Y.AX()){var T=Y.m.yD(z);O.UO(T,Q)}if(Y.oY())C=GS.fo(Y.add.lmfx,Y.add.fxrp,Q,z,o);
if(Y.oY())GS.Ojd(Y.add.lmfx,C,z,R,Z,B);if(Y.av()){u=O.a(z.b()*4);if(Y.QV=="pass")O.GN(R,Z,u,z);if(y){var H=O.a(z.b()*4);
this.FC(H,z,B,o);var e=O.a(z.b());O.KT(H,e,3);O.Ac(e,z,u,z)}this.FC(u,z,B,o)}if(p){u=O.clone(R);O.yg(u,4278190080,16777215);
var $=GK.get(Y.add),x=GK.O$($,Y.add[$]);GK.eX(x,u,u,z)}var M=O.clone(u);O.yg(M,4278190080,16777215);
for(var m=0;m<r.length;m++)r[m].OND(M,z,B,o,[]);var G=O.a(z.b()*4);O.GN(R,Z,G,z);if(p)E.Um=!0;O.e.FO(Y.QV=="pass"?"norm":Y.QV,M,z,G,z,B,1,E);
if(Y.oY()){var K=Y.g.XE.type.FrFX,s=null;if(K.length!=0){s=K[0];for(var m=0;m<K.length;m++)if(K[m].zS.Y>s.zS.Y)s=K[m];
var L=O.a(s.zS.Y*s.zS.Z*4);O.GN(R,Z,L,s.zS)}GS.OIq(Y.add.lmfx,C,z,R,Z,B,G,L,s?s.zS:null)}O.e.AD(G,z,R,Z,Q,z,0,B,1,Y.QV=="diss")};
R_.prototype.FC=function(R,Z,B,o){var r=this.children;for(var Y=0;Y<r.length;Y++){var E=[];for(var p=Y+1;
p<r.length;p++)if(r[p].r.fa)E.push(r[p]);else break;r[Y].OND(R,Z,B,o,E);Y+=E.length}};R_.Rl={delete:function(R){if(R&&R.Y)R.delete()},a:function(R,Z){return d.lx?new d.ZF(R,Z):O.a(R*Z*4)},LW:function(R,Z,B){if(d.lx){if(R==null||R.Y!=Z||R.Z!=B){R_.Rl.delete(R);
return new d.ZF(Z,B)}}else{if(R==null||!(R instanceof Uint8Array)||R.length!=Z*B*4){R_.Rl.delete(R);
return O.a(Z*B*4)}}return R},WX:function(R,Z,B,o,r){(d.lx?d.ad:O.GN)(R,Z,B,o,r)},AD:function(R,Z,B,o,r,Y,E,p,y,z){(d.lx?d.e.eH:O.e.AD)(R,Z,B,o,r,Y,E,p,y,z)},FO:function(R,Z,B,o,r,Y,E,p){if(d.lx)d.e.wP(R,Z,B,o,r,Y,E,p);
else O.e.FO(R,Z,B,o,r,Y,E,p)},yg:function(R,Z,B){if(d.lx){d._H(R);d.tp(Z,B)}else O.yg(R,Z,B)},OAN:function(R,Z,B,o,r){if(d.lx){d.e.eH(null,null,o,r,R,Z,B,r,1,!1)}else{if(B==255)O.Ac(R,Z,o,r);
else{var Y=O.a(Z.b());O.am(o,r,Y,Z);O.UO(R,Y);O.yg(o,0,16777215);O.QZ(Y,Z,o,r)}}},jE:function(R,Z,B,o){if(d.lx)d.e.eH(null,null,B,o,R,Z,0,o,1,!1);
else O.jE(R,Z,B,o)}};R_.prototype.fz=function(R,Z,B,o,r,Y){var E=typeof Y=="number";if(!this.r.av()&&(E&&this.index>Y||!E&&Y.indexOf(this.index)==-1)){return}var p=this.r,y=GS.OE(p),z=R_.Rl,u=p.yJ()?p.F$():p.m;
if(!p.YT())return;if(p.AX()&&u.rect.Pa()){return}if(p.add.vstk==null&&this.mb(o,!1).Pa()&&p.add.artb==null){return}var Q=this.mb(o,!0).Rg(B);
if(!Z.EW(B)&&!B.nl(Q)&&p.add.artb==null)return;if(p.av()&&p.add.artb){var H=p.NT(),C=0;B=B.Rg(H);var T=p.add.artb.artboardBackgroundType.v;
if(T==1)C=4294967295;else if(T==2)C=4278190080;else if(T==3)C=0;else if(T==4){C=p.add.artb.Clr.v;C=255<<24|C.Bl.v<<16|C.Grn.v<<8|C.Rd.v}else throw T;
if(d.lx){d._H(R,B);d.tp(C)}else O.OYm(R,Z,B,C)}var e=R_.OE_(p,r);if(!e){this.OaK(R,Z,B,o,r,Y);return}p.g.XU=z.LW(p.g.XU,Q.Y,Q.Z);
z.WX(R,Z,p.g.XU,Q,B);this.OaK(p.g.XU,Q,B,o,r,Y);z.AD(p.g.XU,Q,R,Z,null,null,0,B,p.opacity/255,p.QV=="diss")};
R_.OE_=function(R,Z){return R.opacity!=255&&(Z.length!=0||R.av()||R.oY())};R_.OAz={g:{}};R_.prototype.OaK=function(R,Z,B,o,r,Y){var E=this.r,p=GS.OE(E),y=GK.get(E.add)!=null,z=R_.Rl,u=R_.OE_(E,r),Q=u?1:E.opacity/255,H=E.yJ()?E.F$():E.m,T=E.av()&&E.QV=="pass"&&!(r.length>0||p.fill!=1||E.oY()),C=!E.av()&&!y&&!E.oY()&&r.length==0,e=y&&!E.oY()&&r.length==0,K=null,s=null,L=null,w;
if(T||C||e){var $=R,x=Z;if(E.AX()){x=this.mb(o,!1);$=E.g.Xx=z.LW(E.g.Xx,x.Y,x.Z);z.WX(R,Z,E.g.Xx,x)}if(T)this.fU($,x,B,o,Y);
if(C)z.FO(E.QV,E.Oas(o),E.rect,$,x,B,Q,p);if(e){var M=E.AX()&&H.iz()==0?H.mb().clone():x.clone(),m=E.g;
if(M.EW(new N(0,0,o.Y,o.Z)))m=R_.OAz;m.aP=this.OjA($,x,m.aP,M,E.add);p.Um=!0;z.FO(E.QV,m.aP,M,$,x,B,Q,p)}if(E.AX())z.AD($,x,R,Z,E.OaW(),H.mb(),H.iz(),B,1,E.QV=="diss");
E.g.OVL();return}var G=E.av()&&E.QV=="pass"&&(r.length>0||p.fill!=1||E.oY()),M=E.rect;if(E.av()){M=this.mb(o,!1);
L=E.g.aP=z.LW(E.g.aP,M.Y,M.Z);z.yg(L,0);this.fU(L,M,M,o,Y);s=z.LW(E.g.rc,M.Y,M.Z);z.WX(L,M,s,M)}else if(y){M=E.AX()&&H.iz()==0?H.mb().clone():Z.clone();
s=z.LW(E.g.rc,M.Y,M.Z);z.yg(s,4294967295)}else{M=E.rect;K=E.Oas(o);s=z.LW(E.g.rc,M.Y,M.Z);z.WX(K,M,s,M)}E.g.rc=s;
if(E.AX())z.OAN(E.OaW(),H.mb(),H.iz(),s,M);if(E.oY())if(E.g.sq||E.g.VC||E.g._E!=d.lx||E.g.uS||E.av()){var _=O.a(M.Y*M.Z);
if(d.lx){if(!E.av()&&E.F$()==null&&E.rect.EW(M))O.KT(E.buffer,_,3);else{var P=O.a(M.Y*M.Z*4);s.get(P);
O.KT(P,_,3)}}else O.KT(s,_,3);if(E.g.VC||E.g._E!=d.lx||!O.EW(_,E.g.mg)){var i=null;if(E.yJ()&&E.add.vmsk&&E.add.vmsk.isEnabled&&E.add.vmsk.F$().color==0)i=E.add.vmsk.F$().rect;
GS.OLI(E.g.XE,_,M,E.add.lmfx,E.add.fxrp,o,i);E.g.mg=_}}if(E.oY())GS.Ojd(E.add.lmfx,E.g.XE,M,R,Z,B);if(E.av()){K=z.LW(E.g.Xx,M.Y,M.Z);
z.yg(K,0);if(E.QV=="pass")z.WX(R,Z,K,M);if(G)z.jE(L,M,K,M);this.fU(K,M,B,o,Y);E.g.Xx=K}if(y){K=E.g.Xx=this.OjA(R,Z,E.g.Xx,M,E.add)}if(E.av()||y)w=K;
else{w=z.LW(E.g.Xx,M.Y,M.Z);z.WX(K,M,w,M,B);E.g.Xx=w}z.yg(w,4278190080,16777215);for(var k=0;k<r.length;
k++)r[k].fz(w,M,B,o,[],Y);var h=E.g.Pc=z.LW(E.g.Pc,M.Y,M.Z);z.WX(R,Z,h,M,B);if(y)p.Um=!0;z.FO(E.QV=="pass"?"norm":E.QV,w,M,h,M,B,1,p);
if(E.oY()){var j=E.g.XE.type.FrFX,I=null;if(j.length!=0){I=j[0];for(var k=0;k<j.length;k++)if(j[k].zS.Y>I.zS.Y)I=j[k];
E.g.uf=z.LW(E.g.uf,I.zS.Y,I.zS.Z);z.WX(R,Z,E.g.uf,I.zS,B);E.g.bY=z.LW(E.g.bY,I.zS.Y,I.zS.Z)}GS.OIq(E.add.lmfx,E.g.XE,M,R,Z,B,h,E.g.uf,E.g.bY,I?I.zS:null)}if(!d.lx){var V=O.a(M.b());
O.KT(s,V,3);s=V}z.AD(h,M,R,Z,s,M,0,B,1,E.QV=="diss");E.g.OVL()};R_.prototype.OjA=function(R,Z,B,o,r){var Y=GK.get(r),E;
if(Y)E=GK.O$(Y,r[Y]);var p=R_.Rl;B=p.LW(B,o.Y,o.Z);if(!(d.lx&&Z.EW(o)))p.WX(R,Z,B,o);if(E){if(d.lx){var y=o.clone();
y.x=y.y=0;if(Z.EW(o)){d._H(B,y);GK.lA(E,R.NZ,y)}else{d._H(B,o);B.TT(o);GK.lA(E,B.na,y)}}else GK.eX(E,B,B,o)}return B};
R_.prototype.fU=function(R,Z,B,o,r){var Y=this.children;for(var E=0;E<Y.length;E++){var p=[];for(var y=E+1;
y<Y.length;y++)if(Y[y].r.fa)p.push(Y[y]);else break;Y[E].fz(R,Z,B,o,p,r);E+=p.length}};function GF(R){this.name=R;
this.lw=-1;this.eo=null;this.KE=null;this.eJ=null;this.eq=null;this.Y=0;this.Z=0;this.q=[];this.Gs={};
this.add={};this.buffer=null;this.ld=4;this.cu=null;this.ag=72;this.mt={};this.C=[];this.Vw=[[],[]];
this.On=[];this.KF=[];this.EP=[GF.EU("Work Path")];this.JG=[];this.ID=null;this.lP={classID:"CompList",list:{t:"VlLs",v:[]}};
this.root=null;this.LC=null;this.Ru=!1;this.OfR=!1;this.mC=!1;this.OL=!1;this.Xl=!1;this.OF=!1;this.ZK=!1;
this.QL=!1;this.Hl=!1;this.sq=null;this.bL=null;this.UG={};this.O=null;this.tP=[];this.Y_=[];this.A={Fw:{},KW:[],Oeg:[],rM:[],fu:[],ql:null,yq:null,jK:null,tW:null,sB:[],Xd:[]};
this.history=[new OV([1,0],null)];this.ls=0;this.fQ=0;this.w=new Rc(this)}GF.prototype.Lp=function(){var R=this.tP,Z=this.tP.length;
if(Z!=0&&R[Z-1].name=="Quick Mask")return R[Z-1]};GF.prototype.OAP=function(){var R=this.name;return R.slice(0,R.length-4).endsWith("-sketch")};
GF.prototype.jT=function(R){this.add.artd={classID:"null",Cnt:{t:"long",v:R},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},canvasColorMode:{t:"enum",v:{canvasColorType:"Cstm"}},canvasColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:220},Grn:{t:"doub",v:220},Bl:{t:"doub",v:220}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}}};
GF.prototype.VO=function(R){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(R)==-1)this.add.FEid.push(R)};
GF.prototype.f$=function(R){var Z=this.add.FEid.indexOf(R);this.add.FEid.splice(Z,1);if(this.add.FEid.length==0)delete this.add.FEid};
GF.prototype.U=function(R){if(R==null)R=new N(0,0,this.Y,this.Z);if(this.sq==null)this.sq=R;else this.sq=this.sq.fj(R)};
GF.prototype.OA$=function(R){return this.sq!=null};GF.prototype.Fd=function(R){var Z=this.q[R],B=this.root.oO(R);
if(B==null)return!1;if(Z.av()||B.parent.children.indexOf(B)==0)return!1;return!0};GF.OAr=function(R){if(R.add.lnk2)for(var Z=0;
Z<R.add.lnk2.length;Z++){var B=R.add.lnk2[Z].on;R.add.lnk2[Z].on=GF.l_()+B.slice(8);for(var o=0;o<R.q.length;
o++){var r=R.q[o].add.SoLd;if(r&&r.Idnt.v==B)r.Idnt.v=R.add.lnk2[Z].on}}};GF.prototype.O_z=function(R,Z,B){R.sort(function(H,T){return H-T});
var top=R[R.length-1],o=this.q.slice(0),r=this.C.slice(0),Y=[],E=[];for(var p=0;p<this.q.length;p++){if(R.indexOf(p)!=-1)E.push(this.q[p]);
else Y.push(this.q[p])}this.Kz(E);this.C=[];var y=this.root.mb(this,!0);if(Z)y=y.Rg(Z);if(B)y=y.fj(B);
if(y.Pa())y=new N(0,0,100,100);var z=new N(-y.x,-y.y,this.Y,this.Z),u=new Uint8Array(GI.PSD.qj(this,0,0,[!0,!1]));
this.Kz(o);this.C=r;var Q=new GF(this.q[top].getName());GI.PSD.Kf(u.buffer,Q);delete Q.add.artd;Q.Vw=[[],[]];
Q.On=[];Q.Kz(Q.q);GF.OAr(Q);A.bG.GL(Q,y);Q.U();Q.oT();Q.fw();return[Q,y,Y,top]};GF.prototype.OWX=function(R,Z){var B=this.O_z(R),o=B[0],r=B[1],Y=B[2],top=B[3],E=new Uint8Array(GI.PSD.qj(o));
if(Z)Y=this.q.slice(0);var p=this.VV(E,o.name,r.x,r.y);if(top==this.q.length-1)Y.push(p);else Y.splice(Z?top+1:top-R.length+1,0,p);
this.Kz(Y);this.C=[Y.indexOf(p)]};GF.l_=function(){var R="";for(var Z=0;Z<8;Z++)R+=Math.floor(Math.random()*16).toString(16);
return R};GF.prototype.vi=function(R){if(R==null)return;if(this.add.Patt==null)this.add.Patt=[];var Z=this.add.Patt;
for(var B=0;B<Z.length;B++)if(Z[B].id==R.id)return;Z.push(R)};GF.prototype.VV=function(R,Z,B,o,r){if(this.add.lnk2==null)this.add.lnk2=[];
var Y=null,H=!1;for(var E=0;E<this.add.lnk2.length;E++)if(O.EW(R,this.add.lnk2[E].raw)){Y=this.add.lnk2[E].on;
break}if(Y==null){var p=GI.jL(R.buffer);Y=GF.l_()+"-d71c-11e5-b1ae-a548a96e5f9f";var y=new S.Xh;y.on=Y;
y.MD=p=="psd"?"8BIM":"    ";y.Re=Z+"."+p;y.UD=p=="psd"?"8BPB":"    ";y.open=0;y.raw=R;y.type="liFD";
y.lX=2;this.add.lnk2.push(y)}var z=this.uw(Y),u=GF.l_()+"-d71c-11e5-b1ae-a548a96e5f9f",Q=this.xE();Q.AA(Z);
if(z!=null){var T=Q.rect=z.NO[1].clone();Q.rect.offset(B,o);var C=Math.max(T.Y/this.Y,T.Z/this.Z),H=r&&C>1.0001;
if(H){T.Y=Math.round(T.Y/C);T.Z=Math.round(T.Z/C);T.x=Math.round((this.Y-T.Y)/2);T.y=Math.round((this.Z-T.Z)/2)}Q.buffer=O.a(Q.rect.b()*4);
if(!H)O.VG(z.NO[0],Q.buffer)}Q.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:Y},placed:{t:"TEXT",v:u},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:O.Ef.a(Q.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:Q.rect.Y},Hght:{t:"doub",v:Q.rect.Z}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:72}}};
var e=O.W.Bu(Q.rect).I;Q.add.SoLd.Trnf=A.HQ.Kv(e);Q.add.SoLd.nonAffineTransform=A.HQ.Kv(e);if(H)Q.AS(this,!1);
return Q};GF.prototype.fw=function(R){if(R!=null){this.U();this.oT(R);var Z=this.buffer;if(d.lx)this.LC.get(Z);
else Z=Z.slice(0);this.U();this.oT();return Z}if(this.sq){this.oT();this.sq=null}if(d.lx&&this.bL){this.LC.get(this.buffer);
this.bL=null;this.OF=!0}return this.buffer};GF.prototype.OOB=function(){for(var R=0;R<this.q.length;
R++)this.q[R].OYR();this.U()};GF.prototype.OyS=function(){for(var R=0;R<this.q.length;R++)if(this.q[R].add.lmfx)this.q[R].g.VC=!0};
GF.prototype.Fn=function(){var R=this.Gs.r1044;if(R==null){R=this.Gs.r1044=new Uint8Array(4);var Z=0;
for(var B=0;B<this.q.length;B++)Z=Math.max(Z,this.q[B].add.lyid);U.lc(R,0,Z)}var o=U.n(R,0);U.lc(R,0,o+1);
return o+1};GF.prototype._W=function(R,Z){if(R==null)R=!0;var B=this;if(B.Y_.length!=0)return!0;if(B.C.length!=1){if(R)alert(B.C.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.uG(R,Z)};GF.prototype.uG=function(R,Z){if(R==null)R=!0;if(Z==null)Z=!1;var B=this;
if(B.Y_.length!=0)return!0;for(var o=0;o<B.C.length;o++){var r=B.q[B.C[o]],Y=Z||r.Fv<=0;if(r.add.lsct!=null&&r.add.lsct!=YV.fV&&r.Fv!=1){if(R)alert(Ok.get([15,7,2]));
return!1}if(Y&&!r.NA()){if(R)alert(Ok.get([15,7,2]));return!1}if(Y&&r.add.TySh){if(R)alert(Ok.get([15,7,3]));
return!1}if(Y&&r.add.SoLd){if(R)alert(Ok.get([15,7,4]));return!1}if(r._A(1)||r._A(31)){if(R)alert(Ok.get([6,57,0]));
return!1}}return!0};GF.prototype.OaZ=function(R){var Z=this.root.oO(R);if(Z.parent)return Z.r.YT()&&this.OaZ(Z.parent.index);
else return Z.r.YT()};GF.prototype.Ojb=function(R){var Z=this.root.oO(R);if(Z==null)return null;var B=Z.r;
if(B.add.artb)return B.NT();if(Z.parent)return this.Ojb(Z.parent.index);return null};GF.prototype.OBL=function(){var R=this.q[this.C[0]];
if(R.Fv<=0&&!R.rect.nl(this.O.rect)){alert("Selected area is empty.");return!1}if(this.C.length==1&&this.O){var Z=O.a(this.O.channel.length);
O.am(R.buffer,R.rect,Z,this.O.rect);O.UO(this.O.channel,Z);if(O.in(Z,0)){alert("Selected area is empty.");
return!1}}return!0};GF.prototype.vT=function(){if(this.Gs["r"+1037]==null)this.jC(30);return U.FV(this.Gs["r"+1037],0)};
GF.prototype.jC=function(R){if(this.Gs["r"+1037]==null)this.Gs["r"+1037]=new Uint8Array(4);if(U.FV(this.Gs["r"+1037],0)==R)return;
U.Mq(this.Gs["r"+1037],0,R);this.OyS()};GF.prototype.jc=function(){if(this.Gs["r"+1049]==null)this.uY(30);
return U.FV(this.Gs["r"+1049],0)};GF.prototype.uY=function(R){if(this.Gs["r"+1049]==null)this.Gs["r"+1049]=new Uint8Array(4);
if(U.FV(this.Gs["r"+1049],0)==R)return;U.Mq(this.Gs["r"+1049],0,R);this.OyS()};GF.prototype.zK=function(R){if(this.add.lnk2==null)return null;
for(var Z=0;Z<this.add.lnk2.length;Z++)if(this.add.lnk2[Z].on==R)return this.add.lnk2[Z];return null};
GF.prototype.O_k=function(R){var Z=this.zK(R);if(Z==null)return!1;var B=GI.jL(Z.raw.buffer);if(B==null)return!1;
if(GI.WP(B)!=null||B=="psd")return!0;return!1};GF.prototype.uw=function(R,Z){var B=this.zK(R);if(B==null)return null;
B.fw(Z);if(B.NO)return B};GF.prototype.oT=function(R){if(R==null)R=1e9;var Z=this.Y,B=this.Z,o=new N(0,0,Z,B),r=o.Rg(this.sq);
if(d.lx&&this.LC==null)this.LC=new d.ZF(Z,B,!0);if(this.buffer==null||this.buffer.length!=Z*B*4||d.lx&&(this.LC.Y!=Z||this.LC.Z!=B)){this.buffer=O.a(Z*B*4);
if(this.LC)this.LC.delete();if(d.lx)this.LC=new d.ZF(Z,B,!0)}if(r.Pa())return;if(!r.EW(o)){if(!d.lx){var Y=O.GP(r.b()*4);
O.GN(Y,r,this.buffer,o)}if(d.lx){d._H(this.LC,r);d.tp(0)}}else{if(d.lx){this.LC.set(null)}else{O.set(this.buffer,0)}}var E=Date.now(),p=d.lx?this.LC:this.buffer;
this.root.fz(p,o,r,this,[],R);this.bL=this.sq.clone()};GF.prototype.xE=function(){var R=new S;R.rect=new N(0,0,0,0);
R.buffer=O.a(1);R.add.luni=new VP(0,0);R.add.lyid=this.Fn();R.add.lsct=YV.fV;R.add.lclr=0;R.add.fxrp=new VP(0,0);
return R};GF.prototype.ZP=function(){var R=this.xE();R.AA("</Layer group>");R.add.lsct=YV.Ng;R.Kw=24;
return R};GF.prototype.ul=function(){return this.ls!=this.fQ};GF.prototype.ER=function(R){while(this.history.length>this.ls+1)this.history.pop();
if(this.fQ>this.ls)this.fQ=-1;if(R.B.id!=A.pd){this.mC=!0;if(this.lP.lastAppliedComp){delete this.lP.lastAppliedComp;
this.ZK=!0}}this.history.push(R);this.ls++;this.OF=!0;var Z=Gx.Js()?60:30,B=0;for(var o=this.history.length-1;
o>=0;o--){var r=this.history[o];if(r.md)continue;B++;if(B==Z){this.ls-=o;this.history=this.history.slice(o);
break}}};GF.prototype.lp=function(){if(this.ls!=this.history.length-1)return null;return this.history[this.history.length-1]};
GF.prototype.op=function(R,Z,B,o){if(R==null)R=!1;var r=Z!=null?[Z]:this.C.slice(0);if(o){var Y=[];for(var E=0;
E<r.length;E++){var p=this.q[r[E]].gt;if(p!=0&&Y.indexOf(p)==-1)Y.push(p)}for(var E=0;E<this.q.length;
E++){var p=this.q[E].gt;if(p!=0&&Y.indexOf(p)!=-1&&r.indexOf(E)==-1)r.push(E)}}var y=[];for(var E=0;
E<r.length;E++){var z=this.IR(r[E],R);for(var u=0;u<z.length;u++)if(y.indexOf(z[u])==-1)y.push(z[u]);
if(B){var Q=this.root.oO(r[E]);while(Q.parent!=null&&Q.parent.parent!=null){Q=Q.parent;if(y.indexOf(Q.index)==-1){y.push(Q.index,Q.bB)}}}}return y};
GF.prototype.IG=function(R,Z,B){var o=this,r=o.op(!1,R,null,B);r.sort(function(M,m){return M-m});var Y={};
for(var E=0;E<o.q.length;E++){var p=o.q[E].getName();Y[p]=!0}var y=[];for(var z=0;z<r.length;z++){var u=o.q[r[z]].clone(),$,x;
u.add.lyid=o.Fn();u.add.lspf=0;if(u.by()){var Q=u.YQ(o),H=GF.OwS(Q);o.VO(H);u.add.SoLd.placed.v=H.id}u.Aq(o);
var T=u.getName(),C=T.length;while(48<=T.charCodeAt(C-1)&&T.charCodeAt(C-1)<=57)C--;var e=parseInt(T.slice(C));
if(isNaN(e)){if(T.endsWith(" copy")){e=1;$=T.slice(0,T.length-5)}else{e=0;$=T}}else if(T.slice(0,C).endsWith(" copy ")){e=e;
$=T.slice(0,C-6)}else{e=0;$=T}e++;while(!0){x=$+" copy"+(e==1?"":" "+e);if(Y[x]==null)break;e++}if(T=="Background"&&Y["Layer 1"]==null)x="Layer 1";
if(Z!=!0)u.AA(x);Y[x]=!0;y.push(u)}return y};GF.OwS=function(R){return{id:GF.l_()+R.id.slice(8),buffer:O.clone(R.buffer),rect:R.rect.clone(),m:R.m?R.m.clone():null}};
GF.OAi=function(R){return{id:R,rect:new N,buffer:O.a(1),m:new S.iH}};GF.EU=function(R,Z){if(Z==null)Z={vmsk:new S.lo};
if(Z.vogk==null){Z.vogk=[];var B=O.V._D(Z.vmsk.u);for(var o=0;o<B;o++)Z.vogk.push(O.je.GP())}return{name:R,qp:0,add:Z}};
GF.prototype.dm=function(R){var Z=[],B=[],o=this,E=0;for(var r=1;r<o.EP.length;r++){var Y=o.EP[r];Y.qp=-1-r;
Z.push(Y);if(o.JG.indexOf(r)!=-1)B.push(Z.length-1)}if(o.EP[0].add.vmsk.u.length>2){var Y=o.EP[0];Y.qp=-1;
Z.push(Y);if(o.JG.indexOf(0)!=-1)B.push(Z.length-1)}var p=o.ID==null;if(p)o.ID=[];for(var r=o.C.length-1;
r>=0;r--){var y=o.q[o.C[r]],z=y.add.TySh;if(y.add.vmsk!=null&&(y.GQ||y.yJ())){var Y=GF.EU("\""+y.getName()+"\" Shape Path",y.add);
Y.qp=o.C[r];Z.push(Y);if(p)o.ID.push(E);if(o.ID.indexOf(E)!=-1)B.push(Z.length-1);E++}if(R!=!0&&z&&z.add&&O.Ef.oU(z.qP)){var Y=GF.EU("\""+y.getName().slice(0,10)+"..\" Text Path",z.add);
Y.qp=1e6+o.C[r];Z.push(Y);B.push(Z.length-1);E++}}if(B.length==0&&R){o.EP[0].qp=-1;o.JG=[0];B.push(Z.length);
Z.push(o.EP[0])}return[Z,B]};GF.prototype.IR=function(R,Z){var B=[],o=this.root.oO(R);if(o)o.OBd(B,Z);
return B};GF.prototype.ut=function(){this.root.uj(this,new N(0,0,this.Y,this.Z),32)};GF.prototype.Kz=function(R){for(var Z=0;
Z<this.q.length;Z++){var B=this.q[Z];if(R.indexOf(B)==-1){B.g.Ows();B.U()}}this.q=R.slice(0);this.iV()};
GF.prototype.iV=function(){var R=this.q,Z=R.length;this.root=new R_;var B=this.xE();B.QV="pass";B.add.lsct=YV.A_;
var o=this.ZP(),r=[o];for(var Y=0;Y<Z;Y++)r.push(R[Y]);r.push(B);this.root.OS$(r,0,0);if(this.C.length==0)this.C=[Z-1]};
GF.prototype.fx=function(){if(this.C.length!=1)return;var R=this.root.oO(this.C[0]);while(R.parent!=null){var Z=R.parent.r;
Z.add.lsct=YV.A_;R=R.parent}this.Xl=this.Old=!0};GF.fe=function(R,Z,B,o,r){var Y={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:o},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:R}},Hght:{t:"UntF",v:{type:"#Rlt",val:Z}},Rslt:{t:"UntF",v:{type:"#Rsl",val:B}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:r}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:"sRGB IEC61966-2.1"}}}};
return{DG:"make",UU:Y}};GF.O_V=function(R,Z){var B=0,o=0,r=72,Y=Z.OfX,E=R.preset&&R.preset.v=="Clipboard";
if(E){B=Y.Y;o=Y.Z}else{B=R.Wdth.v.val;o=R.Hght.v.val;r=R.Rslt.v.val}var p=new GF((R.Nm?R.Nm.v:Ok.get([11,7]))+".psd");
p.Y=B;p.Z=o;p.ag=r;var y=p.xE();y.AA("Background");p.Kz([y]);y.add.lspf=1<<2;var z=R.Fl?R.Fl.v.Fl:"Wht";
if(z!="Trns"){var u=Z.Dk;u=(u&255)<<16|(u>>>8&255)<<8|u>>>16;y.rect=new N(0,0,B,o);y.buffer=O.a(B*o*4);
O.yg(y.buffer,{Wht:4294967295,BckC:255<<24|u}[z])}p.buffer=O.a(B*o*4);return p};function Rc(R){this.qC=R;
this.h=0;this.s=new VP(0,0);this.Ej=[1,1,1];this.p=new N(0,0,1,1);this.bl=new N(0,0,R.Y,R.Z);this.nC=null;
this.qy=null;this.rg=new Uint32Array(0);this.oe=null;this._T=null;this.jy=O.a(0);this.eu=null;this.fg=null}Rc.prototype.JQ=function(R,Z){var B=Math.round((this.p.Y-this.qC.Y*this.h)/2+this.s.x),o=Math.round((this.p.Z-this.qC.Z*this.h)/2+this.s.y),r=(R-B)/this.h,Y=(Z-o)/this.h;
return new VP(r,Y)};Rc.prototype.Nv=function(R,Z){var B=Math.round((this.p.Y-this.qC.Y*this.h)/2+this.s.x),o=Math.round((this.p.Z-this.qC.Z*this.h)/2+this.s.y),r=R*this.h+B,Y=Z*this.h+o;
return new VP(r,Y)};Rc.prototype.xm=function(){var R=this.qC,Z=this.h,B=this.p.Y,o=this.p.Z,r=Math.floor(R.Y*Z),Y=Math.floor(R.Z*Z);
if(Z<.99){var E=O.Qr(null,new N(0,0,R.Y,R.Z),Z).rect;r=E.Y;Y=E.Z}return new N(Math.round((B-r)/2+this.s.x),Math.round((o-Y)/2+this.s.y),r,Y)};
Rc.prototype.uW=function(){var R=this.qC,Z=this,B=1/Z.h,o=this.xm();return new N(Math.floor((Z.p.x-o.x)*B),Math.floor((Z.p.y-o.y)*B),Math.ceil(Z.p.Y*B)+1,Math.ceil(Z.p.Z*B)+1)};
function Gk(){}Gk.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");Gk._p="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
Gk.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]];Gk.OW_=["DrSh","IrSh","SoFi","GrFl","FrFX"];
Gk.up=["Clr"];Gk.rR="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");Gk.rB=["Ptrn","Scl","Algn","phase"];
Gk.FD={Nc:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",Ozf:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Two Color\",\"t\":\"TEXT\"},\"GrdF\":{\"v\":{\"GrdF\":\"CstS\"},\"t\":\"enum\"},\"Intr\":{\"v\":4096,\"t\":\"doub\"},\"Clrs\":{\"v\":[{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",Oyn:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Foreground to Background\",\"t\":\"TEXT\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",ui:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}"};
Gk.FD.Nc="\"Clr\": "+Gk.FD.Nc;Gk.FD.L="\"Grad\":"+Gk.FD.Ozf+",\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
Gk.FD.ui="\"Ptrn\":"+Gk.FD.ui+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
Gk.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
Gk.eF=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+Gk.FD.Nc+","+Gk.FD.L+","+Gk.FD.ui+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+Gk.FD.Nc+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+Gk.FD.L+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+Gk.FD.ui+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
Gk.L={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
Gk.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],fK:["SClr","GrFl","Ptrn"],O_X:[[13,0],[12,37],[12,62]]};
Gk.xb={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],ORf:["SrcC","SrcE"],O_S:[[19,5,1],[12,69]]};Gk.VB={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],OIx:["SfBL","PrBL","Slmt"],O_f:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
Gk.uI={vw:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],vl:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],FJ:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:4.38}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+Gk.FD.Nc+"}")},strokeStyleResolution:{t:"doub",v:72}}};
Gk.Ex=[{classID:"null",Clr:JSON.parse(Gk.eF[5]).Clr},{classID:"null",Grad:JSON.parse(Gk.eF[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:60}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(Gk.eF[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var GS={};GS.Oxf=function(R,Z,B){if(R.Pa())return;var o=O.V.OhE(R.u);o.x=Math.floor(o.x*Z);o.Y=Math.ceil(o.Y*Z);
o.y=Math.floor(o.y*B);o.Z=Math.ceil(o.Z*B);R.rect=o;R.channel=O.a(o.b());O.qI.width=o.Y;O.qI.height=o.Z;
var r=O.p;r.fillStyle="#ffffff";O.V.OhV(r,R.u,Z,B,-o.x,-o.y);r.fill();var Y=r.getImageData(0,0,o.Y,o.Z).data;
O.KT(Y,R.channel,3)};GS.fp=function(R,Z){function B(R,T){if(R==null)return null;var C=R[T].v,e;if(C.length!=0){e=C[0].v;
if(!e.enab.v)e=null}return e}var o=Z.SoCo,r=Z.GdFl,Y=B(R,"solidFillMulti"),E=B(R,"gradientFillMulti");
if(Y==null&&E==null)return[o,r];var p=GS.OLX;if(o&&Y&&E==null){var y=JSON.parse(JSON.stringify(o));y.Clr.v=p(Y.Clr.v,o.Clr.v,Y);
return[y,null]}if(r&&Y&&E==null){var z=JSON.parse(JSON.stringify(r)),u=z.Grad.v.Clrs.v;for(var Q=0;Q<u.length;
Q++){var H=u[Q].v.Clr;H.v=p(Y.Clr.v,H.v,Y)}return[null,z]}if(o&&E){var z=JSON.parse(JSON.stringify(E)),u=z.Grad.v.Clrs.v;
for(var Q=0;Q<u.length;Q++){var H=u[Q].v.Clr;H.v=p(H.v,o.Clr.v,E)}return[null,z]}return[Y,E]};GS.OLR={Iw:O.a(4),io:O.a(4),F:new N(0,0,1,1)};
GS.OLX=function(R,Z,B){var o=Gd.AQ(B.Md.v.BlnM),r=B.Opct.v.val/100,Y=GS.OLR;R=O.L.iz(R);Z=O.L.iz(Z);
Y.Iw[0]=R.F;Y.Iw[1]=R.S;Y.Iw[2]=R.X;Y.Iw[3]=255;Y.io[0]=Z.F;Y.io[1]=Z.S;Y.io[2]=Z.X;Y.io[3]=255;O.e.FO(o,Y.Iw,Y.F,Y.io,Y.F,Y.F,r);
return{classID:"RGBC",Rd:{t:"doub",v:Y.io[0]},Grn:{t:"doub",v:Y.io[1]},Bl:{t:"doub",v:Y.io[2]}}};GS.Ot_=function(R,Z,B){var o=R;
R=R.slice(0);var r=Gd.pz[Gd.Ie.indexOf(Z.Md.v.BlnM)],Y=O.L.iz(Z.Clr.v),E=4278190080|Math.round(Y.X)<<16|Math.round(Y.S)<<8|Math.round(Y.F),p=O.a(B.b()*4);
O.yg(p,E);O.e.FO(r,p,B,R,B,B,Z.Opct.v.val/100);for(var y=0;y<R.length;y+=4)R[y+3]=o[y+3];return R};GS.OVm=function(R,Z){var B=["Sz","blur","Sftn","Dstn"];
for(var o=0;o<Gk.order.length;o++){var r=Gk.order[o],Y=R[Gk._p[o]].v;for(var E=0;E<Y.length;E++){var p=Y[E].v;
for(var y=0;y<B.length;y++){var z=p[B[y]];if(z){var u=z.v.val,Q=u;Q=Math.max(u==0?0:1,Q*Z);if(r=="ChFX")Q=Math.min(Q,250);
if(r=="ebbl"){if(B[y]=="blur")Q=Math.min(Q,250);if(B[y]=="Sftn")Q=Math.min(Q,16)}z.v.val=Math.round(Q)}}if(r=="ebbl"||r=="patternFill"||r=="FrFX")if(p.Ptrn&&p.Scl)p.Scl.v.val=Math.max(1,Math.min(1e3,p.Scl.v.val*Z))}}};
GS.OLj=function(R,Z){var B=new N(-.5,-.5,1,1),o=R.add.lmfx;for(var r=0;r<Gk.order.length;r++){var Y=Gk.order[r],E=o[Gk._p[r]].v;
for(var p=0;p<E.length;p++){var y=E[p].v,H;if(!y.enab.v)continue;var z=y.blur?y.blur.v.val+1:0,u=y.Ckmt?y.Ckmt.v.val/100:0,Q=Math.round(z*u);
if(Y=="DrSh"){H=new N(-.5,-.5,1,1);H.yj(z,z);GS.Ii(H,y,Z,0)}if(Y=="OrGl"){H=new N(-.5,-.5,1,1);H.yj(z,z)}if(Y=="FrFX"){var T=GS.ur(y)[1];
H=new N(-.5,-.5,1,1);H.yj(Math.ceil(T),Math.ceil(T))}if(Y=="ebbl"){var z=y.blur.v.val;if(y.bvlS.v.BESl=="Embs"||y.bvlS.v.BESl=="PlEb")z/=2;
var C=["OtrB","InrB","Embs","PlEb","strokeEmboss"],e=["SfBL","PrBL","Slmt"],$=["In","Out"],x=y.bvlT.v.bvlT!="SfBL"?z:z*.43,M=Math.round(z);
H=new N(-M-.5,-M-.5,2*M+1,2*M+1)}if(H)B=B.fj(H)}}if(B.x!=Math.ceil(B.x)){B.x=Math.ceil(B.x);B.Y-=1}if(B.y!=Math.ceil(B.y)){B.y=Math.ceil(B.y);
B.Z-=1}return B};GS.ur=function(R){var Z=0,B=0,o=R.Styl.v.FStl,r=R.Sz.v.val;if(o=="OutF")B=r;if(o=="InsF")Z=r;
if(o=="CtrF")Z=B=r/2;return[Z,B]};GS.OGX=function(R){if(R.all==null)return;for(var Z=0;Z<R.all.length;
Z++){var B=R.all[Z];if(B.Pd)B.Pd.delete();if(B.Jk)B.Jk.delete();if(B.JO)B.JO.delete()}};GS.OLI=function(R,Z,B,o,r,Y,E){GS.OGX(R);
var p=GS.fo(o,r,Z,B,Y,E);R.type=p.type,R.all=p.all;if(d.lx)for(var y=0;y<R.all.length;y++){var z=R.all[y];
z.Pd=new d.ZF(z.dP.Y,z.dP.Z);z.Pd.set(z.Y$);delete z.Y$;if(z.JE){z.Jk=new d.qM(z.dP.Y,z.dP.Z);z.Jk.set(z.JE);
delete z.JE}if(z.JV){z.JO=new d.qM(z.dP.Y,z.dP.Z);z.JO.set(z.JV);delete z.JV}}};GS.fo=function(R,Z,B,o,r,Y){if(Y==null)Y=o;
var E=0,p=0;for(var y=0;y<Gk.order.length;y++){var z=Gk.order[y],u=Gk._p[y],Q=R[u].v;for(var H=0;H<Q.length;
H++){var T=Q[H].v;if(z=="DrSh"&&T.enab.v&&T.Ckmt.v.val>0&&T.blur.v.val>0)E=Math.max(E,Math.ceil(T.Ckmt.v.val*T.blur.v.val/100));
if(z=="OrGl"&&T.enab.v&&T.Ckmt.v.val>0&&T.blur.v.val>0&&T.GlwT.v.BETE=="SfBL")E=Math.max(E,Math.ceil(T.Ckmt.v.val*T.blur.v.val/100));
if(z=="OrGl"&&T.enab.v&&T.blur.v.val>0&&T.GlwT.v.BETE=="PrBL")E=Math.max(E,T.blur.v.val);if(z=="FrFX"&&T.enab.v&&T.Sz.v.val>0){if(T.Styl.v.FStl=="OutF")E=Math.max(E,T.Sz.v.val);
if(T.Styl.v.FStl=="CtrF")E=Math.max(E,Math.ceil(T.Sz.v.val/2));p=Math.max(p,GS.ur(T)[1])}}}var C=new GS.vv(B,o,E),e={type:{},all:[]};
for(var $=0;$<Gk.order.length;$++){var z=Gk.order[$],u=Gk._p[$];e.type[z]=[];for(var x=R[u].v.length-1;
x>=0;x--){var M=R[u].v[x].v;if(!M.enab.v)continue;var m=M.blur?M.blur.v.val:0,G=M.Ckmt?M.Ckmt.v.val/100:0,K=m*G;
if(z=="DrSh"){var s=C.xn(K,m-K,!0),L=s.Fh,_=s._;_.offset(-C.rect().x-1,-C.rect().y-1);GS.xd(L,M,!1);
GS.Ii(_,M,r,0);var P=O.a(_.b()*4);GS.rN(P,M.Clr.v);O.qH(L,P,3);var i={Y$:P,dP:_,DV:Gd.AQ(M.Md.v.BlnM),$p:M.Opct.v.val/100,OJV:M.layerConceals.v};
e.type[z].push(i);e.all.push(i)}if(z=="IrSh"){var s=C.xn(K,m-K,!1);GS.Ii(s._,M,r,0);var _=C.rect().clone(),L=O.a(_.b());
O.set(L,255);O.WX(s.Fh,s._,L,_);GS.xd(L,M,!0);var P=O.a(_.b()*4);GS.rN(P,M.Clr.v);O.qH(L,P,3);_.offset(-C.rect().x-1,-C.rect().y-1);
var i={Y$:P,dP:_,DV:Gd.AQ(M.Md.v.BlnM),$p:M.Opct.v.val/100};e.type[z].push(i);e.all.push(i)}if(z=="GrFl"){var P=O.a(C.rect().b()*4);
GS.xc(M,P,C.rect(),r,null,Y);var _=C.rect().clone();_.offset(-C.rect().x-1,-C.rect().y-1);var i={Y$:P,dP:_,DV:Gd.AQ(M.Md.v.BlnM),$p:M.Opct.v.val/100};
e.type[z].push(i);e.all.push(i)}if(z=="SoFi"){var P=O.a(C.Fh().length*4);GS.rN(P,M.Clr.v);var _=C.rect().clone();
_.offset(-C.rect().x-1,-C.rect().y-1);var i={Y$:P,dP:_,DV:Gd.AQ(M.Md.v.BlnM),$p:M.Opct.v.val/100};e.type[z].push(i);
e.all.push(i)}if(z=="ebbl"){var w=!1,f=1;if(w)console.log(M);var k=Date.now(),h=M.bvlS.v.BESl;if(h=="strokeEmboss"){var j=R.frameFXMulti.v;
if(j.length==0)continue;j=j[0].v;if(!j.enab.v)continue;var I=j.Styl.v.FStl;if(I=="OutF")h="OtrB";if(I=="CtrF")h="Embs";
if(I=="InsF")h="InrB"}var m=M.blur.v.val;if(m==0)m=.7;if(h=="Embs"||h=="PlEb")m/=2;var V=["OtrB","InrB","Embs","PlEb","strokeEmboss"],F=["SfBL","PrBL","Slmt"],q=["In","Out"],t=M.bvlT.v.bvlT!="SfBL"?m:m*.45,c=Math.round(m);
m*=f;t*=f;c*=f;var W=C.rect().clone();W.x*=f;W.y*=f;W.Y*=f;W.Z*=f;var l=W.clone();l.yj(c,c);var g=l.Y,v=l.Z,Vg=g*v,GE=C.rect().Y,Gy=C.rect().Z,GY=O.a(GE*Gy*f*f);
O.scale.Ov(C.Fh(),GE,Gy,GY,GE*f,Gy*f,f);var Ga=O.a(Vg);O.WX(GY,W,Ga,l);var GO=new Float64Array(Vg),J=new Float64Array(Vg);
O.style.DP(Ga,GO,g,v);O.za(Ga);O.style.DP(Ga,J,g,v);if(w)console.log("distTransform computed",Date.now()-k);
var D=J;J=new Float64Array(Vg);for(var y=0;y<Vg;y++)D[y]=D[y]-GO[y];for(var y=0;y<Vg;y++){var GB=D[y];
if(GB<-t)D[y]=-t;else if(GB>t)D[y]=t}if(w)console.log("summing + cropping",Date.now()-k);if(M.bvlT.v.bvlT=="SfBL"){var Gj=Math.pow(m*.21,1.22);
if(h=="InrB")Gj=Math.max(Gj,2);O.blur.Dj(D,GO,l,Gj);var GX=D;D=GO;GO=GX}if(w)console.log("blurring",Date.now()-k);
var Gw=new Float64Array(Vg);O.VG(D,Gw);if(M.useShape.v){var G_=Math.min(100,M.Inpr.v.val+1)/100;if(h!="OtrB"&&h!="InrB")G_=1;
var Gf=O.An.Or(M.MpgS.v.Crv.v,2e3),Gl=Math.round(2e3/G_);Gf=O.An.Ovb(Gf,Gl,h=="InrB");var GU=.5/t;for(var y=0;
y<Vg;y++){var GD=D[y],Gi=.99999*(GD+t)*GU;D[y]=-t+2*t*Gf[~~(Gi*(Gl-1))]}if(w)console.log("applying shape",Date.now()-k)}if(M.useTexture.v){var Gh=O.a(g*v*4);
GS.TA(M,Gh,l,r,Z);var G$=O.a(g*v);O.FZ(Gh,G$);var GA=O.a(g*v);O.blur.gI(G$,GA,l,1);G$=GA;var GJ=m*M.textureDepth.v.val*(1/100)*(1/255);
if(M.InvT.v)GJ=-GJ;for(var y=0;y<Vg;y++)D[y]+=-GJ*G$[y];if(w)console.log("applying texture",Date.now()-k)}var Ge=(M.bvlT.v.bvlT=="SfBL"?1:.5)*(M.bvlD.v.BESs=="In"?1:-1)*M.srgR.v.val/100;
for(var y=0;y<Vg;y++)D[y]*=Ge;if(w)console.log("scaling",Date.now()-k);var Gq=M.uglg&&M.uglg.v?r.vT():M.lagl.v.val;
Gq=Gq*(Math.PI/180);var Gv=M.uglg&&M.uglg.v?r.jc():M.Lald.v.val;Gv=Gv*(Math.PI/180);var yi=Math.cos(Gq)*Math.cos(Gv),GZ=-Math.sin(Gq)*Math.cos(Gv),OU=Math.sin(Gv),GH=new Float64Array(Vg),OB=new Float64Array(Vg),Gb=h=="PlEb";
for(var y=0;y<v;y++)for(var H=0;H<g;H++){var Gu=y*g+H,GP=-(y==0?D[Gu+g]-D[Gu]:y==v-1?D[Gu]-D[Gu-g]:.5*(D[Gu+g]-D[Gu-g])),Gn=-(H==0?D[Gu+1]-D[Gu]:H==g-1?D[Gu]-D[Gu-1]:.5*(D[Gu+1]-D[Gu-1])),Yy=1,Gm=1/Math.sqrt(Gn*Gn+GP*GP+1);
Gn*=Gm;GP*=Gm;Yy*=Gm;var GW=Gn*yi+GP*GZ+Yy*OU,YR=GW;if(Gb)YR=-Gn*yi-GP*GZ+Yy*OU;if(GW>0)GH[Gu]=GW;if(YR>0)OB[Gu]=YR}if(w)console.log("raycasting",Date.now()-k);
if(M.Sftn.v.val!=0){O.blur.Dj(GH,GO,l,M.Sftn.v.val*.43);var GX=GO,GO=GH,GH=GX;if(Gb){O.blur.Dj(OB,GO,l,M.Sftn.v.val*.43);
var GX=GO,GO=OB,OB=GX}else O.VG(GH,OB)}if(w)console.log("softening",Date.now()-k);var Gf=O.An.Or(M.TrnS.v.Crv.v,1024);
for(var y=0;y<Vg;y++){GH[y]=Gf[~~(GH[y]*1024)];OB[y]=Gf[~~(OB[y]*1024)]}if(w)console.log("contour remap",Date.now()-k);
g=Math.round(g/f);v=Math.round(v/f);var YE=O.a(g*v*4);GS.rN(YE,M.hglC.v);var Yq=O.a(g*v*4);GS.rN(Yq,M.sdwC.v);
var YX=O.a(g*v*4);GS.rN(YX,M.hglC.v);var O_=O.a(g*v*4);GS.rN(O_,M.sdwC.v);var Y_=1/OU,OY=1/(1-OU),GU=1/t,GT=new Float64Array(1e3);
for(var y=0;y<1e3;y++)GT[y]=Math.pow(y*.001,.2);for(var y=0;y<v;y++)for(var H=0;H<g;H++){var Gu=y*g+H,YY=4*Gu+3,Of=0,Ox=0;
if(f==1){Of=GH[Gu];Ox=OB[Gu]}else{var yR=f*f*y*g+f*H;Of=.25*(GH[yR]+GH[yR+1]+GH[yR+f*g]+GH[yR+f*g+1]);
Ox=.25*(OB[yR]+OB[yR+1]+OB[yR+f*g]+OB[yR+f*g+1])}var Oj=Math.max(0,Math.min(.9999,(Gw[Gu]+t*.993)*GU));
Oj=GT[Math.floor(Oj*1e3)];var RV=Oj*(1-Math.min(1,Of*Y_)),OJ=Oj*(1-Math.min(1,(1-Of)*OY)),Ye=Oj*(1-Math.min(1,Ox*Y_)),ye=Oj*(1-Math.min(1,(1-Ox)*OY));
Yq[YY]=Math.round(255*RV);YE[YY]=Math.round(255*OJ);O_[YY]=Math.round(255*Ye);YX[YY]=Math.round(255*ye)}if(w)console.log("baking textures",Date.now()-k);
l=C.rect().clone();l.yj(c/f,c/f);l.offset(-C.rect().x-1,-C.rect().y-1);var Ys={OKO:M.bvlS.v.BESl=="strokeEmboss"};
if(["InrB","Embs","PlEb"].indexOf(h)!=-1){Ys.JY={Y$:YE,dP:l,DV:Gd.AQ(M.hglM.v.BlnM),$p:M.hglO.v.val/100};
Ys.JR={Y$:Yq,dP:l,DV:Gd.AQ(M.sdwM.v.BlnM),$p:M.sdwO.v.val/100};e.all.push(Ys.JY,Ys.JR)}if(["OtrB","Embs","PlEb"].indexOf(h)!=-1){Ys.Jz={Y$:YX,dP:l,DV:Gd.AQ(M.hglM.v.BlnM),$p:M.hglO.v.val/100};
Ys.Jx={Y$:O_,dP:l,DV:Gd.AQ(M.sdwM.v.BlnM),$p:M.sdwO.v.val/100};e.all.push(Ys.Jz,Ys.Jx)}if(w)console.log(Date.now()-k);
e.type[z].push(Ys)}if(z=="patternFill"){var YC=C.rect(),P=O.a(YC.b()*4);GS.TA(M,P,YC,r,Z);var _=YC.clone();
_.offset(-YC.x-1,-YC.y-1);var i={Y$:P,dP:_,DV:Gd.AQ(M.Md.v.BlnM),$p:M.Opct.v.val/100};e.type[z].push(i);
e.all.push(i)}if(z=="ChFX"){var P=O.a(C.Fh().length*4);GS.rN(P,M.Clr.v);var m=M.blur.v.val,YD=C.rect().clone();
YD.yj(m,m);var yf=O.a(YD.b()),RY=O.a(YD.b());O.WX(C.Fh(),C.rect(),RY,YD);O.blur.uy(RY,yf,YD,m*.43);var EA=O.An.Di(M.MpgS.v.Crv.v,256,!0);
O.QT(yf,EA);var ES=O.a(C.Fh().length),YO=O.a(C.Fh().length),Yf=C.rect().clone();GS.Ii(Yf,M,r,0);O.WX(yf,YD,ES,Yf);
Yf=C.rect().clone();GS.Ii(Yf,M,r,Math.PI);O.WX(yf,YD,YO,Yf);var YS=ES.length;for(var y=0;y<YS;y++)P[4*y+3]=Math.abs(ES[y]-YO[y]);
if(M.Invr.v)for(var y=0;y<YS;y++)P[4*y+3]=255-P[4*y+3];var _=C.rect().clone();_.offset(-C.rect().x-1,-C.rect().y-1);
var i={Y$:P,dP:_,DV:Gd.AQ(M.Md.v.BlnM),$p:M.Opct.v.val/100};e.type[z].push(i);e.all.push(i)}if(z=="OrGl"){var s;
if(M.GlwT.v.BETE=="SfBL")s=C.xn(K,m-K,!0);else s=C.OBM(m,G,!0);var L=s.Fh,_=s._,Yp=L.slice(0);GS.OBv(L,M);
var P=O.a(_.b()*4);if(M.Grad==null){GS.rN(P,M.Clr.v);GS.xd(L,M,!1)}else{GS.xd(L,M,null);var YB={_M:L,mL:255,TN:0,hb:_};
GS.xc(M,P,_,r,YB);var YW=M.Nose.v.val/100,GE=_.Y;for(var y=0;y<Yp.length;y++){var YJ=255,yt=Yp[y];if(yt<32){var OS=(yt+Yp[y-1]+Yp[y+1]+Yp[y-GE]+Yp[y+GE])*.2-1;
YJ=Math.min(255,Math.round(Math.max(0,OS)*8))}L[y]=YJ}GS.OYo(L,M)}O.qH(L,P,3);_.offset(-C.rect().x-1,-C.rect().y-1);
var i={Y$:P,dP:_,DV:Gd.AQ(M.Md.v.BlnM),$p:M.Opct.v.val/100};e.type[z].push(i);e.all.push(i)}if(z=="IrGl"){var s;
if(M.GlwT.v.BETE=="SfBL")s=C.xn(K,m-K,!1);else s=C.OBM(m,G,!1);var L=s.Fh,_=s._;GS.OBv(L,M);if(M.glwS.v.IGSr=="SrcC")O.za(L);
var P=O.a(_.b()*4);if(M.Grad==null){GS.rN(P,M.Clr.v);GS.xd(L,M,!0)}else{GS.xd(L,M,null);var YB={_M:L,mL:255,TN:0,hb:_};
GS.xc(M,P,_,r,YB);O.set(L,255);GS.OYo(L,M)}O.qH(L,P,3);_.offset(-C.rect().x-1,-C.rect().y-1);var i={Y$:P,dP:_,DV:Gd.AQ(M.Md.v.BlnM),$p:M.Opct.v.val/100};
e.type[z].push(i);e.all.push(i)}if(z=="FrFX"){var yT=GS.ur(M),EM=yT[0],yA=yT[1],_=C.rect().clone(),yC=null,RR=null;
_.yj(Math.ceil(p),Math.ceil(p));if(yA>0){var s=C.xn(yA,0,!0);RR=s.Fh;if(RR.length<_.b()){RR=O.a(_.b());
O.WX(s.Fh,s._,RR,_)}}if(EM>0){var s=C.xn(EM,0,!1);yC=O.a(_.b());O.set(yC,255);O.WX(s.Fh,s._,yC,_)}_.offset(-C.rect().x-1,-C.rect().y-1);
var P=O.a(_.b()*4),Yu=M.PntT.v.FrFl;if(Yu=="SClr")GS.rN(P,M.Clr.v);if(Yu=="GrFl")GS.xc(M,P,_,r,C.OLe(EM,yA));
if(Yu=="Ptrn")GS.TA(M,P,_,r,Z);var i={Y$:P,dP:_,DV:Gd.AQ(M.Md.v.BlnM),$p:M.Opct.v.val/100,JV:RR,JE:yC};
e.type[z].push(i);e.all.push(i)}}}return e};GS.WL=function(R){var Z=1/Math.sqrt(R.x*R.x+R.y*R.y+R.vk*R.vk);
R.x*=Z;R.y*=Z;R.vk*=Z};GS.OeS=function(R,Z){return{x:R.y*Z.vk-R.vk*Z.y,y:R.vk*Z.x-R.x*Z.vk,vk:R.x*Z.y-R.y*Z.x}};
GS.OeW=function(R,Z){return R.x*Z.x+R.y*Z.y+R.vk*Z.vk};GS.OYo=function(R,Z){var B=Z.Nose.v.val/100;if(B>0)for(var o=0;
o<R.length;o++){var r=R[o];r=Math.min(510-(1+B)*O.style.uk(o),r);R[o]=r}};GS.OE=function(R){var Z=GS.xC(),B=R.PG,o=!1;
for(var r=0;r<32;r+=8)if(B[r]+B[r+1]+B[4]+B[5]!=0||B[r+2]+B[r+3]+B[6]+B[7]!=1020)o=!0;if(o){B=B.slice(0);
for(var r=0;r<40;r+=4){var Y=B[r]/255,E=B[r+1]/255,p=B[r+2]/255,y=B[r+3]/255;B[r]=Y-1e-4;B[r+1]=Y==E?1e9:1/(E-(Y-1e-4));
B[r+2]=p==y?-1e9:1/(p-(y+1e-4));B[r+3]=y+1e-4}}var z=R.add.iOpa!=null?R.add.iOpa/255:Z.fill,u=R.add.vstk;
if(u&&!u.fillEnabled.v&&(!u.strokeEnabled.v||u.strokeStyleLineWidth.v.val==0))z=0;return{fill:z,UQ:o?B:null,OJx:R.add.brst!=null?R.add.brst:Z.OJx,OJH:R.add.knko!=null?R.add.knko:Z.OJH,style:!1,Um:!1}};
GS.xC=function(){return{fill:1,UQ:null,OJx:[1,1,1],OJH:0,style:!1,Um:!1}};GS.rf=function(R,Z){if(Z==null)return null;
var B=R.Idnt.v,o=null;for(var r=0;r<Z.length;r++)if(Z[r].id==B)return Z[r];return null};GS.ORK=function(R,Z,B){var o=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var r=0;r<o.length;r++){var Y=R.v[o[r]].v;for(var E=0;E<Y.length;E++)if(Y[E].v.Ptrn)Z.vi(GS.rf(Y[E].v.Ptrn.v,B))}};
GS.OLS=function(R,Z,B){var o=["patternFillMulti","ebblMulti","frameFXMulti"];for(var r=0;r<o.length;
r++){var Y=R.v[o[r]].v;for(var E=0;E<Y.length;E++)if(Y[E].v.Ptrn){var p=Y[E].v.Ptrn.v,y=GS.rf(p,B),z=GS.rf(p,Z.add.Patt);
if(y==null&&z)B.push(z)}}};GS.TA=function(R,Z,B,o,r){var Y=GS.rf(R.Ptrn.v,o.add.Patt);if(Y!=null&&!B.Pa()){var E=O.scale.TA(Y.Y$,Y._.Y,Y._.Z),p=R.Scl.v.val/100,y=-B.x+R.phase.v.Hrzn.v-1,z=-B.y+R.phase.v.Vrtc.v-1;
if(R.Algn!=null&&!R.Algn.v){}else{y+=r.x;z+=r.y}O.scale.OqF(E,Z,B.Y,B.Z,p,p,y+1,z+1)}};GS.xc=function(R,Z,B,o,r,Y){if(Y==null)Y=B;
var E=R.Type?R.Type.v.GrdT:"shapeburst",p=R.Algn&&R.Algn.v?Y:new N(0,0,o.Y,o.Z),y=R.Angl?O.L.jF(R,p):[new VP(0,0),new VP(100,0)],z=y[0].x,u=y[0].y,Q=y[1].x-z,H=y[1].y-u,T=Math.sqrt(Q*Q+H*H);
T=1/(2*T*T);var C=[Q*T,H*T,-H*T,Q*T],e=R.Rvrs?R.Rvrs.v:!1,$=R.Dthr?R.Dthr.v:!1;O.L.PT(R.Grad.v,Z,B,C,z,u,e,Gk.L.types.indexOf(E),0,0,r,$)};
GS.OLJ=function(R,Z){for(var B=0;B<R.all.length;B++){var o=R.all[B];o.zS=o.dP.clone();o.zS.offset(Z.x,Z.y)}};
GS.Ojd=function(R,Z,B,o,r,Y){var E=d.lx?GS.OBW:GS.OIe;GS.OLJ(Z,B);var p=Z.type.DrSh;for(var y=0;y<p.length;
y++)if(!p[y].OJV)E(p[y],o,r,Y)};GS.OIq=function(R,Z,B,o,r,Y,E,p,y,z){var u=B,Q=d.lx?GS.OBW:GS.OIe,H=d.lx?d.e.eH:O.e.AD,T;
T=Z.type.DrSh;for(var C=0;C<T.length;C++)if(T[C].OJV)Q(T[C],o,r,Y);T=Z.type.OrGl;for(var C=0;C<T.length;
C++)Q(T[C],o,r,Y);var e="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");for(var $=0;$<e.length;$++){var T=Z.type[e[$]];
for(var C=0;C<T.length;C++)Q(T[C],E,u,Y)}var x=Z.type.ebbl[0],M=x!=null&&x.OKO;T=Z.type.FrFX;for(var C=0;
C<T.length;C++){var m=T[C];R_.Rl.WX(p,z,y,z,Y);Q(m,y,z,Y);if(M&&C==T.length-1){if(x.Jx)Q(x.Jx,y,z,Y);
if(x.Jz)Q(x.Jz,y,z,Y);if(x.JR)Q(x.JR,y,z,Y);if(x.JY)Q(x.JY,y,z,Y)}if(m.JE||m.Jk)H(y,z,E,u,d.lx?m.Jk:m.JE,m.zS,0,Y,1);
if(m.JV||m.JO)H(y,z,o,r,d.lx?m.JO:m.JV,m.zS,0,Y,1)}if(!M&&x!=null){if(x.Jx)Q(x.Jx,o,r,Y);if(x.Jz)Q(x.Jz,o,r,Y);
if(x.JR)Q(x.JR,E,u,Y);if(x.JY)Q(x.JY,E,u,Y)}};GS.OIe=function(R,Z,B,o){var r=GS.xC();r.fill=R.$p;r.style=!0;
O.e.FO(R.DV,R.Y$,R.zS,Z,B,o,1,r)};GS.OBW=function(R,Z,B,o){var r=GS.xC();r.fill=R.$p;r.style=!0;d.e.wP(R.DV,R.Pd,R.zS,Z,B,o,1,r)};
GS.OBv=function(R,Z){var B=1-Z.Inpr.v.val/100,o=1+Math.tan(B*(Math.PI/2)),r=R.length;for(var Y=0;Y<r;
Y++)R[Y]=Math.min(255,Math.round(R[Y]*o))};GS.xd=function(R,Z,B){var o=Z.blur.v.val,r=Math.round(o*(Z.Ckmt.v.val/100));
if(o>r){var Y=O.An.Di(Z.TrnS.v.Crv.v,256,!0);O.QT(R,Y)}if(B!=null&&Z.Nose.v.val>0)O.style.B_(R,Z.Nose.v.val/100,B)};
GS.rN=function(R,Z,B){if(B==null)B=255;var o=O.L.iz(Z),r=B<<24|o.X<<16|o.S<<8|o.F;O.yg(R,r)};GS.Ii=function(R,Z,B,o){var r=Z.uglg&&Z.uglg.v?B.vT():Z.lagl.v.val;
r=r*Math.PI/180+o;var Y=Math.cos(r)*Z.Dstn.v.val,E=Math.sin(r)*Z.Dstn.v.val;R.x-=Math.round(Y);R.y+=Math.round(E)};
GS.fM=function(R){if(R==null)return null;var Z=R.frameFXMulti.v;if(Z.length==0)return null;Z=Z[0].v;
var B=JSON.parse(JSON.stringify(Gk.uI.default));GS.OBo(Z,B);return B};GS.OBo=function(R,Z){var B=Gk.stroke.fK.indexOf(R.PntT.v.FrFl),o=[Gk.up,Gk.rR,Gk.rB][B],r=Z.strokeStyleContent.v={classID:Gk.uI.FJ[B]};
for(var Y=0;Y<o.length;Y++)r[o[Y]]=R[o[Y]];Z.strokeEnabled=R.enab;Z.strokeStyleLineWidth=R.Sz;Z.strokeStyleLineAlignment.v.strokeStyleLineAlignment=Gk.uI.vl[Gk.stroke.types.indexOf(R.Styl.v.FStl)];
Z.strokeStyleOpacity=R.Opct;Z.strokeStyleBlendMode=R.Md};GS.uM=function(R,Z){var B=[];for(var o=0;o<R.length;
o++)B.push({t:"UntF",v:{type:"#Nne",val:Math.round(R[o]*Z)}});return B};GS.vv=function(R,Z,B){this.Ok=Z.clone();
this.Ok.yj(1,1);this.OJu=Z.clone();this.OJu.yj(B,B);this.ODy=O.a(this.Ok.b());O.WX(R,Z,this.ODy,this.Ok);
this.Jp=null;this.JZ=null;this.Jo=null};GS.vv.prototype.Fh=function(){return this.ODy};GS.vv.prototype.rect=function(){return this.Ok};
GS.vv.prototype.us=function(){return this.OJu};GS.vv.prototype.U_=function(){if(this.Jp)return this.Jp;
this.Jp=O.clone(this.Fh());O.za(this.Jp);return this.Jp};GS.vv.prototype.uF=function(){if(this.JZ)return this.JZ;
this.JZ=new Float64Array(this.rect().b());O.style.DP(this.U_(),this.JZ,this.rect().Y,this.rect().Z);
return this.JZ};GS.vv.prototype.fs=function(){if(this.Jo)return this.Jo;var R=this.us(),Z=O.a(R.b());
O.WX(this.Fh(),this.rect(),Z,R);this.Jo=new Float64Array(R.b());O.style.DP(Z,this.Jo,R.Y,R.Z);return this.Jo};
GS.vv.prototype.OLe=function(R,Z){var B={mL:-Z,TN:R,hb:null,_M:null};if(Z==0){B.hb=this.rect();B._M=this.uF();
return B}var o=this.fs().slice(0),r=this.us();B.hb=r;B._M=o;for(var Y=0;Y<o.length;Y++)o[Y]=-o[Y];if(R==0)return B;
var E=this.uF(),p=this.rect();for(var y=0;y<p.Z;y++)for(var z=0;z<p.Y;z++){var u=y*p.Y+z,Q=(y+p.y-r.y)*r.Y+z+p.x-r.x;
o[Q]+=E[u]}return B};GS.vv.prototype.xn=function(R,Z,B){var o=Math.ceil(R+Z),r={_:this.rect().clone(),Fh:null};
r._.yj(o,o);r.Fh=O.a(r._.b());if(R==0&&Z==0)O.VG(B?this.Fh():this.U_(),r.Fh);else{var Y=O.a(r._.b());
O.WX(this.Fh(),this.rect(),Y,r._);if(!B)O.za(Y);if(R!=0){if(B)O.style.BB(Y,r._,this.fs(),this.us(),R);
else O.style.BB(Y,r._,this.uF(),this.rect(),R)}if(Z!=0)O.blur.uy(Y,r.Fh,r._,Math.max(1,Z*.43));else r.Fh=Y}return r};
GS.vv.prototype.OBM=function(R,Z,B){var o=R*(Z-.5),r={_:this.rect().clone(),Fh:null};if(B)r._.yj(R,R);
r.Fh=O.a(r._.b());var Y=r._.Y,E=r._.Z,p=B?this.fs():this.uF(),y=B?this.us():this.rect(),z=r._,u=z.Rg(y),Y=u.Y,E=u.Z,Q=u.x-z.x,H=u.y-z.y,T=u.x-y.x,C=u.y-y.y,e=1-Z*2;
for(var $=0;$<E;$++)for(var x=0;x<Y;x++){var M=p[($+C)*y.Y+x+T],m=M/R;r.Fh[($+H)*z.Y+x+Q]=Math.max(0,Math.min(255,255-255*((m+e)/(1+e))))}return r};
GS.OwZ=function(R,Z,B){var o=R.Lefx,r=R.blendOptions;if(o){var Y=Z.add.lmfx;if(B==null)B=Y?Y.Scl.v.val:100;
Z.add.lmfx=JSON.parse(JSON.stringify(o.v));GS.OVm(Z.add.lmfx,B/Z.add.lmfx.Scl.v.val);if(Y)Z.add.lmfx.Scl.v.val=Y.Scl.v.val}else delete Z.add.lmfx;
if(r){r=r.v;if(r.Md)Z.QV=Gd.AQ(r.Md.v.BlnM);if(r.Opct)Z.opacity=Math.round(r.Opct.v.val*255/100);if(r.fillOpacity)Z.add.iOpa=Math.round(r.fillOpacity.v.val*255/100);
if(r.Blnd){var E=[];for(var p=0;p<10;p++)E.push(0,0,255,255);var y=r.Blnd.v,z="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var p=0;p<y.length;p++){var u=y[p].v,Q=8*["Gry","Rd","Grn","Bl"].indexOf(u.Chnl.v[0].v.enum);for(var H=0;
H<8;H++){E[Q+H]=u[z[H]].v}}Z.PG=E}}};GS.O_U=function(R){var Z="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),B=[],o=R.PG;
for(var r=0;r<4;r++){var Y=r*8;if(o[Y]+o[Y+1]+o[Y+4]+o[Y+5]==0&&o[Y+2]+o[Y+3]+o[Y+6]+o[Y+7]==4*255)continue;
var E={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][r]}}]}}};
B.push(E);for(var p=0;p<8;p++)E.v[Z[p]]={t:"long",v:o[r*8+p]}}var y={classID:"blendOptions"};if(R.QV!="norm")y.Md={t:"enum",v:{BlnM:Gd.iv(R.QV)}};
if(R.opacity!=255)y.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(R.opacity*100/255)}};if(R.add.iOpa!=null)y.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(R.add.iOpa*100/255)}};
if(B.length!=0)y.Blnd={t:"VlLs",v:B};var z={iw:{classID:"null",Idnt:{t:"TEXT",v:GF.l_()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},FW:{classID:"Styl",blendOptions:{t:"Objc",v:y}}},u=R.add.lmfx;
if(u)z.FW.Lefx={t:"Objc",v:u};return z};function YN(){}YN.EK=function(R){return JSON.parse(JSON.stringify(R))};
YN.Ir=function(R){var Z=YN.EK(YN.OLK),B=Z.Brsh.v;if(R!=null){delete B.Hrdn;B.classID="sampledBrush";
B.Nm={t:"TEXT",v:"layer.png"},B.sampledData={t:"TEXT",v:R}}return Z};YN.OLK={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
YN.WL={};YN.WL.check=function(R){var Z=YN.WL.fC;for(var B=0;B<Z.length;B++)if(R[Z[B]]==null)R[Z[B]]=JSON.parse(YN.WL.uQ[Z[B]]);
var o=[];for(var B=0;B<Z.length;B++)o.push(Z[B]);var r=YN.WL.O_m;for(var B=0;B<r.length;B++){var Y=r[B][0],E=r[B][1],p=!0;
for(var y=0;y<Y.length;y++)p=p&&R[Y[y]].v==!0;if(p)for(var y=0;y<E.length;y++){if(R[E[y]]==null)console.log("Missing conditional parameter "+E[y]);
else o.push(E[y])}}for(var z in R)if(o.indexOf(z)==-1)console.log("Extra parameter "+z);R=R.Brsh.v;Z=YN.WL.aY.fC;
for(var B=0;B<Z.length;B++)if(R[Z[B]]==null)R[Z[B]]=JSON.parse(YN.WL.aY.uQ[Z[B]]);o=[];for(var B=0;B<Z.length;
B++)if(R[Z[B]])o.push(Z[B]);else console.log("Missing default parameter "+Z[B]);r=YN.WL.aY.OLr[R.classID];
for(var B=0;B<r.length;B++)if(R[r[B]]==null&&r[B]!="dtipsGridSize"&&r[B]!="dtipsErodibleTipHeightMap"&&R.Ohq!=1)console.log("Missing conditional parameter "+r[B]);
else o.push(r[B]);for(var z in R)if(o.indexOf(z)==-1)console.log("Extra parameter "+z)};YN.WL.fH=function(R){var Z=YN.WL.O_m;
for(var B=0;B<Z.length;B++){var o=Z[B][0],r=Z[B][1],Y=!0;for(var E=0;E<o.length;E++)Y=Y&&R[o[E]]&&R[o[E]].v==!0;
if(Y){for(var E=0;E<r.length;E++)if(R[r[E]]==null){R[r[E]]=JSON.parse(YN.WL.uQ[r[E]])}}else for(var E=0;
E<r.length;E++)if(R[r[E]]!=null){delete R[r[E]]}}};YN.WL.aY={};YN.WL.aY.fC="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
YN.WL.aY.uQ={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};YN.WL.aY.OLr={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
YN.WL.O_m=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
YN.WL.fC="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
YN.WL.uQ={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function an(R){this.JM=R;this.dir=0}an.prototype.mq=function(R,Z){if(this.dir==0&&!this.JM.EW(R))this.dir=Math.abs(this.JM.x-R.x)<Math.abs(this.JM.y-R.y)?1:2;
var B=R;if(Z.R(a.Fl)){if(this.dir==1)B=new VP(this.JM.x,R.y);if(this.dir==2)B=new VP(R.x,this.JM.y)}return B};
function GM(R,Z,B,o,r,Y,E,p){this.DZ=Z;this.sw=B;this.Dk=Y;this.ua=o;if(o.ne==null)o.ne=[!1,!0];this.dh=null;
this.Zp=null;this.Oy=0;this.ODL=0;this.ODh=0;this.OG=0;this.yo=0;this.OhU=E;this.Ix=new N;this.OY=new N;
this.rect=new N;if(p!=null){this.Y$=p}else{var y=GM.O_b;if(y.length!=E.b()*4)y=O.a(E.b()*4);else y.fill(0);
this.Y$=GM.O_b=y}this.rect=E.clone();this.JF=[];this.OR=[];this.qU=null;this.Ky=0;this.X=null;this.Jc="";
this._L=null;this.O_P(R,r)}GM.O_b=O.a(16);GM.prototype.O_P=function(R,Z){this.Ky=Z;this.X=R;this.Jc=JSON.stringify(R)+JSON.stringify(this.ua.sS);
this._L=GM.OLQ(R,this.DZ,this.sw)};GM.prototype.moveTo=function(R,Z,B){B=this.Ohn(B);this.Oy=B;var o=new VP(R,Z),r=this.X.Brsh.v.Dmtr.v.val;
this.dh=o.clone();this.Zp=o.clone();this.qU=o.clone();this.JF=[R,Z];this.OR=[B];var Y=this.ua.ne;if(this.ua.sl!=GM.co)this.fP(this.Oem(o,this.OUg()*(Y[1]?B:1),this.ua.dr*(Y[0]?B*.5:1),new VP(0,0)));
this.OG=o.clone()};GM.prototype.lineTo=function(R,Z,B){B=this.Ohn(B);var o=this.JF,r=o.length,Y=o[r-2],E=o[r-1];
if(R==Y&&Z==E)return;var p=this.X.Brsh.v.Dmtr.v.val,y=Math.ceil(p)+1,z=new N(Math.round(Y),Math.round(E),0,0);
z.yj(y,y);var u=new N(Math.round(R),Math.round(Z),0,0);u.yj(y,y);this.Ojc(z.fj(u));this.JF.push(R,Z);
this.OR.push(B);r+=2;if(r>=6)this.fP(this.OJC(r))};GM.prototype.Ohn=function(R){if(R==null)R=1;R=Math.max(.05,Math.min(5,R));
if(isNaN(R)){alert("Pressure is not a number");throw"e"}return R};GM.prototype.fP=function(R){this.Ix=R;
this.OY=this.OY.fj(R)};GM.prototype.finish=function(){var R=this.JF,Z=R.length,B;if(Z==4)B=this.OUY(R[Z-2],R[Z-1],this.OR[(Z>>1)-1],!0);
if(Z>4)B=this.OJC(Z+2);if(B)this.fP(B)};GM.prototype.OJC=function(R){var Z=this.JF,B=this.OR,o=Z[R-6],r=Z[R-5],Y=Z[R-4],E=Z[R-3],p=B[(R>>1)-3],y=B[(R>>1)-2],z=new VP(0,0),u=new VP(0,0);
if(8<=R)z=GM.OqS(Z[R-8],Z[R-7],o,r,Y,E);if(R<=Z.length)u=GM.OqS(Z[R-2],Z[R-1],Y,E,o,r);var Q=o+z.x,H=r+z.y,T=Y+u.x,C=E+u.y,e=new N;
for(var $=0;$<10;$++){var x=($+1)*.1,M=1-x,m=M*M*M*o+3*x*M*M*Q+3*x*x*M*T+x*x*x*Y,G=M*M*M*r+3*x*M*M*H+3*x*x*M*C+x*x*x*E,K=this.OUY(m,G,p+x*(y-p));
e=e.fj(K)}return e};GM.OqS=function(R,Z,B,o,r,Y){var E=R-B,p=Z-o,y=r-B,z=Y-o,u=Math.sqrt(E*E+p*p),Q=Math.sqrt(y*y+z*z),H=Math.acos((E*y+p*z)/(u*Q))/Math.PI,T=.35,C=.1;
H=C+H*(T-C);var e=r-R,$=Y-Z,x=Math.sqrt(e*e+$*$),M=H*Q/x;return new VP(e*M,$*M)};GM.prototype.OUY=function(R,Z,B,o){var r=new N,Y=this.ua.O$t;
if(Y==null)Y=0;if(Y==0||o){r=this.OUT(R,Z,B);return r}var E=this.qU,p=R-E.x,y=Z-E.y,z=Math.sqrt(p*p+y*y);
p/=z;y/=z;if(z>Y){var u=E.x+p*(z-Y),Q=E.y+y*(z-Y);r=this.OUT(u,Q,B);this.qU.wh(u,Q)}return r};GM.prototype.OUT=function(R,Z,B){var o=new N,r=new VP(R,Z),Y=this.X.Brsh.v.Dmtr.v.val,E=this.ua.sl,p=r.ye(this.Zp);
p.normalize(1);var y=VP.HP(this.Zp,r),z=-this.ODL,u=this.Zp.clone(),Q=this.ua.ne;while(!0){var H=this.Oy+(B-this.Oy)*(Math.max(0,z)/y),T=this.OUg()*(Q[1]?H:1),C=this.OLp()*(T+this.ODh)/2;
if(E==GM.co)C=1;if(z+C<y){z+=C;var e=new VP(this.Zp.x+p.x*z,this.Zp.y+p.y*z),M=1;if(E==GM.co){var $=u.clone();
$.x+=p.x>0?1:-1;var x=u.clone();x.y+=p.y>0?1:-1;if(VP.HP($,e)<VP.HP(x,e))e=$;else e=x;z=VP.HP(e,this.Zp)}if(this.X.useScatter.v==!0){M=this.X.Cnt.v;
var m=this.X.countDynamics.v.jitter.v.val/100,G=m*(-1+2*this.$Q());M+=Math.round(M*G)}for(var K=0;K<M;
K++){var s=this.Oem(e,T,this.ua.dr*(Q[0]?H*.5:1),p);o=o.fj(s)}u=e}else break}this.ODL=y-z;this.Zp=r;
this.Oy=B;return o};GM.prototype.OLp=function(){var R=this.X.Brsh.v,Z=R.Spcn.v.val,B=Math.max(5,R.Rndn.v.val);
return B/100*(Z/100)};GM.prototype.OUg=function(){var R=this.X,Z=R.Brsh.v.Dmtr.v.val;if(R.useTipDynamics.v){var B=Z*(R.minimumDiameter.v.val/100);
Z=B+(Z-B)*(1-this.$Q()*(R.szVr.v.jitter.v.val/100))}return Z};GM.prototype.Oem=function(R,Z,B,o){B=Math.min(1,B);
var r=this.X,Y=this.X.Brsh.v,E=Y.Dmtr.v.val,p=this.ua,y=p.sl,z=p.Ohp,u=new GN;u.translate(-this._L.Oh.Y/2,-this._L.Oh.Z/2);
u.scale(1/this._L.ODS,1/this._L.ODS);u.scale(Z/E,Z/E);u.scale(1,Math.max(5,Y.Rndn.v.val)/100);if(r.useTipDynamics.v){var Q=r.minimumRoundness.v.val/100;
u.scale(1,Q+(1-Q)*Math.round(100-this.$Q()*r.roundnessDynamics.v.jitter.v.val)/100);u.rotate((-.5+this.$Q())*4*Math.PI*(r.angleDynamics.v.jitter.v.val/100))}u.rotate(Y.Angl.v.val*(Math.PI/180));
if(r.useScatter.v){var H=(-1+2*this.$Q())*r.scatterDynamics.v.jitter.v.val/100;u.translate(-H*Z*o.y,H*Z*o.x)}u.translate(R.x,R.y);
var T=this.OLF(u,R);this.Ojc(T.rect);var C=T.rect.clone();if(y==null){var e=this.iz(r);O.yg(T._h,Math.round(e.X*255)<<16|Math.round(e.S*255)<<8|Math.round(e.F*255)<<0,4278190080);
if(this.OY.Pa()&&this.rect.EW(T.rect)&&B==1)this.Y$=T._h.slice(0);else O.e.OjF(T._h,T.rect,this.Y$,this.rect,T.rect,B)}if(y==GM.co){var $=new VP(T.rect.x+T.rect.Y/2,T.rect.y+T.rect.Z/2),x=Math.round($.x-this.OG.x),M=Math.round($.y-this.OG.y),m=T.rect.clone();
m.offset(-x,-M);var G=m.Rg(this.rect);G.offset(x,M);O.GN(this.Y$,this.rect,T._h,m);O.e.Qg(T._h,T.rect,this.Y$,this.rect,T.UA,T.rect,B)}if(y==GM.Vn||y==GM.VQ||y==GM.mU){var K=T.rect.Rg(this.rect),s;
if(K.EW(T.rect))s=T.UA;else{s=O.a(K.b());O.WX(T.UA,T.rect,s,K)}var L=O.a(K.b()*4);O.GN(this.Y$,this.rect,L,K);
if(y==GM.VQ){var _=O.clone(L),P=O.AO.fb([-1,-1,-1,-1,25,-1,-1,-1,-1]);O.AO.Ms(L,_,K.Y,K.Z,P,0);O.VG(_,L)}else if(y==GM.mU){var i=Go.wI("UnsM");
i.Amnt.v.val=15;i.Thsh.v=0;i.Rds.v.val=5;var _=O.a(L.length);Go.eX("UnsM",{buffer:L,rect:K},i,0,0,{buffer:_,rect:K});
O.VG(_,L)}else{Go.HA(1,O.blur.gB,L,K)}O.e.Qg(L,K,this.Y$,this.rect,s,K,B)}this.ODh=Z;this.OG=$;return C};
GM.prototype.iz=function(R){var Z=GM.OYz(this.Ky);if(R.useColorDynamics&&R.useColorDynamics.v){var B=1-this.$Q()*R.clVr.v.jitter.v.val/100,o=GM.OYz(this.Dk);
Z.F=B*Z.F+(1-B)*o.F;Z.S=B*Z.S+(1-B)*o.S;Z.X=B*Z.X+(1-B)*o.X;var r=(-.5+this.$Q())*R.H.v.val/100,Y=(-1+2*this.$Q())*R.Strt.v.val/100,E=(-1+2*this.$Q())*R.Brgh.v.val/100,p=O.Jn(Z.F,Z.S,Z.X);
p.N$=(p.N$+r+1)%1;p.tH=p.tH+Y;if(p.tH<0)p.tH=-p.tH;if(p.tH>1)p.tH=1-(p.tH-1);p.ct=p.ct+E;if(p.ct<0)p.ct=-p.ct;
if(p.ct>1)p.ct=1-(p.ct-1);Z=O.Aa(p.N$,p.tH,p.ct)}return Z};GM.prototype.WL=function(R){return Math.max(0,Math.min(1,R))};
GM.prototype.$Q=function(){this.yo++;return GM.hash(this.yo)};GM.OYz=function(R){return{F:(R>>16&255)/255,S:(R>>8&255)/255,X:(R>>0&255)/255}};
GM.hash=function(R){R=R^61^R>>16;R=R+(R<<3);R=R^R>>4;R=R*668265261;R=R^R>>15;return(R&16777215)/16777215};
GM.Vz=[];GM.prototype.OLF=function(R,Z){var B=null,E;for(var o=0;o<GM.Vz.length;o++)if(GM.Vz[o].Jc==this.Jc){B=GM.Vz[o];
GM.Vz.splice(o,1)}if(B==null)B={lr:[],Jc:this.Jc,bS:0};var r=B.lr,Y=this.ua.sS;if(Y){R=R.clone();R.ec=Math.floor(R.ec);
R.Cf=Math.floor(R.Cf)}var p=GM.Oag(R.ec,R.Cf);for(var o=0;o<r.length;o++){var y=r[o];if(!(y.Uc.t==R.t&&y.Uc.X==R.X&&y.Uc.f_==R.f_&&y.Uc._l==R._l))continue;
if(GM.OLu(y.eh,p)<.2||y.rect.b()>1e4){E=y;break}}var z=Math.round(this.X.Brsh.v.Dmtr.v.val);if(E){E.rect.x=Math.round(E.xT.x-E.Uc.ec+R.ec);
E.rect.y=Math.round(E.xT.y-E.Uc.Cf+R.Cf);if(Y){E.rect.x=Math.round(Z.x-z/2);E.rect.y=Math.round(Z.y-z/2)}}else{var u;
if(Y&&z<=3){u={buffer:O.a(z*z*4),rect:new N(Math.round(Z.x-z/2),Math.round(Z.y-z/2),z,z)};O.yg(u.buffer,4278190080)}else if(R.t==1&&R.X==0&&R.f_==0&&R._l==1){u={buffer:this._L._h,rect:this._L.Oh.clone()};
u.rect.x=Math.round(R.ec);u.rect.y=Math.round(R.Cf)}else u=A.HQ.q$([this._L._h,this._L.Oh],R);if(Y){for(var o=0;
o<u.buffer.length;o++)u.buffer[o]=u.buffer[o]>127?255:0}if(u==null)u={buffer:O.a(0),rect:new N};var Q=R.ec-Math.floor(R.ec),H=R.Cf-Math.floor(R.Cf);
E={_h:u.buffer,UA:O.a(u.rect.b()),rect:u.rect,xT:u.rect.clone(),Uc:R,eh:GM.Oag(R.ec,R.Cf)};O.KT(E._h,E.UA,3);
r.push(E);if(r.length>200)r=r.slice(100)}B.lr=r;B.bS=Date.now();GM.Vz.push(B);GM.Vz.sort(function(T,C){return C.bS-T.bS});
while(GM.Vz.length>3)GM.Vz.pop();return E};GM.Oag=function(R,Z){return new VP(R-Math.floor(R),Z-Math.floor(Z))};
GM.OLu=function(R,Z){var B=Z.x,o=Z.y,r=Math.abs(B-R.x),Y=Math.abs(o-R.y);if(Math.abs(B-1-R.x)<r)B--;
else if(Math.abs(B+1-R.x)<r)B++;if(Math.abs(o-1-R.y)<Y)o--;else if(Math.abs(o+1-R.y)<Y)o++;r=R.x-B;Y=R.y-o;
return Math.sqrt(r*r+Y*Y)};GM.prototype.Ojc=function(R){};GM.OLQ=function(R,Z,B){var o,r,Y,E=R.Brsh.v.Dmtr.v.val;
if(R.Brsh.v.classID=="computedBrush"){var p=R.Brsh.v.Hrdn.v.val/100,y=1+.55*(1-p);Y=E<100?1.2:1;var z=Math.round(Y*E*y);
r=new N(0,0,z,z);o=O.a(z*z*4);var u=new Uint32Array(o.buffer),Q=z/2,H=y/Q,T=Date.now(),C=GM.ou(p),e=Math.round(8e3/Q),Z=C[0],$=C[1]-e,x=C[2]+e,M=Math.min(z,(z>>>1)+1);
for(var m=0;m<M;m++){var G=H*(m-Q+.25);G*=G;var K=H*(m-Q+.75);K*=K;var s=m*z,L=(z-1-m)*z;for(var _=0;
_<M;_++){var P=H*(_-Q+.25),i=Math.floor(Math.sqrt(P*P+G)*(4e3/1.55));if(x<i)continue;else if(i<$){var w=4278190080;
while(_<M){var k=z-1-_;u[s+_]=w;u[s+k]=w;u[L+_]=w;u[L+k]=w;_++}break}else{var h=H*(_-Q+.75),j=Math.floor(Math.sqrt(h*h+G)*(4e3/1.55)),I=Math.floor(Math.sqrt(P*P+K)*(4e3/1.55)),V=Math.floor(Math.sqrt(h*h+K)*(4e3/1.55)),w=~~(.5+255*.25*(Z[i]+Z[j]+Z[I]+Z[V]))<<24,k=z-1-_;
u[s+_]=w;u[s+k]=w;u[L+_]=w;u[L+k]=w}}}}if(R.Brsh.v.classID=="sampledBrush"){var F;for(var m=0;m<Z.length;
m++)if(Z[m].id==R.Brsh.v.sampledData.v)F=Z[m];r=new N(0,0,F._.Y,F._.Z);Y=Math.max(r.Y,r.Z)/E;o=O.a(r.b()*4);
O.qH(F.channel,o,3)}while(Math.min(r.Y,r.Z)>E*2){var q=new N(r.x,r.y,Math.floor(r.Y/2),Math.floor(r.Z/2)),t=A.HQ.q$([o,r],new GN(q.Y/r.Y,0,0,q.Z/r.Z,0,0));
Y*=q.Y/r.Y;r=t.rect;o=t.buffer}return{ODS:Y,Oh:r,_h:o}};GM.Jj=[];GM.ou=function(R){if(GM.Jj[R])return GM.Jj[R];
var Z=Math.pow(R,.55),B=new Float64Array(8e3),o=0,r=8e3;for(var Y=0;Y<8e3;Y++){var E=GM.OlO(Y*(1.55/4e3),Z);
if(E>=1)o=Y;else if(E<=0&&r==8e3)r=Y;B[Y]=E}var p=[B,o,r];GM.Jj[R]=p;return p};GM.OlO=function(R,Z){var B=R<Z?1:GM.OlX((R-Z)/Math.pow(1.001-Z,.86));
return B};GM.OlX=function(R){var Z=R*.85;return Math.exp(-(Z*Z)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))};
GM.prototype.mb=function(){return this.rect.clone()};GM.prototype.JI=function(){return this.Ix.Rg(this.rect)};
GM.prototype.xQ=function(){return this.OY.Rg(this.rect)};GM.prototype.VW=function(){return this.Y$};
GM.uj=function(R,Z,B,o,r,Y){var E=X.T("canvas",""),p=E.getContext("2d");E.width=Y!=null?Y:o;E.height=r;
p.fillStyle="#ffffff";p.fillStyle="#000000";p.font=Math.floor(10*X.D())+"px sans-serif";var y=""+R.Brsh.v.Dmtr.v.val,z=p.measureText(y);
p.fillText(y,(o-z.width)/2,r-2);var u=o,Q=r-10*X.D(),H=Math.min(u,Q),T=R.Brsh.v.Dmtr.v.val,C=R.Brsh.v.classID;
if(C=="computedBrush"){p.translate(u/2,Q/2);p.rotate(-R.Brsh.v.Angl.v.val*Math.PI/180);p.scale(1,.1+.9*R.Brsh.v.Rndn.v.val/100);
var e=Math.min(.95*H/2,y/2)+.5,$=.9*R.Brsh.v.Hrdn.v.val/100,x=p.createRadialGradient(0,0,0,0,0,e);x.addColorStop($,"rgba(0,0,0,1)");
x.addColorStop((.5+$)/1.5,"rgba(0,0,0,.5)");x.addColorStop(1,"rgba(0,0,0,0)");p.fillStyle=x;p.fillRect(-e,-e,2*e,2*e)}else if(C=="sampledBrush"){var M;
for(var m=0;m<Z.length;m++)if(Z[m].id==R.Brsh.v.sampledData.v)M=Z[m];var G=X.T("canvas",""),K=G.getContext("2d");
G.width=M._.Y;G.height=M._.Z;var s=K.getImageData(0,0,G.width,G.height),L=new O.ZF(G.width*G.height);
L.t=M.channel;O.oh(L,s.data);K.putImageData(s,0,0);H=Math.min(H,R.Brsh.v.Dmtr.v.val);var _=Math.max(G.width,G.height),P=.85*G.width*H/_,i=.85*G.height*H/_;
p.drawImage(G,(u-P)/2,(Q-i)/2,P,i)}else{}return E.toDataURL()};GM.JA=function(R,Z,B,o){if(B==0)B=1;var r=R.Brsh.v,Y=r.Dmtr.v.val,E=r.Dmtr.v.val=Math.min(o!=null?Math.round(o*2.6):3e3,Y*B),p=r.Hrdn?r.Hrdn.v.val/100:1,y=o!=null?o:Math.round(E*(1+.55*(1-p)))+4,Q;
y=Math.max(15,Math.min(y,3e3));var z=new N(0,0,y,y),u=new GM(R,Z,null,{dr:1},16711712,0,z);r.Dmtr.v.val=Y;
u.moveTo(z.Y/2,z.Z/2);var H=u.VW(),T=u.mb();if(z.EW(T))Q=H;else{Q=O.a(z.b()*4);O.GN(H,T,Q,z)}return[Q,z,E]};
GM.Jl=function(R,Z,B){var o=GM.JA(R,Z,B),r=o[0],Y=o[1],E=o[2],p=Y.b(),y=O.a(p);O.KT(r,y,3);var z=O.a(p);
O.O.OWn(y,z,Y);if(E<3||O.in(z,0)){var u=Y.Y,Q=u>>>1,H=z,T=255;for(var C=0;C<4;C++){H[u*(Q-6+C)+Q]=T;
H[u*Q+Q-6+C]=T;H[u*Q+Q+6-C]=T;H[u*(Q+6-C)+Q]=T}}var e=[1,2,1,2,8,2,1,2,1];e=O.AO.fb(e);O.AO.OhA(z,y,Y.Y,Y.Z,e);
O.yg(r,4294967295);O.qH(y,r,3);for(var C=0;C<p;C++)if(z[C]==255){r[C<<2]=r[(C<<2)+1]=r[(C<<2)+2]=0;r[(C<<2)+3]=255}return{Ti:r,_:Y,Yd:new VP(Y.Y/2,Y.Z/2)}};
GM.co="0";GM.Vn="1";GM.VQ="2";GM.mU="3";var YK={};YK.uV=function(R,Z){var B=R.Jt(),y;if(B.x==Infinity||B.Pa())return{Y$:O.a(0),_:new N,VE:new N};
var o=R.Jt(),r=YK.me(R,Z),Y=O.W.bE(r.I);if(Y.Pa())return{Y$:O.a(0),_:new N,VE:new N};var E=X.T("canvas","");
E.width=Y.Y;E.height=Y.Z;var p=E.getContext("2d");p.translate(-Y.x,-Y.y);YK.OlB(r,p);if(R.Bt.length!=0){var z=p.getImageData(0,0,Y.Y,Y.Z);
y=new Uint8Array(z.data.buffer)}else y=O.a(Y.b()*4);return{Y$:y,_:Y,VE:o}};YK.me=function(R,Z){var B={J:[],I:[]};
YK.OlJ(R,B);if(!O.Ef.oU(Z.qP)){var o=O.W.Rn(B.I);B=O.W.Ol(B);B=O.W.Of(B,Math.min(o.Y,o.Z)/8);var r=GV.mb(Z,R),Y=O.Ef.zT(Z.qP,r);
O.Va.apply(Y,B.I,r)}var E=Z.P;O.W.P(B.I,E,B.I);return B};YK.OlB=function(R,Z){Typr.U.pathToContext({crds:R.I,cmds:R.J},Z)};
YK.OBp=!1;YK.IF=function(R,Z){if(YI.ODt==null){if(!YK.OBp){YI.OSH();YK.OBp=!0}return!1}var B=R.HC,o=B.ResourceDict.FontSet,r=B.ResourceDict.StyleSheetSet[0].StyleSheetData,Y=B.EngineDict.StyleRun.RunLengthArray,E=B.EngineDict.StyleRun.RunArray,p=GV.el(B),y=!0,z={},u=0;
for(var Q=0;Q<E.length;Q++){var H=E[Q].StyleSheet.StyleSheetData.Font;if(H==null)H=r.Font;for(var T=0;
T<Y[Q];T++){var C=p.charCodeAt(u+T),e=H+","+(C>128?C:-1);if(z[e]==null){z[e]=1;if(Z.iE(o[H].Name,C)==null)y=!1}}u+=Y[Q]}return y};
YK.OlJ=function(R,Z){var B=new GN;for(var o=0;o<R.LH.length;o++)YK.OlN(R.Bt,R.LH[o],Z,B)};YK.OlN=function(R,Z,B,o){o.translate(Z.eh.x,Z.eh.y);
for(var r=0;r<Z.W_.length;r++){var Y={},E=Z.W_[r];if(!E.DI)break;o.translate(E.eh.x,E.eh.y);for(var p=E.start;
p<E.end;p++)YK.Olz(R,Z.iI[p],Z,Y,B,o);o.translate(-E.eh.x,-E.eh.y)}o.translate(-Z.eh.x,-Z.eh.y)};YK.Olv="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
YK.Olz=function(R,Z,B,o,r,Y){Y.translate(Z.eh.x,Z.eh.y);for(var E=Z.uq;E<=Z.jA;E++){var p=B.KI[E],y=p._.Y,z=R[B.ODs+p.Ku];
if(z.Yj=="\n")continue;var u=z.yp.FontSize/z.OU.head.unitsPerEm,Q=GV.iz(z.yp),H=(Math.round(Q.F)<<16)+(Math.round(Q.S)<<8)+Math.round(Q.X);
r.J.push("#"+O.ue(H));var T=Y.clone();T.translate(p.eh.x+p.bX*u,p.eh.y-p.ba*u);var C=new GN;C.scale(u,-u);
if(z.In==1&&YK.Olv.indexOf(z.Yj)!=-1)C.concat(new GN(-1,0,0,1,y,0));if(z.yp.FauxItalic)C.concat(new GN(1,0,-Math.tan(.18),1,0,0));
C.translate(0,z.bJ);C.scale(z.scale.x,z.scale.y);if(z.yp.BaselineShift!=null)C.translate(0,-z.yp.BaselineShift);
if(p.XZ!=0){C.rotate(-p.XZ)}C.concat(T);if(p.path.J.length!=0&&z.Yj!="\t"){if(z.yp.FauxBold){var e=z.yp.FontSize/2048*27*z.scale.x;
C.ec+=e;O.W.concat(r,p.path,C);C.ec-=e+e;O.W.concat(r,p.path,C)}else O.W.concat(r,p.path,C)}if(z.Yj!="\n"){if(z.yp.Underline){if(o.bD==null)o.bD=z.OU.post.underlineThickness;
if(o.OqE==null)o.OqE=z.OU.post.underlinePosition;var $=0,x=o.OqE-o.bD/2,M=p.dp*1.05,m=-o.bD;O.W.concat(r,{J:["M","L","L","L","Z"],I:[$,x,$+M,x,$+M,x+m,$,x+m]},C)}if(z.yp.Strikethrough){var G=z.OU["OS/2"].yStrikeoutSize,K=z.OU["OS/2"].yStrikeoutPosition,$=0,x=K+G/2,M=p.dp*1.05,m=-G;
O.W.concat(r,{J:["M","L","L","L","Z"],I:[$,x,$+M,x,$+M,x+m,$,x+m]},C)}}r.J.push("X")}Y.translate(-Z.eh.x,-Z.eh.y)};
function YI(R,Z){var B=GV.hX(R),o,r,Y=GV.ri(R),y;if(R.Curve)r=YI.mp(R.Curve);if(B!=0){o=new N(Y[0],Y[1],Y[2],Y[3]);
if(B==2){o.Y=r[5]-r[4];o.Z=9999}}this.LH=[];this.Bt=[];this.ju=B;var E=GV.el(R),p=-1;for(var z=0;z<E.length;
z++){var u=y,Q=GV.OOP(R,z),m=0;if(Q!=p){p=Q;u=y=GV.OtX(R,z)}var H={Yj:E.charAt(z),yp:u,OU:null,OS:-1,bJ:0,scale:new VP(0,0),_o:0,lineHeight:0,In:0},T=R.ResourceDict.FontSet[u.Font].Name,C=H.OU=Z.iE(T,E.charCodeAt(z));
H.scale.x=u.HorizontalScale==null?1:u.HorizontalScale;H.scale.y=u.VerticalScale==null?1:u.VerticalScale;
var e=C["OS/2"],$=C.hhea;if(u.FontCaps==1&&H.Yj!=H.Yj.toUpperCase()){var x=e.sxHeight?e.sxHeight/e.sTypoAscender:.76;
H.scale.x*=x;H.scale.y*=x}var M=1/C.head.unitsPerEm*u.FontSize;if(u.FontBaseline==1){var x=R.ResourceDict.SuperscriptSize;
H.scale.x*=x;H.scale.y*=x;H.bJ-=R.ResourceDict.SuperscriptPosition*u.FontSize}if(u.FontBaseline==2){var x=R.ResourceDict.SubscriptSize;
H.scale.x*=x;H.scale.y*=x;H.bJ+=R.ResourceDict.SubscriptPosition*u.FontSize}if(m==0&&e&&e.sxHeight&&T.toLowerCase().indexOf("capitals")!=-1)m=e.sxHeight;
if(m==0&&e&&e.sCapHeight)m=e.sCapHeight;if(m==0&&e&&e.sTypoAscender)m=e.sTypoAscender;if(m==0)m=$.ascender;
H._o=m*M;H.lineHeight=u.FontSize*1.2;if(u.AutoLeading==!1)H.lineHeight=u.Leading;this.Bt.push(H)}var G=this.LH,K=[0];
for(var z=0;z<R.EngineDict.ParagraphRun.RunLengthArray.length;z++){var s=new YI.Jf(R,Z,this.Bt,z,o,K,B==1?r:null);
G.push(s)}if(B==2){var L=R.Curve.Points,_=r[0],P=r[1],i=r[2],w=r[3],k=r[4],h=r[5];for(var z=0;z<G.length;
z++)for(var j=0;j<G[z].W_.length;j++)if(!(z==0&&j==0))G[z].W_[j].DI=!1;var s=G[0],I=s.W_[0];s.eh.wh(0,0);
I.eh.wh(0,0);for(var j=I.start;j<I.end;j++){var V=s.iI[j],F=V.eh.x;V.eh.x=0;for(var q=V.uq;q<=V.jA;q++){var t=s.KI[q],c=t._.Y/2;
t.eh.x+=F;var f=YI.Olp(_,(k+t.eh.x+c)%w);t.eh.x=f[0]-c*f[2];t.eh.y=f[1]-c*f[3];t.XZ=Math.atan2(f[3],f[2])}}}}YI.prototype.Oli=function(){return!this.Owz(0)};
YI.prototype.Olr=function(){return this.Owz(1)};YI.prototype.Owz=function(R){var Z=this.LH,B=!0,o=0;
for(var r=0;r<Z.length;r++){var Y=Z[r].W_,E=Y.length;o+=E;for(var p=0;p<E;p++)B&=Y[p].DI}return[B,o][R]};
YI.mp=function(R){var Z=R.Points,B=Z.length,o=B>>>3,r=R.TextOnPathTRange,Y=R.Reversed,Q=0,H=0;if(Y){var E=Z.slice(0);
for(var p=0;p<B;p+=2){E[p]=Z[B-2-p];E[p+1]=Z[B-1-p]}Z=E;r=[o-r[1]%o,o-r[0]%o]}var y=[],z=[0],u=[0];for(var p=0;
p<B;p+=8){var T=Z[p+6]-Z[p+0],C=Z[p+7]-Z[p+1],e=Math.round(4*Math.sqrt(T*T+C*C));for(var $=0;$<e;$++){var x=$/e,M=1-x,m=M*M*M*Z[p+0]+3*M*M*x*Z[p+2]+3*M*x*x*Z[p+4]+x*x*x*Z[p+6],G=M*M*M*Z[p+1]+3*M*M*x*Z[p+3]+3*M*x*x*Z[p+5]+x*x*x*Z[p+7];
y.push(m,G);if(p+$!=0){var T=m-Q,C=G-H;u.push(u[u.length-1]+Math.sqrt(T*T+C*C));z.push((p>>>3)+x)}Q=m;
H=G}}var K=u.length,s=u[K-1],L=YI.Jh(r[0],z),_=YI.Jh(r[1]%o,z),P=u[L%K],i=u[_%K];if(P>=i)i+=s;return[y,z,u,s,P,i]};
YI.Jh=function(R,Z){var B=0;while(Z[B]<R)B++;return B};YI.Olp=function(R,Z){var B=0,o=0,r,Y,E;while(B<Z){r=R[o+2]-R[o];
Y=R[o+3]-R[o+1];E=Math.sqrt(r*r+Y*Y);B+=E;o+=2}return[R[o],R[o+1],r/E,Y/E]};YI.prototype.OlT=function(R){return this.Bt[R]};
YI.prototype.OlQ=function(R){for(var Z=0;Z<this.LH.length;Z++){var B=this.LH[Z];for(var o=0;o<B.W_.length;
o++){var r=B.W_[o],Y=B.iI[r.start].start,E=B.iI[r.end-1].end;if(Y<R&&R<E)return[Y,E-1]}}return[0,1]};
YI.prototype.OAy=function(R,Z){var B=-1,o=this.LH;if(this.ju==2){var r=1e9,Y=0,E=o[0],p=E.W_[0];for(var y=p.start;
y<p.end;y++){var z=E.iI[y];for(var u=z.uq;u<=z.jA;u++){var Q=E.KI[u],H=Q._.Y,T=R.x-Q.eh.x,C=R.y-Q.eh.y,e=T*T+C*C;
if(e<r){r=e;Y=Q.Ku}}}return Y}for(var $=0;$<o.length;$++){var E=o[$];for(var x=0;x<E.W_.length;x++){B++;
var p=E.W_[x],M=E.W_[x+1];if(M==null&&$<o.length-1)M=o[$+1].W_[0];if(Z!=null){if(B!=Z)continue}else{if(M!=null&&E.eh.y+p.eh.y<R.y)continue}for(var y=p.start;
y<p.end;y++){var z=E.iI[y];for(var u=z.uq;u<=z.jA;u++){var Q=E.KI[u],H=Q._.Y,m=E.eh.x+p.eh.x+z.eh.x,G=m+Q.eh.x,K=m+(u<z.jA?E.KI[u+1].eh.x:Q.eh.x+H);
if(R.x<=K||y+1==p.end&&u==z.jA){var s=E.ODs+Q.Ku,L=this.Bt[s],_=L.In&1;if(L.Yj!="\n"&&(_==0&&R.x>G+H/2||_==1&&R.x<G+H/2))s++;
return s}}}}}};YI.prototype.mZ=function(R){var Z={_:new N,QY:0},B=0;for(var o=0;o<this.LH.length;o++){var r=this.LH[o];
for(var Y=0;Y<r.W_.length;Y++){var E=r.W_[Y];Z.QY=B;B++;for(var p=E.start;p<E.end;p++){var y=r.iI[p];
for(var z=y.start;z<y.end;z++){if(z==R){var u=this.Bt[z],Q=u.OS,H=r.KI[Q].Ku,T=1;while(r.KI[Q]!=null&&r.KI[Q].Ku==H){var C=r.KI[Q],e=r.eh.x+E.eh.x+y.eh.x+C.eh.x,$=r.eh.y+E.eh.y+y.eh.y+C.eh.y;
Z._=Z._.fj(new N(e,$-u.lineHeight,C._.Y,u.lineHeight));Z.XZ=C.XZ;Q+=T}return Z}}}}}};YI.prototype.Jt=function(){var R=Infinity,Z=Infinity,B=-Infinity,o=-Infinity;
for(var r=0;r<this.LH.length;r++){var Y=this.LH[r];for(var E=0;E<Y.W_.length;E++){var p=Y.W_[E];if(!p.DI)break;
for(var y=p.start;y<p.end;y++){var z=Y.iI[y];for(var u=z.uq;u<=z.jA;u++){var Q=Y.KI[u],H=Q._,T=Y.eh.x+p.eh.x+z.eh.x+Q.eh.x,C=Y.eh.y+p.eh.y+z.eh.y+Q.eh.y;
R=Math.min(R,T+H.x);Z=Math.min(Z,C+H.y);B=Math.max(B,T+H.x+H.Y);o=Math.max(o,C+H.y+H.Z)}}}}return new N(R,Z,B-R,o-Z)};
YI.OlM=function(R){return 19968<=R&&R<=40959||12288<=R&&R<=12543};YI.OhH=function(R,Z,B,o,r,Y,E){var p=[Y],y=0;
for(var z=Y;z<E;z++){if(B[z]==null)console.log(z,Y,E,B);var u=B[z].Yj,Q=u.charCodeAt(0);if(Q==32||Q==9){p.push(y,z,1,z+1);
y=0}else if(Q==3851){p.push(y+1,z+1);y=0}else if(YI.OlM(Q)){p.push(y,z);y=1}else if(z!=Y&&B[z].In!=B[z-1].In){p.push(y,z);
y=1}else y++}p.push(y);var H=[];for(var z=0;z<p.length;z+=2){var T=p[z],C=p[z+1];if(C==0)continue;H.push(new YI.OSr(R,Z,B,o,r,T,C))}return H};
YI.Ohg=function(R,Z,B,o,r,Y,E){var p=[0,Z?Z.Y:1e9],y=[];if(o){var z=R[Y]._o,u=r+(r==0?z:R[Y].lineHeight),Q=u-z*.9,H=O.W.P$(o[0],Q),T=H.length,C=O.W.P$(o[0],u),e=C.length;
if(T!=0&&e!=0){var $=0,x=0;p=[];while($<T&&x<e){var M=Math.max(H[$],C[x]),m=H[$+1],G=C[x+1],K=Math.min(m,G);
if(M<K)p.push(M,K);if(m<G)$+=2;else x+=2}}}for(var s=0;s<p.length;s+=2){var L=p[s+1]-p[s],_=0,P=Y,i=Z?L-B.StartIndent-B.EndIndent-(Y==0?B.FirstLineIndent:0):Infinity;
while(Y!=R.length){var w=R[Y],k=_==0||(w.pV||w.Mg)||_+w._.Y<i;if(!k)break;_+=w._.Y;Y++}y.push(Y-P)}E[0]=y;
E[1]=p;E[2]=Y};YI.OhP=function(R,Z){var B=R.length,o=new Uint32Array(B),r=new Uint8Array(B),Y=0;for(var E=0;
E<B;E++){r[E]=0;var p=R.charCodeAt(E);o[E]=p;if(p>Y)Y=p}if(Y>1424)r=YI.OKV(o,Z);return r};YI.Jf=function(R,Z,B,o,r,Y,E){this.iI=[];
this.W_=[];this.eh=new VP(0,0);this.KI=null;this.iI=null;this.yp=GV.OtK(R,o);var p=this.yp,Q=0,e="",G=0,K=1,W=0;
if(o!=0){var y=p.SpaceBefore;if(y!=null)Y[0]+=y}var z=R.EngineDict.ParagraphRun.RunLengthArray,u=z[o];
for(var H=0;H<o;H++)Q+=z[H];var T=p._Direction?p._Direction:0;this.ODs=Q;var C=GV.el(R).slice(Q,Q+u);
for(var $=0;$<C.length;$++){var x=C.charAt($);e+=B[Q+$].yp.FontCaps==0?x:x.toUpperCase()}C=e;var M=YI.OhP(C,T),m=[],s=M[H]&1,L=B[Q].OU;
B[Q].In=M[0];for(var H=1;H<C.length;H++){var x=B[Q+H],_=M[H];x.In=_;if(_!=s||x.OU!=L){m.push(G,K);G=H;
K=1;s=_;L=x.OU}else K++}m.push(G,K);var P=this.KI=[];for(var H=0;H<m.length;H+=2){var i=m[H],w=m[H+1],k=(B[Q+i].In&1)==0,h=C.slice(i,i+w),j=YI.ODt(B[Q+i].OU,h,k),I=[],q=0;
for(var $=0;$<j.length;$++){var V=j[$];I.push({S:V.g,Ku:V.cl,dp:V.ax,$M:V.ay,bX:V.dx,ba:V.dy})}j=I;var F=j.slice(0);
if(!k)F.reverse();for(var $=0;$<h.length;$++){while(q+1<F.length&&F[q+1].Ku<=$){q++}while(q>0&&F[q-1].Ku==$)q--;
B[Q+i+$].OS=P.length+(k?q:F.length-q-1)}for(var $=0;$<j.length;$++){P.push(j[$]);j[$].Ku+=i;var x=B[Q+j[$].Ku];
if(x.Yj=="\n")j[$].dp=0;if(x.Yj=="\t")j[$].dp=x.OU.head.unitsPerEm*2}}var t=GV.Im(p),c=this.iI=YI.OhH(R,Z,B,Q,P,Q,Q+u),f=this.W_,l=-1,e=[null,null,0];
while(W<c.length){YI.Ohg(c,r,p,E,Y[0],W,e);l++;var g={start:W,end:0,_:new N,eh:new VP(0,0),DI:!0},G_=0,Gf=0;
f.push(g);g.end=e[2];var v=g.end==c.length;function Vg(F,i,GD){var Gi=GD-i>>>1;for(var H=0;H<Gi;H++){var Gh=F[i+H];
F[i+H]=F[GD-1-H];F[GD-1-H]=Gh}}for(var GE=1;GE<5;GE++){var Gy=-1;for(var H=g.start;H<g.end;H++){var _=B[c[H].start].In;
if(Gy==-1&&_>=GE)Gy=H;else if(Gy!=-1&&_<GE){Vg(c,Gy,H);Gy=-1}}var GY=g.end;if(T==0&&c[GY-1].pV)GY--;
if(Gy!=-1)Vg(c,Gy,GY)}var Ga=e[0],GO=e[1],Gy=W,J=W;for(var D=0;D<Ga.length;D++){var GB=GO[D*2+1]-GO[D*2],Gj=0;
Gy=J;J+=Ga[D];var GX=this.OSU(Gy,J,c,T,r!=null);if(r){if(t==1||v&&t==4)Gj=GX[1]+(GB-GX[0]);if(t==2||v&&t==5)Gj=GX[1]+(GB-GX[0])/2;
if(l==0)Gj+=p.FirstLineIndent;Gj+=p.StartIndent}else{if(t==0)Gj=p.StartIndent+p.FirstLineIndent;if(t==1)Gj=-GX[0]-p.EndIndent;
if(t==2)Gj=-GX[0]/2}Gj+=GO[D*2];if(r&&t>2&&(t==6||!v))this.OSx(Gy,J,c,GB,T,Gj);else{var Gw=Gj;for(var H=Gy;
H<J;H++){c[H].eh.x=Gw;Gw+=c[H]._.Y}}}W=g.end;for(var H=g.start;H<g.end;H++){var Gl=c[H]._.clone();Gl.Sm(c[H].eh);
g._=g._.fj(Gl);G_=Math.max(G_,c[H]._o);Gf=Math.max(Gf,c[H].lineHeight)}g.eh.y=l==0?0:f[l-1].eh.y+Gf;
if(l==0){if(o==0&&r)Y[0]+=G_;if(o!=0)Y[0]+=Gf;this.eh.y=Y[0]}else Y[0]+=Gf;if(r)g.DI=this.eh.y+g.eh.y<r.y+r.Z}var GU=p.SpaceAfter;
if(GU!=null)Y[0]+=GU};YI.Jf.prototype.OSU=function(R,Z,B,o,r){var Y=0,E=0;for(var p=R;p<Z;p++)Y+=B[p]._.Y;
if(r){if(o==0)for(var p=Z-1;p>=R;p--)if(B[p].pV||B[p].Mg)Y-=B[p]._.Y;else break;if(o==1)for(var p=R;
p<Z;p++)if(B[p].pV||B[p].Mg){var y=B[p]._.Y;Y-=y;E-=y}else break}return[Y,E]};YI.Jf.prototype.OSx=function(R,Z,B,o,r,Y){var E=0,p=0,y=0,z=0;
for(var u=R;u<Z;u++)if(B[u].pV)y++;else{E+=B[u]._.Y;p++}if(r==0)for(var u=Z-1;u>=R;u--)if(B[u].pV||B[u].Mg){if(B[u].pV){y--}}else break;
if(r==1)for(var u=R;u<Z;u++)if(B[u].pV||B[u].Mg){if(B[u].pV){y--;z++}}else break;if(p<=1||y==0){if(p==1)B[R].eh.x=Y;
return}var Q=(o-E)/y,H=-z*Q;for(var u=R;u<Z;u++){if(B[u].pV)this.KI[B[u].uq]._.Y=B[u]._.Y=Q;B[u].eh.x=Y+H;
H+=B[u]._.Y}};YI.OSr=function(R,Z,B,o,r,Y,E){this.HH="";for(var p=0;p<E;p++)this.HH+=B[Y+p].Yj;this.pV=E==1&&(B[Y].Yj==" "||B[Y].Yj=="\t");
this.Mg=E==1&&B[Y].Yj=="\n";this.start=Y;this.end=Y+E;this._=new N;this.eh=new VP(0,0);this._o=0;this.lineHeight=0;
var y=0,z=0;if(E==0){this.lineHeight=B[Y].lineHeight;this._o=B[Y]._o;this._=new N(0,-B[Y].lineHeight,0,B[Y].lineHeight)}var u=B[Y].OS,Q=B[Y+E-1].OS;
if(Q<u){var H=u;u=Q;Q=H}while(Q+1<r.length&&r[Q].Ku==r[Q+1].Ku){Q++}this.uq=u;this.jA=Q;for(var T=u;
T<=Q;T++){var C=r[T],e=B[o+C.Ku],$=1/e.OU.head.unitsPerEm*e.yp.FontSize,G=0;if(!e.yp.AutoKerning)y+=e.yp.Kerning*2*$*e.scale.x;
var x=C.dp*$*e.scale.x;C.eh=new VP(y,0);C.XZ=0;C._=new N(0,-e.lineHeight,x,e.lineHeight);var M=Typr.U.glyphToPath(e.OU,C.S);
C.path={J:M.cmds,I:M.crds};var m=C._.clone();m.Sm(C.eh);if(e.yp.Tracking!=null)G=e.yp.Tracking*.001*e.yp.FontSize;
if(e.yp.FauxBold==!0)G+=.027*e.yp.FontSize;y+=x+G;if(E==1&&(e.Yj==" "||e.Yj=="\t"))m.Y+=2*G;else if(E==1&&e.Yj!=null&&YI.OlM(e.Yj.charCodeAt(0)))m.Y+=G;
this._=this._.fj(m);this._o=Math.max(this._o,e._o);this.lineHeight=Math.max(this.lineHeight,e.lineHeight)}};
YI.OSH=function(){fetch("code/external/hb.wasm").then(function(R){return R.arrayBuffer()}).then(function(R){return WebAssembly.instantiate(R)}).then(function(R){R.instance.exports.memory.grow(400);
YI.OKY=hbjs(R.instance);YI.ODt=function(){var Z=function(B){var o=0;if((B&4294967295-(1<<7)+1)==0){o=1}else if((B&4294967295-(1<<11)+1)==0){o=2}else if((B&4294967295-(1<<16)+1)==0){o=3}else if((B&4294967295-(1<<21)+1)==0){o=4}return o};
return function(B,o,r){var Y=YI.OKY,E=B._data,p=Gg.S$(B),y=YI.OKR,$=0,x=0;if(YI.OKl!=p){if(y!=null){y[0].free();
y[1].free();y[2].free()}var z=Y.createBlob(E),u=Y.createFace(z,0),Q=Y.createFont(u);YI.OKR=y=[z,u,Q];
YI.OKl=p}var Q=y[2],H=Y.createBuffer(),T=U.EJ(o);H.addText(T);H.setDirection(r?"ltr":"rtl");H.guessSegmentProperties();
H.shape(Q);var C=H.json(Q);H.free();var e=C.slice(0);if(!r)e.reverse();for(var M=1;M<e.length;M++){var m=e[M],G=m.cl;
while(x+Z(o.charCodeAt($))<=G){x+=Z(o.charCodeAt($));$++}m.cl=$}return C}}();fetch("code/external/fribidi.wasm").then(function(Z){return Z.arrayBuffer()}).then(function(Z){return WebAssembly.instantiate(Z)}).then(function(R){var Z=R.instance.exports,B=Z.memory,Y=16,E=256,p=1;
B.grow(400);var o=new Uint8Array(B.buffer),r=new Uint32Array(B.buffer),y=Y|E,z=Y|E|p;YI.OKV=function(Q,H){var T=Q.length,C=Z.calloc(T*4+4+T*4+T*4+T,1),e=C+T*4,$=e+4,x=$+T*4,M=x+T*4;
r.set(Q,C>>>2);r[e>>>2]=H==0?y:z;Z.fribidi_get_bidi_types(C,T,$);Z.fribidi_get_bracket_types(C,T,$,x);
Z.fribidi_get_par_embedding_levels_ex($,x,T,e,M);var m=o.slice(M,M+T);Z.free(C);return m};var u=new n(X.E.K,!0);
u.data={d:X.l.zM,eo:"add",Fe:GG.Ot,hY:null};Gg.Pg.j(u)})})};function GV(){}GV.EK=function(R){return JSON.parse(JSON.stringify(R))};
GV.Iu=function(R,Z){for(var B in Z)R[B]=Z[B]};GV.vr=function(R,Z,B){var o=GV.OfF();if(B)GV.Fz(o,0,0,B);
var r={P:new GN(1,0,0,1,Math.round(R),Math.round(Z)),HC:o};r.iA=GV.ORE();r.qP=O.Ef.a();r.VE=new N;return r};
GV.OeR=function(R){var Z=["CharacterDirection",0];for(var B=0;B<Z.length;B+=2){if(R[Z[B]]!=null&&R[Z[B]]!=Z[B+1]){throw"e";
console.log(Z[B],R[Z[B]])}}if(R instanceof Array)for(var B=0;B<R.length;B++)GV.OeR(R[B]);else if(R instanceof Object)for(var o in R)GV.OeR(R[o])};
GV.Im=function(R,Z){if(Z==null)Z=R.Justification;var B=R._Direction?R._Direction:0;if(B==1){if(Z==0||Z==3)Z++;
else if(Z==1||Z==4)Z--}return Z};GV.IC=function(R){if(R.add==null)return;var Z=R.HC,B=Z.Curve,o=R.add.vmsk,r=o.u,Y=O.W.mM(r,!0).I,E=R.P.clone();
E.za();O.W.P(Y,E,Y);var p=Y.slice(0,8);for(var y=8;y<Y.length;y+=6)p.push(Y[y-2],Y[y-1],Y[y],Y[y+1],Y[y+2],Y[y+3],Y[y+4],Y[y+5]);
B.Points=p;B.TextOnPathTRange=o.BD.slice(0);B.Reversed=o.Xm;if(GV.hX(Z)==1){var B=YI.mp(Z.Curve),z=O.W.Rn(B[0]);
GV.lZ(Z,[0,0,z.Y,z.Z].map(Math.round));for(var u=0;u<p.length;u+=2){p[u]-=z.x;p[u+1]-=z.y}var Q=new GN(1,0,0,1,z.x,z.y);
Q.concat(R.P);R.P=Q}};GV.WJ=function(R){if(R.add==null)return;var Z=R.add.vmsk,B=R.HC.Curve,o=B.Points,r={J:["M"],I:[o[0],o[1]]};
for(var Y=0;Y<o.length;Y+=8){r.J.push("C");r.I.push(o[Y+2],o[Y+3],o[Y+4],o[Y+5],o[Y+6],o[Y+7])}O.W.P(r.I,R.P,r.I);
var E=O.W.un(r,!0);Z.u=E;Z.Xm=B.Reversed;Z.BD=B.TextOnPathTRange.slice(0);R.add.vogk=S.uN(E)};GV.iz=function(R){var Z={F:0,S:0,X:0};
if(R.FillColor){var B=R.FillColor,o=B.Values;if(B.Type==1)Z={F:o[1]*255,S:o[2]*255,X:o[3]*255};else if(B.Type==2){var r={classID:"CMYC",Cyn:{t:"doub",v:o[1]*100},Mgnt:{t:"doub",v:o[2]*100},Ylw:{t:"doub",v:o[3]*100},Blck:{t:"doub",v:o[4]*100}};
Z=O.L.iz(r)}else console.log("Unknown color type")}return Z};GV.OtO=function(R){for(var Z=0;Z<R.length;
Z++){var B=R[Z].StyleSheet.StyleSheetData,o=B.FillColor;if(o&&o.Type==2){var r=GV.iz(B);o.Type=1;o.Values=[1,r.F/255,r.S/255,r.X/255]}}};
GV.mb=function(R,Z){var B;if(GV.hX(R.HC)==1){var o=GV.ri(R.HC);B=new N(0,0,o[2]-o[0],o[3]-o[1])}else B=Z.Jt();
return B};GV._s=function(R){var Z=R[0];for(var B=0;B<R.length;B++)Z=GV.OtV(Z,R[B]);return Z};GV.OtV=function(R,Z){var B={};
for(var o in R)if(JSON.stringify(R[o])==JSON.stringify(Z[o]))B[o]=R[o];return B};GV.rz=function(R,Z){var B=R.bR,o=-1;
for(var r=0;r<B.length;r++)if(B[r].Name==Z)o=r;if(o==-1){o=B.length;B.push({FontType:1,Name:Z,Script:0,Synthetic:0})}R.Bt.Font=o};
GV.el=function(R){return R.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};GV.Jq=function(R,Z){R.EngineDict.Editor.Text=Z.replace(/\n/g,"\r")};
GV.hX=function(R){return R.Curve&&R.Curve.TextOnPathTRange[0]>=0?2:R.EngineDict.Rendered.Shapes.Children[0].ShapeType};
GV.zE=function(R,Z){var B=R.EngineDict.Rendered.Shapes.Children[0];B.ShapeType=Z;var o=B.Cookie.Photoshop;
o.ShapeType=Z;o.Base.ShapeType=Z;if(Z==0){delete o.BoxBounds;o.PointBase=[0,0]}if(Z==1){delete o.PointBase;
o.BoxBounds=[0,0,1,1]}};GV.ri=function(R){return R.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
GV.lZ=function(R,Z){R.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=Z};GV.OtX=function(R,Z){return GV.Otq(R,GV.OOP(R,Z))};
GV.OOP=function(R,Z){var B=R.EngineDict.StyleRun.RunLengthArray;return GV.rr(B,Z).RM};GV.Otq=function(R,Z){var B=R.ResourceDict.StyleSheetSet[0].StyleSheetData,o={};
for(var r in B)o[r]=B[r];var Y=R.EngineDict.StyleRun.RunArray[Z].StyleSheet.StyleSheetData;GV.Iu(o,Y);
return o};GV.OtK=function(R,Z){var B=R.ResourceDict.ParagraphSheetSet[0].Properties,o={};for(var r in B)o[r]=B[r];
var Y=R.EngineDict.ParagraphRun.RunArray[Z].ParagraphSheet.Properties;GV.Iu(o,Y);var E=["StartIndent","EndIndent","FirstLineIndent"];
for(var p=0;p<3;p++)if(o[E[p]]==null)o[E[p]]=0;return o};GV.bt=function(R,Z,B){if(B=="")return;var o=GV.el(R);
GV.Jq(R,o.substring(0,Z)+B+o.substring(Z,o.length));var r=R.EngineDict.StyleRun,Y=r.RunLengthArray,E=GV.rr(Y,Z-1);
Y[E.RM]+=B.length;var p=R.EngineDict.ParagraphRun,Y=p.RunLengthArray,y=GV.rr(Y,Z),z=B.split("\n");if(z.length==1){Y[y.RM]+=B.length;
return}Y.splice(y.RM+1,0,Y[y.RM]-(Z-y.uz));p.RunArray.splice(y.RM+1,0,GV.EK(p.RunArray[y.RM]));Y[y.RM]-=Y[y.RM+1];
Y[y.RM]+=z[0].length+1;for(var u=1;u<z.length-1;u++){p.RunArray.splice(y.RM+u,0,GV.EK(p.RunArray[y.RM+u-1]));
p.RunLengthArray.splice(y.RM+u,0,z[u].length+1)}Y[y.RM+z.length-1]+=z[z.length-1].length};GV.JW=function(R,Z,B){var o=GV.el(R);
GV.Jq(R,o.substring(0,Z)+o.substring(B,o.length));GV.Oyd(R.EngineDict.ParagraphRun,Z,B,!0);GV.Oyd(R.EngineDict.StyleRun,Z,B,!1)};
GV.Oyd=function(R,Z,B,o){var r=R.RunLengthArray,Y=GV.rr(r,Z),E=GV.rr(r,B),p=[];for(var y=0;y<r.length;
y++)for(var z=0;z<r[y];z++)p.push(y);p.splice(Z,B-Z);var u=[];for(var y=0;y<r.length;y++)u.push(0);for(var y=0;
y<p.length;y++)u[p[y]]++;for(var y=0;y<r.length;y++){if(u[y]==0){u.splice(y,1);r.splice(y,1);R.RunArray.splice(y,1);
y--}else if(u[y]<r[y])r[y]=u[y]}if(o&&Y.RM!=E.RM&&Y.uz!=Z){r[Y.RM]+=r[Y.RM+1];r.splice(Y.RM+1,1);R.RunArray.splice(Y.RM+1,1)}};
GV.Fz=function(R,Z,B,o){var r=R.EngineDict.Editor.Text.length;if(B==r-2)B++;if(o.Bt.Font!=null)R.ResourceDict.FontSet=o.bR.slice(0);
if(Z<=B)GV.OVA(R.EngineDict.StyleRun,o.Bt,Z,B,!0);GV.OVA(R.EngineDict.ParagraphRun,o.LH,Z,B,!1)};GV.OVA=function(R,Z,B,o,r){var Y=R.RunLengthArray;
if(r){var E=GV.rr(Y,B);if(E.uz!=B){var p=Y[E.RM];Y.splice(E.RM,0,B-E.uz);Y[E.RM+1]=p-Y[E.RM];R.RunArray.splice(E.RM+1,0,GV.EK(R.RunArray[E.RM]))}var y=GV.rr(Y,o);
if(y.uz+Y[y.RM]-1!=o){var p=Y[y.RM];Y.splice(y.RM,0,o-y.uz+1);Y[y.RM+1]=p-Y[y.RM];R.RunArray.splice(y.RM+1,0,GV.EK(R.RunArray[y.RM]))}}var E=GV.rr(Y,B),y=GV.rr(Y,o);
if(r)for(var z=E.RM;z<=y.RM;z++)GV.Iu(R.RunArray[z].StyleSheet.StyleSheetData,Z);else for(var z=E.RM;
z<=y.RM;z++)GV.Iu(R.RunArray[z].ParagraphSheet.Properties,Z)};GV.Otp=function(R,Z,B){var o=R.EngineDict.StyleRun.RunLengthArray,r=[],Y=0;
for(var E=0;E<o.length;E++){var p=o[E];for(var y=0;y<p;y++)if(Z<=Y+y&&Y+y<B)r.push(E);Y+=p}var z=r[0],u=[];
for(var E=0;E<r.length;E++){var Q=r[E]-z;if(Q==u.length)u.push(0);u[Q]++}return u};GV.OfO=function(R){var Z=R.EngineDict.StyleRun,B=Z.RunArray,o=Z.RunLengthArray;
for(var r=0;r<o.length-1;r++){var Y=B[r].StyleSheet.StyleSheetData,E=B[r+1].StyleSheet.StyleSheetData;
if(JSON.stringify(Y)==JSON.stringify(E)){B.splice(r+1,1);o[r]+=o[r+1];o.splice(r+1,1);r--}}};GV.QR=function(R,Z,B){var o={bR:R.ResourceDict.FontSet.slice(0),Bt:[],LH:[]},r=R.EngineDict.StyleRun.RunLengthArray,Y=GV.rr(r,Z).RM,E=GV.rr(r,B).RM;
for(var p=Y;p<=E;p++){var y=GV.EK(R.ResourceDict.StyleSheetSet[0].StyleSheetData),z=R.EngineDict.StyleRun.RunArray[p].StyleSheet.StyleSheetData;
GV.Iu(y,z);o.Bt.push(y)}var u=R.EngineDict.ParagraphRun.RunLengthArray,Q=GV.rr(u,Z).RM,H=GV.rr(u,B).RM;
for(var p=Q;p<=H;p++){o.LH.push(GV.EK(R.EngineDict.ParagraphRun.RunArray[p].ParagraphSheet.Properties))}o.Bt=GV._s(o.Bt);
o.LH=GV._s(o.LH);return o};GV.Jv=function(R,Z){var B,o;B=["FontSize","Leading","BaselineShift"];o=R.Bt;
for(var r=0;r<B.length;r++)if(o[B[r]]!=null)o[B[r]]*=Z;B=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
o=R.LH;for(var r=0;r<B.length;r++)if(o[B[r]]!=null)o[B[r]]*=Z};GV.OfH=function(){return GV.QR(GV.OIo,0,0)};
GV.ORE=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
GV.rr=function(R,Z){var B=0,o=0;while(B+R[o]<=Z){B+=R[o];o++}return{RM:o,uz:B}};GV.OfF=function(){var R=GV.EK(this.OIo);
return R};GV.Oji={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0};
GV.Ofu={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
GV.OIo={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(GV.Oji))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(GV.Oji))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(GV.Ofu))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var Oa={};Oa.OJE=function(R,Z,B){var o={};o._98={_0:"i7"};o._0=Oa.OJY(R,Z,B?B._0:null);o._1=Oa.OJq(R,Z,o._0,B?B._1:null);
return o};Oa.OJY=function(R,Z,B){var o={};o._1=Oa.OJX(R,B?B._1:null);o._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};
o._3=JSON.parse(JSON.stringify(Oa.OJv));o._4=JSON.parse(JSON.stringify(Oa.OJr));o._5=Oa.OJh(R,o._1._0,B?B._5:null);
o._6=Oa.OJt(R,B?B._6:null);o._8=Oa.OJD(R,Z,B?B._8:null);o._9=Oa.OJb;return o};Oa.OJX=function(R,Z){var B=[],o=[];
for(var r=0;r<R.length;r++){var Y=R[r].ResourceDict.FontSet;for(var E=0;E<Y.length;E++){var p=Y[E];if(o.indexOf(p.Name)!=-1)continue;
B.push(p);o.push(p.Name)}}var y={_0:[]};for(var r=0;r<B.length;r++){var z=B[r],u={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+z.Name,_1:"i"+z.Script,_2:"i"+z.FontType}}};
if(z.Script==0)delete u._0._0._1;y._0.push(u)}return y};Oa.OJh=function(R,Z,B){var o={_0:[],_1:[]},r={_0:JSON.parse(JSON.stringify(Oa.OAS))};
Oa.OBk(r._0,R[0].ResourceDict.StyleSheetSet[0],Z,R[0].ResourceDict.FontSet);o._0.push(r);o._1.push({_0:"i0"});
o._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});o._1.push({_0:"i1"});return o};Oa.OJt=function(R,Z){var B={_0:[],_1:[]},o={_0:JSON.parse(JSON.stringify(Oa.Je))};
Oa.JU(o._0,R[0].ResourceDict.ParagraphSheetSet[0]);B._0.push(o);B._1.push({_0:"i0"});o={_0:JSON.parse(JSON.stringify(Oa.Je))};
Oa.JU(o._0,R[0].ResourceDict.ParagraphSheetSet[0]);o._0._0="sBasic Paragraph";o._0._6="i0";B._0.push(o);
B._1.push({_0:"i1"});return B};Oa.OJD=function(R,Z,B){var o={_0:[]};for(var r=0;r<R.length;r++){var Y=R[r].Curve,E={};
o._0.push({_0:E});var p=GV.hX(R[r]);E._2={};E._2._0="i"+p;if(p==0){E._2._6=["f-1","f-1"];E._2._11={_4:"i-1",_7:!1}}else if(p==1&&Y==null){var y=GV.ri(R[r]),z=y[2],u=y[3];
E._1={_0:Oa.Id("f",[0,0,0,0,z,0,z,0,z,0,z,0,z,u,z,u,z,u,z,u,0,u,0,u,0,u,0,u,0,0,0,0])};E._2._6=["f-2","f-2"];
E._2._11={_4:"i-2",_7:!1}}else if(p==1){var y=GV.ri(R[r]),z=y[2],u=y[3];E._1={_0:Oa.Id("f",Y.Points)};
E._2._6=["f-3","f-3"];E._2._11={_4:"i-3",_7:!1}}else if(p==2){E._1={_0:Oa.Id("f",Y.Points)};E._2._6=Oa.Id("f",Y.TextOnPathTRange);
E._2._11={_0:Y.Reversed,_3:"i0",_5:"f0",_7:!1}}}return o};Oa.OJq=function(R,Z,B,o){var r={};r._0=JSON.parse(JSON.stringify(Oa.OJg));
r._1=Oa.OJW(R,Z,B,o?o._1:null);r._2=JSON.parse(JSON.stringify(Oa.OAS._6));r._3=JSON.parse(JSON.stringify(Oa.Je._5));
return r};Oa.OJW=function(R,Z,B,o){var r=[],Y=B._1._0;for(var E=0;E<R.length;E++){var p=R[E],y={_0:{}};
r.push(y);var z=o?o[E]:null;y._0._0="s"+p.EngineDict.Editor.Text;y._0._0=y._0._0;var u={_0:[]};y._0._5=u;
var Q=p.EngineDict.ParagraphRun;for(var H=0;H<Q.RunArray.length;H++){var T={_0:{}};u._0.push(T);T._0._0={_0:"s",_5:{},_6:"i1"};
Oa.JU(T._0._0,p.EngineDict.ParagraphRun.RunArray[H].ParagraphSheet);T._1="i"+Q.RunLengthArray[H]}var C={_0:[]};
y._0._6=C;var e=z?z._0._6:null;Q=p.EngineDict.StyleRun;for(var H=0;H<Q.RunArray.length;H++){var $={_0:{}};
C._0.push($);var x=e?e._0:null;$._0._0={_0:"s",_5:"i1",_6:{}};Oa.OBk($._0._0,p.EngineDict.StyleRun.RunArray[H].StyleSheet,Y,p.ResourceDict.FontSet,x?$._0._0:null);
$._1="i"+Q.RunLengthArray[H]}y._0._10={_0:"i4",_2:!0};y._1=Oa.view.ODO(p,null,E,null)}return r};Oa.OBk=function(R,Z,B,o,r){R._0="s"+(Z.Name?Z.Name:"");
var Y=R._6,E=r?r._6:null,p=Z.StyleSheetData;if(p.Font==null)return;var y=o[p.Font].Name,z=-1;for(var u=0;
u<B.length;u++)if("s"+y==B[u]._0._0._0){z=u;break}Y._0="i"+z;if(p.FontSize!=null)Y._1="f"+p.FontSize;
if(p.FauxBold!=null)Y._2=p.FauxBold;if(p.FauxItalic!=null)Y._3=p.FauxItalic;if(p.AutoLeading!=null)Y._4=p.AutoLeading;
if(p.Leading!=null)Y._5="f"+p.Leading;if(p.HorizontalScale!=null)Y._6="f"+p.HorizontalScale;if(p.VerticalScale!=null)Y._7="f"+p.VerticalScale;
if(p.Tracking!=null)Y._8="i"+p.Tracking;if(p.BaselineShift!=null)Y._9="f"+p.BaselineShift;if(p.AutoKerning!=null)Y._11="i"+(p.AutoKerning?1:0);
if(p.FontCaps!=null)Y._12="i"+p.FontCaps;if(p.FontBaseline!=null)Y._13="i"+p.FontBaseline;if(p.Strikethrough!=null)Y._15="i"+(p.Strikethrough?1:0);
if(p.Underline!=null)Y._16="i"+(p.Underline?2:0);if(p.Ligatures!=null)Y._18=p.Ligatures;if(p.DLigatures!=null)Y._19=p.DLigatures;
if(p.Language!=null)Y._38="i"+p.Language;if(p.FillColor!=null)Y._53={_99:"/SimplePaint",_0:{_0:"i1",_1:Oa.Id("f",p.FillColor.Values)}}};
Oa.JU=function(R,Z){R._0="s"+(Z.Name?Z.Name:"");var B=R._5,o=Z.Properties;if(o.Justification!=null)B._0="i"+o.Justification;
if(o.FirstLineIndent!=null)B._1="f"+o.FirstLineIndent;if(o.StartIndent!=null)B._2="f"+o.StartIndent;
if(o.EndtIndent!=null)B._3="f"+o.EndtIndent;if(o.SpaceBefore!=null)B._4="f"+o.SpaceBefore;if(o.SpaceAfter!=null)B._5="f"+o.SpaceAfter;
if(o.AutoHyphenate!=null)B._9=o.AutoHyphenate;if(o._Direction!=null)B._33="i"+o._Direction};Oa.Id=function(R,Z){var B=[];
for(var o=0;o<Z.length;o++)B.push(R+Z[o]);return B};Oa.OJv={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
Oa.OJr={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
Oa.OAS={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
Oa.Je={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
Oa.OJb={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
Oa.OJg={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var VH={};VH.OJP=function(R){return VH.JK(R,VH.vm)};VH.Oev=function(R){return VH.Jr(R,VH.vm)};VH.JK=function(R,Z){var B;
if(typeof R=="string")return R;if(R instanceof Array){B=[];for(var o=0;o<R.length;o++)B[o]=VH.JK(R[o],Z)}else{B={};
var r={};for(var Y in Z){var E=Z[Y],p="_"+E[0];if(R[p]!=null){B[Y]=E[1]?VH.JK(R[p],E[1]):R[p];r[p]=!0}}for(var Y in R){if(r[Y]==null){console.log(r);
console.log(Y,R,Z);throw"e"}}}return B};VH.Jr=function(R,Z){var B;if(R instanceof Array){B=[];for(var o=0;
o<R.length;o++)B[o]=VH.Jr(R[o],Z)}else{B={};var r={};for(var Y in Z){var E=Z[Y],p="_"+E[0];if(R[Y]!=null){B[p]=E[1]?VH.Jr(R[Y],E[1]):R[Y];
r[Y]=!0}}for(var Y in R){if(r[Y]==null){console.log(r);console.log(Y,R);throw"e"}}}return B};VH.zL={_StreamTag:[99],_Color:[0,{_Type:[0],_Values:[1]}]};
VH.Ie={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,VH.zL],_StrokeColor:[54,VH.zL],_Blend:[55,{_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,VH.zL],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_87:[87],_88:[88]};
VH.O_q={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,VH.Ie],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_40:[40]};
VH.O_d={_Name:[0],_Features:[5,VH.O_q],_Parent:[6]};VH.OLk={_Name:[0],_Parent:[5],_Features:[6,VH.Ie]};
VH.vm={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4]}]}]}],_1:[1,{_0:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,VH.OLk]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,VH.O_d]}],_DisplayList:[1,{_Resource:[0]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_7:[7]}],_12:[12]}]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_PredefinedTag:[6]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_11:[11],_15:[15,{_0:[0]}],_16:[16],_17:[17]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,VH.O_d]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,VH.OLk]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_9:[9],_StorySheet:[10,{_AntiAlias:[0],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}]}],_OriginalNormalStyleFeatures:[2,VH.Ie],_OriginalNormalParagraphFeatures:[3,VH.O_q]}]};
Oa.view={};Oa.view.ODO=function(R,Z,B,o){var r={},Y=GV.hX(R);r._0=[{_0:"i"+B}];return r};function CSS(){}CSS.ODV=function(R,Z){var B=R.add,o=B.vmsk,r=B.vstk,Y=B.lmfx,E=B.TySh,p=[],y=CSS.ODX(Y,B);
if(R.yJ()&&o){var z=O.V.pA(o.u);if(!z.Pa()){p.push("width: "+Math.round(z.Y)+"px");p.push("height: "+Math.round(z.Z)+"px")}var u=O.V.OU$(o.u);
if(u>0)p.push("border-radius: "+Math.round(u)+"px")}else if(E){var Q=E.HC;if(GV.hX(Q)==1){var z=GV.ri(Q);
p.push("width: "+Math.round(z[2])+"px");p.push("height: "+Math.round(z[3])+"px")}CSS.Ohd(p,GV.QR(Q,0,0),E.P,!1,!1,y[0])}var H=[],T=Y?Y.dropShadowMulti.v:0;
for(var C=0;C<T.length;C++){var e=T[C].v;if(e.enab.v){var $=e.Dstn.v.val,x=e.lagl.v.val*Math.PI/180;
if(e.uglg&&e.uglg.v)x=Z.vT()*Math.PI/180;var M=$*Math.cos(x),m=$*Math.sin(x);H.push("drop-shadow("+(M==0?"0 ":CSS.AJ(-M)+"px ")+(m==0?"0 ":CSS.AJ(m)+"px ")+e.blur.v.val/2+"px "+CSS.zl(e.Clr.v,e.Opct.v.val/100)+")")}}if(H.length!=0)p.push("filter: "+H.join(" "));
if(E==null)CSS.ODf(y,p);if(r==null||!r.strokeEnabled.v)r=GS.fM(Y);if(r&&r.strokeEnabled.v){var G=r.strokeStyleContent.v,K=G.classID,s=Gk.uI.vw.indexOf(r.strokeStyleLineCapType.v.strokeStyleLineCapType),L=Gk.uI.join.indexOf(r.strokeStyleLineJoinType.v.strokeStyleLineJoinType),_=r.strokeStyleOpacity.v.val/100,P=r.strokeStyleLineWidth.v.val,i="";
if(K=="solidColorLayer")i=CSS.zl(G.Clr.v,_);p.push("border: "+P+"px solid "+i)}return p};CSS.ODX=function(R,Z){var B=GS.fp(R,Z),o=B[0],r=B[1],Y,E;
if(o){Y=CSS.zl(o.Clr.v,Z.iOpa!=null?Z.iOpa/255:1)}else if(r){E=CSS.rp(r)}return[Y,E]};CSS.ODf=function(R,Z){if(R[0])Z.push("background-color: "+R[0]);
if(R[1])Z.push("background-image: "+R[1])};CSS.eQ={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.AJ=function(R){return""+parseFloat(R.toFixed(3))};CSS.FG=function(R){if(R==null)return{F:0,S:0,X:0};
if(R.slice(0,4)=="rgb("){var Z=R.slice(4,R.length-1).split(",").map(parseFloat);return{F:Z[0],S:Z[1],X:Z[2]}}if(R.charAt(0)!="#"){var B=CSS.eQ;
if(B[R])R=B[R];else console.log("unknown color "+R)}R=R.slice(1);if(R.length==3)R=R[0]+R[0]+R[1]+R[1]+R[2]+R[2];
R=parseInt(R,16);return{F:R>>16&255,S:R>>8&255,X:R&255}};CSS.zl=function(R,Z){return CSS.ys(O.L.iz(R),Z)};
CSS.ys=function(R,Z){if(Z==null)Z=1;var B=Math.round(R.F),o=Math.round(R.S),r=Math.round(R.X),Y=B<<16|o<<8|r;
return Z==1?"#"+O.ue(Y):"rgba("+B+","+o+","+r+","+Z+")"};CSS.rp=function(R){var Z=R.Grad.v;if(Z.Clrs==null)return"";
var B=Z.Clrs.v.slice(0),o=Z.Trns.v.slice(0),r=R.Ofst.v,Y=R.Type.v.GrdT=="Rdl"?1:0,E=(Y==1?"radial":"linear")+"-gradient",p=Y==0?Math.round(-R.Angl.v.val+90)+"deg":"circle at center",y=R.Rvrs.v;
if(y){B.reverse();o.reverse()}for(var z=0;z<B.length;z++){var u=B[z].v,Q=z<o.length?o[z].v.Opct.v.val/100:1,H=u.Lctn.v/4096;
if(y)H=1-H;p+=", "+CSS.zl(u.Clr.v,Q)+" "+Math.round(H*100)+"%"}return E+"("+p+")"};CSS.Ohd=function(R,Z,B,o,r,Y){var E=Z.Bt,p=o?1:A.HQ.ho(B),y=Math.round(E.FontSize*p);
R.push("font-size: "+y+"px");var z=E.Tracking;if(!o&&z!=null&&z!=0)R.push("letter-spacing: "+Math.round(z*y/1e3)+"px");
if(!E.AutoLeading)R.push("line-height: "+Math.round(E.Leading*p)+"px");if(E.Strikethrough)R.push("text-decoration: line-through");
var u=GV.iz(E);u=[u.F,u.S,u.X].map(Math.round);R.push((o?"fill: ":"color: ")+(Y?Y:"#"+O.ue(u[0]<<16|u[1]<<8|u[2])));
var Q=Z.bR[E.Font].Name;if(Q){var H=r,T=Gg.Pg.iE(Q);if(T!=null&&Q!=Gg.S$(T))T=null;if(H&&T==null)H=!1;
if(H)R.push("font-family: \""+Q+"\"");else{var C=null,e=null,$=Q.toLowerCase();if(T){C=Gg.nf(T)[0];if(T["OS/2"])e=T["OS/2"].usWeightClass}else{C=CSS.ODN(Q);
if($.indexOf("light")!=-1)e=300;else if($.indexOf("medium")!=-1)e=500;else if($.indexOf("black")!=-1||$.indexOf("extrabold")!=-1)e=800;
else if($.indexOf("bold")!=-1)e="bold"}if(C!=null)R.push("font-family: \""+C+"\"");if(e!=null)R.push("font-weight: "+e);
if($.indexOf("italic")!=-1||$.indexOf("oblique")!=-1)R.push("font-style: italic")}}var x=Z.LH.Justification;
if(x!=null&&x!=0)if(o)R.push("text-anchor: "+["start","end","middle"][x%3]);else R.push("text-align: "+["left","right","center"][x%3])};
CSS.ODN=function(R){R=R.split("-")[0];while(R.endsWith("MT")||R.endsWith("PS"))R=R.slice(0,R.length-2);
var Z=!0;for(var B=0;B<R.length;B++){var o=R.charAt(B);if(!Z&&o.toLowerCase()!=o){R=R.slice(0,B)+" "+R.slice(B);
B++;Z=!0}else Z=!1}return R};function Gs(){}Gs.mu={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0};
Gs.Jm=function(R,Z){var B=Date.now(),o;try{o=acorn.parse(R)}catch(Yd){console.log(Yd);return}var r=JSON.parse(JSON.stringify(Gs.Ra.Jb));
r.__return=!1;r.__break=!1;r.__throw=!1;r.__fs={};r.__window={};Gs.eval(o,Z,r);var Y=r.__fs;if(Object.keys(Y).length!=0){var E=UZIP.encode(Y);
Ya.save(E,"output.zip")}};Gs.eval=function(R,Z,B){var o=R.type;if(!1){}else if(o=="Program"||o=="BlockStatement"){var r=R.body;
for(var Y=0;Y<r.length;Y++){var E=r[Y].type;if(E=="FunctionDeclaration")B[r[Y].id.name]=r[Y]}for(var Y=0;
Y<r.length;Y++){var E=r[Y].type,p=Gs.eval(r[Y],Z,B);if(B.__return||B.__break||B.__throw)return p}}else if(o=="ReturnStatement"){B.__return=!0;
return R.argument?Gs.$w(R.argument,Z,B):null}else if(o=="BreakStatement"){B.__break=!0}else if(o=="VariableDeclaration"){var y=R.declarations;
for(var Y=0;Y<y.length;Y++)Gs.eval(y[Y],Z,B)}else if(o=="VariableDeclarator"){B[R.id.name]=R.init?Gs.$w(R.init,Z,B):null}else if(o=="FunctionDeclaration"){B[R.id.name]=R}else if(o=="MemberExpression"){var z=Gs.$w(R.object,Z,B),u=R.computed?Gs.$w(R.property,Z,B):Gs.eval(R.property,Z,B),p;
if(z.Ej!=null)p=Gs.Ra.hz(z,u,Z,B);else if(z==window&&Gs.mu[u]){}else p=z[u];return p}else if(o=="ArrayExpression"){var Q=[],H=R.elements;
for(var Y=0;Y<H.length;Y++)Q.push(Gs.$w(H[Y],Z,B));return Q}else if(o=="ObjectExpression"){var Q={},H=R.properties;
for(var Y=0;Y<H.length;Y++){var T=H[Y],C=H[Y].key.name?H[Y].key.name:H[Y].key.value;Q[C]=Gs.$w(H[Y].value,Z,B)}return Q}else if(o=="ExpressionStatement"){return Gs.eval(R.expression,Z,B)}else if(o=="NewExpression"){var e=R.arguments,$=R.callee,x=$.type,Q=null;
if(x=="Identifier")Q=Gs.Ra.ODi($.name,e,Z,B);else throw"e";if(Q==null)throw"new "+$.name;return Q}else if(o=="CallExpression"){var e=R.arguments,$=R.callee,x=$.type,M={};
for(var m in B)M[m]=B[m];var G=[];for(var Y=0;Y<e.length;Y++)G.push(Gs.$w(e[Y],Z,B));if(x=="Identifier"){var K=$.name,s=B[K];
if(s){if(s.params){var L=s.params;for(var Y=0;Y<L.length;Y++)M[L[Y].name]=G[Y];return Gs.eval(s.body,Z,M)}else{return s.apply(null,G)}}else if(Gs.Ra.ODn.indexOf(K)!=-1)return Gs.Ra.Zy({Ej:"Application"},K,G,Z,B);
else if(window[K]==null)console.log("Unknown function "+K);else if(Gs.mu[K])alert(K+"() not available");
else{var _=window[K].apply(window,G);return _}}else if(x=="MemberExpression"){var z=Gs.$w($.object,Z,B),u=$.computed?Gs.$w($.property,Z,B):Gs.eval($.property,Z,B);
if(z==window&&Gs.mu[u])return;if(z.Ej!=null)return Gs.Ra.Zy(z,u,G,Z,B);else return z[u].apply(z,G)}else console.log(R)}else if(o=="AssignmentExpression"){var P=R.operator,i=R.left,w=i.type,k=Gs.$w(i,Z,B),h=Gs.$w(R.right,Z,B),p=null;
if(!1){}else if(P=="=")p=h;else if(P=="+=")p=k+h;else if(P=="-=")p=k-h;else if(P=="*=")p=k*h;else if(P=="/=")p=k/h;
else if(P=="%=")p=k%h;else if(P=="&=")p=k&h;else if(P=="|=")p=k|h;else if(P=="&&=")p=k&&h;else if(P=="||=")p=k||h;
else console.log(R);if(w=="Identifier"){var j=i.name;if(B.hasOwnProperty(j))B[j]=p;else B.__window[j]=p}else if(w=="MemberExpression"){var I=Gs.eval(i.property,Z,B),V=Gs.$w(i.object,Z,B);
if(V.Ej!=null)Gs.Ra.OqY(V,I,p,Z,B);else V[I]=p}else console.log(R)}else if(o=="Identifier")return R.name;
else if(o=="Literal")return R.value;else if(o=="UpdateExpression"){var P=R.operator,F=R.argument.name,Q=Gs.$w(R.argument,Z,B);
if(!1){}else if(P=="++"){B[F]++;return R.prefix?B[F]:B[F]-1}else if(P=="--"){B[F]--;return R.prefix?B[F]:B[F]+1}else console.log(R)}else if(o=="UnaryExpression"){var P=R.operator,q=Gs.$w(R.argument,Z,B);
if(q.Ej=="UnitValue"){if(P=="-")return-q.k;else return Gs.OSo(q.k,P)}else return Gs.OSo(q,P)}else if(o=="BinaryExpression"||o=="LogicalExpression"){var P=R.operator,i=Gs.$w(R.left,Z,B),q=Gs.$w(R.right,Z,B);
if(i==null||q==null)return Gs.By(i,q,P);else if(i.Ej=="UnitValue"&&q.Ej=="UnitValue")return Gs.By(i.k,q.k,P);
else if(i.Ej=="UnitValue")return Gs.By(i.k,q,P);else if(q.Ej=="UnitValue"){if(P=="-")return-(i-q.k);
else return Gs.By(i,q.k,P)}else return Gs.By(i,q,P)}else if(o=="IfStatement"||o=="ConditionalExpression"){var t=Gs.$w(R.test,Z,B);
if(t)return Gs.eval(R.consequent,Z,B);else if(R.alternate)return Gs.eval(R.alternate,Z,B)}else if(o=="ForInStatement"){Gs.eval(R.left,Z,B);
var c=R.left.declarations[0].id.name,f=Gs.$w(R.right,Z,B);for(var m in f){B[c]=m;var W=Gs.eval(R.body,Z,B);
if(B.__break)break;if(B.__return)return W}B.__break=!1}else if(o=="ForStatement"){Gs.eval(R.init,Z,B);
while(Gs.eval(R.test,Z,B)){var W=Gs.eval(R.body,Z,B);if(B.__break)break;if(B.__return)return W;Gs.eval(R.update,Z,B)}B.__break=!1}else if(o=="DoWhileStatement"){do{var W=Gs.eval(R.body,Z,B);
if(B.__break)break;if(B.__return)return W}while(Gs.eval(R.test,Z,B));B.__break=!1}else if(o=="TryStatement"){Gs.eval(R.block,Z,B);
if(B.__throw){var l=R.handler;B[l.param.name]=B.__throw;B.__throw=!1;Gs.eval(l.body,Z,B);delete B[l.param.name]}}else if(o=="EmptyStatement"){}else console.log(R)};
Gs.By=function(R,Z,B){if(B=="+")return R+Z;else if(B=="-")return R-Z;else if(B=="*")return R*Z;else if(B=="/")return R/Z;
else if(B=="%")return R%Z;else if(B=="^")return R^Z;else if(B=="&")return R&Z;else if(B=="&&")return R&&Z;
else if(B=="|")return R|Z;else if(B=="||")return R||Z;else if(B=="<")return R<Z;else if(B==">")return R>Z;
else if(B=="==")return R==Z;else if(B=="<=")return R<=Z;else if(B==">=")return R>=Z;else if(B=="!=")return R!=Z;
else if(B=="!==")return R!==Z;else if(B=="<<")return R<<Z;else if(B==">>")return R>>Z;else console.log(B)};
Gs.OSo=function(R,Z){if(Z=="-")return-R;else if(Z=="!")return!R;else if(Z=="~")return~R;else if(Z=="+")return R;
else console.log(obj)};Gs.$w=function(R,Z,B){var o=R.type;if(o=="Identifier")return Gs.ODz(R.name,Z,B);
else return Gs.eval(R,Z,B)};Gs.ODz=function(R,Z,B){if(R=="undefined")return undefined;else if(B.hasOwnProperty(R))return B[R];
else if(R=="app")return{Ej:"Application"};else if(Gs.Ra.ODd.indexOf(R)!=-1)return Gs.Ra.hz({Ej:"Application"},R,Z,B);
else if(window[R]&&!Gs.mu[R])return window[R];else{B[R]=null;return null}};Gs.Ra={};Gs.Ra.ODi=function(R,Z,B,o){var r;
if(R=="SolidColor")r={Ej:R,k:[1,0,0,0]};if(R=="Window")r={Ej:R,k:new EI(Gs.eval(Z[0],B,o),Gs.eval(Z[1],B,o),Gs.eval(Z[2],B,o))};
if(R=="ExportOptionsSaveForWeb")r={Ej:R,k:{Kj:"png",DB:100}};if(R=="JPEGSaveOptions")r={Ej:R,k:{Kj:"jpg",DB:100}};
if(R=="File")r={Ej:R,k:Gs.eval(Z[0],B,o)};if(R=="ActionReference")r={Ej:R,k:[]};if(R=="ActionDescriptor")r={Ej:R,k:{}};
return r};Gs.Ra.ODd="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor".split(" ");
Gs.Ra.ODn=["charIDToTypeID","stringIDToTypeID","executeAction","doAction"];Gs.Ra.hz=function(R,Z,B,o){var r=B.fL,Y=B.E$();
if(!1){}else if(Z=="typename"){if(R.Ej=="Layer")return R.k.av()?"LayerSet":"ArtLayer";else return R.Ej}else if(["Document","Layer"].indexOf(R.Ej)!=-1&&["layers","artLayers","layerSets"].indexOf(Z)!=-1){var E=Y.root,p={Ej:"Layers",OM:Z,k:[]};
if(R.Ej=="Layer")E=Y.root.oO(Y.q.indexOf(R.k));for(var y=0;y<E.children.length;y++){var z=E.children[y].r,u=z.av();
if(u&&Z=="artLayers"||!u&&Z=="layerSets")continue;p.k.push({Ej:"Layer",k:z})}p.k.reverse();return p}else if(R.Ej=="Documents"||R.Ej=="Layers"||R.Ej=="HistoryStates"){if(!1){}else if(Z=="length")return R.k.length;
else if(Number.isInteger(Z))return R.k[Z];else console.log(R.Ej+": unknown property ",Z)}else if(R.Ej=="Application"){if(!1){}else if(Z=="activeDocument")return{Ej:"Document",k:B.E$()};
else if(Z=="documents"){var p={Ej:"Documents",k:[]};for(var y=0;y<B.WY.length;y++)p.k.push({Ej:"Document",k:B.WY[y]});
return p}else if(Z=="fonts")return{Ej:"TextFonts"};else if(Z=="preferences")return{Ej:"Preferences"};
else if(Z=="displayDialogs")return{Ej:"DialogModes"};else if(Z=="foregroundColor"||Z=="backgroundColor"){var Q=Z[0]=="f"?r.Ky:r.Dk;
return{Ej:"SolidColor",k:[1,(Q>>>16&255)/255,(Q>>>8&255)/255,(Q>>>0&255)/255]}}else if(Z=="UI")return{Ej:"UI"};
else console.log(R,Z)}else if(R.Ej=="Document"){var Y=R.k;if(!1){}else if(Z=="activeLayer"){var z=Y.q[Y.C[0]];
return{Ej:"Layer",k:z}}else if(Z=="resolution")return Y.ag;else if(Z=="width")return Y.Y;else if(Z=="height")return Y.Z;
else if(Z=="name")return Y.name;else if(Z=="saved")return!Y.ul();else if(Z=="selection")return{Ej:"Selection"};
else if(Z=="activeHistoryState")return{Ej:"HistoryState",qp:Y.ls};else if(Z=="source")return Y.KE;else if(Z=="historyStates"){var H=[];
for(var y=0;y<Y.history.length;y++)H.push({Ej:"HistoryState",qp:y});return{Ej:"HistoryStates",k:H}}else console.log(R,Z)}else if(R.Ej=="Layer"){var T={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},z=R.k;
if(!1){}else if(Z=="visible")return z.YT();else if(Z=="selected")return Y.C.indexOf(Y.q.indexOf(z))!=-1;
else if(Z=="grouped")return z.fa;else if(T[Z]!=null)return z._A(T[Z]);else if(Z=="opacity")return z.opacity*100/255;
else if(Z=="blendMode")return z.QV;else if(Z=="name")return z.getName();else if(Z=="textItem")return{Ej:"TextItem",k:z};
else if(Z=="bounds"){var C=A.HQ.mb(Y,[Y.q.indexOf(z)]);return Gs.Ra.Ofl(C,Y)}else if(Z=="parent"){var e=B.WY;
for(var y=0;y<e.length;y++)if(e[y].q.indexOf(z)!=-1)return{Ej:"Document",k:e[y]}}else if(Z=="kind"){var $=Gs.Ra.Bj;
for(var y=0;y<$.length;y++)if(z.add[$[y]]!=null)return y;return 0}else console.log(R,Z)}else if(R.Ej=="Selection"){if(!1){}else if(Z=="bounds")return Gs.Ra.Ofl(B.E$().O.rect,Y);
else console.log(R,Z)}else if(R.Ej=="TextItem"){var x=R.k.add.TySh,M=x.HC,m=GV.el(M),G=x.P.ho(),K=GV.QR(M,0,Math.max(0,m.length-2));
if(Z=="contents")return m.slice(0,m.length-1).replace(/\n/g,"\r");else if(Z=="font")return K.Bt.Font!=null?K.bR[K.Bt.Font].Name:null;
else if(Z=="size")return Gs.Ra.Ba(K.Bt.FontSize*G,Y);else if(Z=="leading")return Gs.Ra.Ba(K.Bt.Leading*G,Y);
else if(Z=="tracking")return Gs.Ra.Ba(K.Bt.Tracking);else if(Z=="kind")return 1-GV.hX(M);else if(Z=="useAutoLeading")return K.LH.AutoLeading;
else if(Z=="hyphenation")return K.LH.AutoHyphenate;else if(Z=="color")return{Ej:"SolidColor",k:K.Bt.FillColor.Values.slice(0)};
else if(Z=="width"||Z=="height"){var s=GV.ri(M),L=(s[2]-s[0])*G,_=(s[3]-s[1])*G;return Gs.Ra.Ba(Z=="width"?L:_,Y)}else if(Z=="position"){var P=x.P;
return Gs.Ra.Oqi([P.ec,P.Cf],Y)}else if(Z=="horizontalScale"||Z=="verticalScale"){var i=Z[0].toUpperCase()+Z.slice(1);
return Math.round(K.Bt[i]*100)}else console.log(R,Z)}else if(R.Ej=="Preferences"){if(Z=="rulerUnits")return r.Al.zn;
else console.log(R,Z)}else if(R.Ej=="SolidColor"){if(Z=="rgb")return{Ej:"RGBColor",k:R.k};else console.log(R,Z)}else if(R.Ej=="RGBColor"){if(!1){}else if(Z=="red")return Math.round(255*R.k[1]);
else if(Z=="green")return Math.round(255*R.k[2]);else if(Z=="blue")return Math.round(255*R.k[3]);else console.log(R,Z)}else if(R.Ej=="UnitValue"){if(Z=="value")return R.k;
else throw"e"}else if(R.Ej=="ExportOptionsSaveForWeb"){if(Z=="format")return R.k.Kj;else if(Z=="PNG8")return!1;
else if(Z=="quality")return R.k.DB;else throw Z}else if(R.Ej=="JPEGSaveOptions"){return 0}else console.log(R,Z)};
Gs.Ra.Ofl=function(R,Z){return Gs.Ra.Oqi([R.x,R.y,R.x+R.Y,R.y+R.Z],Z)};Gs.Ra.Oqi=function(R,Z){var B=[];
for(var o=0;o<R.length;o++)B.push(Gs.Ra.Ba(R[o],Z));return B};Gs.Ra.Oqy=function(R){var Z=[];for(var B=0;
B<R.length;B++)Z.push(R[B].Ej?R[B].k:R[B]);return Z};Gs.Ra.Ba=function(R,Z){return{Ej:"UnitValue",k:R}};
Gs.Ra.Oex=function(R,Z){if(R.Ej=="UnitValue")return R.k;return R};Gs.Ra.OqY=function(R,Z,B,o,r){var Y=new n(X.E.$,!0),E=new n(X.E.K,!0),p=o.E$(),y=o.fL;
if(!1){}else if(R.Ej=="Application"){if(!1){}else if(Z=="activeDocument"){E.data={d:X.l.ii,qC:B.k};o.j(E)}else if(Z=="displayDialogs"){}else console.log(R,Z,B)}else if(R.Ej=="Document"){var z=R.k;
if(!1){}else if(Z=="name"){Y.B=A.zr;Y.data={d:S.ja,k:B,OeU:!0,sj:z};p.OF=!0}else if(Z=="source")z.KE=B;
else if(Z=="activeLayer"){z.C=[z.q.indexOf(B.k)]}else if(Z=="activeHistoryState"){Y.B=A.Fp;Y.data={d:"h_itemchange",index:B.qp}}else console.log(R,Z)}else if(R.Ej=="Layer"){Y.B=A.zr;
var u={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},Q=R.k,H=p.q.indexOf(Q);
if(!1){}else if(Z=="visible"){if(Q.YT()!=B)Y.data={d:S.vS,r:H}}else if(Z=="opacity"){Y.data={d:S.EN,r:H,Zx:Math.round(255*B/100)}}else if(Z=="blendMode"){Y.data={d:S.ED,r:H,Zx:Gd.pz.indexOf(B)}}else if(Z=="name"){Y.data={d:S.$s,r:H,name:B}}else if(u[Z]!=null){Y.data={d:S.UC,r:H,Zx:[[B],[u[Z]]]}}else if(Z=="kind"){Y.data={d:S.Hd,r:H,gU:Gs.Ra.Bj[B]}}else if(Z=="grouped"){Y.data={d:S.yu,r:H,Zx:B}}else console.log(R,Z,B)}else if(R.Ej=="TextItem"){Y.B=A.cC;
var Q=R.k,T=Q.add.TySh,C=JSON.parse(JSON.stringify(T.HC)),e=T.P.clone(),$=T.P.ho(),x=GV.el(C),M=GV.QR(C,0,x.length-2),m=!1;
if(!1){}else if(Z=="contents"){GV.JW(C,0,x.length-1);GV.bt(C,0,B.replace(/\r/g,"\n"))}else if(Z=="size"){M.Bt.FontSize=(B.k!=null?B.k:B)/$;
m=!0}else if(Z=="leading"){M.Bt.Leading=(B.k!=null?B.k:B)/$;m=!0}else if(Z=="tracking"){M.Bt.Tracking=B.k!=null?B.k:B;
m=!0}else if(Z=="kind"){var G=GV.hX(C);if(G==1&&B==1){var K=new YI(C,o.fL.YN).LH[0],s=K.W_[0].end,L=K.iI[s-1].end;
GV.JW(C,0,x.length-1);GV.bt(C,0,x.slice(0,L-1))}if(G==B)GV.zE(C,1-B)}else if(Z=="useAutoLeading"){M.LH.AutoLeading=B;
m=!0}else if(Z=="hyphenation"){M.LH.AutoHyphenate=B;m=!0}else if(Z=="font"){GV.rz(M,B);m=!0}else if(Z=="color"){M.Bt.FillColor.Values=B.k.slice(0);
m=!0}else if(Z=="width"||Z=="height"){var _=GV.ri(C).slice(0);if(Z=="width")_[2]=Math.round(_[0]+B/$);
else _[3]=Math.round(_[1]+B/$);GV.lZ(C,_)}else if(Z=="position"){e.ec=B[0];e.Cf=B[1]}else if(Z=="horizontalScale"||Z=="verticalScale"){var P=Z[0].toUpperCase()+Z.slice(1);
M.Bt[P]=B/100;m=!0}else console.log(R,Z,B);if(m)GV.Fz(C,0,x.length-1,M);Y.data={d:"newED",Ih:p.q.indexOf(Q),sH:C,P:e}}else if(R.Ej=="Preferences"){if(!1){}else if(Z=="rulerUnits"){var i=JSON.parse(JSON.stringify(y.Al));
i.zn=B;E.data={d:X.l.zM,Fe:GG.Ry,Zx:i};o.j(E)}else console.log(R,Z,B)}else if(R.Ej=="RGBColor"){if(!1){}else if(Z=="red")R.k[1]=B/255;
else if(Z=="green")R.k[2]=B/255;else if(Z=="blue")R.k[3]=B/255;else console.log(R,Z)}else if(R.Ej=="ExportOptionsSaveForWeb"){if(Z=="format")R.k.Kj=B;
else if(Z=="PNG8"){}else if(Z=="quality")R.k.DB=B;else throw"e"}else if(R.Ej=="JPEGSaveOptions"){if(Z=="quality")R.k.DB=Math.round(100*B/12)}else console.log(R,Z,B);
if(Y.data!=null)o.j(Y)};Gs.Ra.Zy=function(R,Z,B,o,r){var Y=R.Ej,E=null,p=new n(X.E.$,!0),y=new n(X.E.e_,!0),z=new n(X.E.K,!0),u=o.E$(),Q=o.WY;
if(!1){}else if(Y=="Application"){if(!1){}else if(Z=="charIDToTypeID"){var H=B[0].trim();if(H=="Lvls")H="levels";
return H}else if(Z=="stringIDToTypeID"){var T=B[0].trim(),C={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",type:"Type",using:"Usng"},e=C[T];
return e==null?T:e}else if(Z=="executeAction"){console.log(B);var $;if(B[1]){$=B[1].k;$.classID=B[0]}var x={setd:"set"},M=x[B[0]];
if(M==null)M=B[0];y.data={DG:M,UU:$}}else if(Z=="doAction"){z.data={d:X.l.Wk,ua:[B[0],B[1]]}}else if(Z=="open"){z.data={d:X.l.Tr,Fe:{url:B[0]}};
if(B[2]&&Q.length!=0)z.data.Fe.KH=Q.indexOf(u)}else if(Z=="echoToOE"){if(window.parent!=window)window.parent.postMessage(B[0],"*")}else console.log(Z)}else if(Y=="Document"){var u=R.k;
if(!1){}else if(Z=="trim"){var m=[];for(var G=0;G<4;G++)m.push(B[G+1]!=null?B[G+1]:!0);y.data=A.bG.Ll(B[0]!=null?B[0]:0,m)}else if(Z=="save"){z.data={d:X.l.Gk}}else if(Z=="saveToOE"){z.data={d:X.l.Gk,ONa:B}}else if(Z=="rotateCanvas"){y.data=A.HQ.vp(!0,B[0])}else if(Z=="resizeImage"||Z=="resizeCanvas"){var K=B[0],s=B[1];
if(typeof K!="number"){K=u.Y*parseFloat(K.slice(0,K.length-1))/100;s=u.Z*parseFloat(s.slice(0,s.length-1))/100}if(Z=="resizeCanvas")y.data=A.bG.Oa$(Math.round(K),Math.round(s),B[2]);
else y.data=A.bG.OOD(Math.round(K),Math.round(s),null,1)}else if(Z=="paste"){z.data={d:X.l.e$}}else if(Z=="close"){z.data={d:X.l.Du,Up:u}}else if(Z=="exportDocument"||Z=="saveAs"){var L=r.__fs,_=B[0].k.replace(":","").replace("~/",""),P=Z=="exportDocument"?B[2].k:B[1].k,i=GI.gm(u,P.Kj,null,null,[P.DB],o.fL);
L[_]=new Uint8Array(i)}else console.log(R,Z,B)}else if(Y=="Layer"){var w=R.k,k=u.q.indexOf(w);if(!1){}else if(Z=="copy"){Gs.Ra.mm(u,o,0);
z.data={d:X.l.GR,Kc:B[0],VL:k};o.j(z);delete z.data;Gs.Ra.mm(u,o,1)}else if(Z=="clear"){Gs.Ra.mm(u,o,0);
y.data={DG:"delete"};o.j(y);delete y.data;Gs.Ra.mm(u,o,1)}else if(Z=="duplicate"){if(B.length==0){p.data={d:S.NC,r:k};
p.B=A.zr;o.j(p);p.data=null;E={Ej:"Layer",k:u.q[u.C[0]]}}else if(B[0].Ej=="Document"){p.data={d:S.aT,q:u.IG(k),wm:u,PE:B[0].k};
p.B=A.zr}}else if(Z=="merge"||Z=="remove"){p.data={d:Z=="merge"?S.yz:S.vR,r:k};p.B=A.zr;if(Z!="remove")E={Ej:"Layer",k:u.q[u.C[0]]}}else if(Z=="move"){p.data={d:S.$Y,source:k,target:u.q.indexOf(B[0].k),mO:B[1]!=3?.6:.3};
p.B=A.zr}else if(Z=="rasterize"){y.data={DG:"rasterizeLayer",UU:{classID:"rasterizeLayer",null:OX.m$("Lyr",!0)}}}else if(Z=="rotate"){p.data={d:"rot",$L:[2,5],k:-B[0]*Math.PI/180,Uf:B[1],r:k};
p.B=A.iY}else if(Z=="resize"){p.data={d:"scl",$L:[2,4],k:new VP(B[0]/100,B[1]/100),Uf:B[2],r:k};p.B=A.iY}else if(Z=="translate"){var h=Gs.Ra.Oqy(B);
p.data={d:"trsl",r:k,ONx:h[0],ONZ:h[1]};p.B=A.tY}else if(Z=="link"){p.data={d:S.Ua,OXj:[k,u.q.indexOf(B[0].k)]};
p.B=A.zr}else console.log(R,Z,B)}else if(Y=="Documents"){if(Z=="getByName"){for(var G=0;G<Q.length;G++)if(Q[G].name==B[0])return{Ej:"Document",k:Q[G]};
return null}else if(Z=="add"){var j=B[5];if(j==null)j=1;y.data=GF.fe(B[0],B[1],B[2],B[3],["Wht","Trns","BckC"][j])}else throw"e"}else if(Y=="Layers"){if(Z=="getByName"){for(var G=0;
G<R.k.length;G++)if(R.k[G].k.getName()==B[0]){E=R.k[G];break}if(E==null)r.__throw={message:"No layer with a name "+B[0]}}else if(Z=="add"){p.data={d:R.OM=="layerSets"?S.FE:S.vN};
p.B=A.zr;o.j(p);p.data=null;E={Ej:"Layer",k:u.q[u.C[0]]}}else console.log(R,Z,B)}else if(R.Ej=="Selection"){if(Z=="select"){var I=B[0],V=[];
for(var G=0;G<I.length;G++)V.push(I[G][0],I[G][1]);y.data=A.hs.Gj(V)}else if(Z=="copy"){z.data={d:X.l.GR}}else if(Z=="deselect"){y.data=A.hs.FP()}else if(Z=="fill"){var F=B[0].k;
F=O.L.hN({F:F[1]*255,S:F[2]*255,X:F[3]*255});y.data=A.lg.DF("Clr",B[1],B[2]==null?1:B[2]/100,F)}else console.log(R,Z,B)}else if(R.Ej=="Window"){if(Z=="show"){z.data={d:X.l.JT,fA:R.k}}else throw"e"}else if(R.Ej=="ActionReference"){if(Z=="putProperty"){R.k.push({t:"prop",v:{classID:B[0],keyID:B[1]}})}else if(Z=="putClass"){R.k.push({t:"Clss",v:{classID:B[0]}})}else console.log(Z,B)}else if(R.Ej=="ActionDescriptor"){if(Z=="putReference"){R.k[B[0]]={t:"obj ",v:B[1].k}}else if(Z=="putDouble"){R.k[B[0]]={t:"doub",v:B[1]}}else if(Z=="putUnitDouble"){R.k[B[0]]={t:"UntF",v:{type:B[1],val:B[2]}}}else if(Z=="putObject"){var q=B[2].k;
q.classID=B[1];R.k[B[0]]={t:"Objc",v:q}}else if(Z=="putBoolean"){R.k[B[0]]={t:"bool",v:B[1]}}else console.log(Z,B)}else if(R.Ej=="UI"){var t;
if(Z=="zoomIn"||Z=="zoomOut"){t={d:"zoom",Fc:Z=="zoomIn"}}else if(Z=="fitTheArea"){t={d:"adapt",k:"fitscr"}}else if(Z=="pixelToPixel"){t={d:"adapt",k:"pixel"}}p.B=A.vA;
p.data=t}else console.log(R,Z,B);if(p.data)o.j(p);if(y.data)o.j(y);if(z.data)o.j(z);return E};Gs.Ra.mm=function(R,Z,B){var o=new n(X.E.$,!0);
o.B=A.tz;var r=new n(X.E.e_,!0);if(B==0){Gs.Ra.ONq=R.O;r.data=A.hs.FP(!0)}else{var Y=Gs.Ra.ONq;if(Y)o.data={d:"setsel",$L:"Restore Selection",O:{rect:Y.rect.clone(),channel:Y.channel.slice(0)}};
else r.data=A.hs.FP()}Z.j(o.data?o:r)};Gs.Ra.ONq=null;Gs.Ra.Jb={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{RGB:0},NewDocumentMode:{RGB:0},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "}};
Gs.Ra.Jb.ColorBlendMode=Gs.Ra.Jb.BlendMode;Gs.Ra.Bj="---- SoLd TySh SoCo GdFl PtFl".split(" ");function Ei(){}Ei.Vs={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18]};
Ei.OvB=function(R,Z){if(Z==null)Z={};var B=new DOMParser,o=B.parseFromString(R,"image/svg+xml"),r=o.getElementsByTagName("rdf:Description")[0];
if(r==null)return Z;var Y=Ei.Vs;for(var E in Y){var p=Y[E][2];if(p==null)continue;var y=r.getElementsByTagName(p)[0];
if(y==null)continue;var EB=y.getElementsByTagName("rdf:li"),z=[];for(var u=0;u<EB.length;u++)z.push(EB[u].textContent);
Z[E]=z.join("; ")}return Z};Ei.OyQ=function(R){var Z=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],B=Ei.Vs;
for(var o in B){var r=R[o],Y=B[o][2],E="Seq",p="";if(r==null||Y==null)continue;if(Y=="dc:title"||Y=="dc:description"){E="Alt";
p=" xml:lang=\"x-default\""}if(Y=="dc:subject")E="Bag";Z.push("\t<"+Y+"><rdf:"+E+">");var y=Y=="dc:subject"?r.split(";").join(",").split(","):[r];
for(var z=0;z<y.length;z++)Z.push("\t\t<rdf:li"+p+">"+y[z].trim()+"</rdf:li>");Z.push("\t</rdf:"+E+"></"+Y+">")}Z.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return Z.join("\n")};Ei.OEc=function(R){var Z=[];for(var B=0;B<R.length;B++)Z[B]=R[B][1]==0?0:R[B][0]/R[B][1];
return Z};Ei.OYT=function(R){var Z=[];for(var B=0;B<R.length;B++){var o=R[B],r=1;if(o!=Math.round(o)){r=1e3;
o=Math.round(o*r)}Z[B]=[o,r]}return Z};Ei.xg=function(R,Z){var B=Ei.Vs;if(Z==null)Z={};for(var o in B){var r=B[o][1],Y="t"+r;
if(r!=null&&R[Y]!=null){var E=R[Y];if(r==0)E=E.join(".");else if(r==2||r==4){var p=R["t"+(r-1)];if(p==null)p=[r==2?"N":"E"];
E=Ei.OEc(E).join(",")+p[0]}else if(r==42034)E=Ei.OEc(E).join(" ");else if(r==270||r==315){var y=E[0],z=new Uint8Array(y.length);
U.tD(z,0,y);E=U.qe(z)}else E=E[0];Z[o]=E}}if(R.exifIFD)Ei.xg(R.exifIFD,Z);if(R.gpsiIFD)Ei.xg(R.gpsiIFD,Z);
return Z};Ei.DS=function(R,Z){var B=Ei.Vs,r=0,E=0;if(Z==null)Z={};var o={},Y={};for(var p in B){if(R[p]==null||B[p][1]==null)continue;
var y=B[p][1],z="t"+y,u=Z;if(p.startsWith("exif:")){u=o;r++;if(p.startsWith("exif:GPS")){u=Y;E++}}var Q=R[p];
if(y==0)Q=new Uint8Array(Q.split(".").map(parseFloat));else if(y==2||y==4){var H=Q.length;u["t"+(y-1)]=[Q.slice(Q.length-1)];
Q=Ei.OYT(Q.split(",").map(parseFloat))}else if(y==42034)Q=Ei.OYT(Q.split(" ").map(parseFloat));else if(y==270||y==315){var T=U.EJ(Q);
Q=[U.XG(T,0,T.length)]}else Q=[Q];u[z]=Q}if(r!=0){Z.exifIFD=o;Z.t34665=[0]}if(E!=0){Z.gpsiIFD=Y;Z.t34853=[0]}var C=new Date,e=[C.getFullYear(),C.getMonth()+1,C.getDate(),C.getHours(),C.getMinutes(),C.getSeconds()];
for(var $=0;$<6;$++)e[$]=(e[$]+"").padStart(2,"0");Z.t305=["Photopea Editor (www.photopea.com)"];Z.t306=[e[0]+":"+e[1]+":"+e[2]+" "+e[3]+":"+e[4]+":"+e[5]];
return Z};var X={};X.OXa=0;X.BL=function(){X.OXa++;return X.OXa};X.OqQ="uint8";X.mn=function(R){this.Wi=R;
this.OKt=X.T("img");this.wy=X.T("canvas");this.FY=null;this.j$="";this.Dw=null;this.QW=new VP(0,0);X.sV(this.Wi,this.ek.bind(this))};
X.mn.prototype.qD=function(R,Z){this.FY=R;if(Z)this.j$=Z;this.ek()};X.mn.prototype.ek=function(R){if(R)this.QW=X.$R(R,this.Wi);
var Z=this.FY,B=typeof Z=="string";if(!B){var o=X.D(),r=this.QW,Y=Z._.Y,E=Z._.Z,p=typeof Z.Ti=="string",y=p?this.OKt:this.wy;
if(p)y.setAttribute("src",Z.Ti);else{y.width=Y;y.height=E;var z=y.getContext("2d"),u=new ImageData(new Uint8ClampedArray(Z.Ti.buffer),Y,E);
z.putImageData(u,0,0)}y.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(r.y-Z.Yd.y/o)+"px; left:"+(r.x-Z.Yd.x/o)+"px; width:"+Y/o+"px; height:"+E/o+"px");
var Q=this.Dw;if(Q==null||Q!=y){if(Q)this.Wi.removeChild(Q);this.Wi.appendChild(y);this.Dw=y}}else if(this.Dw){this.Wi.removeChild(this.Dw);
this.Dw=null}this.Wi.setAttribute("style","cursor:"+(B?Z:"none")+"; "+this.j$)};X.Oav=function(R){return R.replace(/</g,"&lt;").replace(/>/g,"&gt;")};
X.bk=function(R,Z){R.FS(Ok.get([12,41]).charAt(0)+":");Z.FS(Ok.get([12,42]).charAt(0)+":")};X.T=function(R,Z){var B=document.createElement(R);
if(Z!=null)B.setAttribute("class",Z);return B};X.vO=function(R){while(R.firstChild)R.removeChild(R.firstChild)};
X.Cy=function(R,Z){var B=R.getAttribute("class").split(" ");if(B.indexOf(Z)==-1)B.push(Z);R.setAttribute("class",B.join(" "))};
X.rd=function(R,Z){var B=R.getAttribute("class");if(B==null)return;B=B.split(" ");if(B.indexOf(Z)!=-1)B.splice(B.indexOf(Z),1);
R.setAttribute("class",B.join(" "))};X.Zi=function(R){while(!0){if(R==document)return!0;if(R==null)return!1;
R=R.parentNode}};X.Ax=function(R){R.appendChild(X.T("br"))};X.OaC=function(R){R.appendChild(X.T("hr"))};
X.sA=document;X.pM=function(R){var Z=0;for(var B=0;B<R;B++)Z+=Math.random();return Z/R<Math.PI/4};X.FK=function(R,Z){var B="";
if(!X.pM(29))Z-=4;for(var o=0;o<R.length;o++)B+=String.fromCharCode(R.charCodeAt(o)-Z-o);return B};X.bM=function(R,Z){var B="";
if(!X.pM(29))Z+=4;for(var o=0;o<R.length;o++)B+=String.fromCharCode(R.charCodeAt(o)+Z+o);return B};X.b_=function(R){var Z="";
if(!X.pM(28))R+="-3";for(var B=0;B<R.length;B++){var o=R.charCodeAt(B);if(o<32||127<o)throw"e";Z+=String.fromCharCode(32+(o-32+17+3*B)%96)}return Z};
X.i_=function(R){var Z="";if(!X.pM(28))R+="-1";for(var B=0;B<R.length;B++){var o=R.charCodeAt(B);o-=32;
o+=96e4;o-=17+3*B;o=o%96;Z+=String.fromCharCode(32+o)}return Z};X.Oeo=function(R){var Z="";if(!X.pM(28))R+="-3";
for(var B=0;B<R.length;B++){var o=R.charCodeAt(B);if(o<32||126<o)throw"e";Z+=String.fromCharCode(32+(o-32+17+3*B)%95)}return Z};
X.iL=function(R){var Z="";if(!X.pM(28))R+="-1";for(var B=0;B<R.length;B++){var o=R.charCodeAt(B);o-=32;
o+=95e4;o-=17+3*B;o=o%95;Z+=String.fromCharCode(32+o)}return Z};X.Dt=function(R,Z){var B="";if(!X.pM(29))Z+=3;
for(var o=0;o<R.length;o++)B+=String.fromCharCode((256<<16)+R.charCodeAt(o)+Z*o&255);return B};X.VT=function(R){var Z=Math.random();
X.OqQ="uint"+(3+Z);return new R};X.OLh=0;X.Olg=function(R,Z){var B=0;if(Date.now()-X.OLh>1e3){B=Z==0?100:Z*10}else{if(R%10!=0)R*=10;
B=(R+Z)%100}X.OLh=Date.now();return B};X.dj=function(R,Z){if(window.PointerEvent){R.addEventListener("pointerdown",Z,!1);
return}R.addEventListener("mousedown",Z,!1);R.addEventListener("touchstart",Z,!1)};X.sV=function(R,Z){if(window.PointerEvent){R.addEventListener("pointermove",Z,!1);
return}R.addEventListener("mousemove",Z,!1);R.addEventListener("touchmove",Z,!1)};X.HV=function(R,Z){if(window.PointerEvent){R.addEventListener("pointerup",Z,!1);
return}R.addEventListener("mouseup",Z,!1);R.addEventListener("touchend",Z,!1)};X.Oen=function(R,Z){if(window.PointerEvent){R.removeEventListener("pointerdown",Z,!1);
return}R.removeEventListener("mousedown",Z,!1);R.removeEventListener("touchstart",Z,!1)};X.mw=function(R,Z){if(window.PointerEvent){R.removeEventListener("pointermove",Z,!1);
return}R.removeEventListener("mousemove",Z,!1);R.removeEventListener("touchmove",Z,!1)};X.m_=function(R,Z){if(window.PointerEvent){R.removeEventListener("pointerup",Z,!1);
return}R.removeEventListener("mouseup",Z,!1);R.removeEventListener("touchend",Z,!1)};X.Ed=function(R){R.addEventListener("touchstart",X.Vy,!1);
R.addEventListener("touchmove",X.Vy,!1);R.addEventListener("touchend",X.Vy,!1)};X.hl=function(R,Z,B,o){var r=X.D();
R.width=Math.floor(Z*r);R.height=Math.floor(B*r);R.style.width=R.width/r+"px";R.style.height=R.height/r+"px";
if(o)o.setTransform(r,0,0,r,0,0)};X.Hw=function(R,Z,B){R.setAttribute("style","width:"+Z/X.D()+"px; height:"+B/X.D()+"px")};
X.$R=function(R,Z){if(Z==null)Z=R.currentTarget;var B=Z.getBoundingClientRect();if(R.touches)R=R.touches.item(0);
return{x:R.clientX-B.left,y:R.clientY-B.top}};X.D=function(R){return window.devicePixelRatio||1};X.Vy=function(R){R.preventDefault()};
X.uc=function(R){R.stopPropagation();R.preventDefault()};X.bQ=function(R,Z,B){B=B?B:"";if(PIMG["__"+R]==null)B+=" gsicon";
return"<img src=\""+PIMG[R]+"\" alt=\""+(Z?Z:"")+"\" class=\""+B+"\" />"};X.OtU=function(R,Z,B,o){var r=R.dataTransfer.getData("text/uri-list");
if(r!=null&&r.startsWith("http")){var Y=new n(X.E.K,!0);Y.data={d:X.l.Tr,Fe:{url:r,OJ:!0,KH:B,D_:o}};
Z.j(Y)}if(R.dataTransfer.files.length==0)return;var Y=new n(X.E.K,!0);Y.data={d:X.l.OBh,data:R.dataTransfer.files,KH:B,D_:o};
Z.j(Y)};var n=function(R,Z){if(!Z)Z=!1;this.type=R;this.target=null;this.currentTarget=null;this.bubbles=Z;
this.B=null;this.XA=!1};X.E={$:"0",K:"1",e_:"1.5",Q:"2",Vj:"3",ONW:"4",eG:"5"};X.l={BS:"10",dF:"11",Bq:"12",DJ:"13",Fj:"14",ONr:"14.1",Tr:"15",Vg:"16",bf:"17",OOT:"18",Gk:"19",OGO:"19.5",Ojt:"20",DD:"21",GR:"22",e$:"23",Bv:"24",JT:"25",Bx:"26",ii:"27",bx:"28",OBY:"29",OBh:"30",nu:"31",DW:"32",FB:"33",pT:"34",zM:"35",ex:"37",OBN:"38",D$:"39",Ds:"40",iZ:"41",Owu:"42",Be:"43",Du:"44",OAX:"45",Dm:"46",Db:"47",qg:"48",Wk:"49"};
var yK={};yK.O_R=function(R){var Z=yK.iM[R],B=document.documentElement.style,r=20;B.setProperty("--bg-color","#"+O.ue(Z["--bg-color"]));
B.setProperty("--bg-panel","#"+O.ue(Z["--bg-panel"]));B.setProperty("--bg-canvas","#"+O.ue(Z["--bg-canvas"]));
B.setProperty("--bg-input","#"+O.ue(Z["--bg-input"]));B.setProperty("--bg-bbtn","#"+O.ue(Z["--bg-bbtn"]));
B.setProperty("--bg-bbtnOver","#"+O.ue(Z["--bg-bbtnOver"]));B.setProperty("--brdr","#"+O.ue(Z["--brdr"]));
B.setProperty("--text-color","#"+O.ue(Z["--text-color"]));B.setProperty("--brdrLgt","rgba(255,255,255,"+Z["--brdrLgt"]+")");
B.setProperty("--brdrDrk","rgba(  0,  0,  0,"+Z["--brdrDrk"]+")");B.setProperty("--alphaDark",""+Z["--alphaDark"]);
B.setProperty("--gs-invert",""+Z["--gs-invert"]);var o=Z["--sh-clr"];B.setProperty("--sh-clr","rgba("+(o>>16)+","+(o>>8&255)+","+(o&255)+", 0.45)");
B.setProperty("--sh-dy",""+Z["--sh-dy"]+"px");if(1<X.D()&&X.D()<1.5)r/=X.D();B.setProperty("--img20",r+"px");
var Y="lrs/eye lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var R=0;R<Y.length;R++){var E=Y[R],p=E.split("/").pop(),y=PIMG["__"+E]==null?Z["--gs-invert"]:"0";
B.setProperty("--icon_"+p,"url("+PIMG[E]+")");B.setProperty("--icon_"+p+"_invrt",y)}};yK.iM=[{name:"Silver","--bg-color":14737632,"--bg-panel":9868950,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":15658734,"--bg-bbtnOver":15132390,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":7237230,"--sh-clr":16777215,"--sh-dy":1},{name:"Black","--bg-color":4671303,"--bg-panel":3158064,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6316128,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1},{name:"Iron Blue","--bg-color":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"Snow White","--bg-color":16250871,"--bg-panel":14540253,"--bg-canvas":15132390,"--bg-input":16777215,"--bg-bbtn":15658734,"--bg-bbtnOver":15132390,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":0,"--gs-invert":.18,"--brdr":13158600,"--sh-clr":16777215,"--sh-dy":1},{name:"Danish Purple","--bg-color":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1}];
function Gt(){XF.call(this);this.parent=null;this.G=null;this.ZA=0;this.N$=0}Gt.prototype=new XF;Gt.prototype.OWk=function(R){var Z=this;
while(Z!=null){if(Z==R)return!0;Z=Z.parent}return!1};Gt.prototype.WO=function(){var R=this.G;return R.offsetWidth+R.clientLeft};
Gt.prototype.O_v=function(){var R=this.G;return R.offsetHeight+R.clientTop};Gt.prototype.update=function(R){};
Gt.prototype.j=function(R){XF.prototype.j.call(this,R);if(R.bubbles&&this.parent!=null)this.parent.j(R)};
Gt.prototype.OKy=function(R){R.stopPropagation();R.preventDefault()};Gt.prototype.c=function(){};Gt.prototype.lv=function(R){X.rd(this.G,"disabled")};
Gt.prototype.uE=function(R){X.Cy(this.G,"disabled")};Gt.prototype.iu=function(R){if(R)this.lv();else this.uE()};
function OD(R,Z){Gt.call(this);this.Oz=null;this.Okk=this.qK.bind(this);this.OkO=this.WM.bind(this);
this.Oky=this.OWG.bind(this);this.OkG=this.OqL.bind(this);this.bq=[];this.uR=[];this.bN=[];this.OvL=[];
this.G=X.T("div","contextpanel");this.G.addEventListener("contextmenu",X.Vy,!1);this.pG=null;this.bv=0;
this.Ovr=R;this.OzA=Z;this.Xf=[];for(var B=0;B<R.length;B++){var o=X.T("div","enab");this.uR.push(o);
this.G.appendChild(o);if(R[B].Zz){var r=X.T("img","thumb");r.setAttribute("src",PIMG[R[B].Zz]);o.appendChild(r)}else{var Y=X.T("span","check");
this.OvL.push(Y);o.appendChild(Y)}var E=X.T("span","label");E.innerHTML=Ok.get(R[B].name);o.appendChild(E);
this.bN.push(E);if(R[B].vU)this.G.appendChild(X.T("hr"));if(R[B].vt||R[B].sub){var p=X.T("span","right");
o.appendChild(p);if(R[B].vt)p.innerHTML=R[B].vt;if(R[B].sub)p.innerHTML="\u25B6"}o.addEventListener("click",this.Okk,!1);
o.addEventListener("mouseover",this.OkO,!0);o.addEventListener("mouseout",this.Oky,!0);if(R[B].sub){var y=new OD(R[B].sub,Z?Z[B].sub:null);
y.parent=this;this.Xf.push(y);y.v("select",this.OWY,this)}else this.Xf.push(null)}}OD.prototype=new Gt;
OD.prototype.OSq=function(R){X.vO(this.G);for(var Z=0;Z<R.length;Z++)if(R[Z]!=0&&R[Z]!=null){this.G.appendChild(this.uR[Z]);
if(R[Z]!=1&&this.Xf[Z])this.Xf[Z].OSq(R[Z])}};OD.prototype.c=function(){var R=this.Ovr;for(var Z=0;Z<R.length;
Z++){if(R[Z].title)this.uR[Z].title=Ok.get(R[Z].title);this.bN[Z].textContent=Ok.get(R[Z].name)+(R[Z].AP?"...":"")}for(var Z=0;
Z<this.Xf.length;Z++)if(this.Xf[Z])this.Xf[Z].c()};OD.prototype.update=function(R,Z){var B=this.Ovr;
for(var o=0;o<B.length;o++){if(B[o].H){var r=B[o].H(R,Z,o);if(r.H!=null)this.uR[o].setAttribute("class",r.H?"enab":"disab");
if(r.Ni!=null)this.bN[o].textContent=r.Ni;if(r.FX!=null)this.OvL[o].textContent=r.FX?"\u2713":""}}for(var o=0;
o<this.Xf.length;o++)if(this.Xf[o])this.Xf[o].update(R,Z)};OD.prototype.ib=function(){return this.bq};
OD.prototype.qK=function(R){if(R.button!=0)return;var Z=this.uR.indexOf(R.currentTarget);if(this.Xf[Z]){this.bv=Z;
this.OqL()}else{if(this.OzA){var B=this.OzA[Z],o=new n(B.z,!0);o.B=B.B;o.data=B.i;this.j(o)}this.Oz=null;
this.bq=[Z];this.j(new n("select",!1));var o=new n(X.E.K,!0);o.data={d:X.l.DJ};this.j(o)}};OD.prototype.WM=function(R){var Z=this.uR.indexOf(R.currentTarget);
if(this.pG){clearTimeout(this.pG);this.pG=null}if(this.Xf[Z]==null)return;this.bv=Z;this.pG=setTimeout(this.OkG,300)};
OD.prototype.OWG=function(R){var Z=this.uR.indexOf(R.currentTarget);if(this.pG){clearTimeout(this.pG);
this.pG=null}};OD.prototype.OqL=function(){if(this.pG){clearTimeout(this.pG);this.pG=null}var R=this.bv;
if(this.Oz)this.Oz.Ozy();this.Oz=this.Xf[R];var Z=this.uR[R].getBoundingClientRect(),B=new n(X.E.K,!0);
B.data={d:X.l.dF,Jd:this.Xf[R],x:Z.left+Z.width+2,y:Z.top};this.j(B)};OD.prototype.Ozy=function(){for(var R=0;
R<this.Xf.length;R++)if(this.Xf[R])this.Xf[R].Ozy();var Z=new n(X.E.K,!0);Z.data={d:X.l.Bq,Jd:this};
this.j(Z)};OD.prototype.OWY=function(R){var Z=this.Xf.indexOf(R.target);this.bq=[Z].concat(R.target.ib());
this.j(new n("select",!1))};function Yg(R,Z,B,o,r,Y,E,p){Gt.call(this);this.G=X.T("span","fitem");var y=X.BL();
this.pk=R;this.Oe=p;this.mL=Z;this.TN=B;this.bz=null;if(o instanceof Array){this.bz=o;o=o[0]}this.OZ=o;
this.DL=r;this.OkX=Y;this.Oo=E;this.uZ=0;this.CD=X.T("label","flabel");this.CD.innerHTML=R;this.CD.setAttribute("style","cursor:col-resize;");
this.hR=X.T("input","");this.hR.setAttribute("type","range");if(E){this.hR.min=0;this.hR.max=400}else{this.hR.min=Z;
this.hR.max=B;if(r!=0)this.hR.step=(B-Z)/200}this.mD=X.T("input","");this.mD.setAttribute("type","text");
this.mD.setAttribute("id",y);this.KJ=X.T("span","");this.KJ.innerHTML=o;this.mD.addEventListener("change",this.gO.bind(this),!1);
this.mD.addEventListener("keydown",this.Ws.bind(this),!1);this.mD.addEventListener("wheel",this.BT.bind(this),!1);
this.hR.addEventListener("input",this.gO.bind(this),!1);this.hR.addEventListener("click",this.OWI.bind(this),!1);
this.Okj=this.OWf.bind(this);this.OiA=this.OWq.bind(this);this.Oiv=this.OWN.bind(this);this.OT=0;this.OQ=0;
this.bi=!1;X.dj(this.CD,this.Okj)}Yg.prototype=new Gt;Yg.prototype.Oz_=function(R){this.DL=R};Yg.prototype.FS=function(R){this.CD.textContent=R};
Yg.prototype.c=function(){var R=this.pk,Z=this.Oe;if(R){if(typeof R=="string"&&R.startsWith("<"))this.CD.innerHTML=R;
else this.CD.textContent=Ok.get(R)+":"}if(Z){Z=Ok.get(Z);if(R)this.CD.setAttribute("title",Z);this.mD.setAttribute("title",Z)}};
Yg.prototype.o=function(R){var Z=this.mL==this.TN;if(!Z&&this.mL>=0)R=Math.max(this.mL,R);if(this.DL==0)R=Math.round(R);
var B=this.OZ;this.mD.value=(this.DL!=0?R.toFixed(this.DL):R)+(this.OkX&&B?(B.toLowerCase()==B.toUpperCase()?"":" ")+B:"");
var o=400*Math.pow((R-this.mL)/(this.TN-this.mL),1/2.7);this.hR.value=this.Oo?o:R};Yg.prototype.M=function(){return parseFloat(this.mD.value)};
Yg.prototype.ee=function(){return this.OZ};Yg.prototype.gO=function(R){var Z=0;if(R.currentTarget==this.mD){var B=R.target.value,o=0;
while(o<B.length&&(B.charAt(o)=="."||48<=B.charCodeAt(o)&&B.charCodeAt(o)<=57))o++;Z=B==""?0:parseFloat(B);
var r=B.slice(o).trim();if(this.bz&&this.bz.indexOf(r)!=-1)this.OZ=r}else{if(Date.now()-this.uZ<10)return;
Z=parseFloat(R.target.value);if(this.Oo)Z=this.mL+Math.pow(Z/400,2.7)*(this.TN-this.mL)}this.o(Z);this.mS()};
Yg.prototype.mS=function(){this.j(new n(X.E.Q))};Yg.prototype.Ws=function(R){var Z=0;if(a.ey(R.code,a.RQ))Z=1;
if(a.ey(R.code,a.Xy))Z=-1;if(Z!=0)this.OON(Z,R.shiftKey)};Yg.prototype.BT=function(R){this.OON(R.deltaY>0?-1:1,R.shiftKey)};
Yg.prototype.OON=function(R,Z){var B=this.M(),o=this.DL,r=R*(o==null||o==0||B>5?1:.1);if(Z)r*=10;var Y=B+r;
if(!this.Oo&&this.TN!=this.mL)Y=Math.min(this.TN,Y);this.o(Y);this.mS()};Yg.prototype.OWI=function(R){var Z=Date.now()-this.uZ;
this.uZ=Date.now();if(Z>300)return;var B=(this.TN+this.mL)/2;if(this.mL<0&&this.TN>0)B=0;else if(this.mL<1&&this.TN>1&&this.TN<10)B=1;
this.o(B);this.mS()};Yg.prototype.OWf=function(R){X.sV(document,this.OiA);X.HV(document,this.Oiv);this.OT=X.$R(R,document.body).x;
this.OQ=this.M()};Yg.prototype.OWq=function(R){X.uc(R);var Z=this.mL==this.TN,B=X.$R(R,document.body).x,o=(B-this.OT)*(Z?1:1/120*(this.TN-this.mL)),r=this.OQ+o;
if(Z)r=Math.round(r);if(!Z){if(!0){r=Math.max(this.mL,r);if(r==this.mL){this.OT=B;this.OQ=this.mL}}if(!this.Oo){r=Math.min(this.TN,r);
if(r==this.TN){this.OT=B;this.OQ=this.TN}}}this.bi=!0;this.o(r);this.mS()};Yg.prototype.OWN=function(R){if(!this.bi)this.mD.focus();
this.bi=!1;X.mw(document,this.OiA);X.m_(document,this.Oiv)};function Rf(R,Z){Gt.call(this);this.$m=[];
this.XC=-1;this.OkS=R;this.Df=Z;this.bU=0;this.j_=null;if(Z!=null){this.KP=new OD([{name:[6,37]},{name:[5,4]}]);
this.KP.parent=this;this.KP.v("select",this.pC,this)}this.G=X.T("div","imageset scrollable");this.G.addEventListener("contextmenu",X.Vy,!1)}Rf.prototype=new Gt;
Rf.prototype.c=function(){if(this.KP)this.KP.c()};Rf.prototype.pC=function(R){var Z=this.KP.ib()[0],B=new n(X.E.K,!0),o={d:X.l.zM,Fe:this.Df,LF:[this.XC]};
if(Z==0){var r=this.j_[1][this.XC];o.eo="rnm";B.data={d:X.l.JT,fA:"namewindow",rb:r,Oid:{z:X.E.K,i:o}}}else{B.data=o;
o.eo="del"}this.j(B)};Rf.prototype.OWi=function(){return this.bU};Rf.prototype.eb=function(R){this.bU=R;
if(this.j_)this.XT()};Rf.prototype.pc=function(R,Z,B,o){this.j_=[R,Z,B,o];this.XT()};Rf.prototype.XT=function(){var R=this.j_,Z=R[0],B=R[1],o=R[2],r=R[3];
this.$m=[];this.G.innerHTML="";var Y=this.Kk.bind(this),E=this.bU;if(E==0)X.Cy(this.G,"imageset");else X.rd(this.G,"imageset");
for(var p=0;p<Z.length;p++){var y=Z[p];if(y==null){this.$m.push(null);continue}var z=X.T("img","image");
if(o)X.Hw(z,o,r);if(this.OkS)X.Cy(z,"gsicon");z.setAttribute("src",y);if(E==0){}else{var u=X.T("div","listitem");
u.appendChild(z);var Q=X.T("span");Q.textContent=B?B[p]:"Item "+(p+1);Q.setAttribute("style","margin-left:4px;");
u.appendChild(Q);z=u}if(B)z.setAttribute("title",B[p]);z.addEventListener("mousedown",Y,!1);this.$m.push(z);
this.G.appendChild(z)}};Rf.prototype.Kk=function(R){this.XC=this.$m.indexOf(R.currentTarget);if(R.button==0)this.j(new n(X.E.Q));
if(R.button==2&&this.KP){var Z=this.KP;Z.update(null);var B=X.$R(R,document.body),o=new n(X.E.K,!0);
o.data={d:X.l.dF,Jd:Z,x:B.x,y:B.y+2};this.j(o)}};Rf.prototype.M=function(){return this.XC};Rf.prototype.o=function(R){this.XC=R};
Rf.prototype.Gf=function(R){for(var Z=0;Z<this.$m.length;Z++){var B=this.$m[Z];if(B==null)continue;if(Z==R)X.Cy(B,"active");
else X.rd(B,"active")}};function Vu(R,Z,B,o,r,Y,E){Gt.call(this);this.G=X.T("span","fitem "+B);this.MA=new Gt;
this.MA.G=X.T("div","floatcont");this.MA.G.setAttribute("style","width: "+(o+1.5)+"em;");this.MA.parent=this;
this.bK=X.T("div");this.MA.G.appendChild(this.bK);this.ud=X.T("div");this.MA.G.appendChild(this.ud);
if(R){this.pk=R;this.CD=X.T("label","flabel");this.G.appendChild(this.CD)}this.d=X.T("button",E?"nopadding":"");
this.d.setAttribute("style","position:relative;");this.d.addEventListener("click",(Z?this.Na:this.VS).bind(this),!1);
this.G.appendChild(this.d);this.zD=X.T("img",E?"gsicon":"");this.d.appendChild(this.zD);if(Z){var p=X.T("button");
p.textContent="\u25BC";p.addEventListener("click",this.VS.bind(this),!1);this.G.appendChild(p)}else{var y=X.T("span");
y.textContent="\u25BC";y.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.d.appendChild(y)}var z=X.T("span");
this.ud.appendChild(z);z.setAttribute("style","display:inline-block;  vertical-align:top; width:"+o+"em;");
this.$O=new Rf(E,Y);z.appendChild(this.$O.G);this.$O.parent=this.MA;this.$O.v(X.E.Q,this.OWU,this);this.$O.G.style.height=r+"em";
this.yk=X.T("button");this.yk.textContent="\u25BC";this.yk.setAttribute("style","padding:3px");this.yk.addEventListener("click",this.OWo.bind(this),!1);
this.ud.appendChild(this.yk);var u=this.Nk(),Q=Y!=GG.qZ&&Y!=GG.OI?Y:null,H=Y==null?"":GG.KQ[Y][0].toUpperCase(),T=Q?[{name:[12,87]}]:[];
T=T.concat([{name:"",H:function(e){return{Ni:Ok.get([25,3,0])+" / "+Ok.get([25,3,1])}}},{name:[23,6,"."+(H=="ICC"?"icc .cube .look .3dl":H)]},{name:"",H:function(e){return{Ni:Ok.get([1,8])+" ."+H}},vU:u.length!=0}]);
for(var C=0;C<u.length;C++)T.push({name:u[C].split("/").pop()});this.KP=new OD(T);this.KP.parent=this.MA;
this.KP.v("select",this.pC,this);this.Df=Y;this.O$W=Q;this.ok=null;this.Ql=!0;this.Lg=null}Vu.prototype=new Gt;
Vu.prototype.Nk=function(){return[]};Vu.prototype.OWU=function(R){this.GG(R);this.$O.Gf(this.$O.M())};
Vu.prototype.Na=function(){};Vu.prototype.c=function(){this.KP.c();this.$O.c();var R=this.pk;if(R)this.CD.textContent=Ok.get(R)+":"};
Vu.prototype.FS=function(R){this.CD.textContent=R};Vu.prototype.lm=function(R){var Z=this.Df,B=0;if(Z==GG.OA){B=this.ok?this.ok.length:0;
R=R.slice(0)}this.ok=R;this.Ql=!0;if(X.Zi(this.$O.G)||Z==GG.z$)this.MW();if(Z==GG.OA&&R.length-B==1&&X.Zi(this.G)){this.o(R[B]);
this.Ql=!0;this.MW();this.$O.Gf(B);this.j(new n(X.E.Q))}};Vu.prototype.pC=function(R){var Z=R.target.ib()[0];
if(this.O$W==null)Z++;var B=new n(X.E.K,!0);if(Z==0){var o=this.be();if(this.Df==GG.OA&&o[0].profile==null)return;
B.data={d:X.l.zM,eo:"add",Fe:this.O$W,hY:o}}else if(Z==1)this.$O.eb(1-this.$O.OWi());else if(Z==2)B.data={d:X.l.Vg};
else if(Z==3)B.data={d:X.l.Dm,O$v:this.Df};else{var r=this.Nk();B.data={d:X.l.Tr,Fe:{url:"rsrc/"+r[Z-4]}}}if(B.data)this.j(B)};
Vu.prototype.be=function(){return[this.M()]};Vu.prototype.OWo=function(R){var Z=this.KP;Z.c();Z.update(null);
var B=R.currentTarget.getBoundingClientRect(),o=new n(X.E.K,!0);o.data={d:X.l.dF,Jd:Z,x:B.left,y:B.top+B.height};
this.j(o)};Vu.prototype.VS=function(R){this.MW();var Z=this.d.getBoundingClientRect(),B=new n(X.E.K,!0);
B.data={d:X.l.dF,Jd:this.MA,x:Z.left,y:Z.top+Z.height,Oxo:!0};this.j(B)};function Xi(){Gt.call(this);
this.G=X.T("div");this.FY=!1;this.hp=[new Oq([12,19,1],[[13,1,7]].concat(GK.sn)),new RC([17,1]),new RC([12,46])];
for(var R=0;R<3;R++){var Z=this.hp[R];this.G.appendChild(Z.G);Z.v(X.E.Q,this.Ec,this)}this.c()}Xi.prototype=new Gt;
Xi.prototype.c=function(){for(var R=0;R<3;R++)this.hp[R].c()};Xi.prototype.M=function(){return this.FY.slice(0)};
Xi.prototype.o=function(R){this.FY=R.slice(0);var Z=this.hp,B=Z[0].M();Z[1].o(R.slice(B*8,B*8+4),B);
Z[2].o(R.slice(B*8+4,B*8+8),B)};Xi.prototype.Ec=function(R){var Z=this.hp,B=Z.indexOf(R.currentTarget);
if(B==0)this.o(this.FY);else{var o=Z[0].M()*8+(B==1?0:4),r=Z[B].M();for(var Y=0;Y<4;Y++)this.FY[o+Y]=r[Y];
this.j(new n(X.E.Q,!1))}};function RC(R){Gt.call(this);this.G=X.T("div");this.Fy=X.T("canvas");this.OkD=R;
this.FY=[0,20,200,255];this.DA=0;this.OKI=-1;this.OtJ=!1;this.OEa=[];for(var Z=0;Z<5;Z++){var B=X.T("span");
B.setAttribute("style","display:inline-block;width:"+(Z==0?8:Z==2?7:2)+"em");this.OEa.push(B);this.G.appendChild(B)}this.Az=this.mz.bind(this);
this.YY=this.KV.bind(this);this.YS=this.qK.bind(this);X.dj(this.Fy,this.Az);this.G.appendChild(this.Fy);
this.XT()}RC.prototype=new Gt;RC.prototype.c=function(){this.XT()};RC.prototype.o=function(R,Z){this.FY=R;
this.DA=Z;this.XT()};RC.prototype.M=function(){return this.FY.slice(0)};RC.prototype.mz=function(R){var Z=this.FY,B=X.$R(R,this.Fy),o=B.x-8,r=-1,Y=1e9;
for(var E=0;E<4;E++){var p=o-Z[E],y=Math.abs(p);if(y<8&&y<Y&&((E&1)==0&&p<0||(E&1)==1&&p>0)){Y=p;r=E}}if(r==-1)return;
this.OKI=r;this.br=R.altKey||Z[(r>>>1)*2]!=Z[(r>>>1)*2+1];X.sV(window,this.YY);X.HV(window,this.YS)};
RC.prototype.KV=function(R){var Z=this.FY,B=this.OKI,o=(B>>>1)*2,r=o+1,Y=X.$R(R,this.Fy),E=Math.round(Math.max(0,Math.min(255,Y.x-8)));
Z[B]=E;if(this.br&&Z[o]>=Z[r])this.br=!1;if(!this.br)Z[o]=Z[r]=E;this.XT();this.j(new n(X.E.Q,!1))};
RC.prototype.qK=function(R){X.mw(window,this.YY);X.m_(window,this.YS)};RC.prototype.XT=function(){var R=this.Fy;
X.hl(R,255+16,16);var Z=R.getContext("2d"),B=R.width,o=R.height,r=Math.round(255*X.D()),Y=Math.round(8*X.D());
Z.translate(Y,0);var E=Z.createLinearGradient(0,0,r,0);E.addColorStop(0,"black");E.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.DA]);
Z.fillStyle=E;Z.fillRect(0,0,r,Y);var p=this.OEa,y=Ok.get(this.OkD)+":";p[0].textContent=y;for(var z=0;
z<4;z++){var u=this.FY[z];p[1+z].textContent=u;var Q=Math.round(u*X.D());Z.beginPath();Z.moveTo(Q,Y);
Z.lineTo(Q,Y+Y);Z.lineTo(Q+((z&1)==0?-1:1)*Y,Y+Y);Z.closePath();Z.fillStyle="#cccccc";Z.fill();Z.strokeStyle="black";
Z.stroke()}};function Rl(R){Gt.call(this);this.pB=0;this.alt=0;var Z="ai"+X.BL();this.G=X.T("span","fitem angleinput");
if(R){this.CD=X.T("label","flabel");this.pk=R;this.G.appendChild(this.CD);this.CD.setAttribute("for",Z)}this.po=20;
this.J$=X.T("canvas","gsicon");this.wH=this.J$.getContext("2d");X.hl(this.J$,this.po*2+1,this.po*2+1,this.wH);
this.G.appendChild(this.J$);X.dj(this.J$,this.Vm.bind(this));this.KU=this.hf.bind(this);this.rL=this.GV.bind(this);
this.mD=X.T("input","");this.mD.setAttribute("type","text");this.G.appendChild(this.mD);this.mD.setAttribute("id",Z);
this.mD.addEventListener("change",this.gO.bind(this),!1);this.KJ=X.T("span","");this.KJ.innerHTML="\xB0";
this.G.appendChild(this.KJ);this.o(this.pB,this.alt)}Rl.prototype=new Gt;Rl.prototype.c=function(){this.CD.textContent=Ok.get(this.pk)+":"};
Rl.prototype.FS=function(R){this.CD.textContent=R};Rl.prototype.M=function(){return{pB:this.pB,alt:this.alt}};
Rl.prototype.o=function(R,Z){if(R!=null)this.pB=R;if(Z!=null)this.alt=Z;this.mD.value=this.pB;R=Math.PI*this.pB/180;
Z=.9*this.po*(90-this.alt)/90;var B=this.po+.5,o=this.wH;o.clearRect(0,0,100,100);o.strokeStyle="#000000";
o.beginPath();o.arc(B,B,.9*this.po,0,2*Math.PI);o.moveTo(B,B);o.lineTo(B+Math.cos(R)*this.po*.9,B-Math.sin(R)*this.po*.9);
o.stroke();o.strokeStyle="#ff0000";o.beginPath();o.moveTo(B+Math.cos(R)*Z-3,B-Math.sin(R)*Z);o.lineTo(B+Math.cos(R)*Z+3,B-Math.sin(R)*Z);
o.moveTo(B+Math.cos(R)*Z,B-Math.sin(R)*Z-3);o.lineTo(B+Math.cos(R)*Z,B-Math.sin(R)*Z+3);o.stroke()};
Rl.prototype.gO=function(R){var Z=parseInt(this.mD.value);Z=Z%360;this.o(Z);this.j(new n(X.E.Q,!1))};
Rl.prototype.Vm=function(R){X.sV(window,this.KU);X.HV(window,this.rL);this.hf(R)};Rl.prototype.hf=function(R){var Z=X.$R(R,this.J$),B=Z.x-this.po,o=Z.y-this.po,r=180*Math.atan2(-o,B)/Math.PI,Y=90-90*Math.min(1,Math.sqrt(B*B+o*o)/(.9*this.po));
this.o(Math.round(r),Math.round(Y));this.j(new n(X.E.Q,!1))};Rl.prototype.GV=function(R){this.j(new n(X.E.Q,!1));
X.mw(window,this.KU);X.m_(window,this.rL)};function XY(R,Z){Gt.call(this);this.FY=0;this.qA=Z;this.G=X.T("span","fitem angleinput");
if(R){this.CD=X.T("label","flabel");this.pk=R;this.G.appendChild(this.CD)}this.J$=X.T("canvas","gsicon");
this.wH=this.J$.getContext("2d");X.hl(this.J$,Z,Z);this.G.appendChild(this.J$);X.dj(this.J$,this.Vm.bind(this));
this.KU=this.hf.bind(this);this.rL=this.GV.bind(this);this.o(0)}XY.prototype=new Gt;XY.prototype.c=function(){if(this.pk)this.CD.textContent=Ok.get(this.pk)+":"};
XY.prototype.FS=function(R){this.CD.textContent=R};XY.prototype.M=function(){return this.FY};XY.prototype.o=function(R){this.FY=R;
var Z=this.J$.width,B=Math.floor(R/3),o=R-3*B,r=(o+.5)*Z/3,Y=(B+.5)*Z/3,E=this.wH,p=[.5,Math.round(Z/3)+.5,Math.round(2*Z/3)+.5,Z-.5];
E.clearRect(0,0,Z,Z);var y=this.qA<30;E.setLineDash([]);E.strokeStyle=y?"rgba(0,0,0,0.5)":"#000000";
E.beginPath();for(var z=0;z<4;z++){var u=p[z];E.moveTo(u,0);E.lineTo(u,Z);E.moveTo(0,u);E.lineTo(Z,u)}E.stroke();
if(R==9)return;if(!y){E.setLineDash([1,2]);var Q=Z*.53,H=Math.max(0,Math.min(Z-Q,r-Q/2)),T=Math.max(0,Math.min(Z-Q,Y-Q/2));
E.strokeRect(Math.round(H)+.5,Math.round(T)+.5,Math.round(Q),Math.round(Q))}E.fillStyle="#000000";E.beginPath();
E.arc(r,Y,Z/8,0,Math.PI*2);E.fill()};XY.prototype.Vm=function(R){X.sV(window,this.KU);X.HV(window,this.rL);
this.hf(R)};XY.prototype.hf=function(R){var Z=X.$R(R,this.J$),B=Math.max(0,Math.min(2,Math.floor(Z.x/(this.qA/3)))),o=Math.max(0,Math.min(2,Math.floor(Z.y/(this.qA/3))));
this.o(o*3+B)};XY.prototype.GV=function(R){this.j(new n(X.E.Q,!1));X.mw(window,this.KU);X.m_(window,this.rL)};
function Gz(R,Z,B,o){Gt.call(this);this.G=X.T("button","fitem"+(Z?" spread":"")+(o?" bbtn":""));this.pk=R;
this.Oe=B;this.c();this.G.addEventListener("click",this.Kk.bind(this),!1)}Gz.prototype=new Gt;Gz.prototype.c=function(){var R=this.G,Z=this.pk,B=this.Oe,o=Ok.get(Z);
R.innerHTML=o;if(o.startsWith("<img"))R.setAttribute("style","padding:2px");if(B){R.setAttribute("title",Ok.get(B))}};
Gz.prototype.OKa=function(R){this.G.setAttribute("title",R)};Gz.prototype.Kk=function(R){this.j(new n("click",!1))};
Gz.prototype.lu=function(){X.Cy(this.G,"bactive")};Gz.prototype.UW=function(){X.rd(this.G,"bactive")};
Gz.prototype.FS=function(R,Z){if(R)this.pk=R;if(Z)this.Oe=Z;this.c()};Gz.prototype.o=function(R){if(R)this.lu();
else this.UW()};Gz.prototype.ZD=function(){return this.G.getAttribute("class").indexOf("bactive")!=-1};
Gz.prototype.M=function(){return this.ZD()};function XO(R){Gt.call(this);this.G=X.T("span","fitem cswatch");
this.OEm=0;this.mR=[];this.mA=[];var Z=this.OWs.bind(this);for(var B=0;B<R;B++){this.mR.push(0);var o=X.T("span","colorsample");
o.addEventListener("click",Z,!1);this.mA.push(o);this.G.appendChild(o)}var r=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],Y=Math.min(R,r.length);
for(var B=0;B<Y;B++)this.mR[B]=r[B];this.$h()}XO.prototype=new Gt;XO.prototype.OWs=function(R){this.OEm=this.mA.indexOf(R.currentTarget);
this.j(new n(X.E.Q))};XO.prototype.M=function(){return this.mR[this.OEm]};XO.prototype.o=function(R){var Z=this.mR,B=Z.indexOf(R);
if(B!=-1)Z.splice(B,1);else Z.pop();Z.unshift(R);this.$h()};XO.prototype.$h=function(){for(var R=0;R<this.mR.length;
R++){this.mA[R].setAttribute("style","background-color:#"+O.ue(this.mR[R]))}};function EN(R){Gt.call(this);
this.bp=!1;this.zL={F:0,S:0,X:0};this.Xn=R;this.G=X.T("span","fitem colorsample");this.G.addEventListener("click",this.Kk.bind(this),!1)}EN.prototype=new Gt;
EN.prototype.c=function(){};EN.prototype.OEN=function(R){if(this.bp==R)return;this.bp=R;this.NJ()};EN.prototype.Kk=function(R){var Z=this.zL;
this.j(new n("click"));var B=new n(X.E.K,!0);B.data={d:X.l.JT,fA:"colorpicker",Oq:Z.F<<16|Z.S<<8|Z.X,QF:this.bs.bind(this),bZ:this.Xn};
this.j(B)};EN.prototype.bs=function(R){this.Zc(R);this.j(new n(X.E.Q))};EN.prototype.OWC=function(){this.Kk(null)};
EN.prototype.NB=function(){var R=this.zL;return R.F<<16|R.S<<8|R.X};EN.prototype.M=function(){return O.L.hN(this.zL)};
EN.prototype.Zc=function(R){this.zL={F:R>>16&255,S:R>>8&255,X:R&255};this.NJ()};EN.prototype.o=function(R){this.zL=O.L.iz(R);
this.NJ()};EN.prototype.NJ=function(){var R=this.zL,Z=R.F,B=R.S,o=R.X;if(this.bp)Z=B=o=Math.round(O.Ju(Z,B,o));
var r=Z<<16|B<<8|o;this.G.setAttribute("style","background-color:#"+O.ue(r))};function ER(R){Vu.call(this,R,!1,"brushbutton nopadding",16.6,10,GG.eP,!0);
this.DU=new Gp([12,14,0],1,1e3," px",0,!0);this.DU.v(X.E.Q,this.OaN,this);this.bK.appendChild(this.DU.G);
this.jx=new Gp([12,17],0,100,"%");this.jx.v(X.E.Q,this.OaN,this);this.bK.appendChild(this.jx.G)}ER.prototype=new Vu;
ER.prototype.VS=function(R){var Z=this.G.getBoundingClientRect();this.OXi(Z.left,Z.top+Z.height)};ER.prototype.OXi=function(R,Z){this.MW();
var B=new n(X.E.K,!0);B.data={d:X.l.dF,Jd:this.MA,x:R,y:Z};this.j(B)};ER.prototype.o=function(R,Z,B){this.Lg=JSON.parse(JSON.stringify(R));
var o=Math.floor(20*X.D()),r=Math.floor(36*X.D()),Y=Math.floor(24*X.D()),E=GM.uj(R,Z,B,o,Y,r);this.zD.setAttribute("src",E);
X.Hw(this.zD,r,Y);var p=R.Brsh.v;this.DU.o(p.Dmtr.v.val);if(p.Hrdn!=null){this.jx.lv();this.jx.o(p.Hrdn.v.val)}else this.jx.uE();
this.$O.Gf(-1)};ER.prototype.be=function(){return{list:[{t:"Objc",v:this.M()}],DZ:[],sw:[]}};ER.prototype.M=function(){return this.Lg};
ER.prototype.MW=function(){if(!this.Ql)return;var R=[],Z=[],B=this.ok,o=Math.floor(33*X.D()),r=Math.floor(40*X.D());
for(var Y=0;Y<B.list.length;Y++){var E=B.list[Y].v,p=GM.uj(E,B.DZ,B.sw,o,r);R.push(p);Z.push(E.Nm.v.split("=").pop())}this.$O.pc(R,Z,o,r);
this.Ql=!1};ER.prototype.GG=function(R){var Z=this.ok;this.o(Z.list[this.$O.M()].v,Z.DZ,Z.sw);this.j(new n(X.E.Q))};
ER.prototype.c=function(){Vu.prototype.c.call(this);this.DU.c();this.jx.c()};ER.prototype.OaN=function(R){var Z=this.ok,B=this.Lg;
B.Brsh.v.Dmtr.v.val=this.DU.M();if(B.Brsh.v.Hrdn!=null)B.Brsh.v.Hrdn.v.val=this.jx.M();this.o(B,Z.DZ,Z.sw);
this.j(new n(X.E.Q))};function RQ(R){Vu.call(this,R,!0,"contourbutton",17,10.5,GG.Yb)}RQ.prototype=new Vu;
RQ.prototype.GG=function(R){this.o(this.ok[R.target.M()]);this.j(new n(X.E.Q))};RQ.prototype.Na=function(R){var Z=new n(X.E.K,!0);
Z.data={d:X.l.JT,fA:"contoureditor",p:this.Lg,response:this.OWc.bind(this)};this.j(Z)};RQ.prototype.OWc=function(R){this.o(R);
this.j(new n(X.E.Q))};RQ.prototype.MW=function(){if(!this.Ql)return;var R=Math.floor(38*X.D()),Z=Math.floor(38*X.D()),B=[],o=[],r=this.ok;
for(var Y=0;Y<r.length;Y++){o.push(r[Y].Nm?r[Y].Nm.v:"");B.push(O.An.uj(r[Y].Crv.v,R,Z))}this.$O.pc(B,o,R,Z);
this.Ql=!1};RQ.prototype.o=function(R){this.Lg=JSON.parse(JSON.stringify(R));var Z=this.Lg.Crv.v;for(var B=0;
B<Z.length;B++)if(Z[B].v.Cnty==null)Z[B].v.Cnty={t:"bool",v:!0};this.uL()};RQ.prototype.uL=function(){var R=Math.floor(30*X.D()),Z=Math.floor(30*X.D()),B=O.An.uj(this.Lg.Crv.v,R,Z);
this.zD.setAttribute("src",B);X.Hw(this.zD,R,Z)};RQ.prototype.M=function(){return JSON.parse(JSON.stringify(this.Lg))};
function yL(R){Gt.call(this);this.ma=null;this.$V=null;this.U$=null;this.yy=null;this.OEQ=[];this.OEg=[];
this.G=X.T("span","fitem fillbutton");this.MA=new Gt;this.MA.G=X.T("div","floatcont form");this.MA.G.setAttribute("style","width: 21em;");
this.MA.parent=this;this.aA=R;this.CD=this.CD=X.T("label","flabel");this.G.appendChild(this.CD);this.J$=X.T("canvas");
this.wH=this.J$.getContext("2d");this.OVI=null;this.G.appendChild(this.J$);this.J$.addEventListener("click",this.VS.bind(this),!1);
this.tr=new Eo([12,66],["","Color","Grad","Patt"]);this.MA.G.appendChild(this.tr.G);this.tr.v(X.E.Q,this.Ec,this);
this.MA.G.appendChild(X.T("hr"));this.Okq=X.T("span");this.tm=new EN(!0);this.tm.parent=this.MA;this.tm.v(X.E.Q,this.Ec,this);
this.yV=new XO(10);this.yV.v(X.E.Q,this.Ec,this);this.jr=X.T("div","marged hiline");this.jr.appendChild(this.tm.G);
X.Ax(this.jr);this.jr.appendChild(this.yV.G);this.Kg=new Y$("GrFl",!0);this.Kg.parent=this.MA;this.Kg.v(X.E.Q,this.Ec,this);
this.Dx=X.T("div","marged hiline");var Z="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var B=0;
B<Z.length;B++){var o=this.Kg.wg[Z[B]].G;this.Dx.appendChild(o)}this.re=new Y$("patternFill",!0);this.re.parent=this.MA;
this.re.v(X.E.Q,this.Ec,this);this.DK=X.T("div","marged hiline");var Z=["Ptrn","Scl","Algn","phase"];
for(var B=0;B<Z.length;B++){var o=this.re.wg[Z[B]].G;this.DK.appendChild(o)}}yL.prototype=new Gt;yL.prototype.lU=function(R,Z){if(Z==GG.Oj){this.OEQ=[];
this.OEg=[];if(this.ma)this.o(this.U$,this.M(),this.ma)}this.$V=R;this.Kg.lU(R,Z);this.re.lU(R,Z)};yL.prototype.c=function(){this.CD.textContent=Ok.get(this.aA)+": ";
this.tr.c();this.tm.c();this.Kg.c();this.re.c()};yL.prototype.Ec=function(R){var Z=R.currentTarget;if(Z==this.tr){var B=this.tr.M(),o={UD:B,ZI:this.ma[B]};
if(B>0&&o.ZI==null)o.ZI=JSON.parse(JSON.stringify(Gk.Ex[B-1]));if(this.ma)this.o(this.U$,o,this.ma)}if(Z==this.yV)this.tm.Zc(Z.M());
this.j(new n(X.E.Q,!1))};yL.prototype.VS=function(R){var Z=this.J$.getBoundingClientRect(),B=new n(X.E.K,!0);
B.data={d:X.l.dF,Jd:this.MA,x:Z.left,y:Z.top+Z.height+4};this.j(B);this.yV.o(this.tm.NB())};yL.prototype.o=function(R,Z,B){this.ma=B;
this.U$=R;var o=[[13,1,0],[13,0],[12,37],[12,62]],r=this.OEQ,Y=this.OEg,E=!1,Q;for(var p=0;p<4;p++){var y={UD:p,ZI:B[p]},z=yL.OaH(y);
if(Y[p]==z)continue;E=!0;var u=yL.OBz(null,y,this.$V,this.U$,22,22,!1);r[p]="<img width=\"22\" height=\"22\" src=\""+u+"\" />";
Y[p]=z}if(E)this.tr.Hp(r,o);this.tr.o(Z.UD);var z=yL.OaH(Z);if(z!=this.OVI)yL.OBz(this.wH,Z,this.$V,this.U$,30,23,!0);
this.OVI=z;var H=Z.UD;if(H==0){Q=this.Okq}if(H==1){this.tm.o(Z.ZI.Clr.v);Q=this.jr}if(H==2){this.Kg.update(R,Z.ZI);
Q=this.Dx}if(H==3){this.re.update(R,Z.ZI);Q=this.DK}if(Q!=this.yy){if(this.yy!=null){this.MA.G.removeChild(this.yy)}this.MA.G.appendChild(Q);
this.yy=Q}};yL.prototype.M=function(){var R={UD:this.tr.M()};if(R.UD==1){R.ZI=JSON.parse(JSON.stringify(Gk.Ex[0]));
R.ZI.Clr.v=this.tm.M()}if(R.UD==2){R.ZI=this.Kg.M()}if(R.UD==3){R.ZI=this.re.M()}return R};yL.OaH=function(R){var Z=R.UD,B=R.ZI,o="empty";
if(Z==1){o=O.L.iz(B.Clr.v);o=o.F+","+o.S+","+o.X}if(Z==2)o=JSON.stringify(B.Grad.v);if(Z==3)o=B.Ptrn.v.Idnt.v;
return o};yL.OBz=function(R,Z,B,o,r,Y,E){if(R==null)R=yL.wH;var p=Math.floor(r*X.D()),y=Math.floor(Y*X.D()),z=R.canvas,u;
z.width=p;z.height=y;X.Hw(z,p,y);var Q=Z.UD;if(Q==0){R.fillStyle="#ffffff";R.fillRect(0,0,p,y);R.strokeStyle="#ff0000";
R.lineWidth=2;R.moveTo(0,0);R.lineTo(p,y);R.moveTo(0,y);R.lineTo(p,0);R.stroke()}if(Q==1){var H=Z.ZI.Clr.v;
H=O.L.iz(H);R.fillStyle="#"+O.ue(H.F<<16|H.S<<8|H.X);R.fillRect(0,0,p,y)}if(Q==2){A.$f.uj(Z.ZI.Grad.v,p,y,0,B.Ky,B.Dk,z)}if(Q==3){var T=Z.ZI.Ptrn.v,C;
if(o!=null)C=GS.rf(T,o.add.Patt);if(C==null)C=GS.rf(T,B.RU);VF.uj(C,p,y,z)}if(E){R.beginPath();R.strokeStyle="#000000";
R.fillStyle="#ffffff";R.lineWidth=2;var e=p*.7,$=Math.floor(y*.7),x=7*X.D();R.moveTo(e,$);R.lineTo(e+x,$);
R.lineTo(e+x/2,$+x/2);R.closePath();R.stroke();R.fill()}if(R==yL.wH)return z.toDataURL()};yL.wH=X.T("canvas").getContext("2d");
function VF(R){Vu.call(this,R,!1,"patternbutton",18,10,GG.Oj);this.bo=null}VF.prototype=new Vu;VF.prototype.GG=function(R){var Z=this.ok[this.$O.M()];
this.Lg={classID:"Ptrn",Nm:{t:"TEXT",v:Z.name},Idnt:{t:"TEXT",v:Z.id}};this.j(new n(X.E.Q));this.uL()};
VF.Bd=!1;VF.prototype.MW=function(){if(!this.Ql)return;var R=this.ok;if(R==null||!VF.Bd){var Z=new n(X.E.K,!0);
Z.data={d:X.l.Tr,Fe:{url:"rsrc/basic/basic.pat"}};this.j(Z);VF.Bd=!0;return}var B=Math.floor(34*X.D()),o=Math.floor(34*X.D()),r=[],Y=[];
for(var E=0;E<R.length;E++){r.push(VF.uj(R[E],B,o));Y.push(R[E].name)}this.$O.pc(r,Y,B,o);this.Ql=!1};
VF.prototype.o=function(R,Z){if(this.Lg&&R.Idnt.v==this.Lg.Idnt.v)return;this.Lg=JSON.parse(JSON.stringify(R));
this.uL(Z)};VF.prototype.M=function(){return JSON.parse(JSON.stringify(this.Lg))};VF.prototype.be=function(){return this.bo?[this.bo]:[]};
VF.prototype.uL=function(R){var Z=Math.floor(50*X.D()),B=Math.floor(50*X.D()),o;if(R!=null)o=GS.rf(this.Lg,R.add.Patt);
if(o==null)o=GS.rf(this.Lg,this.ok);this.bo=o;var r=VF.uj(o,Z,B);this.zD.setAttribute("src",r);X.Hw(this.zD,Z,B)};
VF.Fy=X.T("canvas","");VF.uj=function(R,Z,B,o){if(o==null)o=VF.Fy;var r=o.getContext("2d");o.width=Z;
o.height=B;if(R){var Y=R._.Y,E=R._.Z,p=R.Y$,y=Math.min(Z/Y,B/E),z=y;if(z*Y<2)z=2/Y;var u=y;if(u*E<2)u=2/E;
var Q=A.HQ.q$([p,R._],new GN(z,0,0,u,0,0),!1),H=Q.rect.Y,T=Q.rect.Z,C=r.createImageData(H,T);O.VG(Q.buffer,C.data);
r.putImageData(C,Math.floor((Z-H)/2),Math.floor((B-T)/2))}return o.toDataURL()};function XL(R){Vu.call(this,R,!1,"patternbutton",24.2,17,GG.qZ);
this.Vu=""}XL.prototype=new Vu;XL.prototype.GG=function(R){this.Lg=JSON.parse(JSON.stringify(this.ok[0][this.$O.M()]));
this.j(new n(X.E.Q))};XL.prototype.MW=function(){var R=this.ok;if(R==null||!this.Ql)return;var Z=Math.floor(50*X.D()),B=Math.floor(50*X.D()),o=[],r=[];
for(var Y=0;Y<R[0].length;Y++){o.push(XL.uj(this.ok[0][Y].FW,Z,B,this.ok[1]));r.push(R[0][Y].iw.Nm.v.split("=").pop())}this.$O.pc(o,r,Z,B);
this.Ql=!1};XL.prototype.o=function(R,Z,B,o){var r=JSON.stringify(R.FW)+","+B+","+o;if(this.Vu!=r){this.Vu=r;
this.Lg=JSON.parse(JSON.stringify(R));this.uL(Z,B,o)}this.$O.Gf(-1)};XL.prototype.M=function(){return JSON.parse(JSON.stringify(this.Lg))};
XL.prototype.uL=function(R,Z,B){var o=Math.floor(68*X.D()),r=Math.floor(68*X.D()),Y=XL.uj(this.Lg.FW,o,r,R?R:this.ok[1],Z,B);
this.zD.setAttribute("src",Y);X.Hw(this.zD,o,r)};XL.uj=function(R,Z,B,o,r,Y){var E=new GF;E.Y=Z;E.Z=B;
E.buffer=O.a(Z*B*4);E.add.Patt=o;E.jC(r==null?90:r);E.uY(Y==null?30:Y);var p=new N(0,0,Math.round(Z*.5),Math.round(B*.5));
p.x=Math.round((Z-p.Y)/2);p.y=Math.round((B-p.Z)/2);var y=E.xE();y.rect=p;y.buffer=O.a(p.b()*4);O.yg(y.buffer,4284045657);
GS.OwZ(R,y,.5*100);E.q.push(y);E.iV();E.U();var z=d.lx;d.lx=!1;E.oT();var u=E.fw();d.lx=z;var Q=GI.gu(u.buffer,E.Y,E.Z);
return Q};function Xq(R){Vu.call(this,null,!1,"tpresetbutton",18,24,GG.bO,!0);X.rd(this.G,"fitem");this.$O.eb(1);
this.id=R;this.uL();this.Dr=new Ol([15,7,9]);this.Dr.o(!0);this.Dr.v(X.E.Q,this.ONY,this);this.ud.appendChild(this.Dr.G)}Xq.prototype=new Vu;
Xq.prototype.ONV=function(R){if(this.id==R)return;this.id=R;this.lm(this.ok)};Xq.prototype.GG=function(R){var Z=this.ok[this.$O.M()],B=new n(X.E.K,!0);
B.data={d:X.l.zM,eo:"set",Fe:GG.bO,hY:Z};this.j(B)};Xq.prototype.c=function(){Vu.prototype.c.call(this);
this.Dr.c()};Xq.prototype.ONY=function(){this.Ql=!0;this.MW()};Xq.prototype.MW=function(){if(!this.Ql)return;
var R=Math.floor(16*X.D()),Z=Math.floor(16*X.D()),B=[],o=[],r=this.ok,Y=this.Dr.M();for(var E=0;E<r.length;
E++){var p=A.OEw(r[E]);if(!Y||p==this.id){o.push(r[E][0]?r[E][0].split("=").pop():"");B.push(p==-1?"":PIMG[A.PD[p][0]])}else{B.push(null);
o.push(null)}}this.$O.pc(B,o,R,Z);this.Ql=!1};Xq.prototype.uL=function(){var R=this.zD;R.setAttribute("src",PIMG[A.PD[this.id][0]]);
X.Cy(R,"toolicon")};Xq.prototype.be=function(){return null};Xq.vm={};Xq.uj=function(R,Z,B){var o=Xq.IH,r=Xq.vm,Y=O.ue(R.F<<16|R.S<<8|R.X);
if(r[Y])return r[Y];if(o==null){var E=X.T("canvas");o=Xq.IH=E.getContext("2d")}var E=o.canvas;E.width=Z;
E.height=B;o.fillStyle="#"+Y;o.fillRect(0,0,Z,B);var p=r[Y]=E.toDataURL();return p};function RU(R,Z){Gt.call(this);
this.G=X.T("span","fitem curveeditor");this.Vz=null;this.OGY=0;this.DA="";this.mode=0;this.yG=R;this.OkW=Z;
this.Xi=null;this.yv=null;this.Zp=new VP;this.rS=this.hf.bind(this);this.rD=this.GV.bind(this);this.J$=X.T("canvas","");
this.wH=this.J$.getContext("2d");X.Ed(this.J$);X.hl(this.J$,256,256,this.wH);this.G.appendChild(this.J$);
X.dj(this.J$,this.Vm.bind(this))}RU.prototype=new Gt;RU.prototype.o=function(R,Z){var B=JSON.stringify(R);
if(B==JSON.stringify(this.Xi))return;this.mode=R.length==256?1:0;this.Xi=JSON.parse(B);if(Z!=null)this.yv=this.Xi[Z];
this.Fx()};RU.prototype.KY=function(R,Z,B){this.Vz=R;this.OGY=Z;this.DA=B;this.Fx()};RU.prototype.M=function(){return JSON.parse(JSON.stringify(this.Xi))};
RU.prototype.OS_=function(){return this.Xi.indexOf(this.yv)};RU.prototype.Vm=function(R){var Z=X.$R(R,this.J$),B=Z.x,o=256-Z.y;
if(this.yG){var r=B;B=256-o;o=r}this.Zp.wh(B,o);if(this.mode==0){var Y=null;for(var E=0;E<this.Xi.length;
E++){var p=this.Xi[E].v,y=p.Hrzn.v-B,z=p.Vrtc.v-o,u=Math.sqrt(y*y+z*z);if(u<5)Y=this.Xi[E]}if(Y==null){Y=O.An.Hn(B,o,!0);
this.Xi.push(Y)}this.yv=Y}X.sV(document.body,this.rS);X.HV(document.body,this.rD);this.hf(R)};RU.prototype.hf=function(R){var Z=X.$R(R,this.J$),B=Z.x,o=256-Z.y;
if(this.yG){var r=B;B=256-o;o=r}if(this.mode==0){var Y=this.Xi,E=this.OkW,p=Y.indexOf(this.yv),y=p==0||p==Y.length-1,z=0,u=255,Q=!0;
if(y){z=1;u=254}if(!E||!y)this.yv.v.Hrzn.v=Math.max(z,Math.min(u,Math.round(B)));this.yv.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(o)));
for(var H=0;H<Y.length;H++){if(Y[H]==this.yv)continue;if(Math.abs(Y[H].v.Hrzn.v-this.yv.v.Hrzn.v)<2)Q=!1}if(B<0||B>255||o<0||o>255)Q=!1;
if(Q&&Y.indexOf(this.yv)==-1)Y.push(this.yv);if(!Q&&Y.indexOf(this.yv)!=-1&&Y.length>2&&(!E||!y))Y.splice(Y.indexOf(this.yv),1);
if(Y[0].v.Hrzn.v==Y[1].v.Hrzn.v)if(Y[0].v.Hrzn.v==0)Y[1].v.Hrzn.v=1;else Y[0].v.Hrzn.v--;Y.sort(function(M,m){return M.v.Hrzn.v-m.v.Hrzn.v})}else{B=Math.round(B);
o=Math.round(o);B=Math.max(0,Math.min(255,B));o=Math.max(0,Math.min(255,o));var T=this.Zp.x,C=B,e=this.Zp.y,$=o;
if(B<this.Zp.x){C=T;T=B;$=e;e=o}this.Xi[B]=o;if(T!=C)for(var x=T;x<=C;x++)this.Xi[x]=Math.round(e+(x-T)*($-e)/(C-T))}this.Zp.wh(B,o);
this.Fx();this.j(new n(X.E.Q))};RU.prototype.GV=function(R){X.mw(document.body,this.rS);X.m_(document.body,this.rD);
this.j(new n(X.E.Q))};RU.prototype.Fx=function(){var R=this.wH;R.fillStyle="#ffffff";R.fillRect(0,0,256,256);
if(this.Vz){R.translate(0,256);R.scale(1,-1);Ef.Otn(R,this.Vz,5700/this.OGY,this.DA);R.scale(1,-1);R.translate(0,-256)}R.strokeStyle="#aaaaaa";
R.lineWidth=1;R.beginPath();for(var Z=1;Z<4;Z++){R.moveTo(0,64*Z-.5);R.lineTo(255,64*Z-.5);R.moveTo(64*Z-.5,0);
R.lineTo(64*Z-.5,255)}R.stroke();if(this.yG){R.save();R.transform(0,1,-1,0,256,0)}if(this.mode==0){var B=this.Xi,o=O.An.Di(B,256);
R.strokeStyle="#000000";R.beginPath();R.moveTo(0,255.5-o[0]);for(var Z=0;Z<256;Z++)R.lineTo(Z,255.5-o[Z]);
R.stroke();R.lineWidth=2;for(var Z=0;Z<B.length;Z++){var r=B[Z].v;R.fillStyle=this.yv==B[Z]?"#333":"#fff";
R.beginPath();R.moveTo(r.Hrzn.v,255.5-r.Vrtc.v);R.arc(r.Hrzn.v,255.5-r.Vrtc.v,3,0,2*Math.PI);R.stroke();
R.fill()}}else{var o=this.Xi;R.strokeStyle="#000000";R.beginPath();R.moveTo(0,255.5-o[0]);for(var Z=0;
Z<256;Z++)R.lineTo(Z,255.5-o[Z]);R.stroke()}if(this.yG)R.restore()};function Ef(R){Gt.call(this);this.G=X.T("span","");
this.Dn=new Oq([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);this.Dn.v(X.E.Q,this.XT,this);this.G.appendChild(this.Dn.G);
X.Ax(this.G);this.Fy=X.T("canvas");var Z=this.Fy;this.G.appendChild(Z);Z.width=Math.round(R*X.D());Z.height=Math.round(100*X.D());
X.Hw(Z,Z.width,Z.height);this.IH=Z.getContext("2d");this.Vz=null;this.Nr=0}Ef.prototype=new Gt;Ef.prototype.c=function(){this.Dn.c()};
Ef.prototype.eb=function(R){this.Dn.o(R);this.XT()};Ef.prototype.o=function(R){this.Vz=R;this.XT()};
Ef.prototype.Zc=function(R){if(R==this.Nr)return;this.Nr=R;this.XT()};Ef.prototype.XT=function(){if(this.Vz==null)return;
var R=this.Fy,Z=this.IH,B=this.Vz,o=this.Dn.M(),r=6e3/B[4],Y="#"+O.ue(this.Nr),E=Ef.Otn;R.width=R.width;
Z.setTransform(R.width/256,0,0,-R.height/100,0,R.height);Z.globalCompositeOperation="lighter";if(o==0)E(Z,B[0],r/3,Y);
else if(o<4)E(Z,B[o],r,Y);else{E(Z,B[1],r,"#ff0000");E(Z,B[2],r,"#00ff00");E(Z,B[3],r,"#0000ff")}Z.setTransform(1,0,0,1,0,0)};
Ef.Otn=function(R,Z,B,o){R.beginPath();R.moveTo(0,0);for(var r=0;r<256;r++)R.lineTo(r,Z[r]*B);R.lineTo(256,0);
R.closePath();R.fillStyle=o;R.fill()};function Vs(R){Gt.call(this);this.Lu={F:0,S:0,X:0};if(Math.abs(R-256/X.D())<10)R=256/X.D();
var Z=this.G=X.T("div","flexrow");this.ZV=new VP;this.mv=new VP;this.KU=this.OtP.bind(this);this.rL=this.ONl.bind(this);
this.J$=X.T("canvas","");this.wH=this.J$.getContext("2d");this.J$.width=this.J$.height=256;this.Oke=this.wH.getImageData(0,0,256,256);
this.OGc=-1;X.Ed(this.J$);X.dj(this.J$,this.ONL.bind(this));Z.appendChild(this.J$);this.OGd=this.OWP.bind(this);
this.OYQ=this.Ovk.bind(this);this.XJ=X.T("canvas","");this.ax=this.XJ.getContext("2d");this.XJ.width=20;
this.XJ.height=256;this.OR_=this.ax.getImageData(0,0,20,256);this.ONw(this.OR_.data,20,256);X.Ed(this.XJ);
X.dj(this.XJ,this.ONn.bind(this));Z.appendChild(this.XJ);this.J$.setAttribute("style","width:"+R+"px; height:"+R+"px");
this.XJ.setAttribute("style","width:"+20/X.D()+"px; height:"+R+"px")}Vs.prototype=new Gt;Vs.prototype.YH=function(R,Z){this.J$.style.width=R+"px"};
Vs.prototype.o=function(R){this.Lu=R;this.update()};Vs.prototype.M=function(){return JSON.parse(JSON.stringify(this.Lu))};
Vs.prototype.update=function(){var R=this.Lu,Z=O.Jn(R.F,R.S,R.X);if(Z.ct==0)Z.tH=this.ZV.x/255;if(Z.tH==0||Z.ct==0)Z.N$=(255-this.WL(this.mv.y))/255;
if(Z.ct!=0)this.ZV.x=Z.tH*255;this.ZV.y=(1-Z.ct)*255;this.mv.y=(1-Z.N$)*255;var B=this.Oke;if(Math.abs(Z.N$-this.OGc)>.002){this.ONX(B.data,256,256,Z.N$);
this.OGc=Z.N$}this.wH.putImageData(B,0,0);this.wH.strokeStyle="#000000";this.wH.beginPath();this.wH.arc(this.ZV.x+1,this.ZV.y+1,5,0,2*Math.PI);
this.wH.stroke();this.wH.strokeStyle="#ffffff";this.wH.beginPath();this.wH.arc(this.ZV.x,this.ZV.y,5,0,2*Math.PI);
this.wH.stroke();var B=this.OR_;this.ax.putImageData(B,0,0);this.ax.strokeStyle="#ffffff";this.ax.beginPath();
this.ax.moveTo(0,this.mv.y);this.ax.lineTo(20,this.mv.y);this.ax.lineWidth=2;this.ax.stroke()};Vs.prototype.ONX=function(R,Z,B,o){var r=1/Z,Y=1/B;
for(var E=0;E<B;E++)for(var p=0;p<Z;p++){var y=O.Aa(o,p*r,(B-E-1)*Y),z=E*Z+p<<2;R[z+0]=~~(y.F*255);R[z+1]=~~(y.S*255);
R[z+2]=~~(y.X*255);R[z+3]=255}};Vs.prototype.ONw=function(R,Z,B){var o=new Uint32Array(R.buffer);for(var r=0;
r<B;r++){var Y=O.Aa(1-r/B,1,1),E=255<<24|Y.X*255<<16|Y.S*255<<8|Y.F*255;for(var p=0;p<Z;p++)o[r*Z+p]=E}};
Vs.prototype.ONL=function(R){X.sV(window,this.KU);X.HV(window,this.rL);this.OtP(R)};Vs.prototype.ONl=function(R){X.mw(window,this.KU);
X.m_(window,this.rL)};Vs.prototype.OtP=function(R){var Z=X.$R(R,this.J$);Z.x=Z.x*(256/parseFloat(this.J$.style.width));
Z.y=Z.y*(256/parseFloat(this.J$.style.height));this.ZV.wh(this.WL(Z.x),this.WL(Z.y));this.mS()};Vs.prototype.mS=function(){this.Lu=this.ONT();
this.j(new n(X.E.Q))};Vs.prototype.ONT=function(){var R=O.Aa((255-this.WL(this.mv.y))/255,this.Ka(this.ZV.x/255),this.Ka(1-this.ZV.y/255));
return{F:R.F,S:R.S,X:R.X}};Vs.prototype.ONn=function(R){X.sV(window,this.OGd);X.HV(window,this.OYQ);
this.OWP(R)};Vs.prototype.Ovk=function(R){X.mw(window,this.OGd);X.m_(window,this.OYQ)};Vs.prototype.OWP=function(R){var Z=X.$R(R,this.XJ);
Z.y=Z.y*(256/parseFloat(this.XJ.style.height));this.mv.wh(this.WL(Z.x),this.WL(Z.y));this.mS()};Vs.prototype.WL=function(R){return Math.max(0,Math.min(255,R))};
Vs.prototype.Ka=function(R){return Math.max(0,Math.min(1,R))};function Eo(R,Z,B){Gt.call(this);if(!Z)return;
this.XC=0;this.G=X.T("span","fitem bbmenu");if(R){this.pk=R;this.CD=X.T("label","flabel");this.CD.textContent=R+":";
this.G.appendChild(this.CD)}this.Fi=[];this.DQ=null;this.Hp(Z,B);this.o(0)}Eo.prototype=new Gt;Eo.prototype.FS=function(R){this.pk=R;
this.c()};Eo.prototype.c=function(){if(this.pk!=null){this.CD.textContent=Ok.get(this.pk)+": "}for(var R=0;
R<this.Fi.length;R++)this.Fi[R].c()};Eo.prototype.M=function(){return this.XC};Eo.prototype.Hp=function(R,Z){while(this.Fi.length>0)this.G.removeChild(this.Fi.pop().G);
this.DQ=R;for(var B=0;B<R.length;B++){var o=new Gz(R[B],!1,Z?Z[B]:null);o.v("click",this.gO,this);this.G.appendChild(o.G);
this.Fi.push(o)}this.c()};Eo.prototype.o=function(R){this.XC=R;for(var Z=0;Z<this.Fi.length;Z++)this.Fi[Z].UW();
this.Fi[R].lu()};Eo.prototype.gO=function(R){var Z=this.Fi.indexOf(R.target);this.o(Z);this.j(new n(X.E.Q,!1))};
function XG(R,Z,B,o){if(o==null)o=16;var r=XG.wy,Y=r.getContext("2d"),E=o>>>1;r.width=r.height=o;var p=[];
for(var y=0;y<Z.length;y++){if(Z[y]=="checker"){Y.fillStyle="white";Y.fillRect(0,0,o,o);Y.fillStyle="#bbbbbb";
Y.fillRect(E,0,E,E);Y.fillRect(0,E,E,E)}else{Y.fillStyle=Z[y];Y.fillRect(0,0,o,o)}p.push("<img src=\""+r.toDataURL()+"\" />")}Eo.call(this,R,p,B)}XG.prototype=new Eo;
XG.wy=X.T("canvas");function Oq(R,Z,B,o){Gt.call(this);if(!Z)return;if(B==null)B=!1;this.XC=0;this.OkZ=B;
this.pk=R;this.yR=null;this.ORh=o;var r="dd"+X.BL();this.G=X.T("span","fitem ddmenu");if(R&&!B){this.CD=X.T("label","flabel");
this.G.appendChild(this.CD);this.CD.setAttribute("for",r)}this._C=X.T("select","bbtn");this._C.setAttribute("id",r);
this.G.appendChild(this._C);this._C.addEventListener("change",this.gO.bind(this),!1);this.Fi=[];this.DQ=null;
this.Hp(Z,o);this.c()}Oq.prototype=new Gt;Oq.prototype.FS=function(R){this.pk=R;this.c()};Oq.prototype.c=function(){if(this.pk!=null){var R=Ok.get(this.pk);
if(this.OkZ)this._C.setAttribute("title",R);else this.CD.textContent=R+":"}if(this.DQ)this.Hp(this.DQ,this.ORh);
this.o(this.XC)};Oq.prototype.M=function(){return this.XC};Oq.prototype.Hp=function(R,Z){X.vO(this._C);
var B=[],r=0;if(Z){B.push(Z[0]);for(var o=1;o<Z.length;o++)B.push(B[o-1]+Z[o])}this.DQ=R;this.yR=[];
this.ORh=Z;for(var o=0;o<R.length;o++){var Y=X.T("option");Y.textContent=Ok.get(R[o]);Y.setAttribute("value",o);
this._C.appendChild(Y);this.Fi.push(Y);this.yR.push(o+r);if(B.indexOf(o+1)!=-1&&o!=R.length-1){var E=X.T("option");
E.setAttribute("disabled","");E.textContent="";this._C.appendChild(E);r++}}};Oq.prototype.o=function(R){this.XC=R;
this._C.selectedIndex=this.yR[R]};Oq.prototype.gO=function(R){this.XC=this.yR.indexOf(this._C.selectedIndex);
this.j(new n(X.E.Q,!1))};function Rg(){Gt.call(this);this.sI=null;this.jd=new ja;this.jd.v(X.E.Q,this.Ovw,this);
this.jd.parent=this;this.IY=new OH([12,14,0],1,300,"px",0,!0);this.IY.v(X.E.Q,this.OvS,this);this.IY.parent=this;
this.IX=new EU([16,0]," px",3);this.IX.v(X.E.Q,this.hi,this);this.Ia=new OH([16,1],-500,5e3,"%",0,!0);
this.Ia.v(X.E.Q,this.hi,this);this.Ia.parent=this;this.mi=new OH("\u2B0D",1,300,"%",null,null,null,null,[2,7,[22,4,3]]);
this.mi.v(X.E.Q,this.hi,this);this.mi.parent=this;this.bV=new OH("\u2B0C",1,300,"%",null,null,null,null,[2,7,[22,4,2]]);
this.bV.v(X.E.Q,this.hi,this);this.bV.parent=this;this.bA=new OH([16,2],-10,10,"px");this.bA.v(X.E.Q,this.hi,this);
this.bA.parent=this;this.IL=new EN(!0);this.IL.v(X.E.Q,this.Ovv,this);this.IL.parent=this;this.yX=new Gz("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.ya=new Gz("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.yI=new Gz("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.yw=new Gz("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.y_=new Gz("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.yf=new Gz("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.yi=new Gz("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.y$=new Gz("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var R=[this.yX,this.ya,this.yI,this.yw,this.y_,this.yf,this.yi,this.y$];
for(var Z=0;Z<R.length;Z++)R[Z].v("click",this.OvE,this);this.bH=new Gz("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.bu=new Gz("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.bm=new Gz("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.ORc=new Gz("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.OXB=new Gz("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.Ojv=new Gz("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.Ojp=new Gz("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.bh=[this.bH,this.bu,this.bm,this.ORc,this.OXB,this.Ojv,this.Ojp];for(var Z=0;Z<this.bh.length;Z++)this.bh[Z].v("click",this.hi,this);
var B=["lind","rind","flind","bind","aind"],o=[];for(var Z=0;Z<5;Z++)o.push("<img src=\""+PIMG["par/"+B[Z]]+"\" class=\"autoscale gsicon\" /> ");
this.Dg=new OH(o[0],-20,20,"px");this.Dg.v(X.E.Q,this.hi,this);this.Dg.parent=this;this.qf=new OH(o[1],-20,20,"px");
this.qf.v(X.E.Q,this.hi,this);this.qf.parent=this;this.qv=new OH(o[2],-20,20,"px");this.qv.v(X.E.Q,this.hi,this);
this.qv.parent=this;this.qz=new OH(o[3],-20,20,"px");this.qz.v(X.E.Q,this.hi,this);this.qz.parent=this;
this.qs=new OH(o[4],-20,20,"px");this.qs.v(X.E.Q,this.hi,this);this.qs.parent=this;this.bW=new Eo([12,33],["Abc ...","... \u0623\u064A \u0628\u064A"]);
this.bW.v(X.E.Q,this.hi,this);this.bW.parent=this}Rg.prototype=new Gt;Rg.prototype.c=function(){this.jd.c();
this.IY.c();this.IX.c();this.Ia.c();this.bA.c();this.mi.c();this.bV.c();this.bW.c()};Rg.prototype.ND=function(R){this.XV=JSON.parse(JSON.stringify(R.XV));
var Z=this.XV,B=Z.Bt,o=Z.LH;this.yX.o(B.FauxBold!=null?B.FauxBold:!1);this.ya.o(B.FauxItalic!=null?B.FauxItalic:!1);
this.yI.o(B.FontCaps==2);this.yw.o(B.FontCaps==1);this.yf.o(B.FontBaseline==1);this.y_.o(B.FontBaseline==2);
this.yi.o(B.Underline);this.y$.o(B.Strikethrough);this.jd.o(B.Font==null?null:Z.bR[B.Font].Name,R.YN,R.ym);
var r=B.FontSize==null?20:B.FontSize;this.IY.o(r);var Y=B.Tracking;this.Ia.o(Y==null?0:Y);if(B.AutoLeading)this.IX.o("Auto");
else this.IX.o(B.Leading);this.mi.o((B.VerticalScale!=null?B.VerticalScale:0)*100);this.bV.o((B.HorizontalScale!=null?B.HorizontalScale:0)*100);
this.bA.o(B.BaselineShift!=null?B.BaselineShift:0);if(B.FillColor){var E=GV.iz(B);this.IL.Zc(Math.round(E.F)<<16|Math.round(E.S)<<8|Math.round(E.X))}else this.IL.Zc(0);
var p=o._Direction!=null?o._Direction:0,y=GV.Im(o);for(var z=0;z<this.bh.length;z++)this.bh[z].o(y==z);
this.bW.o(p);this.Dg.o(o.StartIndent!=null?o.StartIndent:0);this.qf.o(o.EndIndent!=null?o.EndIndent:0);
this.qv.o(o.FirstLineIndent!=null?o.FirstLineIndent:0);this.qz.o(o.SpaceBefore!=null?o.SpaceBefore:0);
this.qs.o(o.SpaceAfter!=null?o.SpaceAfter:0)};Rg.prototype.wV=function(){var R=new n(X.E.K,!0);R.data={d:X.l.zM,Fe:GG.zb,XV:this.XV};
this.j(R)};Rg.prototype.OvE=function(R){var Z=this.XV.Bt,B=R.target,o=!B.ZD();if(B==this.yX)Z.FauxBold=o;
if(B==this.ya)Z.FauxItalic=o;if(B==this.yI)Z.FontCaps=o?2:0;if(B==this.yw)Z.FontCaps=o?1:0;if(B==this.yf)Z.FontBaseline=o?1:0;
if(B==this.y_)Z.FontBaseline=o?2:0;if(B==this.yi)Z.Underline=o;if(B==this.y$)Z.Strikethrough=o;this.wV()};
Rg.prototype.hi=function(R){var Z=this.XV.Bt,B=this.XV.LH,o=R.target;if(o==this.Ia){var r=this.Ia.M();
if(r==null)window.OjT("An error occured. Please, write us an email to support@photopea.com and describe what you did.");
Z.Tracking=r}if(o==this.IX){var Y=this.IX.M().toLowerCase();Z.AutoLeading=Y=="auto";Z.Leading=Y=="auto"?40:parseInt(Y)}if(o==this.mi)Z.VerticalScale=o.M()/100;
if(o==this.bV)Z.HorizontalScale=o.M()/100;if(o==this.bA)Z.BaselineShift=o.M();if(this.bh.indexOf(o)!=-1){B.Justification=GV.Im(B,this.bh.indexOf(o))}if(o==this.Dg)B.StartIndent=o.M();
if(o==this.qf)B.EndIndent=o.M();if(o==this.qv)B.FirstLineIndent=o.M();if(o==this.qz)B.SpaceBefore=o.M();
if(o==this.qs)B.SpaceAfter=o.M();if(o==this.bW)B._Direction=o.M();this.wV()};Rg.prototype.Ovw=function(R){var Z=this.XV,B=this.jd.M(),o=-1;
for(var r=0;r<Z.bR.length;r++)if(Z.bR[r].Name==B)o=r;if(o==-1){o=Z.bR.length;var Y=JSON.parse(JSON.stringify(Z.bR[0]));
Y.Name=B;Z.bR.splice(o,0,Y)}Z.Bt.Font=o;this.wV()};Rg.prototype.OvS=function(R){var Z=parseFloat(this.IY.M());
if(isNaN(Z))return;this.XV.Bt.FontSize=Z;this.wV()};Rg.prototype.Ovv=function(R){var Z=this.IL.NB(),B={Type:1,Values:[1,(Z>>16&255)/255,(Z>>8&255)/255,(Z>>0&255)/255]};
for(var o=0;o<4;o++)B.Values[o]=Math.round(B.Values[o]*1e3)/1e3;this.XV.Bt.FillColor=B;this.wV()};function ja(){Gt.call(this);
this.G=X.T("span","fontinput");this.mY=null;this.bn=null;this.rW=null;this.b$="";this.$m={};this.bg=[];
this.OIV={};this.bP=!1;this.IS=X.T("button","fitem");this.IS.setAttribute("style","width:9em;");this.IS.textContent="Family Name \u25BC";
this.G.appendChild(this.IS);X.dj(this.IS,this.Oyp.bind(this));this.LI=new Gt;this.LI.parent=this;this.LI.G=X.T("div","floatcont");
this.LI.G.addEventListener("keyup",this.Ovi.bind(this),!1);this.yF=new Rx(6.8);this.LI.G.appendChild(this.yF.Ozj());
this.yF.parent=this.LI;this.yF.v(X.E.Q,this.KA,this);var R=X.T("div","form");this.LI.G.appendChild(R);
this.bc=new Gz(X.bQ("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");this.bc.v("click",this.OvM,this);
R.appendChild(this.bc.G);this.ZG=new EU([12,86],null,9);this.ZG.v("input",this.Nz,this);R.appendChild(this.ZG.G);
var Z=this.Oko=new Gz([23,6,[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);Z.v("click",this.Ove,this);
Z.G.style.marginLeft="1.5em";R.appendChild(Z.G);this.Ey=X.T("span","fitem imageset scrollable marged");
this.Ey.style.height="30em";this.LI.G.appendChild(this.Ey);this.Ty=X.T("button","fitem");this.Ty.setAttribute("style","width:7em;");
this.Ty.textContent="SubFamily Name \u25BC";this.G.appendChild(this.Ty);X.dj(this.Ty,this.Oyp.bind(this));
this.Wy=new Gt;this.Wy.parent=this;this.Wy.G=X.T("div","floatcont");this.TE=X.T("span","fitem imageset scrollable marged");
this.Wy.G.appendChild(this.TE)}ja.prototype=new Gt;ja.prototype.Ovi=function(R){var Z=0;if(a.ey(R.code,a.RQ))Z=-1;
if(a.ey(R.code,a.Xy))Z=1;if(Z!=0){var B=this.bg,o=B.length,r=this.mY.zW()[this.rW];if(r==null&&o==0)return;
var Y=B.indexOf(r[0]);if(Y==-1)return;Y=(Y+Z+o)%o;this.NK(B[Y],null)}};ja.prototype.Ove=function(){var R=new n(X.E.K,!0);
R.data={d:X.l.Vg,OkM:".otf,.ttf,.ttc"};this.j(R)};ja.prototype.c=function(){this.yF.c();this.Oko.c();
this.bc.FS(X.bQ("tools/cshape",null,"autoscale"))};ja.prototype.OvM=function(R){this.bc.o(!this.bc.ZD());
this.KA()};ja.prototype.Nz=function(R){this.b$=this.ZG.M().toLowerCase();this.KA()};ja.prototype.Oyp=function(R){X.uc(R);
var Z=R.currentTarget,B=Z.getBoundingClientRect(),o=Z==this.IS,r=o?this.LI:this.Wy;if(X.Zi(r.G)){this.Ovn(r);
return}if(!o&&this.mY.zW()[this.rW]==null)return;var Y=new n(X.E.K,!0);Y.data={d:X.l.dF,Jd:r,x:B.left,y:B.top+B.height};
this.j(Y);if(o){this.KA();this.ZG.rE()}};ja.prototype.OvF=function(R){var Z=R.currentTarget.firstChild.nextSibling.textContent;
if(R.target.tagName.toLowerCase()=="button"){var B=this.bn.slice(0),o=B.indexOf(Z);if(o==-1){B=B.slice(Math.max(0,B.length-9));
B.push(Z)}else B.splice(o,1);var r=new n(X.E.K,!0);r.data={d:X.l.zM,Fe:GG.YP,Zx:B};this.j(r);this.bP=!0;
this.KA()}else{this.NK(Z,null);this.ZG.rE()}};ja.prototype.Ovc=function(R){this.NK(null,R.currentTarget.firstChild.textContent)};
ja.prototype.NK=function(R,Z){var B=R==null?this.Wy:this.LI,o=this.mY;if(R==null)R=o.zW()[this.rW][0];
else{var r=o.nz(R),Y=o.zW()[this.rW];Z=Gg.nv(r,Y?Y[1]:"regular")}var E=o.ay(R,Z)[2];this.o(E,o);this.j(new n(X.E.Q,!1));
this.KA()};ja.prototype.Ovn=function(R){var Z=new n(X.E.K,!0);Z.data={d:X.l.Bq,Jd:R};this.j(Z)};ja.prototype.M=function(){return this.rW};
ja.prototype.o=function(R,Z,B){var o=this.mY;if(R!=null)this.rW=R;else R=this.rW;this.mY=Z;this.bn=B;
if(R!=null){var r=Z.zW()[R],Y,E;if(r==null){Y="- "+R;E="-------"}else{Y=r[0];E=r[1];var p=Z.nz(Y);p.sort(Gg.OzU);
var y=p.indexOf(E),z=this.Ovc.bind(this);this.TE.textContent="";for(var u=0;u<p.length;u++){var r=Z.ay(Y,p[u]);
if(!this.yF.Nu(r))continue;var Q=this.OVD(r,r[1],z,!1);this.TE.appendChild(Q)}}this.IS.textContent=Y.substring(0,15)+" \u25BC";
this.IS.setAttribute("title",Y);this.Ty.textContent=E.substring(0,10)+" \u25BC";this.Ty.setAttribute("title",E)}};
ja.prototype.KA=function(){var R=this.mY.zW()[this.rW],Z=this.bn,B=null,o=this.mY.OUR(),r=this.OvF.bind(this);
this.bg=[];for(var Y in o){var E=Gg.nv(o[Y],"regular"),p=this.mY.ay(Y,E),y=Z.indexOf(Y)!=-1,z=!0;if(this.b$.length>0&&p[0].toLowerCase().indexOf(this.b$)==-1)z=!1;
else if(!this.yF.Nu(p))z=!1;else if(this.bc.ZD()&&!y)z=!1;var u=this.$m[Y];if(u==null){var u=this.OVD(p,Y,r,!0);
this.$m[Y]=u;this.Ey.appendChild(u)}if(z)this.bg.push(Y);var Q=z?"":"display:none; ",H="opacity: "+(y?"1":"0.2");
if(R&&R[0]==Y){Q+="background-color:rgba(0,0,0,0.13);";B=u}if(this.OIV[Y]!=Q+H){u.setAttribute("style",Q);
u.firstChild.setAttribute("style",H);this.OIV[Y]=Q+H}}if(B&&!this.bP)this.Ey.scrollTop=B.offsetTop-210;
this.bP=!1};ja.prototype.OVD=function(R,Z,B,o){var r=X.T("div","fontitem"),y="";r.addEventListener("click",B,!1);
if(o)r.appendChild(X.T("button","star"));var Y=X.T("span","label");Y.setAttribute("title",Z);Y.textContent=Z;
r.appendChild(Y);var E=X.D(),p=1/E,z=Gg.aO*p,u=Gg.gE*p;if(1<E&&E<1.5)y="width:"+z+"px; height:"+u+"px;";
var Q=X.T("span","thumb gsicon");if(R.Ojs){y+="background: url("+R.Ojs+");";if(1<E&&E<1.5)y+="background-size: "+z+"px "+u+"px;"}else{var H=Math.ceil(FNTS.list.length/Gg.cols),T=Math.floor(R.qp/H),C=R.qp%H,e=T*Gg.aO,$=C*Gg.gE;
if(1<E&&E<1.5){y+="background-size: "+Gg.cols*z+"px "+H*u+"px;";e*=p;$*=p}y+="background-position:-"+e+"px -"+$+"px;"}Q.setAttribute("style",y);
r.appendChild(Q);return r};function Rx(R){Gt.call(this);this.G=X.T("button","fitem bbtn");this.G.addEventListener("click",this.OzS.bind(this),!1);
this.MA=new Gt;this.MA.G=X.T("div","floatcont");this.MA.parent=this;this.TY=X.T("div","flexrow");this.MA.G.appendChild(this.TY);
this.WE=[];this.IW=[];var Z=this.TY,B=X.T("div",""),o=X.T("div","");Z.appendChild(B);Z.appendChild(o);
this.OP=[];for(var r=0;r<FNTS.cats.length;r++)this.OP.push({name:FNTS.cats[r],index:r,LE:0});this.T_=new Ol([7,0]);
this.T_.v(X.E.Q,this.Oze,this);B.appendChild(this.T_.G);this.TL=X.T("div","vlist marged scrollable");
this.TL.setAttribute("style","width:10.85em; height:"+R+"em; ");B.appendChild(this.TL);this.Tl=[];for(var r=0;
r<this.OP.length;r++){var Y=this.OP[r],E=new Ol(Y.name);this.Tl.push(E);E.v(X.E.Q,this.OiG,this);E.o(!0);
this.TL.appendChild(E.G);this.WE.push(1)}this.OIf=new Ol([7,0]);this.OIf.v(X.E.Q,this.Oik,this);this.Th=X.T("div","vlist marged scrollable");
this.Th.setAttribute("style","width:8.6em; height:"+(R+1.5)+"em; ");o.appendChild(this.Th);this.Ea=[];
for(var r=0;r<FNTS.subsetNames.length;r++){var E=new Ol(FNTS.subsetNames[r]);this.Ea.push(E);E.v(X.E.Q,this.OiX,this);
E.o(!1);this.Th.appendChild(E.G);this.IW.push(0)}}Rx.prototype=new Gt;Rx.prototype.OzO=function(R){var Z=this.Ea;
for(var B=0;B<Z.length;B++){var o=(R>>>B&1)==1;this.IW[B]=o;Z[B].o(o)}};Rx.prototype.Ozj=function(){return this.TY};
Rx.prototype.c=function(){this.G.textContent=Ok.get([25,1,0])+" \u25BC";this.T_.c();this.OIf.c()};Rx.prototype.OzS=function(R){var Z=this.G.getBoundingClientRect(),B=new n(X.E.K,!0);
B.data={d:X.l.dF,Jd:this.MA,x:Z.left,y:Z.top+Z.height,Oxo:!1};this.j(B)};Rx.prototype.Nu=function(R){if(this.WE[R[4]]==0)return!1;
else for(var Z=0;Z<this.IW.length;Z++)if(this.IW[Z]==1&&(R[3]>>>Z&1)==0)return!1;return!0};Rx.prototype.Oze=function(R){var Z=R.target.M(),B=this.Tl,o=this.WE;
for(var r=0;r<B.length;r++){B[r].o(Z);o[r]=Z?1:0}this.j(new n(X.E.Q,!1))};Rx.prototype.Oik=function(R){var Z=R.target.M(),B=this.Ea,o=this.IW;
for(var r=0;r<B.length;r++){B[r].o(Z);o[r]=Z?1:0}this.j(new n(X.E.Q,!1))};Rx.prototype.OiG=function(R){var Z=this.Tl.indexOf(R.target),B=this.OP[Z].index;
this.WE[B]=1-this.WE[B];this.j(new n(X.E.Q,!1))};Rx.prototype.OiX=function(R){var Z=this.Ea.indexOf(R.target);
this.IW[Z]=1-this.IW[Z];this.j(new n(X.E.Q,!1))};function RF(R,Z,B){Vu.call(this,Z,!0,"gradientbutton",18,10,GG.zh);
this.Ky=-1;this.Dk=-1;this.OIZ=null;this.Oks=R;this.Xn=B}RF.prototype=new Vu;RF.prototype.GG=function(R){var Z=this.ok;
this.o(Z[this.$O.M()]);this.j(new n(X.E.Q))};RF.prototype.Na=function(R){var Z=new n(X.E.K,!0);Z.data={d:X.l.JT,fA:"gradienteditor",L:this.Lg,QF:this.Oil.bind(this),bZ:this.Xn};
this.j(Z)};RF.prototype.Oil=function(R){this.o(R);this.j(new n(X.E.Q))};RF.prototype.MW=function(){if(!this.Ql)return;
var R=Math.floor(36*X.D()),Z=Math.floor(36*X.D()),B=[],o=[],r=this.ok;for(var Y=0;Y<r.length;Y++){var E=r[Y];
o.push(E.Nm?E.Nm.v.split("=").pop():"");var p=A.$f.uj(E,R,Z,Math.PI/4,this.Ky,this.Dk);B.push(p)}this.$O.pc(B,o,R,Z);
this.Ql=!1};RF.prototype.vV=function(R,Z){this.OVW(this.Lg,R,Z)};RF.prototype.o=function(R){this.OVW(R,this.Ky,this.Dk)};
RF.prototype.OVW=function(R,Z,B){this.Ky=Z;this.Dk=B;if(R==null)return;var o=JSON.stringify(R),r=o+Z+","+B;
if(r==this.OIZ)return;this.OIZ=r;this.Lg=JSON.parse(o);var Y=Math.floor(80*X.D()),E=Math.floor(16*X.D()),p=A.$f.uj(this.Lg,Y,E,0,this.Ky,this.Dk);
this.zD.setAttribute("src",p);X.Hw(this.zD,Y,E)};RF.prototype.M=function(){var R;if(this.Oks)R=A.$f.OEb(this.Lg,this.Ky,this.Dk);
else R=JSON.parse(JSON.stringify(this.Lg));return R};function Xp(R){Vu.call(this,R,!1,"swatchbutton",16,8.75,GG.z$)}Xp.prototype=new Vu;
Xp.prototype.GG=function(R){this.o(this.ok[R.target.M()]);this.j(new n(X.E.Q))};Xp.prototype.MW=function(){if(!this.Ql)return;
var R=Date.now(),Z=Math.floor(10*X.D()),B=Math.floor(10*X.D()),o=[],r=[],Y=this.ok;for(var E=0;E<Y.length;
E++){r.push(Y[E].Zo?Y[E].Zo.split("=").pop():"");o.push(Xp.uj(Y[E],Z,B))}this.$O.pc(o,r,Z,B);this.Ql=!1};
Xp.prototype.o=function(R){this.Lg=JSON.parse(JSON.stringify(R));this.uL()};Xp.prototype.uL=function(){var R=Math.floor(24*X.D()),Z=Math.floor(20*X.D()),B=Xp.uj(this.Lg,R,Z);
this.zD.setAttribute("src",B);X.Hw(this.zD,R,Z)};Xp.prototype.M=function(){return JSON.parse(JSON.stringify(this.Lg))};
Xp.vm={};Xp.uj=function(R,Z,B){var o=Xp.IH,r=Xp.vm,Y=O.ue(R.F<<16|R.S<<8|R.X);if(r[Y])return r[Y];if(o==null){var E=X.T("canvas");
o=Xp.IH=E.getContext("2d")}var E=o.canvas;E.width=Z;E.height=B;o.fillStyle="#"+Y;o.fillRect(0,0,Z,B);
var p=r[Y]=E.toDataURL();return p};function Ol(R,Z,B){Gt.call(this);this.G=X.T("span","fitem cbox");
if(Z==null)Z=!0;if(B==null)B="flabel";var o="cb"+X.BL();this.mD=X.T("input","");this.mD.setAttribute("type","checkbox");
this.mD.setAttribute("id",o);this.G.appendChild(this.mD);this.pk=R;this.CD=X.T("label",B);if(Z)this.CD.setAttribute("for",o);
this.G.appendChild(this.CD);this.c();this.mD.addEventListener("change",this.gO.bind(this),!1)}Ol.prototype=new Gt;
Ol.prototype.OGr=function(){return this.pk};Ol.prototype.FS=function(R){this.CD.textContent=R};Ol.prototype.c=function(){this.CD.textContent=Ok.get(this.pk)};
Ol.prototype.lu=function(){this.mD.checked=!0};Ol.prototype.UW=function(){this.mD.checked=!1};Ol.prototype.ZD=function(){return this.mD.checked};
Ol.prototype.o=function(R){this.mD.checked=R};Ol.prototype.M=Ol.prototype.ZD;Ol.prototype.gO=function(R){this.j(new n(X.E.Q,!1))};
function Xh(R,Z,B,o){Gt.call(this);this.G=X.T("span","fitem mbox");this.OkH=B;if(R){this.pk=R;this.CD=X.T("label","flabel");
this.G.appendChild(this.CD)}this.rv=Z;this.im=[];for(var r=0;r<Z.length;r++){var Y=B?new Gz(Z[r],!1,o?o[r]:null):new Ol(Z[r]);
Y.v(B?"click":X.E.Q,this.gO,this);this.im.push(Y);this.G.appendChild(Y.G)}this.c()}Xh.prototype=new Gt;
Xh.prototype.o=function(R){for(var Z=0;Z<this.rv.length;Z++)this.im[Z].o(R[Z])};Xh.prototype.M=function(){var R=[];
for(var Z=0;Z<this.rv.length;Z++)R[Z]=this.im[Z].M();return R};Xh.prototype.c=function(){if(this.pk)this.CD.innerHTML=Ok.get(this.pk)+":";
for(var R=0;R<this.im.length;R++)this.im[R].c()};Xh.prototype.gO=function(R){var Z=this.im.indexOf(R.currentTarget);
if(this.OkH)this.im[Z].o(!this.im[Z].M());this.j(new n(X.E.Q,!1))};function Yv(R,Z,B,o,r,Y){Yg.call(this,R,Z,B,o,r,!1,Y);
this.G.appendChild(this.CD);var E=X.T("span","rangecont");this.G.appendChild(E);E.appendChild(this.hR);
this.G.appendChild(this.mD);this.mD.setAttribute("style","width:3.3em");if(this.OZ)this.G.appendChild(this.KJ)}Yv.prototype=new Yg;
function Vn(R,Z,B,o){if(R==null)R=!1;if(Z==null)Z=!1;if(B==null)B=!1;Gt.call(this);this.Zl=new VP;this.Dq=new VP;
this.Tf=72;this.TX=72;this.WV=!0;this.G=X.T("span","");this.HX=new OH([12,41],0,0,null,0,!1,!0);this.G.appendChild(this.HX.G);
this.HX.v(X.E.Q,this.Ec,this);var r=["px","%"];if(R)r=r.concat(["mm","in"]);this.ac=new Oq(null,r);this.G.appendChild(this.ac.G);
X.Ax(this.G);this.ac.v(X.E.Q,this.Ec,this);this.FN=new OH([12,42],0,0,null,0,!1,!0);this.G.appendChild(this.FN.G);
this.FN.v(X.E.Q,this.Ec,this);var Y=new Gz("\u21F5",!1,null,!0);Y.v("click",this.OiK,this);this.rx=new Gz("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);
this.rx.v("click",this.Ec,this);this.OIQ=new Yi("");if(Z){this.G.appendChild(this.rx.G);this.G.appendChild(this.OIQ.G);
this.rx.lu()}else this.G.appendChild(Y.G);this.ru=new OH("DPI",0,0,null,3,!1,!0,4);if(R&&o==null){X.Ax(this.G);
this.G.appendChild(this.ru.G)}this.ru.v(X.E.Q,this.Ec,this);this.TJ=new Ol([12,23,1]);this.TJ.v(X.E.Q,this.Ec,this);
if(B){X.Ax(this.G);this.G.appendChild(this.TJ.G)}X.Ax(this.G)}Vn.prototype=new Gt;Vn.prototype.Oit=function(){this.WV=!1;
if(this.ac.M()==0){this.ac.o(3);this.Ko()}};Vn.prototype.OiJ=function(){this.WV=!0};Vn.prototype.Oix=function(R){this.rx.o(R)};
Vn.prototype.c=function(){this.HX.c();this.FN.c();this.ru.c();this.rx.c();this.TJ.c()};Vn.prototype.OiK=function(R){var Z=this.Dq.x;
this.Dq.x=this.Dq.y;this.Dq.y=Z;this.Ko();this.j(new n(X.E.Q,!1))};Vn.prototype.Ec=function(R){if(R.target==this.ac&&!this.WV&&this.ac.M()==0)this.ac.o(3);
if(R.target==this.ac||R.target==this.TJ){this.Ko();return}if(R.target==this.rx)R.target.o(!R.target.M());
var Z=this.Zl,B=parseFloat(this.HX.M());if(isNaN(B))B=1;var o=parseFloat(this.FN.M());if(isNaN(o))o=1;
var r=this.ac.M();if(this.WV){var Y=this.TX;if(r==1){B=this.Zl.x*(B/100);o=this.Zl.y*(o/100)}var E=[1,1,25.4/Y,1/Y][r];
B/=E;o/=E;if(this.TJ.M()){B+=this.Zl.x;o+=this.Zl.y}if(R.target==this.ru){var p=this.ru.M();if(!0){var y=p/Y;
B*=y;o*=y}Y=p}if(this.rx.M()){if(R.target==this.HX)o=B*(Z.y/Z.x);else B=o*(Z.x/Z.y)}B=Math.max(Math.abs(B),1);
o=Math.max(Math.abs(o),1)}else{var Y=this.Tf;if(R.target==this.ru)Y=this.ru.M();else{if(this.rx.M()){if(R.target==this.HX)o=B*(Z.y/Z.x);
else B=o*(Z.x/Z.y)}var E=[1,1,25.4/Y,1/Y][r],z=B/(r==1?100:Z.x*E);Y=Y/z}B=Z.x;o=Z.y}this.Dq=new VP(Math.round(B),Math.round(o));
this.TX=Y;this.Ko();this.j(new n(X.E.Q,!1))};Vn.prototype.Oip=function(R){this.ac.o(R);this.Ko()};Vn.prototype.o=function(R,Z){this.Zl=R.clone();
this.Dq=R.clone();if(Z!=null){this.Tf=Z;this.TX=Z}this.Ko()};Vn.prototype.Ko=function(){var R=this.Dq.x,Z=this.Dq.y,B=this.TX,o=(R/Z).toFixed(3);
while(o.charAt(o.length-1)=="0")o=o.substring(0,o.length-1);if(o.charAt(o.length-1)==".")o=o.substring(0,o.length-1);
var r="  "+o+" : 1",Y=function(u,Q){while(Q!=0){var H=Q;Q=u%Q;u=H}return u},E=Y(R,Z);if(Math.min(R,Z)/E<10)r="  "+Math.round(R/E)+" : "+Math.round(Z/E);
this.OIQ.o(r);if(this.TJ.M()){R-=this.Zl.x;Z-=this.Zl.y}var p=this.ac.M();if(p==1){if(this.WV){R=100*R/this.Zl.x;
Z=100*Z/this.Zl.y}else{R=Z=100*this.Tf/this.TX}}R=Math.round(R);Z=Math.round(Z);var y=[1,1,25.4/B,1/B][p];
R*=y;Z*=y;var z=p>2?2:0;this.HX.Oz_(z);this.FN.Oz_(z);this.HX.o(R);this.FN.o(Z);this.ru.o(B)};Vn.prototype.M=function(){return this.Dq.clone()};
Vn.prototype.OYH=function(){return this.TX};function XU(){Gt.call(this);this.TD=0;this.BE=[0,0,1,1,100,100];
this.G=X.T("span","fitem");this.yQ=new Oq(null,[[12,89,0],[12,89,1],[12,89,2]]);this.G.appendChild(this.yQ.G);
this.yQ.v(X.E.Q,this.Ec,this);this.HX=new EU("W",null,3);this.HX.o(0);this.G.appendChild(this.HX.G);
this.HX.v(X.E.Q,this.Ec,this);this.FN=new EU("H",null,3);this.FN.o(0);this.G.appendChild(this.FN.G);
this.FN.v(X.E.Q,this.Ec,this);this.o({RN:0,x:0,y:0})}XU.prototype=new Gt;XU.prototype.c=function(){X.bk(this.HX,this.FN);
this.yQ.c()};XU.prototype.Ec=function(R){if(R.target==this.yQ){var Z=this.M(),B=this.BE;B[this.TD*2]=Z.x;
B[this.TD*2+1]=Z.y;this.TD=Z.RN;this.o({RN:Z.RN,x:B[Z.RN*2],y:B[Z.RN*2+1]})}this.j(new n(X.E.Q,!1))};
XU.prototype.o=function(R){this.yQ.o(R.RN);this.HX.o(R.x);this.FN.o(R.y);if(R.RN==0){this.HX.uE();this.FN.uE()}else{this.HX.lv();
this.FN.lv()}};XU.prototype.M=function(){return{RN:this.yQ.M(),x:parseInt(this.HX.M()),y:parseInt(this.FN.M())}};
function Yi(R,Z){Gt.call(this);this.pk=R;this.G=X.T("span","labelitem fitem"+(Z?" spread":""));this.c()}Yi.prototype=new Gt;
Yi.prototype.o=function(R){this.G.textContent=R};Yi.prototype.M=function(){return this.G.textContent};
Yi.prototype.lv=function(){this.G.removeAttribute("disabled")};Yi.prototype.uE=function(){this.G.setAttribute("disabled","")};
Yi.prototype.FS=function(R){this.G.textContent=R};Yi.prototype.c=function(){this.G.textContent=Ok.get(this.pk)};
Yi.prototype.OGr=function(){return this.pk};function XD(R){Gt.call(this);this.G=X.T("span","");this.OBR=R;
this.rw=new Yv("Off X",-100,100,R?"%":"px",0,!1);this.Bw=new Yv("Off Y",-100,100,R?"%":"px",0,!1);this.rw.v(X.E.Q,this.Ec,this);
this.Bw.v(X.E.Q,this.Ec,this);this.G.appendChild(this.rw.G);this.G.appendChild(this.Bw.G)}XD.prototype=new Gt;
XD.prototype.c=function(){this.rw.c();this.Bw.c()};XD.prototype.Ec=function(R){this.j(new n(X.E.Q,!1))};
XD.prototype.Oio=function(R){this.rw.o(R.x);this.Bw.o(R.y)};XD.prototype.OK_=function(){return new VP(this.rw.M(),this.Bw.M())};
XD.prototype.o=function(R){var Z=R.Hrzn.v,B=R.Vrtc.v;if(this.OBR){Z=Z.val;B=B.val}this.rw.o(Z);this.Bw.o(B)};
XD.prototype.M=function(){var R=this.rw.M(),Z=this.Bw.M();if(this.OBR)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:R}},Vrtc:{t:"UntF",v:{type:"#Prc",val:Z}}};
else return{classID:"Pnt",Hrzn:{v:R,t:"doub"},Vrtc:{v:Z,t:"doub"}}};function OH(R,Z,B,o,r,Y,E,p,y){Yg.call(this,R,Z,B,o,r,!0,Y,y);
X.Cy(this.G,"rangedropinput");this.G.appendChild(this.CD);this.mD.setAttribute("style","width:"+(p?p:3.3)+"em");
this.G.appendChild(this.mD);this.OBt=X.T("span","rangecont");this.OBt.appendChild(this.hR);this.Tx=X.T("button");
this.Tx.innerHTML="\u25BC";X.dj(this.Tx,this.OiM.bind(this));if(E!=!0)this.G.appendChild(this.Tx);this.iT=new Gt;
this.iT.G=this.OBt}OH.prototype=new Yg;OH.prototype.OiM=function(R){if(X.Zi(this.iT.G))return;R.stopPropagation();
var Z=this.G.getBoundingClientRect();this.hR.setAttribute("style","width:"+Z.width+"px;");var B=new n(X.E.K,!0);
B.data={d:X.l.dF,Jd:this.iT,x:Z.left,y:Z.top+Z.height};this.j(B)};function XH(){Gt.call(this);this.G=X.T("span","fitem strokebutton");
this.Te=[[null,null,null,""],[null,0,null,"4 2"],[1,1,null,"0 2"]];this.RX=JSON.parse(JSON.stringify(Gk.uI.default));
this.WG=X.T("button");this.G.appendChild(this.WG);this.WG.addEventListener("click",this.VS.bind(this),!1);
var R=X.T("canvas","gsicon");this.wH=R.getContext("2d");this.WG.appendChild(R);var Z=X.T("span");Z.textContent=" \u25BC";
this.WG.appendChild(Z);this.MA=new Gt;this.MA.parent=this;this.MA.G=X.T("div","floatcont form");var B=this.MA.G;
B.setAttribute("style","width: 14em;");this.$m=[new Oq([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new Eo([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new Eo([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new EU([19,9,2])];
for(var o=0;o<this.$m.length;o++){var r=this.$m[o];B.appendChild(r.G);var Y=o<4?X.E.Q:"click";r.v(Y,this.Ec,this)}X.Ax(B);
this.mA=[];var E=this.Oib.bind(this);for(var o=0;o<this.Te.length;o++){var p=X.T("button","fitem");this.mA.push(p);
B.appendChild(p);p.addEventListener("click",E,!1);var R=X.T("canvas","gsicon"),y=R.getContext("2d");
p.appendChild(R);this.Oaq(y,40,20,this.Te[o])}}XH.prototype=new Gt;XH.prototype.VS=function(R){var Z=this.WG.getBoundingClientRect(),B=new n(X.E.K,!0);
B.data={d:X.l.dF,Jd:this.MA,x:Z.left,y:Z.top+Z.height+4};this.j(B)};XH.prototype.Ec=function(R){var EB=this.$m,Z=EB.indexOf(R.target),B=[];
for(var o=0;o<4;o++)B.push(EB[o].M());this.RX=this.OXT(B);this.j(new n(X.E.Q,!1))};XH.prototype.Oib=function(R){var Z=this.mA.indexOf(R.currentTarget);
this.o(this.OXT(this.Te[Z]));this.j(new n(X.E.Q,!1))};XH.prototype.OXT=function(R){var Z=JSON.parse(JSON.stringify(this.RX)),B=R[0],o=R[1],r=R[2],Y=R[3];
if(B!=null)Z.strokeStyleLineAlignment.v.strokeStyleLineAlignment=Gk.uI.vl[B];if(o!=null)Z.strokeStyleLineCapType.v.strokeStyleLineCapType=Gk.uI.vw[o];
if(r!=null)Z.strokeStyleLineJoinType.v.strokeStyleLineJoinType=Gk.uI.join[r];var E=Z.strokeStyleLineDashSet.v=[];
Y=Y.split(" ");while((Y.length&1)!=0)Y.pop();for(var p=0;p<Y.length;p++)E.push({t:"UntF",v:{type:"#Nne",val:parseInt(Y[p])}});
return Z};XH.prototype.c=function(){for(var R=0;R<this.$m.length;R++)this.$m[R].c()};XH.prototype.o=function(R){this.RX=JSON.parse(JSON.stringify(R));
var Z=Gk.uI.vl.indexOf(R.strokeStyleLineAlignment.v.strokeStyleLineAlignment),B=Gk.uI.vw.indexOf(R.strokeStyleLineCapType.v.strokeStyleLineCapType),o=Gk.uI.join.indexOf(R.strokeStyleLineJoinType.v.strokeStyleLineJoinType),r=[],Y=R.strokeStyleLineDashSet.v;
for(var E=0;E<Y.length;E++)r.push(Y[E].v.val);var EB=this.$m;EB[0].o(Z);EB[1].o(B);EB[2].o(o);EB[3].o(r.join(" "));
var p=[];for(var y=0;y<4;y++)p.push(EB[y].M());this.Oaq(this.wH,40,16,p)};XH.prototype.M=function(){return JSON.parse(JSON.stringify(this.RX))};
XH.prototype.Oaq=function(R,Z,B,o){var r=o[0],Y=o[1],E=o[2],p=o[3].split(" ").map(parseFloat);X.hl(R.canvas,Z,B);
var y=Math.min(5,this.RX.strokeStyleLineWidth.v.val);for(var z=0;z<p.length;z++)p[z]*=y;R.clearRect(0,0,Z,B);
R.setLineDash(p);R.lineCap=["butt","round","square"][Y];R.lineJoin=["miter","round","bevel"][E];R.lineWidth=y;
R.beginPath();R.moveTo(0,B/2);R.lineTo(Z*2,B/2);R.stroke()};function VS(R){Vu.call(this,R,!1,"contourbutton",34,16,GG.OI);
this.ZG=new EU([12,86],null,16);this.ZG.v("input",this.Nz,this);this.MA.G.appendChild(this.ZG.G);this.TK=null;
this.b$="";this.rC=null;this.o(yn.wI())}VS.prototype=new Vu;VS.prototype.c=function(){Vu.prototype.c.call(this);
this.ZG.c()};VS.prototype.GG=function(R){this.o(this.TK[R.target.M()]);this.j(new n(X.E.Q))};VS.prototype.Nz=function(R){this.b$=this.ZG.M().toLowerCase();
this.Oai()};VS.Bd=!1;VS.prototype.MW=function(){if(!this.Ql)return;var R=this.ok;if(R==null||!VS.Bd){var Z=new n(X.E.K,!0);
Z.data={d:X.l.Tr,Fe:{url:"rsrc/basic/fa_basic.csh"}};this.j(Z);VS.Bd=!0}else{var B=Math.floor(38*X.D()),o=Math.floor(38*X.D());
this.rC=[];for(var r=0;r<R.length;r++)this.rC.push(VS.Oap(R[r],B,o));this.Oai();this.Ql=!1}};VS.prototype.Oai=function(){var R=Math.floor(38*X.D()),Z=Math.floor(38*X.D());
this.TK=[];var B=[],o=[],r=this.ok;for(var Y=0;Y<r.length;Y++){if(r[Y].Kl.toLowerCase().indexOf(this.b$)==-1)continue;
this.TK.push(r[Y]);B.push(this.rC[Y]);o.push(r[Y].Kl)}this.$O.pc(B,o,R,Z)};VS.prototype.o=function(R){this.Lg=VS.clone(R);
this.uL()};VS.prototype.uL=function(){var R=Math.floor(23*X.D()),Z=Math.floor(23*X.D()),B=VS.Oap(this.Lg,R,Z);
this.zD.setAttribute("src",B);X.Hw(this.zD,R,Z)};VS.prototype.M=function(){return VS.clone(this.Lg)};
VS.clone=function(R){return{Kl:R.Kl,iw:R.iw,u:S.lo.yN(R.u),pS:R.pS.clone()}};VS.Fy=null;VS.vW=null;VS.Oap=function(R,Z,B){var o=S.lo.yN(R.u),r=R.pS,Y=Math.min(Z/r.Y,B/r.Z)*.9,E=new GN;
E.translate(-.5,-.5);E.scale(.95,.95);E.translate(.5,.5);E.scale(Y*r.Y,Y*r.Z);O.V.lC(o,E);var p=new S.lo;
p.u=o;var y=p.F$();y.rect.x=Math.floor((Z-y.rect.Y)/2);y.rect.y=Math.floor((B-y.rect.Z)/2);var z=O.a(y.rect.b()*4);
O.yg(z,4278190080);O.za(y.channel);O.qH(y.channel,z,0);O.qH(y.channel,z,1);O.qH(y.channel,z,2);var u=VS;
if(u.Fy==null)u.Fy=X.T("canvas");var Q=u.Fy,H=Q.getContext("2d");if(Q.width!=Z||Q.height!=B||u.vW==null){Q.width=Z;
Q.height=B;u.vW=H.createImageData(Z,B)}var T=u.vW;O.yg(T.data,4294967295);O.GN(z,y.rect,T.data,new N(0,0,Z,B));
H.putImageData(T,0,0);return Q.toDataURL()};function XE(R){Vu.call(this,R,!1,"ICCButton",16,12,GG.OA,!0);
this.$O.eb(1)}XE.prototype=new Vu;XE.prototype.Nk=function(){var R="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var Z=0;Z<R.length;Z++)R[Z]="luts/"+R[Z]+".CUBE";return R};XE.prototype.GG=function(R){this.o(this.ok[R.target.M()]);
this.j(new n(X.E.Q))};XE.prototype.MW=function(){if(!this.Ql)return;var R=Math.floor(1*X.D()),Z=Math.floor(1*X.D()),B=[],o=[],r=this.ok;
for(var Y=0;Y<r.length;Y++){var E=r[Y].Nm.v.split("\\").pop().split("/").pop();o.push(E);B.push(XE.uj(r[Y],R,Z))}this.$O.pc(B,o,R,Z);
this.Ql=!1};XE.prototype.o=function(R){this.Lg=JSON.parse(JSON.stringify(R));this.uL()};XE.uj=function(R,Z,B){var o=X.T("canvas"),E="ICC / 3DL / look / cube";
o.width=Z;o.height=B;var r=o.getContext("2d"),Y=Math.floor(14*X.D());r.font=Y+"px sans-serif";if(R.Nm)E=R.Nm.v.split("\\").pop().split("/").pop();
r.fillText(E,10,Y);return o.toDataURL()};XE.prototype.uL=function(){var R=Math.floor(120*X.D()),Z=Math.floor(20*X.D());
this.zD.setAttribute("src",XE.uj(this.Lg,R,Z));X.Hw(this.zD,R,Z)};XE.prototype.M=function(){return JSON.parse(JSON.stringify(this.Lg))};
function Xb(){Gt.call(this);this.Lu=null;this.G=X.T("span","fitem");this.EA=new yL([14,9]);this.TM=new OH(null,0,150,"pt",1,!0,null,null,[19,2,5]);
this.r_=new XH;this.E_=[this.EA,this.TM,this.r_];for(var R=0;R<this.E_.length;R++){var Z=this.E_[R];
this.G.appendChild(Z.G);Z.parent=this;Z.v(X.E.Q,this.Ec,this)}}Xb.prototype=new Gt;Xb.prototype.c=function(){for(var R=0;
R<this.E_.length;R++)this.E_[R].c()};Xb.prototype.lU=function(R,Z){this.EA.lU(R,Z)};Xb.prototype.Ec=function(R){var Z=this.Lu,B=this.EA.M(),o=B.UD;
Z.strokeEnabled.v=o!=0;if(o!=0){Z.strokeStyleContent.v=B.ZI;B.ZI.classID=Gk.uI.FJ[o-1]}Z.strokeStyleLineWidth.v.val=this.TM.M();
if(R.target==this.r_)Z=this.r_.M();this.Lu=Z;this.j(new n(X.E.Q,!1))};Xb.prototype.o=function(R,Z,B){this.Lu=JSON.parse(JSON.stringify(Z));
var o=Z.strokeEnabled.v,r=Z.strokeStyleContent.v,Y=o?{UD:1+Gk.uI.FJ.indexOf(r.classID),ZI:r}:{UD:0};
this.EA.o(R,Y,B);this.TM.o(Z.strokeStyleLineWidth.v.val);this.r_.o(Z)};Xb.prototype.M=function(){return JSON.parse(JSON.stringify(this.Lu))};
function aO(R,Z){Gt.call(this);this.G=X.T("span","fitem");this.WR=["front","union","difference","intersection"];
var B=[[18,0],[18,1],[18,2],[18,3]];this.uR=[];this.TH=0;for(var o=0;o<this.WR.length;o++){var r=new Gz("<img src=\""+PIMG["set/"+this.WR[o]]+"\" class=\"autoscale gsicon\" />",!1,B[o]);
r.v("click",this.OiT,this);this.G.appendChild(r.G);this.uR.push(r)}this.uR[0].lu()}aO.prototype=new Gt;
aO.prototype.M=function(){return this.WR[this.TH]};aO.prototype.o=function(R){this.TH=this.WR.indexOf(R);
for(var Z=0;Z<this.uR.length;Z++)this.uR[Z].UW();this.uR[this.TH].lu()};aO.prototype.OiT=function(R){this.o(this.WR[this.uR.indexOf(R.currentTarget)]);
this.j(new n(X.E.Q,!1))};aO.prototype.c=function(){for(var R=0;R<this.uR.length;R++)this.uR[R].c()};
function EU(R,Z,B,o){Gt.call(this);var r=X.BL(),Y="";this.G=X.T("span","fitem tinput");if(R){this.pk=R;
this.CD=X.T("label","flabel");this.G.appendChild(this.CD);this.CD.setAttribute("for",r);this.c()}if(o==null){this.mD=X.T("input","");
this.mD.setAttribute("type","text")}else this.mD=X.T("textarea","scrollable");this.mD.setAttribute("id",r);
if(B)Y+="width:"+B+"em;";if(o){this.mD.setAttribute("rows",o)}if(Y!="")this.mD.setAttribute("style",Y);
this.G.appendChild(this.mD);if(Z){this.KJ=X.T("span","");this.KJ.textContent=Z;this.G.appendChild(this.KJ)}this.mD.addEventListener("change",this.gO.bind(this),!1);
this.mD.addEventListener("input",this.OUa.bind(this),!1)}EU.prototype=new Gt;EU.prototype.c=function(){if(this.pk)this.CD.textContent=Ok.get(this.pk)+":"};
EU.prototype.FS=function(R){this.CD.textContent=R};EU.prototype.o=function(R){this.mD.value=R==null?"":R};
EU.prototype.M=function(){return this.mD.value};EU.prototype.rE=function(){this.mD.select();this.mD.focus()};
EU.prototype.gO=function(R){this.j(new n(X.E.Q,!1))};EU.prototype.OUa=function(R){this.j(new n("input",!1))};
function Gp(R,Z,B,o,r,Y){Yg.call(this,R,Z,B,o,r,!0,Y);X.Cy(this.G,"trangeinput");this.G.appendChild(this.CD);
this.G.appendChild(this.mD);var E=X.T("span","rangecont");this.G.appendChild(E);E.appendChild(this.hR);
this.hR.setAttribute("style","width:97%;")}Gp.prototype=new Yg;function jO(){Gt.call(this);this.j_=[10,!0,!0];
this.G=X.T("span","");this.hp=[new OH([12,24],0,255),new Ol("Anti-alias"),new Ol([12,25])];for(var R=0;
R<3;R++){var Z=this.hp[R];Z.parent=this;Z.o(this.j_[R]);this.G.appendChild(Z.G);Z.v(X.E.Q,this.Ec,this)}}jO.prototype=new Gt;
jO.prototype.Ec=function(){for(var R=0;R<3;R++)this.j_[R]=this.hp[R].M();this.j(new n(X.E.Q,!1))};jO.prototype.o=function(R){this.j_=R.slice(0);
for(var Z=0;Z<3;Z++)this.hp[Z].o(R[Z])};jO.prototype.M=function(){return this.j_.slice(0)};jO.prototype.c=function(){for(var R=0;
R<3;R++)this.hp[R].c()};function Xc(R,Z){Gt.call(this);if(Z==null)Z=!1;this.rC=[];this.OBP=0;this.OwG=0;
this.Wa=0;this.DO=[];this.pp=[];for(var B in O.Ef.type){if(B=="warpCustom"&&!Z)continue;this.DO.push(B);
this.pp.push(O.Ef.type[B])}this.G=X.T("span","fitem warpbutton");this.MA=new Gt;this.MA.G=X.T("div","floatcont");
if(R){this.ES=R;this.CD=X.T("label","flabel");this.G.appendChild(this.CD)}this.d=X.T("button");this.G.appendChild(this.d);
this.d.addEventListener("click",this.VS.bind(this),!1);this.Et=new Rf(!0);this.MA.G.appendChild(this.Et.G);
this.Et.v(X.E.Q,this.OUS,this);this.c()}Xc.prototype=new Gt;Xc.prototype.FS=function(R){this.CD.textContent=R};
Xc.prototype.c=function(){if(this.ES)this.CD.innerHTML=Ok.get(this.ES)+":";this.rC=[];var R=X.T("canvas",""),Z=R.getContext("2d"),B=0;
Z.font=Math.floor(13*X.D())+"px sans-serif";for(var o=0;o<this.DO.length;o++){B=Math.max(B,Z.measureText(Ok.get(O.Ef.type[this.DO[o]])).width)}var r=this.OBP=Math.floor(50*X.D()+B),Y=this.OwG=Math.floor(23*X.D());
R.width=r;R.height=Y;this.MA.G.setAttribute("style","width:"+Math.floor(8+r/X.D())+"px;");Z.font=Math.floor(13*X.D())+"px sans-serif";
Z.lineWidth=1;Z.strokeStyle="#000000";var E=Math.floor(16*X.D()),p=new N(0,0,E,E);for(var o=0;o<this.DO.length;
o++){var y=this.DO[o];Z.clearRect(0,0,R.width,R.height);var z=O.Ef.Ef(p,y,!0,.3,0,0),u=O.W.Bu(p);u.J.push("M","L","M","L");
u.I.push(0,E/2,E,E/2);u.I.push(E/2,0,E/2,E);u=O.W.Ol(u);u=O.W.Of(u,E/5);O.Va.apply(z,u.I,p);O.W.P(u.I,new GN(1,0,0,1,Math.floor(8*X.D())+.5,Math.floor(3*X.D())+.5),u.I);
Z.beginPath();Typr.U.pathToContext({cmds:u.J,crds:u.I},Z);Z.stroke();Z.fillText(Ok.get(O.Ef.type[y]),Math.floor(40*X.D()),Math.floor(16*X.D()));
this.rC.push(R.toDataURL())}this.Et.pc(this.rC,null,r,Y);this.uL()};Xc.prototype.VS=function(R){var Z=this.d.getBoundingClientRect(),B=new n(X.E.K,!0);
B.data={d:X.l.dF,Jd:this.MA,x:Z.left,y:Z.top+Z.height+4};this.j(B)};Xc.prototype.OUS=function(R){var Z=new n(X.E.K,!0);
Z.data={d:X.l.Bq,Jd:this.MA};this.j(Z);this.Wa=R.target.M();this.uL();this.j(new n(X.E.Q))};Xc.prototype.uL=function(){this.Et.Gf(this.Wa);
this.d.innerHTML="<img src=\""+this.rC[this.Wa]+"\" class=\"gsicon\" />";var R=this.OBP,Z=this.OwG;X.Hw(this.d.firstChild,R,Z)};
Xc.prototype.M=function(){return this.DO[this.Wa]};Xc.prototype.o=function(R){this.Wa=this.DO.indexOf(R);
this.uL()};function yk(R,Z,B){Gt.call(this);if(R==null)R=!1;if(Z==null)Z=!1;if(B==null)B=!1;this.OkF=Z;
this.Ef=null;this.rP=new Xc([12,22],B);this.rP.parent=this;this.rP.v(X.E.Q,this.wV,this);this.BU=new Oq([22,0],[[22,4,0],[22,4,1]]);
this.BU.v(X.E.Q,this.wV,this);var o=R?OH:Gp;this.pY=new o([22,1],-100,100,"%");this.pR=new o("Horizontal Distortion:",-100,100,"%");
this.pL=new o("Vertical Distortion:",-100,100,"%");this.pY.parent=this.pR.parent=this.pL.parent=this;
this.pY.v(X.E.Q,this.wV,this);this.pR.v(X.E.Q,this.wV,this);this.pL.v(X.E.Q,this.wV,this)}yk.prototype=new Gt;
yk.prototype.c=function(){this.rP.c();this.BU.c();this.pY.c();var R=this.OkF?1:100;this.pR.FS(Ok.get([22,2]).substring(0,R)+":");
this.pL.FS(Ok.get([22,3]).substring(0,R)+":")};yk.prototype.wV=function(){var R=this.Ef,Z=this.rP.M(),B=R.warpStyle.v.warpStyle;
if(Z=="warpCustom")O.Ef.Em(O.Ef.zT(R),R);else delete R.customEnvelopeWarp;R.warpStyle.v.warpStyle=this.rP.M();
R.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.BU.M()];R.warpValue.v=this.pY.M();R.warpPerspective.v=this.pR.M();
R.warpPerspectiveOther.v=this.pL.M();if(Z=="warpNone"||Z=="warpCustom"){R.warpValue.v=0;R.warpPerspective.v=0;
R.warpPerspectiveOther.v=0}else if(B=="warpNone"||B=="warpCustom")R.warpValue.v=50;this.j(new n(X.E.Q,!1));
this.o(R)};yk.prototype.M=function(R){return JSON.parse(JSON.stringify(this.Ef))};yk.prototype.o=function(R){this.Ef=JSON.parse(JSON.stringify(R));
this.rP.o(R.warpStyle.v.warpStyle);this.BU.o(R.warpRotate.v.Ornt=="Hrzn"?0:1);this.pY.o(R.warpValue.v);
this.pR.o(R.warpPerspective.v);this.pL.o(R.warpPerspectiveOther.v);var Z=R.warpStyle.v.warpStyle,B=Z=="warpNone"||Z=="warpCustom",o=[this.BU,this.pY,this.pR,this.pL];
for(var r=0;r<o.length;r++)if(B)o[r].uE();else o[r].lv()};function YP(R){Gt.call(this);this.G=X.T("div");
this.Tu=R;this.WI=!1;this.QW=new VP(0,0);this.j$="position:relative;overflow:hidden;";this.Xe=null;this.Ep=new X.mn(this.G);
this.wX("grab");this.qI=X.T("canvas","canv");this.G.appendChild(this.qI);this.wH=this.qI.getContext("2d");
this.OwX=null;this.Zf=null;this.Tb=null;this.Tq=0;this.TC=0;this.TQ=0;this.OkT=this.OSX.bind(this);this.Owv=null;
this.w=new Rc({Y:1,Z:1});this.Tv=null;this.XH=null;this.Okd=this.mz.bind(this);this.Owd=this.KV.bind(this);
this.Olh=this.qK.bind(this);this.OkQ=this.BT.bind(this);this.Ohk=0;this.Eu=null;this.OjP(this.qI);this.ve(this)}YP.prototype=new Gt;
YP.prototype.oZ=function(R){var Z=this.Xe;this.WI=R.R(a.NF);if(this.WI)Z="grab";this.Ep.qD(Z,this.j$);
if(R.R(a.iW)){var B=0;if(R.R(a.XB))B=1;if(R.R(a.sD))B=-1;if(B!=0){this.OBc(new VP(this.qI.width/2,this.qI.height/2),B==1)}}};
YP.prototype.wX=function(R){this.Xe=R;this.Ep.qD(R,this.j$)};YP.prototype.OjP=function(R){X.dj(R,this.Okd);
X.Ed(R);R.addEventListener("wheel",this.OkQ,!1)};YP.prototype.ve=function(R){R.v("viewchange",this.OUf,this)};
YP.prototype.OUf=function(R){var Z=this.w.h,B=R.currentTarget.bb();this.w.h=B.h;this.w.s=B.s.clone();
if(Z!=B.h)this.vs();this.Fx()};YP.prototype.bb=function(){return{h:this.w.h,s:this.w.s}};YP.prototype.o=function(R,Z){var B=R[0].Ix;
if(this.Zf!=null&&this.Zf[0].Ix.EW(B)){}else{this.w.qC={Y:B.Y,Z:B.Z};this.w.s=new VP(0,0);this.w.h=1}this.Zf=R;
this.vs();this.bT();this.Tq=0;this.TC=0;this.TQ=Z==null?0:Z;this.OSX()};YP.prototype.BT=function(R){R.preventDefault();
if(R.deltaY==0||Date.now()-this.Ohk<100)return;var Z=X.$R(R);Z.x=X.D()*Z.x;Z.y=X.D()*Z.y;this.Ohk=Date.now();
this.OBc(Z,R.deltaY<0)};YP.prototype.OBc=function(R,Z){A.Ae.YA(this.w,R,Z);this.O_M()};YP.prototype.OUN=function(){var R=this.w,Z=R.qC;
this.w.h=A.Ae.Lr(Z.Y,Z.Z,R.p.Y,R.p.Z);this.O_M()};YP.prototype.O_M=function(){this.vs();this.j(new n("viewchange"));
this.j(new n("zoom"))};YP.prototype.vs=function(){this.Tb=[];var R=this.w.h;for(var Z=0;Z<this.Zf.length;
Z++){var B=this.Zf[Z],o=new Uint8Array(B.data),r;if(R>=1)r={Y$:o,rect:B.Ix};else r=O.aF(o,B.Ix,R);this.Tb.push(r)}};
YP.prototype.bT=function(){clearTimeout(this.Owv)};YP.prototype.Fx=function(){if(this.Zf==null||!X.Zi(this.qI))return;
var R=this.OwX,Z=this.qI.width,B=this.qI.height,E,p;if(R==null||R.width!=Z||R.height!=B){R=this.OwX=this.wH.createImageData(Z,B);
console.log("creating image data")}var o=this.Zf[this.Tq],r=this.Tb[this.Tq],Y=this.w;if(Y.h<=1){var y=r.rect.clone();
y.x=Y.s.x+Math.floor((Y.p.Y-r.rect.Y)/2);y.y=Y.s.y+Math.floor((Y.p.Z-r.rect.Z)/2);E=r.Y$;p=y}else{var z=Y.uW(),u=Y.xm(),Q=new N(0,0,z.Y*Y.h,z.Z*Y.h);
Q.x=z.x*Y.h+u.x;Q.y=z.y*Y.h+u.y;if(Y.rg==null||Y.rg.length!=z.b()*4){Y.rg=O.a(z.b()*4)}if(Y.qy==null||Y.qy.length!=Q.b()*4){Y.qy=O.a(Q.b()*4)}O.yg(Y.rg,0);
O.GN(r.Y$,r.rect,Y.rg,z);O.scale.Dv(Y.rg,z.Y,z.Z,Y.qy,Q.Y,Q.Z,Y.h);E=Y.qy;p=Q}var u=Y.xm();O.gc(R.data,Y.p.Y,Y.p.Z,8,-u.x,-u.y);
O.e.FO("norm",E,p,R.data,Y.p,Y.p,1);this.wH.setTransform(1,0,0,1,0,0);this.wH.putImageData(R,0,0);if(Y.h<1)u=p;
var H=u.x,T=u.y,C=u.Y,e=u.Z;this.wH.clearRect(H,T,-1e3,e);this.wH.clearRect(H+C,T,1e3,e);this.wH.clearRect(H-1e3,T,C+2e3,-1e3);
this.wH.clearRect(H-1e3,T+e,C+2e3,1e3);var $=YP.Ohs(Y.h,"#ffffff");this.wH.putImageData($,0,Y.p.Z-$.height)};
YP.Olm={};YP.Ohs=function(R,Z){var B="z"+R+","+Z,o=YP.Olm[B];if(o)return o;var r=Math.round(50*X.D()),Y=Math.round(18*X.D()),E=X.T("canvas"),p=E.getContext("2d");
E.width=r;E.height=Y;p.fillStyle="rgba(1,1,1,1)";p.fillRect(0,0,r,Y);p.font=Math.round(11*X.D())+"px monospace";
p.fillStyle=Z;var y=R*100;if(y<100)y=y.toFixed(2);y=y+"%";var z=p.measureText(y).width;p.fillText(y,(r-z)/2,Math.round(Y*.7));
o=YP.Olm[B]=p.getImageData(0,0,r,Y);return o};YP.prototype.OSX=function(){var R=this.Zf,Z=R.length,B=this.Tq,o=this.Zf[B],r=(B+1)%Z;
this.Fx();if(Z!=1&&R[r].Ix.EW(o.Ix)){var Y=o.cI?parseInt(o.cI.split(",").pop()):30;if(Y==0)Y=16;if(r==0)this.TC++;
if(this.TQ==0||this.TC<this.TQ)this.Owv=setTimeout(this.OkT,Y)}this.Tq=r};YP.prototype.YH=function(R,Z){if(R<=0||Z<=0)return;
var B=Math.floor(R*X.D()),o=Math.floor(Z*X.D());this.w.p=new N(0,0,B,o);this.qI.width=B;this.qI.height=o;
this.qI.setAttribute("style","width:"+B/X.D()+"px; height:"+o/X.D()+"px; display:block;");this.Fx()};
YP.prototype.mz=function(R){this.Eu=R.target;X.sV(window,this.Owd);X.HV(window,this.Olh);this.Tv=X.$R(R,this.qI);
this.Tv.x*=X.D();this.Tv.y*=X.D();this.QW=this.Tv;this.XH=this.w.s.clone();if(this.Tu&&this.Eu==this.qI&&!this.WI)this.j(new n("mousedown"))};
YP.prototype.KV=function(R){var Z=this.w,B=this.Zf[this.Tq].Ix.clone();B.Y*=Z.h;B.Z*=Z.h;var o=X.$R(R,this.qI);
o.x*=X.D();o.y*=X.D();this.QW=o;if(this.Tu&&this.Eu==this.qI&&!this.WI)this.j(new n("mousemove"));else if(!Z.p.Uv(B)){var r=o.x-this.Tv.x,Y=o.y-this.Tv.y;
Z.s.x=this.XH.x+Math.round(r);Z.s.y=this.XH.y+Math.round(Y);this.j(new n("viewchange"))}};YP.prototype.qK=function(R){X.mw(window,this.Owd);
X.m_(window,this.Olh);if(R.detail>1){this.w.h=1;this.w.s.wh(0,0);this.Fx()}if(this.Tu&&this.Eu==this.qI&&!this.WI)this.j(new n("mouseup"))};
YP.prototype.wa=function(){return this.w.JQ(this.QW.x,this.QW.y)};function OC(){Gt.call(this);this.En=null;
this.pv=null;this.wE=null;this.Vk=null;this.Ohb="";this.VR=[];this.VX=0;this.WB=[];this.tu=0;this.$V=null;
var R=this.G=X.T("div",""),Z=this.Okg=X.T("div","form");Z.setAttribute("style","line-height:0; margin-bottom:0.5em;");
R.appendChild(Z);var B=this.ES=X.T("span");Z.appendChild(B);B.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");
var o=this.OSt=new Ol([25,2,0]);o.o(!0);Z.appendChild(o.G);o.v(X.E.Q,this.$h,this);var r=this.Tg=new Ol([25,2,1]);
r.o(!1);Z.appendChild(r.G);r.v(X.E.Q,this.$h,this);var Y=new Yi(" ");Z.appendChild(Y.G);var E=this.TP=new EU([25,1,1]);
Z.appendChild(E.G);E.v(X.E.Q,this.$h,this);this.yF=new Rx(14);this.yF.OzO(3);Z.appendChild(this.yF.G);
this.yF.parent=this;this.yF.v(X.E.Q,this.OUC,this);var p=this.OOk=new Gz([25,1,2],null,null,!0);Z.appendChild(p.G);
p.v("click",this.wt,this);this.OOO=this.OUn.bind(this);this.wG=X.T("div","svggallery scrollable");R.appendChild(this.wG);
this.wG.addEventListener("scroll",this.OUe.bind(this))}OC.prototype=new Gt;OC.prototype.lU=function(R){this.Oto=R};
OC.prototype.c=function(){this.ES.textContent=Ok.get([25,0]);this.yF.c();this.OSt.c();this.Tg.c();this.TP.c();
this.OOk.c()};OC.prototype.YH=function(R,Z){Z-=26;this.En=new VP(R,Z);this.Okg.setAttribute("style","width:"+R+"px");
this.wG.setAttribute("style","width:"+R+"px; height:"+Z+"px");if(X.Zi(this.G))this.$h()};OC.prototype.o=function(R){this.pv=R;
this.$h()};OC.prototype.OUe=function(R){var Z=this.wG;if(Z.scrollTop+Z.clientHeight+10>=Z.scrollHeight){this.$h(!0)}};
OC.prototype.OUC=function(R){this.wE=null;this.$h()};OC.prototype.OUn=function(R){if(Date.now()-this.tu<2e3)return;
this.tu=Date.now();this.VX=this.WB.indexOf(R.currentTarget);var Z=this.vd(this.pv.x,this.pv.y);if(Z[1]){var B=Z[1].largeImageURL,o=new XMLHttpRequest;
o.responseType="arraybuffer";o.open("GET",B,!0);o.onload=this.O$I.bind(this);o.send();return}this.OSC(Z)};
OC.prototype.O$I=function(R){var Z=R.target.response,B=GI.jL(Z),o=GI.WP(B),r=o.Kf(Z),Y=this.vd(this.pv.x,this.pv.y,[Z,r[0].Ix.Y,r[0].Ix.Z]);
this.OSC(Y)};OC.prototype.OSC=function(R){var Z=R[0],B=GI.jL(Z),o=GI.WP(B),r=new GF("template.psd");
o.Kf(Z,r);var Y=new n("tempready",!0);Y.data={qC:r};this.j(Y)};OC.prototype.wt=function(R){var Z=R.target;
this.VR=[];this.$h()};OC.prototype.O$S=function(R){console.log(R.target.response);var Z=JSON.parse(R.target.response);
this.Vk=Z.hits;this.$h()};OC.prototype.$h=function(R){if(this.pv==null||this.En==null||this.Oto==null)return;
if(this.En.x<=0)return;var Z=this.pv.x,B=this.pv.y;if(Math.min(Z,B)<50)return;if(R!=!0){this.WB=[];X.vO(this.wG);
this.wG.scrollTop=0}if(this.WB.length>300)return;var o=Math.min(1,300/Math.max(Z,B)),r=this.En.clone();
r.x-=20;var Y=Math.max(1,Math.floor(r.x/(Z*o))),E=Math.max(1,Math.ceil(r.y/(B*o)));o=r.x/Y/Z;var p=Y*E;
if(this.wE==null){var y=this.Oto.YN.zW();this.wE=[];for(var z in y){var u=y[z],Q=u[3];if(!this.yF.Nu(u))continue;
if(u[5]==null||u[5].slice(0,2)=="gf")continue;this.wE.push(u)}if(this.wE.length==0)this.wE.push(y.DejaVuSans)}var H=this.Tg.M(),T=this.TP.M().trim();
this.TP.iu(H);if(H&&(this.Vk==null||T!=this.Ohb)){var C=new XMLHttpRequest,e="https://pixabay.com/api/?image_type=photo"+(T==""?"":"&q="+encodeURIComponent(T))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88";
C.open("GET",e,!0);C.onload=this.O$S.bind(this);C.onerror=function(s){console.log(s.target.response)};
C.send();this.Ohb=T;return}o*=(Z*o-5)/(Z*o);var $=this.WB.length;for(var x=0;x<p;x++){var M=this.VX=$+x;
if(this.VR[M]==null)this.VR[M]=Math.floor(Math.random()*4294967295);var m=this.vd(Math.round(Z*o),Math.round(B*o)),G=m[0];
G=U.qe(new Uint8Array(G));var K=X.T("span");K.innerHTML=G;this.WB.push(K);this.wG.appendChild(K);K.addEventListener("click",this.OOO,!1)}};
OC.prototype.vd=function(R,Z,B){var o=this.Tg.M(),r=this.OSt.M(),Y=o&&this.Vk.length!=0?this.Vk:null;
if(r&&!o)Y=null;if(r&&o&&(this.VX&1)==0)Y=null;return GC.hk(R,Z,this.VR[this.VX],this.wE,B?B:Y)};function jV(){Gt.call(this);
this.G=X.T("div");this.Pg=null;this.Otd=null;this.CO=-1;this.pF={JPG:[{_Y:new Gp([12,52,0],0,100,"%"),eL:70},{_Y:new Ol("attach metadata"),eL:!1}],TIFF:[{_Y:new Ol("attach metadata"),eL:!1}],WEBP:[{_Y:new Gp([12,52,0],0,100,"%"),eL:70}],GIF:[{_Y:new Gp([12,52,0],0,100,"%"),eL:100}],PNG:[{_Y:new Gp([12,52,0],0,100,"%"),eL:100},{_Y:new Ol("don't use palettes"),eL:!1}],PDF:[{_Y:new EU([12,52,1]),eL:""},{_Y:new Gp([12,52,0],0,100,"%"),eL:100},{_Y:new Ol("rasterize all"),eL:!1},{_Y:new Ol("rasterize text"),eL:!1},{_Y:new Ol("vectorize text"),eL:!1}],EMF:[{_Y:new EU([12,52,1]),eL:""},{_Y:new Ol("rasterize all"),eL:!1},{_Y:new Ol("rasterize text"),eL:!1},{_Y:new Ol("vectorize text"),eL:!1}],SVG:[{_Y:new Ol("add raster graphics"),eL:!0},{_Y:new Ol("add hidden layers"),eL:!1},{_Y:new Ol("vectorize text"),eL:!1},{_Y:new Ol("rasterize text"),eL:!1},{_Y:new Ol("add layer names"),eL:!0},{_Y:new Ol("pretty-print"),eL:!0}],RAW:[{_Y:new Eo([12,72],["1","3","4"]),eL:2},{_Y:new Eo([12,34],["8 Bits","16 Bits"]),eL:0},{_Y:new Eo("Byte Order",["12-34","34-12"]),eL:0}],anim:[{_Y:new Gp("Speed",25,400,"%"),eL:100},{_Y:new OH("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),eL:0},{_Y:new Ol("reverse frames"),eL:!1}],slcs:[{_Y:new Ol("As Slices"),eL:!0}]};
for(var R in this.pF){var Z=this.pF[R];for(var B=0;B<Z.length;B++){Z[B]._Y.o(Z[B].eL);Z[B]._Y.v(X.E.Q,this.vg,this)}}}jV.prototype=new Gt;
jV.prototype.O$z=function(){this.CO=-1};jV.prototype.c=function(){for(var R in this.pF)for(var Z=0;Z<this.pF[R].length;
Z++)this.pF[R][Z]._Y.c()};jV.prototype.vg=function(){this.$h();this.j(new n(X.E.Q,!1))};jV.prototype.$h=function(){var R=this.Pg,Z=R[0],B=R[1],o=R[2],r=this.pF[Z];
if(r==null)r=[];else r=r.slice(0);if(B)r=r.concat(this.pF.anim);if(["GIF","PNG","JPG"].indexOf(Z)!=-1&&o)r=r.concat(this.pF.slcs);
if(Z+" "+B!=this.CO){this.CO=Z+" "+B;X.vO(this.G);for(var Y=0;Y<r.length;Y++){this.G.appendChild(r[Y]._Y.G);
X.Ax(this.G)}}var E=this.Otd=[];for(var Y=0;Y<r.length;Y++)E.push(r[Y]._Y.M())};jV.prototype.OtS=function(R,Z,B){this.Pg=[R,Z,B];
this.$h()};jV.prototype.M=function(){return this.Otd.slice(0)};function Xy(){Gt.call(this);this.G=X.T("span","fitem");
this.FY=!1;this.CV=new Gz("No",!1,"Cancel");this.cT=new Gz("Yes",!1,"Confirm");this.G.appendChild(this.CV.G);
this.G.appendChild(this.cT.G);this.CV.v("click",this.UZ,this);this.cT.v("click",this.UZ,this);this.c()}Xy.prototype=new Gt;
Xy.prototype.c=function(){this.CV.FS(X.bQ("cross",null,"autoscale"));this.cT.FS(X.bQ("checkmark",null,"autoscale"))};
Xy.prototype.UZ=function(R){this.FY=R.target==this.cT;this.j(new UIEvent("click"))};Xy.prototype.M=function(){return this.FY};
function b(R){Gt.call(this);this.OOy=R;this.G=X.T("div","");this.um=[];this.OfW=[]}b.prototype=new Gt;
b.prototype.vP=function(R){};b.prototype.Oi=function(){return!1};b.prototype.YH=function(R,Z){};b.prototype.lU=function(R,Z){};
b.prototype.KY=function(R){};b.prototype.o=function(R,Z,B,o,r,Y){var E=[];this.lT(R,E,Y);for(var p=0;
p<this.um.length;p++)this.um[p].o(E[p])};b.prototype.M=function(){var R=Go.wI(this.OOy),Z=[];for(var B=0;
B<this.um.length;B++)Z.push(this.um[B].M());this.l$(R,Z);return R};b.prototype.oZ=function(R){};b.prototype.wV=function(R){var Z=this.OfW;
for(var B=0;B<Z.length;B+=2){var o=this.um[Z[B]],r=this.um[Z[B+1]],Y=o.M(),E=r.M();if(R.target==o)r.o(Math.max(Y,E));
else o.o(Math.min(Y,E))}this.j(new n(X.E.Q))};b.prototype.c=function(){for(var R=0;R<this.um.length;
R++)this.um[R].c()};b.prototype.aR=function(){X.Cy(this.G,"form");var R=this.um;for(var Z=0;Z<R.length;
Z++){var B=R[Z];B.parent=this;B.v(X.E.Q,this.wV,this);this.G.appendChild(B.G);if(B instanceof Ol&&R[Z+1]instanceof EN)continue;
X.Ax(this.G)}};b.prototype.GX=function(){return!1};b.prototype.JH=function(R,Z,B,o,r){};b.prototype.TU=function(R,Z,B,o,r){};
b.prototype.YF=function(R,Z,B,o,r){};b.prototype.l$=function(R,Z){};b.prototype.lT=function(R,Z){};b["\0\0\x03\xFD"]=function(){b.call(this,"\0\0\x03\xFD");
this.um.push(new Gp([12,56],.1,10,"px",!0));this.um.push(new Gp("Cleanliness",0,10,"px",!0));this.um.push(new Gp([12,38],.1,10,null,!0));
this.um.push(new Gp("Bristle Detail",0,10,null,!0));this.um.push(new Ol("Lighting"));this.um.push(new Gp("Shine",0,10,null,!0));
this.um.push(new Rl([12,15]));this.aR()};b["\0\0\x03\xFD"].prototype=new b;b["\0\0\x03\xFD"].prototype.lT=function(R,Z){var B="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var o=0;o<B.length;o++)Z[o]=R[B[o]].v;Z[6]=R.LghD.v};b["\0\0\x03\xFD"].prototype.l$=function(R,Z){var B="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var o=0;o<B.length;o++)R[B[o]].v=Z[o];R.LghD.v=Z[6].pB};b["\0\0\x03^"]=function(){b.call(this,"\0\0\x03^");
this.um.push(new Gp([24,3,1],0,30,"px"));this.um.push(new Gp([12,38],0,200,"%"));this.um.push(new Ol([4,11]));
this.um.push(new Gp("High",0,100,"%"));this.um.push(new Gp("Medium",0,100,"%"));this.um.push(new Gp("Low",0,100,"%"));
this.aR()};b["\0\0\x03^"].prototype=new b;b["\0\0\x03^"].prototype.lT=function(R,Z){Z[0]=R.blur.v;Z[1]=R.textureScale.v*100;
Z[2]=R.Scl.v==-1;var B=R.Dtl.v;Z[3]=B[0].v*100;Z[4]=B[1].v*100;Z[5]=B[2].v*100};b["\0\0\x03^"].prototype.l$=function(R,Z){R.blur.v=Z[0];
R.textureScale.v=Z[1]/100;R.Scl.v=Z[2]?-1:1;var B=R.Dtl.v;B[0].v=Z[3]/100;B[1].v=Z[4]/100;B[2].v=Z[5]/100};
b.LnsF=function(){b.call(this,"LnsF");this.um.push(new Gp([12,2],10,300,"%"));this.um.push(new Eo([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]));
this.um.push(new Gp("Position X",0,100,"%"));this.um.push(new Gp("Position Y",0,100,"%"));this.aR()};
b.LnsF.prototype=new b;b.LnsF.prototype.lT=function(R,Z){Z[0]=R.Brgh.v;Z[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(R.Lns.v.Lns);
var B=R.FlrC.v;Z[2]=Math.round(B.Hrzn.v*100);Z[3]=Math.round(B.Vrtc.v*100)};b.LnsF.prototype.l$=function(R,Z){R.Brgh.v=Z[0];
R.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][Z[1]];var B=R.FlrC.v;B.Hrzn.v=Z[2]/100;B.Vrtc.v=Z[3]/100};b.LnCr=function(){b.call(this,"LnCr");
this.um.push(new Gp([12,57],-100,100));this.um.push(new Gp([12,38],10,150,"%"));this.aR()};b.LnCr.prototype=new b;
b.LnCr.prototype.lT=function(R,Z){Z[0]=R.LnIa.v;Z[1]=R.LnSi.v};b.LnCr.prototype.l$=function(R,Z){R.LnIa.v=Z[0];
R.LnSi.v=Z[1]};b["\0\0\x02\xB1"]=function(){b.call(this,"\0\0\x02\xB1");this.um.push(new Gp([12,56],1,200," px"));
this.aR()};b["\0\0\x02\xB1"].prototype=new b;b["\0\0\x02\xB1"].prototype.lT=function(R,Z){Z[0]=R.Rds.v.val};
b["\0\0\x02\xB1"].prototype.l$=function(R,Z){R.Rds.v.val=Z[0]};b.GsnB=function(){b.call(this,"GsnB");
this.um.push(new Gp([12,56],.1,400,"px",1,!0));this.aR()};b.GsnB.prototype=new b;b.GsnB.prototype.lT=function(R,Z){Z[0]=R.Rds.v.val};
b.GsnB.prototype.l$=function(R,Z){R.Rds.v.val=Z[0]};b.MtnB=function(){b.call(this,"MtnB");this.um.push(new Rl([12,15]));
this.um.push(new Gp([12,28],1,100," px"));this.aR()};b.MtnB.prototype=new b;b.MtnB.prototype.lT=function(R,Z){Z[0]=R.Angl.v;
Z[1]=R.Dstn.v.val};b.MtnB.prototype.l$=function(R,Z){R.Angl.v=Z[0].pB;R.Dstn.v.val=Z[1]};b.RdlB=function(){b.call(this,"RdlB");
this.um.push(new Gp([12,57],1,100));this.um.push(new Eo([12,36],["Spin","Zoom"]));this.um.push(new Yv("Off X",0,1,null,2));
this.um.push(new Yv("Off Y",0,1,null,2));this.aR()};b.RdlB.prototype=new b;b.RdlB.prototype.lT=function(R,Z){Z[0]=R.Amnt.v;
Z[1]=["Spn","Zm"].indexOf(R.BlrM.v.BlrM);Z[2]=R.Cntr.v.Hrzn.v;Z[3]=R.Cntr.v.Vrtc.v};b.RdlB.prototype.l$=function(R,Z){R.Amnt.v=Z[0];
R.BlrM.v.BlrM=["Spn","Zm"][Z[1]];R.Cntr.v.Hrzn.v=Z[2];R.Cntr.v.Vrtc.v=Z[3]};b.Dspl=function(){b.call(this,"Dspl");
this.um.push(new Oq([6,36,3],["a","b"]));this.um.push(new Gp([22,4,0],-100,100,"px"));this.um.push(new Gp([22,4,1],-100,100,"px"));
this.um.push(new Oq([24,18,0],[[24,18,3],[24,18,2]]));this.aR()};b.Dspl.prototype=new b;b.Dspl.prototype.lT=function(R,Z,B){this.OfN=[];
this.TF=[];var o=-1;if(B==null)B=this.OOE;else this.OOE=B;if(B)for(var r=0;r<B.length;r++){var Y=B[r];
this.OfN.push(Y.Re.trim());this.TF.push(Y.on);if(Y.on==R.DspF.v.pth)o=r}this.um[0].Hp(this.OfN);Z[0]=o==-1?0:o;
Z[1]=R.HrzS.v;Z[2]=R.VrtS.v;Z[3]=["WrpA","RptE"].indexOf(R.UndA.v.UndA)};b.Dspl.prototype.l$=function(R,Z){if(this.TF.length==0)return;
R.DspF.v.pth=this.TF[Z[0]];R.HrzS.v=Z[1];R.VrtS.v=Z[2];R.UndA.v.UndA=["WrpA","RptE"][Z[3]]};b.Pnch=function(){b.call(this,"Pnch");
this.um.push(new Gp([12,57],-100,100,"%"));this.aR()};b.Pnch.prototype=new b;b.Pnch.prototype.lT=function(R,Z){Z[0]=R.Amnt.v};
b.Pnch.prototype.l$=function(R,Z){R.Amnt.v=Z[0]};b["Plr "]=function(){b.call(this,"Plr ");this.um.push(new Eo(null,["Rect to Polar","Polar to Rect"]));
this.aR()};b["Plr "].prototype=new b;b["Plr "].prototype.lT=function(R,Z){Z[0]=["RctP","PlrR"].indexOf(R.Cnvr.v.Cnvr)};
b["Plr "].prototype.l$=function(R,Z){R.Cnvr.v.Cnvr=["RctP","PlrR"][Z[0]]};b.Rple=function(){b.call(this,"Rple");
this.um.push(new Gp([12,57],-999,999));this.um.push(new Oq([12,14,0],[[19,8,0],[19,8,1],[19,8,2]]));
this.aR()};b.Rple.prototype=new b;b.Rple.prototype.lT=function(R,Z){Z[0]=R.Amnt.v;Z[1]=["Sml","Mdm","Lrg"].indexOf(R.RplS.v.RplS)};
b.Rple.prototype.l$=function(R,Z){R.Amnt.v=Z[0];R.RplS.v.RplS=["Sml","Mdm","Lrg"][Z[1]]};b["Shr "]=function(){b.call(this,"Shr ");
this.um.push(new RU(!0,!0));this.um.push(new Oq([24,18,0],[[24,18,3],[24,18,2]]));this.aR()};b["Shr "].prototype=new b;
b["Shr "].prototype.lT=function(R,Z){var B=new GN(0,255/127,255/127,0,-2,128),o=JSON.parse(JSON.stringify(R.ShrP.v));
O.An.P(o,B);Z[0]=o;Z[1]=["WrpA","RptE"].indexOf(R.UndA.v.UndA)};b["Shr "].prototype.l$=function(R,Z){var B=new GN(0,255/127,255/127,0,-2,128);
B.za();O.An.P(Z[0],B);R.ShrP.v=Z[0];R.ShrE.v=Z[0].length-1;R.UndA.v.UndA=["WrpA","RptE"][Z[1]]};b.Sphr=function(){b.call(this,"Sphr");
this.um.push(new Gp([12,57],-100,100));this.um.push(new Oq([12,36],["Normal",[22,4,0],[22,4,1]]));this.aR()};
b.Sphr.prototype=new b;b.Sphr.prototype.lT=function(R,Z){Z[0]=R.Amnt.v;Z[1]=["Nrml","HrzO","VrtO"].indexOf(R.SphM.v.SphM)};
b.Sphr.prototype.l$=function(R,Z){R.Amnt.v=Z[0];R.SphM.v.SphM=["Nrml","HrzO","VrtO"][Z[1]]};b.Twrl=function(){b.call(this,"Twrl");
this.um.push(new Gp([12,15],-999,999));this.aR()};b.Twrl.prototype=new b;b.Twrl.prototype.lT=function(R,Z){Z[0]=R.Angl.v};
b.Twrl.prototype.l$=function(R,Z){R.Angl.v=Z[0]};b.Wave=function(){b.call(this,"Wave");this.um.push(new Gp("Number of Generators",1,100));
this.um.push(new Yv("Min Length",1,999));this.um.push(new Yv("Max Length",1,999));this.um.push(new Yv("Min Ampl.",1,999));
this.um.push(new Yv("Max Ampl.",1,999));this.um.push(new Yv("Scale X",1,100,"%"));this.um.push(new Yv("Scale Y",1,100,"%"));
this.OfW=[1,2,3,4];this.um.push(new Eo([12,44],["Sine","Triangle",[12,93,3]]));this.um.push(new Oq([24,18,0],[[24,18,3],[24,18,2]]));
this.um.push(new EU("Randomizer Seed"));this.aR()};b.Wave.prototype=new b;b.Wave.prototype.lT=function(R,Z){Z[0]=R.NmbG.v;
Z[1]=R.WLMn.v;Z[2]=R.WLMx.v;Z[3]=R.AmMn.v;Z[4]=R.AmMx.v;Z[5]=R.SclH.v;Z[6]=R.SclV.v;Z[7]=["WvSn","WvTr","WvSq"].indexOf(R.Wvtp.v.Wvtp);
Z[8]=["WrpA","RptE"].indexOf(R.UndA.v.UndA);Z[9]=R.RndS.v};b.Wave.prototype.l$=function(R,Z){R.NmbG.v=Z[0];
R.WLMn.v=Z[1];R.WLMx.v=Z[2];R.AmMn.v=Z[3];R.AmMx.v=Z[4];R.SclH.v=Z[5];R.SclV.v=Z[6];R.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][Z[7]];
R.UndA.v.UndA=["WrpA","RptE"][Z[8]];var B=parseInt(Z[9]);if(isNaN(B))B=248325464;B=Math.max(0,Math.min(268435455,B));
R.RndS.v=B;this.um[9].o(B)};b["\0\0\x02\xB5"]=function(){b.call(this,"\0\0\x02\xB5");this.um.push(new Gp([12,56],1,200," px"));
this.um.push(new Gp([4,13],1,255," px"));this.aR()};b["\0\0\x02\xB5"].prototype=new b;b["\0\0\x02\xB5"].prototype.lT=function(R,Z){Z[0]=R.Rds.v.val;
Z[1]=R.Thsh.v};b["\0\0\x02\xB5"].prototype.l$=function(R,Z){R.Rds.v.val=Z[0];R.Thsh.v=Z[1]};b.AdNs=function(){b.call(this,"AdNs");
this.um.push(new Gp([12,57],0,200," %"));this.um.push(new Oq([12,58],[[12,59,0],[12,59,1]]));this.um.push(new Ol([12,60]));
this.aR()};b.AdNs.prototype=new b;b.AdNs.prototype.lT=function(R,Z){Z[0]=R.Nose.v.val;Z[1]=["Unfr","Gsn"].indexOf(R.Dstr.v.Dstr);
Z[2]=R.Mnch.v};b.AdNs.prototype.l$=function(R,Z){R.Nose.v.val=Z[0];R.Dstr.v.Dstr=["Unfr","Gsn"][Z[1]];
R.Mnch.v=Z[2]};b.DstS=function(){b.call(this,"DstS");this.um.push(new Gp([12,56],1,200," px"));this.um.push(new Gp([4,13],1,255," px"));
this.aR()};b.DstS.prototype=new b;b.DstS.prototype.lT=function(R,Z){Z[0]=R.Rds.v;Z[1]=R.Thsh.v};b.DstS.prototype.l$=function(R,Z){R.Rds.v=Z[0];
R.Thsh.v=Z[1]};b["Mdn "]=function(){b.call(this,"Mdn ");this.um.push(new Gp([12,56],1,200," px"));this.aR()};
b["Mdn "].prototype=new b;b["Mdn "].prototype.lT=function(R,Z){Z[0]=R.Rds.v.val};b["Mdn "].prototype.l$=function(R,Z){R.Rds.v.val=Z[0]};
b.ClrH=function(){b.call(this,"ClrH");this.um.push(new Gp([12,56],4,100," px"));for(var R=1;R<4;R++)this.um.push(new Gp("Angle "+R,0,90," \xB0"));
this.aR()};b.ClrH.prototype=new b;b.ClrH.prototype.lT=function(R,Z){Z[0]=R.Rds.v;for(var B=1;B<4;B++)Z[B]=R["Ang"+B].v};
b.ClrH.prototype.l$=function(R,Z){R.Rds.v=Z[0];for(var B=1;B<4;B++)R["Ang"+B].v=Z[B]};b.ClrH.prototype.c=function(){var R=this.um;
R[0].c();for(var Z=1;Z<4;Z++)R[Z].FS(Ok.get([12,15])+" "+Z)};b.Crst=function(){b.call(this,"Crst");this.um.push(new Gp([12,61],3,100," px"));
this.aR()};b.Crst.prototype=new b;b.Crst.prototype.lT=function(R,Z){Z[0]=R.ClSz.v};b.Crst.prototype.l$=function(R,Z){R.ClSz.v=Z[0]};
b.Mztn=function(){b.call(this,"Mztn");this.um.push(new Oq([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),null,[4,3,3]));
this.TF="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.aR()};b.Mztn.prototype=new b;
b.Mztn.prototype.lT=function(R,Z){Z[0]=this.TF.indexOf(R.MztT.v.MztT)};b.Mztn.prototype.l$=function(R,Z){R.MztT.v.MztT=this.TF[Z[0]]};
b["Msc "]=function(){b.call(this,"Msc ");this.um.push(new Gp([12,61],2,200," px"));this.aR()};b["Msc "].prototype=new b;
b["Msc "].prototype.lT=function(R,Z){Z[0]=R.ClSz.v.val};b["Msc "].prototype.l$=function(R,Z){R.ClSz.v.val=Z[0]};
b.Pntl=function(){b.call(this,"Pntl");this.um.push(new Gp([12,61],3,100," px"));this.aR()};b.Pntl.prototype=new b;
b.Pntl.prototype.lT=function(R,Z){Z[0]=R.ClSz.v};b.Pntl.prototype.l$=function(R,Z){R.ClSz.v=Z[0]};b["\0\0\x03\xE8"]=function(){b.call(this,"\0\0\x03\xE8");
this.um.push(new Gp([12,57],1,200,"%"));this.um.push(new Gp([12,56],0,200,"px",1,!0));this.aR()};b["\0\0\x03\xE8"].prototype=new b;
b["\0\0\x03\xE8"].prototype.lT=function(R,Z){Z[0]=R.Amnt.v.val;Z[1]=R.Rds.v.val};b["\0\0\x03\xE8"].prototype.l$=function(R,Z){R.Amnt.v.val=Z[0];
R.Rds.v.val=Z[1]};b.UnsM=function(){b.call(this,"UnsM");this.um.push(new Gp([12,57],1,200," %"));this.um.push(new Gp([12,56],0,200," px"));
this.um.push(new Gp([4,13],0,255," "));this.aR()};b.UnsM.prototype=new b;b.UnsM.prototype.lT=function(R,Z){Z[0]=R.Amnt.v.val;
Z[1]=R.Rds.v.val;Z[2]=R.Thsh.v};b.UnsM.prototype.l$=function(R,Z){R.Amnt.v.val=Z[0];R.Rds.v.val=Z[1];
R.Thsh.v=Z[2]};b.HghP=function(){b.call(this,"HghP");this.um.push(new Gp([12,56],1,200," px"));this.aR()};
b.HghP.prototype=new b;b.HghP.prototype.lT=function(R,Z){Z[0]=R.Rds.v.val};b.HghP.prototype.l$=function(R,Z){R.Rds.v.val=Z[0]};
b["Mxm "]=function(){b.call(this,"Mxm ");this.um.push(new Gp([12,56],1,200," px"));this.aR()};b["Mxm "].prototype=new b;
b["Mxm "].prototype.lT=function(R,Z){Z[0]=R.Rds.v.val};b["Mxm "].prototype.l$=function(R,Z){R.Rds.v.val=Z[0]};
b["Mnm "]=function(){b.call(this,"Mnm ");this.um.push(new Gp([12,56],1,200," px"));this.aR()};b["Mnm "].prototype=new b;
b["Mnm "].prototype.lT=function(R,Z){Z[0]=R.Rds.v.val};b["Mnm "].prototype.l$=function(R,Z){R.Rds.v.val=Z[0]};
b.Ofst=function(){b.call(this,"Ofst");this.um.push(new Gp([22,4,0],-1024,1024," px"));this.um.push(new Gp([22,4,1],-1024,1024," px"));
this.um.push(new Oq([24,18,0],[[24,18,1],[24,18,2],[24,18,3]]));this.aR()};b.Ofst.prototype=new b;b.Ofst.prototype.lT=function(R,Z){Z[0]=R.Hrzn.v;
Z[1]=R.Vrtc.v;Z[2]=["Bckg","Rpt","Wrp"].indexOf(R.Fl.v.FlMd)};b.Ofst.prototype.l$=function(R,Z){R.Hrzn.v=Z[0];
R.Vrtc.v=Z[1];R.Fl.v.FlMd=["Bckg","Rpt","Wrp"][Z[2]]};b.Rept=function(){b.call(this,"Rept");this.um.push(new Yv([12,38],1,300," %"));
this.um.push(new Yv("Row Shift",-50,50," %"));this.um.push(new Yv("Space X",-99,200," %"));this.um.push(new Yv("Space Y",-99,200," %"));
this.um.push(new Ol([4,16,2]));this.um.push(new Rl([12,15]));this.aR()};b.Rept.prototype=new b;b.Rept.prototype.lT=function(R,Z){Z[0]=R.Scl.v.val;
Z[1]=R.Rsft.v.val;Z[2]=R.SpcX.v.val;Z[3]=R.SpcY.v.val;Z[4]=R.SpcC.v;Z[5]=R.Angl.v};b.Rept.prototype.l$=function(R,Z){R.Scl.v.val=Z[0];
R.Rsft.v.val=Z[1];R.SpcX.v.val=Z[2];R.SpcY.v.val=Z[3];R.SpcC.v=Z[4];R.Angl.v=Z[5].pB;return R};b.LqFy=function(){b.call(this,"LqFy");
this.yb=!1;this.lS=null;this.OOY=null;this.B=0;this.Dy={CI:[[{B:{id:0,name:[24,1,0,1,0],$G:"liq/smudge"}}],[{B:{id:1,name:[24,1,0,1,1],$G:"liq/reconstruct"}}],[{B:{id:2,name:[24,1,0,1,2],$G:"liq/smooth"}}],[{B:{id:3,name:[24,1,0,1,3],$G:"liq/twirl"}}],[{B:{id:4,name:[24,1,0,1,4],$G:"liq/shrink"}}],[{B:{id:5,name:[24,1,0,1,5],$G:"liq/blow"}}],[{B:{id:6,name:[24,1,0,1,6],$G:"liq/pleft"}}]],keys:[]};
this.aM=new Rj(this.Dy,!1);this.aM.cG(0);this.aM.v(X.E.K,this.O$Z,this);this.Cw=YN.Ir();this.vm=null;
this.wY=[];this.EZ=-1;this.hb=null;this.Ofv=null;this.CK=null;this.VA=null;this.Co=null;var R=X.T("div","flexrow");
this.Wi=R;this.G.appendChild(R);R.appendChild(this.aM.G);this.view=new YP(!0);this.view.YH(100,100);
this.view.v("mousedown",this.mz,this);this.view.v("mousemove",this.KV,this);this.view.v("mouseup",this.qK,this);
this.view.v("zoom",this.Wg,this);R.appendChild(this.view.G);var Z=X.T("div","form");R.appendChild(Z);
this.Wl=Z;Z.style.width="230px";this.im=[new Gp([12,14,0],0,1e3,null,!1,!0),new Gp([12,74],0,100,null,!1,!1),new Gp([12,84],0,100,null,!1,!1),new Ol([12,46]),new Gp([12,0],0,100,null,!1,!1)];
var B=this.Cw.Brsh.v;B.Dmtr.v.val=100;var o=[100,50,100,!1,100];for(var r=0;r<this.im.length;r++){var Y=this.im[r];
Y.o(o[r]);Y.v(X.E.Q,this.O$c,this);Z.appendChild(Y.G)}var E=new Gz("Reset",!0,null,!0);E.v("click",this.wt,this);
Z.appendChild(E.G);this._k=new Gt;this._k.G=X.T("div","floatcont");this.V_=new Gz("Menu",!1,null,!0);
this.V_.v("click",this.O$p,this);var p=this.V_.G;p.setAttribute("style","position:absolute; right:13px; top:47px")};
b.LqFy.prototype=new b;b.LqFy.prototype.Oi=function(){return!0};b.LqFy.prototype.vP=function(R){this.Wl.appendChild(R)};
b.LqFy.prototype.O$p=function(R){var Z=this.V_.G.getBoundingClientRect();this._k.G.appendChild(this.Wl);
var B=new n(X.E.K,!0);B.data={d:X.l.dF,Jd:this._k,x:Z.right+Z.width-290,y:Z.top+Z.height};this.j(B)};
b.LqFy.prototype.oZ=function(R){this.yb=R.R(a.yt);var Z=A.lg.LV(this.Cw,R);if(Z!=null){this.Cw=Z;this.Wg();
this.im[0].o(Z.Brsh.v.Dmtr.v.val)}else if(R.R(a.iW)&&R.R(a.sK)){var B=this.wY;if(R.R(a.Fl)){if(this.EZ+1<B.length)this.EZ++}else if(this.EZ>0)this.EZ--;
this.vm.map=B[this.EZ].slice(0);this.XT(null)}else this.view.oZ(R)};b.LqFy.prototype.O$Z=function(R){if(R.data.d==X.l.nu){this.B=R.data.B;
this.aM.cG(this.B)}};b.LqFy.prototype.O$c=function(R){var Z=R.currentTarget,B=this.im.indexOf(Z),o=this.Cw.Brsh.v;
if(B==0){o.Dmtr.v.val=Z.M();this.Wg()}if(B>2)this.XT(null)};b.LqFy.prototype.rG=function(){var R=this.wY;
this.EZ++;R[this.EZ]=this.vm.map.slice(0);while(R.length>this.EZ+1)R.pop();while(R.length>50){R=R.slice(1);
this.EZ--}};b.LqFy.prototype.mz=function(R){this.bC();this.lS=this.view.wa();this.OOY=new VP(0,0);this.v(X.E.eG,this.wW,this)};
b.LqFy.prototype.KV=function(R){var Z=this.view.wa(),B=new VP(Z.x-this.lS.x,Z.y-this.lS.y);if(this.B==0||this.B==6)this.Otb(B);
this.lS=Z};b.LqFy.prototype.qK=function(R){this.rG();this.bC()};b.LqFy.prototype.bC=function(){if(this.nw(X.E.eG,this.wW))this.removeEventListener(X.E.eG,this.wW,this)};
b.LqFy.prototype.wW=function(R){if(this.B!=0&&this.B!=6)this.Otb(new VP(0,0))};b.LqFy.prototype.Otb=function(R){var Z=this.vm,B=Z.ZA/this.hb.Y,o=this.lS,r=this.Cw.Brsh.v,Y=r.Dmtr.v.val,E=Date.now(),p=Z.ZA,y=Z.N$,z=Math.sqrt(R.x*R.x+R.y*R.y),u=Math.max(1,Math.ceil(z/2)),Q=R.x/u,H=R.y/u,T=o.clone(),C=this.B,e=this.im[1].M()/100,$=this.im[2].M()/100,x=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],M=x[C*2],m=x[C*2+1],G=(1-e)*M+e*m,K=Y*B/2;
for(var s=0;s<u;s++){var L=[];T.x+=Q;T.y+=H;O.$g.Ofa(Z.map,p,y,C,T.x*B,T.y*B,K,1,e,$,new VP(Q*B,H*B),L,this.yb);
O.$g.Ofy(p,y,Z.map,L,G*$)}var _=new N(0,0,p,y),P=new N(o.x*B,o.y*B,0,0);P.yj(Y*B*.5,Y*B*.5);var i=P.clone();
i.offset(R.x*B,R.y*B);P=P.fj(i);var w=new N(P.x/B,P.y/B,P.Y/B,P.Z/B);w=O.W.Hx(w).Rg(this.hb);this.XT(w)};
b.LqFy.prototype.Wg=function(){var R=GM.Jl(this.Cw,null,this.view.bb().h);this.view.wX(R)};b.LqFy.prototype.o=function(R,Z,B,o,r){B=B.clone();
if(Z==null)return;if(!o.EW(B)){var Y=B.fj(o),E=O.a(Y.b()*4);O.GN(Z,B,E,Y);Z=E;B=Y}B.x=B.y=0;this.CK=Z;
this.Ofv=r;this.Co=Z.slice(0);this.VA=Z.slice(0);this.hb=B;this.vm=Vp.NW(new Uint8Array(R.LqMe.v).buffer);
var p=B.Y,y=B.Z;if(this.vm.ZA/p<.22){this.vm={ZA:Math.floor(p/4),N$:Math.floor(y/4)};this.vm.map=new Float32Array(this.vm.ZA*this.vm.N$*2)}this.wY=[];
this.EZ=-1;this.rG();this.XT(null);this.Wg()};b.LqFy.prototype.M=function(){this.bC();var R=Go.wI("LqFy"),Z=new Uint8Array(Vp.tJ(this.vm)),B=[];
for(var o=0;o<Z.length;o++)B.push(Z[o]);R.LqMe.v=B;return R};b.LqFy.prototype.YH=function(R,Z){this.aM.YH(R,Z);
var B=this.V_.G,o=this.Wl;this.Wi.appendChild(o);this.Wi.appendChild(B);if(R>450){o.style.marginLeft="1em";
this.Wi.removeChild(B);this.view.YH(R-238-45,Z)}else{o.style.marginLeft="";this.Wi.removeChild(o);this.view.YH(R-40,Z)}};
b.LqFy.prototype.c=function(){this.aM.c();for(var R=0;R<this.im.length;R++)this.im[R].c()};b.LqFy.prototype.wt=function(){this.bC();
this.vm.map.fill(0);this.rG();this.XT(null)};b.LqFy.prototype.XT=function(R){var Z=this.hb,B=this.CK,o=this.Co,r=this.vm;
O.$g.IO(B,this.VA,Z.Y,Z.Z,R,r.map,r.ZA,r.N$,0);if(this.im[3].ZD()){O.GN(this.Ofv,Z,o,Z,R?R:Z);O.e.FO("norm",this.VA,Z,o,Z,R?R:Z,this.im[4].M()/100)}else O.VG(this.VA,o);
this.view.o([{Ix:Z,data:o.buffer}])};b.GEfc=function(){b.call(this,"GEfc");this.CK=null;this.Co=null;
this.hb=null;this.$V=null;var R=X.T("div","flexrow");this.Wi=R;this.G.appendChild(R);this.view=new YP;
this.view.YH(100,100);R.appendChild(this.view.G);var Z=X.T("div","form");R.appendChild(Z);this.Wl=Z;
Z.style.width="230px";Z.style.marginLeft="1em";this.Wh=[];var B=[];this.wS={};for(var o in Yt.names){this.Wh.push(o);
B.push(Yt.names[o]);var r=new b.GEfc.rj(o);this.wS[o]=r;r.v(X.E.Q,this.XT,this)}this.pp=new Oq(null,B);
Z.appendChild(this.pp.G);this.pp.v(X.E.Q,this.O$n,this);this.WS=X.T("div");Z.appendChild(this.WS)};b.GEfc.prototype=new b;
b.GEfc.prototype.Oi=function(){return!0};b.GEfc.prototype.vP=function(R){this.Wl.appendChild(R)};b.GEfc.prototype.lU=function(R,Z){this.$V=R};
b.GEfc.prototype.YH=function(R,Z){this.view.YH(R-240,Z)};b.GEfc.prototype.O$n=function(R){var Z=this.Wh[this.pp.M()],B=Yt.wI(Z),o=this.wS[Z];
o.o(B);X.vO(this.WS);this.WS.appendChild(o.G);this.XT()};b.GEfc.prototype.o=function(R,Z,B,o,r){var Y=R.GEfk.v.GEft,E=this.Wh.indexOf(Y);
if(E==-1){alert("Unsupported gallery filter");this.close();return}this.pp.o(E);var p=this.wS[Y];p.o(R);
X.vO(this.WS);this.WS.appendChild(p.G);B=B.clone();if(Z==null)return;if(!o.EW(B)){var y=B.fj(o),z=O.a(y.b()*4);
O.GN(Z,B,z,y);Z=z;B=y}B.x=B.y=0;this.CK=Z;this.Co=Z.slice(0);this.hb=B;this.XT()};b.GEfc.prototype.M=function(){var R=this.Wh[this.pp.M()];
return this.wS[R].M()};b.GEfc.prototype.XT=function(R){var Z=this.hb,B=this.CK,o=this.Co,r=this.Wh[this.pp.M()],Y=this.wS[r].M(),E=this.$V;
function p(y){return{F:y>>>16,S:y>>>8&255,X:y&255}}Go.eX("GEfc",{rect:this.hb,buffer:this.CK},Y,p(E.Ky),p(E.Dk),{rect:this.hb,buffer:this.Co},null);
this.view.o([{Ix:Z,data:o.buffer}])};b.GEfc.prototype.c=function(){for(var R in this.wS)this.wS[R].c()};
b.GEfc.rj=function(R){Gt.call(this);this.FJ=R;this.G=X.T("div");this.Xz={};var Z=Yt.wI(R);for(var B in Z){var o;
if(B=="__name"||B=="classID"||B=="GEfk"||["LghI","FlRs"].indexOf(B)!=-1)continue;else if(B=="Sz")o=new Gp([12,14,0],1,50);
else if(B=="Dtl")o=new Gp("Detail",1,15);else if(B=="Shrp")o=new Gp("Sharpness",0,40);else if(B=="BrsT")o=new Oq("Brush type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(B=="LghD")o=new Oq("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(B=="SDir")o=new Oq([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(B=="EdgW")o=new Gp("Edge Width",1,14);
else if(B=="EdgB")o=new Gp("Edge Brightness",0,20);else if(B=="Smth")o=new Gp([19,3,3],1,15);else if(B=="ClSz")o=new Gp([12,61],3,100);
else if(B=="BrdT")o=new Gp([7,9],1,20);else if(B=="HghS")o=new Gp([12,64],0,20);else if(B=="HlSz")o=new Gp([12,14,0],1,15);
else if(B=="Cntr")o=new Gp([12,3,0],0,50);else if(B=="ScrT")o=new Oq([12,62],["Circle","Dot",[10,35]]);
else if(B=="SprR")o=new Gp("Spray Radius",0,25);else if(B=="StrL")o=new Gp("Stroke Length",0,20);else console.log(B);
o.v(X.E.Q,this.mS,this);this.Xz[B]=o;this.G.appendChild(o.G)}};b.GEfc.rj.prototype=new Gt;b.GEfc.rj.prototype.mS=function(R){this.j(new n(X.E.Q,!1))};
b.GEfc.rj.prototype.o=function(R){for(var Z in this.Xz){var B;if("Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL".split(" ").indexOf(Z)!=-1)B=R[Z].v;
else if(Z=="BrsT")B=Yt.OqG.indexOf(R[Z].v[Z]);else if(Z=="LghD")B=Yt.tt.indexOf(R[Z].v[Z]);else if(Z=="ScrT")B=Yt.ti.indexOf(R[Z].v[Z]);
else if(Z=="SDir")B=Yt.tc.indexOf(R[Z].v.StrD);this.Xz[Z].o(B)}};b.GEfc.rj.prototype.M=function(){var R=Yt.wI(this.FJ);
for(var Z in this.Xz){var B=this.Xz[Z].M();if("Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL".split(" ").indexOf(Z)!=-1)R[Z].v=B;
else if(Z=="BrsT")R[Z].v[Z]=Yt.OqG[B];else if(Z=="LghD")R[Z].v[Z]=Yt.tt[B];else if(Z=="ScrT")R[Z].v[Z]=Yt.ti[B];
else if(Z=="SDir")R[Z].v.StrD=Yt.tc[B]}return R};b.GEfc.rj.prototype.c=function(){for(var R in this.Xz)this.Xz[R].c()};
b.blnc=function(){b.call(this);var R=this.G;this.FY=null;this.hV=new Oq([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
this.hV.v(X.E.Q,this.XT,this);R.appendChild(this.hV.G);this.BF=[];for(var Z=0;Z<3;Z++){var B=new Gp(GK.sn[Z],-100,100);
B.v(X.E.Q,this.wV,this);this.BF.push(B);R.appendChild(B.G)}this.Wt=new Ol([13,4]);this.Wt.v(X.E.Q,this.wV,this);
R.appendChild(this.Wt.G)};b.blnc.prototype=new b;b.blnc.prototype.c=function(){this.hV.c();for(var R=0;
R<3;R++)this.BF[R].c();this.Wt.c()};b.blnc.prototype.o=function(R){this.FY=JSON.parse(JSON.stringify(R));
this.XT()};b.blnc.prototype.M=function(R){var Z=["ShdL","MdtL","HghL"],B=this.FY[Z[this.hV.M()]].v;for(var o=0;
o<3;o++)B[o].v=this.BF[o].M();this.FY.PrsL.v=this.Wt.M();return JSON.parse(JSON.stringify(this.FY))};
b.blnc.prototype.XT=function(R){var Z=["ShdL","MdtL","HghL"],B=this.FY[Z[this.hV.M()]].v;for(var o=0;
o<3;o++)this.BF[o].o(B[o].v);this.Wt.o(this.FY.PrsL.v)};b.brit=function(){b.call(this,"brit");this.um.push(new Gp([12,2],-150,150,""));
this.um.push(new Gp([12,3,0],-100,100,""));this.um.push(new Ol([12,3,1]));this.aR()};b.brit.prototype=new b;
b.brit.prototype.lT=function(R,Z){Z[0]=R.Brgh?R.Brgh.v:0;Z[1]=R.Cntr?R.Cntr.v:0;Z[2]=R.useLegacy?R.useLegacy.v:!1};
b.brit.prototype.l$=function(R,Z){R.Brgh.v=Z[0];R.Cntr.v=Z[1];R.useLegacy.v=Z[2]};b.curv=function(){b.call(this);
this.value=null;this.lr=null;var R=this.G;this.Ek=new Oq([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.Ek.v(X.E.Q,this.Fx,this);R.appendChild(this.Ek.G);this.yQ=new Oq(null,["Spline","Sketch"]);this.yQ.v(X.E.Q,this.O$g,this);
R.appendChild(this.yQ.G);this.K_=new RU;this.K_.v(X.E.Q,this.zq,this);R.appendChild(this.K_.G);this.Wz=new XG("Sample from image",["#000000","#888888","#ffffff"]);
R.appendChild(this.Wz.G)};b.curv.prototype=new b;b.curv.prototype.c=function(){this.Ek.c()};b.curv.prototype.O$g=function(R){var Z=OR.Ff(this.value,0),B=Z.length==256?1:0,o=this.yQ.M();
if(B==o)return;var r=Go.wI("curv");if(o==1){var Y=[];for(var E=0;E<256;E++)Y.push(E);OR.Fk(r,0,Y)}this.o(r);
this.wV()};b.curv.prototype.zq=function(){OR.Fk(this.value,this.Ek.M(),this.K_.M());this.wV()};b.curv.prototype.Fx=function(){var R=this.Ek.M(),Z=OR.Ff(this.value,R),B=Z.length==256?1:0;
this.yQ.o(B);if(this.lr)this.K_.KY(this.lr[R],this.lr[4]*[1,.33,.33,.33][R],["#ccc","#fcc","#cfc","#ccf"][R]);
this.K_.o(Z)};b.curv.prototype.GX=function(){return!0};b.curv.prototype.YF=function(R,Z,B,o,r){var Y=this.value,E=this.Wz.M();
this.value=Go.wI("curv");this.wV();var p=A.WC.Gx(R,r,1),y=[p>>>16&255,p>>>8&255,p&255];for(var z=0;z<3;
z++){var u=OR.Ff(Y,1+z);if(E==0)u[0].v.Hrzn.v=y[z];if(E==1){var Q=(y[0]+y[1]+y[2])*.333,H=Math.log(y[z]/255)/Math.log(Q/255),T=Math.min(999,Math.max(10,Math.round(100*H)));
if(u.length==2)u.splice(1,0,JSON.parse(JSON.stringify(u[0])));u[1].v.Hrzn.v=127-Math.log(T/100)*127;
u[1].v.Vrtc.v=127}if(E==2)u[u.length-1].v.Hrzn.v=y[z];OR.Fk(Y,1+z,u)}this.o(Y);this.wV()};b.curv.prototype.o=function(R){this.value=R;
this.Fx()};b.curv.prototype.KY=function(R){this.lr=R;this.Fx()};b.curv.prototype.M=function(R){return JSON.parse(JSON.stringify(this.value))};
b.expA=function(){b.call(this,"expA");this.um.push(new Gp([12,5],-20,20,null,3));this.um.push(new Gp([12,6],-.5,.5,null,3));
this.um.push(new Gp([12,7],.01,6.99,null,3));this.aR()};b.expA.prototype=new b;b.expA.prototype.lT=function(R,Z){Z[0]=R.Exps.v;
Z[1]=R.Ofst.v;Z[2]=R.gammaCorrection.v};b.expA.prototype.l$=function(R,Z){R.Exps.v=Z[0];R.Ofst.v=Z[1];
R.gammaCorrection.v=Z[2]};b.grdm=function(){b.call(this,"grdm");this.um.push(new RF(!0,null,!0));this.um.push(new Ol([12,23,0]));
this.aR()};b.grdm.prototype=new b;b.grdm.prototype.lT=function(R,Z){Z[0]=R.Grad.v;Z[1]=R.Rvrs?R.Rvrs.v:!1};
b.grdm.prototype.l$=function(R,Z){R.Grad.v=Z[0];R.Rvrs={t:"bool",v:Z[1]}};b.grdm.prototype.lU=function(R,Z){this.um[0].vV(R.Ky,R.Dk);
if(Z==GG.gy||Z==GG.IU||Z==GG.zh)this.um[0].lm(R.Vl)};b.selc=function(){b.call(this);var R=this.G;this.L$=[];
this.oG=null;this.hV=new Oq([12,82],GK.t_.concat([[13,1,8],[13,1,13],[13,1,10]]));this.hV.v(X.E.Q,this.mS,this);
R.appendChild(this.hV.G);for(var Z=0;Z<4;Z++){var B=new Gp(GK.Owf[Z],-100,100,"%");B.v(X.E.Q,this.mS,this);
this.L$.push(B);R.appendChild(B.G)}this.WU=new Ol([13,3]);R.appendChild(this.WU.G);this.WU.v(X.E.Q,this.mS,this)};
b.selc.prototype=new b;b.selc.prototype.c=function(){this.hV.c();this.WU.c();for(var R=0;R<4;R++)this.L$[R].c()};
b.selc.prototype.o=function(R){this.oG=JSON.parse(JSON.stringify(R));this.XT()};b.selc.prototype.M=function(R){return JSON.parse(JSON.stringify(this.oG))};
b.selc.prototype.mS=function(R){if(R.target!=this.hV){var Z=this.oG,B=[];for(var o=0;o<4;o++)B[o]=this.L$[o].M();
OK.Fk(Z,this.hV.M(),B);Z.Mthd={t:"enum",v:{CrcM:this.WU.M()?"Absl":"Rltv"}}}this.XT();this.wV()};b.selc.prototype.XT=function(){var R=this.oG,Z=OK.Ff(R,this.hV.M());
for(var B=0;B<4;B++)this.L$[B].o(Z[B]);this.WU.o(R.Mthd?R.Mthd.v.CrcM=="Absl":!1)};b.blwh=function(){b.call(this,"blwh");
this.um.push(new Ol([12,11]));this.um.push(new EN(!0));for(var R=0;R<6;R++)this.um.push(new Gp(GK.t_[R],-200,300));
this.aR()};b.blwh.prototype=new b;b.blwh.prototype.lT=function(R,Z){Z[0]=R.useTint.v;Z[1]=R.tintColor.v;
var B="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var o=0;o<6;o++)Z[2+o]=R[B[o]].v};b.blwh.prototype.l$=function(R,Z){R.useTint.v=Z[0];
R.tintColor.v=Z[1];var B="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var o=0;o<6;o++)R[B[o]].v=Z[2+o]};
b.hue2=function(){b.call(this);this.value=null;this.rw=null;this.Ofz=null;var R=this.G;this.hV=new Oq([12,12],["Master"].concat(GK.t_));
this.hV.v(X.E.Q,this.Fx,this);R.appendChild(this.hV.G);this.ox=new Gp([12,8],-180,180);this.ox.v(X.E.Q,this.bd,this);
R.appendChild(this.ox.G);this.wQ=new Gp([12,9],-100,100);this.wQ.v(X.E.Q,this.bd,this);R.appendChild(this.wQ.G);
this.Wx=new Gp([12,10],-100,100);this.Wx.v(X.E.Q,this.bd,this);R.appendChild(this.Wx.G);this.We=new Ol([12,11]);
this.We.v(X.E.Q,this.Oxl,this);R.appendChild(this.We.G);this.Ofx=new Yi("...",!0);R.appendChild(this.Ofx.G)};
b.hue2.prototype=new b;b.hue2.prototype.c=function(){this.ox.c();this.wQ.c();this.Wx.c();this.We.c();
this.hV.c()};b.hue2.prototype.Oxl=function(R){var Z=this.We.M();this.value.Clrz.v=Z;if(Z)this.hV.o(0);
this.Fx();this.wV()};b.hue2.prototype.bd=function(R){var Z=this.value.Clrz.v,B=this.hV.M(),o=OA.Ff(this.value,B),r=B==0?o:o.BF;
r[0]=this.ox.M();var Y=this.wQ.M();r[1]=Z?Math.max(0,Y):Y;r[2]=this.Wx.M();OA.Fk(this.value,B,o);this.Fx();
this.wV()};b.hue2.prototype.Fx=function(){var R=this.value.Clrz?this.value.Clrz.v:!1,r="";this.We.o(R);
if(R)this.hV.uE();else this.hV.lv();var Z=this.hV.M(),B=OA.Ff(this.value,Z),o=Z==0?B:B.BF;this.ox.o(o[0]);
this.wQ.o(o[1]);this.Wx.o(o[2]);if(!R){r+=Ok.get([5,8])+": ";var Z=this.hV.M();if(Z==0)r+=Ok.get([13,2]);
else r+=B.zH}this.Ofx.o(r)};b.hue2.prototype.GX=function(){return!0};b.hue2.prototype.JH=function(R,Z,B,o,r){var Y=this.value;
this.value=Go.wI("hue2");this.wV();var E=A.WC.Gx(R,r,1),p=[E>>>16&255,E>>>8&255,E&255],y=O.Jn(p[0]/255,p[1]/255,p[2]/255);
this.hV.o(1+Math.round(y.N$*6)%6);this.o(Y);this.wV();this.rw=r.x;this.Ofz=this.wQ.M()};b.hue2.prototype.TU=function(R,Z,B,o,r){if(this.rw!=null){var Y=r.x-this.rw;
Y=Math.max(-100,Math.min(100,this.Ofz+.5*Y));this.wQ.o(Y);this.bd()}};b.hue2.prototype.YF=function(R,Z,B,o,r){this.rw=null};
b.hue2.prototype.o=function(R){this.value=JSON.parse(JSON.stringify(R));this.Fx()};b.hue2.prototype.M=function(R){return JSON.parse(JSON.stringify(this.value))};
b.levl=function(){b.call(this);this.value=null;this.lr=null;this.a$=[new VP(0,0),new VP(0,0),new VP(0,0),new VP(0,0),new VP(0,0)];
this.jl=-1;this.rS=this.hf.bind(this);this.rD=this.GV.bind(this);var R=this.G;this.Ek=new Oq([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.Ek.v(X.E.Q,this.Fx,this);R.appendChild(this.Ek.G);var Z=X.T("div","");R.appendChild(Z);var B=X.T("div","");
R.appendChild(B);this.J$=X.T("canvas");Z.appendChild(this.J$);this.wH=this.J$.getContext("2d");this.CH=new VP(256,120);
this.J$.setAttribute("style","display:block");X.hl(this.J$,this.CH.x,this.CH.y,this.wH);X.Ed(this.J$);
X.dj(this.J$,this.Vm.bind(this));this.XJ=X.T("canvas","");B.appendChild(this.XJ);this.ax=this.XJ.getContext("2d");
this.Vh=new VP(this.CH.x,40);this.XJ.setAttribute("style","display:block");X.hl(this.XJ,this.Vh.x,this.Vh.y,this.ax);
X.Ed(this.XJ);X.dj(this.XJ,this.Oxe.bind(this));var o=this.OJa=[];for(var r=0;r<5;r++){var Y=new EU(null,null,3);
o.push(Y);Y.v(X.E.Q,this.Ox$,this);(r<2||r==4?Z:B).appendChild(Y.G)}Z.appendChild(o[1].G);o[4].G.setAttribute("style","margin: 0 4.7em");
o[3].G.setAttribute("style","margin:0 0 0 13em");this.Wz=new XG("Sample from image",["#000000","#888888","#ffffff"]);
R.appendChild(this.Wz.G)};b.levl.prototype=new b;b.levl.prototype.c=function(){this.Ek.c()};b.levl.prototype.Ox$=function(R){var Z=[];
for(var B=0;B<5;B++){var o=255,r=1;if(B==4){o=999;r=100}var Y=parseFloat(this.OJa[B].M());Z[B]=Math.max(0,Math.min(o,Y*r))}OO.Fk(this.value,this.Ek.M(),Z);
this.Fx();this.wV()};b.levl.prototype.Fx=function(R){var Z=this.CH.x,B=this.CH.y,o=this.Ek.M(),r=this.wH;
r.clearRect(0,0,Z,B);r.fillStyle="#cccccc";r.fillRect(8,8,Z-16,B-16-8);if(this.lr){if(o==0){O.set(this.lr[0],0);
var Y=JSON.parse(JSON.stringify(this.value));OO.Fk(Y,0,[0,255,0,255,100]);var E=GK.O$("levl",Y),p=[E.Gg,E.d_,E.DV];
for(var y=0;y<3;y++){var z=this.lr[1+y],u=p[y];for(var Q=0;Q<256;Q++)this.lr[0][u[Q]]+=z[Q]}}var H=this.lr[o],T=0;
for(var Q=0;Q<H.length;Q++)T+=H[Q];r.fillStyle="#333333";r.beginPath();r.moveTo(8,B-16);for(var Q=0;
Q<256;Q++){var C=55*H[Q]/T;r.lineTo(8+Q/256*(Z-16),Math.max(8,B-16-B*C))}r.lineTo(Z-8,B-16);r.closePath();
r.fill()}var e=OO.Ff(this.value,o);for(var Q=0;Q<5;Q++)this.OJa[Q].o(e[Q]/(Q==4?100:1));this.a$[0].wh(8+e[0]/255*(Z-16),B-14);
this.a$[1].wh(8+e[1]/255*(Z-16),B-14);var $=Math.log(e[4]/100)/Math.log(9.99);$=.5-$/2;this.a$[4].wh(this.a$[0].x+$*(this.a$[1].x-this.a$[0].x),B-14);
this.w$(r,this.a$[0],"#000000");this.w$(r,this.a$[1],"#ffffff");this.w$(r,this.a$[4],"#777777");var Z=this.Vh.x,B=this.Vh.y;
r=this.ax;r.clearRect(0,0,Z,B);var x=r.createLinearGradient(0,0,Z-16,0);x.addColorStop(0,"black");x.addColorStop(1,"white");
r.fillStyle=x;r.fillRect(8,8,Z-16,16);this.a$[2].wh(8+e[2]/255*(Z-16),B-14);this.a$[3].wh(8+e[3]/255*(Z-16),B-14);
this.w$(r,this.a$[2],"#000000");this.w$(r,this.a$[3],"#ffffff")};b.levl.prototype.w$=function(R,Z,B){R.fillStyle=B;
R.fillRect(Z.x-5,Z.y,10,10)};b.levl.prototype.Vm=function(R){var Z=X.$R(R,this.J$);for(var B=0;B<2;B++)if(VP.HP(this.a$[B],Z)<10)this.jl=B;
if(VP.HP(this.a$[4],Z)<10)this.jl=4;this.OtC()};b.levl.prototype.Oxe=function(R){var Z=X.$R(R,this.XJ);
for(var B=2;B<4;B++)if(VP.HP(this.a$[B],Z)<10)this.jl=B;this.OtC()};b.levl.prototype.OtC=function(R){if(this.jl==-1)return;
X.sV(document.body,this.rS);X.HV(document.body,this.rD)};b.levl.prototype.hf=function(R){var Z=OO.Ff(this.value,this.Ek.M()),B=X.$R(R,this.jl==2&&this.jl==3?this.XJ:this.J$),o=255*(B.x-8)/(this.CH.x-16);
o=Math.max(0,Math.min(255,o));if(this.jl==0)o=Math.min(o,Z[1]-2);if(this.jl==1)o=Math.max(o,Z[0]+2);
if(this.jl!=4)Z[this.jl]=Math.round(o);else{var r=(o-Z[0])/(Z[1]-Z[0]);r=1-2*r;r=Math.pow(9.99,r);Z[4]=Math.min(999,Math.max(10,Math.round(r*100)))}OO.Fk(this.value,this.Ek.M(),Z);
this.Fx();this.wV()};b.levl.prototype.GV=function(R){X.mw(document.body,this.rS);X.m_(document.body,this.rD);
this.jl=-1};b.levl.prototype.GX=function(){return!0};b.levl.prototype.YF=function(R,Z,B,o,r){var Y=this.value,E=this.Wz.M();
this.value=Go.wI("levl");this.wV();var p=A.WC.Gx(R,r,1),y=[p>>>16&255,p>>>8&255,p&255];for(var z=0;z<3;
z++){var u=OO.Ff(Y,1+z);if(E==0)u[0]=y[z];if(E==1){var Q=Math.log(y[z]/255)/Math.log((y[0]+y[1]+y[2])*.333/255);
u[4]=Math.min(999,Math.max(10,Math.round(100*Q)))}if(E==2)u[1]=y[z];OO.Fk(Y,1+z,u)}this.o(Y);this.wV()};
b.levl.prototype.o=function(R){this.value=R;this.Fx()};b.levl.prototype.KY=function(R){this.lr=R;this.Fx()};
b.levl.prototype.M=function(R){return JSON.parse(JSON.stringify(this.value))};b.phfl=function(){b.call(this,"phfl");
this.um.push(new EN);this.um.push(new Gp([12,74],0,100,"%"));this.um.push(new Ol([13,4]));this.aR()};
b.phfl.prototype=new b;b.phfl.prototype.lT=function(R,Z){Z[0]=R.Clr.v;Z[1]=R.Dnst.v;Z[2]=R.PrsL.v};b.phfl.prototype.l$=function(R,Z){var B=O.L.iz(Z[0]),o=R.Clr.v,r=O.MO(B.F,B.S,B.X);
o.Lmnc.v=r.wi;o.A.v=r.t;o.B.v=r.X;R.Dnst.v=Z[1];R.PrsL.v=Z[2]};b.vibA=function(){b.call(this,"vibA");
this.um.push(new Gp([12,13],-100,100,null));this.um.push(new Gp([12,9],-100,100,null));this.aR()};b.vibA.prototype=new b;
b.vibA.prototype.lT=function(R,Z){Z[0]=R.vibrance?R.vibrance.v:0;Z[1]=R.Strt?R.Strt.v:0};b.vibA.prototype.l$=function(R,Z){R.vibrance.v=Z[0];
R.Strt.v=Z[1]};b.thrs=function(){b.call(this,"thrs");this.um.push(new Gp([4,13],1,255,null));this.aR()};
b.thrs.prototype=new b;b.thrs.prototype.lT=function(R,Z){Z[0]=R.Lvl.v};b.thrs.prototype.l$=function(R,Z){R.Lvl.v=Z[0]};
b.mixr=function(){b.call(this);var R=this.G;this.L$=[];this.oG=null;this.hV=new Oq([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.hV.v(X.E.Q,this.mS,this);R.appendChild(this.hV.G);X.Ax(R);this.ht=new Ol([12,60]);R.appendChild(this.ht.G);
this.ht.v(X.E.Q,this.mS,this);for(var Z=0;Z<4;Z++){var B=new Gp([[13,1,1],[13,1,4],[13,1,5],[13,2]][Z],-200,200,"%");
B.v(X.E.Q,this.mS,this);this.L$.push(B);R.appendChild(B.G)}};b.mixr.prototype=new b;b.mixr.prototype.c=function(){this.hV.c();
this.ht.c();for(var R=0;R<4;R++)this.L$[R].c()};b.mixr.prototype.o=function(R){this.oG=JSON.parse(JSON.stringify(R));
this.XT()};b.mixr.prototype.M=function(R){return JSON.parse(JSON.stringify(this.oG))};b.mixr.prototype.mS=function(R){if(R.target!=this.hV){var Z=GK.HY(this.oG);
if(R.target==this.ht){Z.ht=this.ht.M();if(Z.ht)Z.k=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else Z.k=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var B=(Z.ht?0:this.hV.M())*5,o=this.L$.indexOf(R.target);
Z.k[B+(o<3?o:4)]=R.target.M()}this.oG=GK.OBg(Z)}this.XT();this.wV()};b.mixr.prototype.XT=function(){var R=GK.HY(this.oG);
this.ht.o(R.ht);var Z=(R.ht?0:this.hV.M())*5;for(var B=0;B<4;B++)this.L$[B].o(R.k[Z+(B<3?B:4)])};b.post=function(){b.call(this,"post");
this.um.push(new Gp([4,1],2,255,null));this.aR()};b.post.prototype=new b;b.post.prototype.lT=function(R,Z){Z[0]=R.Lvls.v};
b.post.prototype.l$=function(R,Z){R.Lvls.v=Z[0]};b.clrL=function(){b.call(this,"clrL");this.um.push(new XE("LUTs"));
this.aR()};b.clrL.prototype=new b;b.clrL.prototype.lT=function(R,Z){Z[0]=R};b.clrL.prototype.l$=function(R,Z){var B=Z[0];
for(var o in B)R[o]=B[o]};b.clrL.prototype.lU=function(R,Z){if(Z==GG.gy||Z==GG.OA)this.um[0].lm(R.OJJ)};
b.rplc=function(){b.call(this,"rplc");this.um.push(new Gp([12,92],0,200));this.um.push(new EN);this.um.push(new Gp([12,8],-180,180));
this.um.push(new Gp([12,9],-100,100));this.um.push(new Gp([12,10],-100,100));this.aR()};b.rplc.prototype=new b;
b.rplc.prototype.lT=function(R,Z){Z[0]=R.Fzns.v;Z[1]=R.Mxm.v;Z[2]=R.H.v;Z[3]=R.Strt.v;Z[4]=R.Lght.v};
b.rplc.prototype.l$=function(R,Z){function B(r,Y){Y.Lmnc.v=r.wi;Y.A.v=r.t;Y.B.v=r.X}R.Fzns.v=Z[0];R.H.v=Z[2];
R.Strt.v=Z[3];R.Lght.v=Z[4];var o=O.L.iz(Z[1]),r=O.MO(o.F,o.S,o.X);B(r,R.Mnm.v);B(r,R.Mxm.v)};b.fade=function(){b.call(this,"fade");
this.um.push(new Gp([12,0],0,100,"%"));this.um.push(new Oq([12,19,0],Gd.pp,!1,Gd.WT));this.aR()};b.fade.prototype=new b;
b.fade.prototype.lT=function(R,Z){Z[0]=R.Opct.v.val;Z[1]=Gd.Ie.indexOf(R.Md.v.BlnM)};b.fade.prototype.l$=function(R,Z){R.Opct.v.val=Z[0];
R.Md.v.BlnM=Gd.Ie[Z[1]]};function Gr(R,Z){Gt.call(this);if(R==null)return;this.id=Z;this.Vt=R;this.CR=null;
this.G=X.T("div","window "+Z);this.vo=X.T("div","head");this.OJT=X.T("span","wname");this.vo.appendChild(this.OJT);
this.G.appendChild(this.vo);this.Az=this.OxH.bind(this);this.YY=this.OxF.bind(this);this.YS=this.Oxu.bind(this);
X.Ed(this.vo);X.dj(this.vo,this.Az);this.CX=X.T("span","cross");this.vo.appendChild(this.CX);Gr.prototype.c.call(this);
X.HV(this.CX,this.ODB.bind(this));this.body=X.T("div","body");this.G.appendChild(this.body)}Gr.prototype=new Gt;
Gr.prototype.uC=function(){return!1};Gr.prototype.GX=function(){return!1};Gr.prototype.c=function(){if(this.Vt==null)return;
this.OJT.textContent=Ok.get(this.Vt);var R=PIMG.__cross==null?"filter:invert(1);":"";this.CX.setAttribute("style","background-image:url("+PIMG.cross+");"+R)};
Gr.prototype.JH=function(R,Z,B,o,r){};Gr.prototype.pJ=function(R,Z,B,o,r){};Gr.prototype.TU=function(R,Z,B,o,r){};
Gr.prototype.YF=function(R,Z,B,o,r){};Gr.prototype.gT=function(R,Z,B,o,r){};Gr.prototype.oZ=function(R,Z,B,o){if(o.R(a.Ic)&&this.Hf)this.Hf()};
Gr.prototype.Hc=function(R){return!1};Gr.prototype.Ts=function(R,Z){return!0};Gr.prototype.qD=function(R,Z,B,o){};
Gr.prototype.lU=function(R,Z){};Gr.prototype.Oi=function(){return!1};Gr.prototype.Ch=function(R,Z){return R<450||Z<450?new VP(0,0):new VP(150,150)};
Gr.prototype.YH=function(){};Gr.prototype.close=function(){this.j(new n(X.E.Vj))};Gr.prototype.OxH=function(R){this.CR=X.$R(R,this.G);
X.sV(window,this.YY);X.HV(window,this.YS)};Gr.prototype.OxF=function(R){var Z=this.G.parentNode,B=X.$R(R,Z);
this.G.style.left=Math.round(B.x-this.CR.x)+"px";this.G.style.top=Z.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(B.y-this.CR.y)))+"px"};
Gr.prototype.Oxu=function(R){X.mw(window,this.YY);X.m_(window,this.YS)};Gr.prototype.ODB=function(R){this.j(new n("closebtn"));
this.close()};function Rn(){Gr.call(this,[0,13,0],"account");this.ai=X.T("div","form padded scrollable");
this.ai.setAttribute("style","max-width:48em;  max-height:33em;");this.body.appendChild(this.ai);this.CF=[new Rn.ml,new Rn.wx(Rn.OkV),new Rn.wx(Rn.OkE)];
for(var R=0;R<this.CF.length;R++)this.CF[R].parent=this;this.v("showpage",this.Oe_,this)}Rn.prototype=new Gr;
Rn.prototype.Oe_=function(R){X.vO(this.ai);this.ai.scrollTop=0;this.ai.appendChild(this.CF[R.data.qp].G)};
Rn.prototype.c=function(){Gr.prototype.c.call(this);for(var R=0;R<this.CF.length;R++)this.CF[R].c()};
Rn.prototype.qD=function(R,Z,B){X.vO(this.ai);var o=this.CF[0];this.ai.appendChild(o.G);o.qD();this.c()};
Rn.prototype.lU=function(R,Z){this.qD(null,null,null)};Rn.ml=function(){Gt.call(this);this.G=X.T("div");
var R=this.G,Z,B,o="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; font-weight:bold; color:#ffffff; cursor:pointer; margin:4px 0;";
this.Lx=X.T("div");R.appendChild(this.Lx);this.Vf=new Gz([0,11],!1,null,!0);this.Vf.G.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.Vf.v("click",this.aX,this);R.appendChild(this.Vf.G);this.Cj=new Gz([0,13,1],!1,null,!0);this.Cj.v("click",this.ONN,this);
R.appendChild(this.Cj.G);this.CB=new Gz("Contact",!1,null,!0);this.CB.v("click",this.OeD,this);R.appendChild(this.CB.G);
Z=X.T("h2","");Z.innerHTML="Account types";R.appendChild(Z);B=X.T("table","");B.innerHTML="\t\t\t<table>\t\t\t\t<tr>   <th class=\"left\"></th><th>Free</th><th>Premium</th> </tr>\t\t\t\t<tr>   <td class=\"left\">Full Functionality</td><td class=\"yes\">\u2713</td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">No Ads</td><td class=\"no\"> </td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">Steps in History</td><td class=\"no\" style=\"font-size:1.3em\">30</td><td class=\"yes\">60</td>    </tr>\t\t\t\t<!--<tr class=\"lastrow\">   <td class=\"left\">Cost</td><td>Free</td><td><big>$5</big> per month</td>    </tr>-->\t\t\t</table>\t\t";
R.appendChild(B);var r=this.OOl=[[9,30,1],[10,90,1],[40,365,1],[15,30,5],[30,90,5],[120,365,5],[50,30,20],[100,90,20],[400,365,20],[40,30,1e3],[80,90,1e3],[300,365,1e3],[100,30,5e3],[200,90,5e3],[700,365,5e3],[200,30,2e4],[400,90,2e4],[1400,365,2e4]];
this.s_=[];for(var Y=0;Y<r.length;Y++)this.s_.push(new Gz("Buy: $"+r[Y][0],!1,null,!0));for(var Y=0;
Y<this.s_.length;Y++){this.s_[Y].G.setAttribute("style",o);this.s_[Y].v("click",this.OKk,this)}Z=X.T("h2","");
Z.innerHTML="Go Premium";R.appendChild(Z);this.VJ=new Gz("...",!0);this.VJ.G.setAttribute("style",o);
R.appendChild(this.VJ.G);B=this.Ozq(3,["Single user",this.s_[0],this.s_[1],this.s_[2],"Team of 5",this.s_[3],this.s_[4],this.s_[5],"Team of 20",this.s_[6],this.s_[7],this.s_[8]]);
R.appendChild(B);this.OJn=new Ol("I accept",!0,"");R.appendChild(this.OJn.G);this.C_=new Gz([0,13,1],!1,null,!0);
this.C_.v("click",this.ONN,this);R.appendChild(this.C_.G);Z=X.T("h2","");Z.textContent="Team Settings";
R.appendChild(Z);this.Av=new Ol("Join a team");R.appendChild(this.Av.G);this.Av.v(X.E.Q,this.OzV,this);
this.VN=new EU("Email of a leader",null,14);R.appendChild(this.VN.G);X.Ax(R);this.WK=new Ol("Start a team");
R.appendChild(this.WK.G);this.WK.v(X.E.Q,this.OzV,this);var E=new Yi("Emails of other members:");R.appendChild(E.G);
X.Ax(R);this.zC=X.T("textarea");this.zC.setAttribute("rows",3);this.zC.setAttribute("cols",70);this.zC.setAttribute("style","display:block;tab-size:4;");
R.appendChild(this.zC);var p=new Gz("Save Team Settings",!1,null,!0);R.appendChild(p.G);p.v("click",this.Oei,this);
var y=this.OOe=new Gz("More about Teams",!1,null,!0);R.appendChild(y.G);y.v("click",this.ONz,this);Z=X.T("h2","");
Z.innerHTML="Distributor Account";R.appendChild(Z);this.Vi=new Gz("...",!0);this.Vi.G.setAttribute("style",o);
R.appendChild(this.Vi.G);B=this.Ozq(3,["1000 views/month",this.s_[9],this.s_[10],this.s_[11],"5000 views/month",this.s_[12],this.s_[13],this.s_[14],"20000 views/month",this.s_[15],this.s_[16],this.s_[17]]);
R.appendChild(B);this.VU=new EU("Domain name (e.g. domain.com)",null,14);R.appendChild(this.VU.G);X.Ax(R);
var p=new Gz("Save Domain Settings",!1,null,!0);p.lu();R.appendChild(p.G);p.v("click",this.OeH,this);
var y=new Gz("More about Distributors",!1,null,!0);R.appendChild(y.G);y.v("click",this.ONz,this)};Rn.ml.prototype=new Gt;
Rn.ml.prototype.ONN=function(R){var Z=new n("showpage",!0);Z.data={qp:1};this.j(Z)};Rn.ml.prototype.OeD=function(R){var Z=new n("showpage",!0);
Z.data={qp:2};this.j(Z)};Rn.ml.prototype.c=function(){this.Vf.FS(Gx.pw()?Ok.get([0,11]):Ok.get([0,10]));
this.C_.c();this.Cj.c();this.CB.c()};Rn.ml.prototype.ONz=function(R){var Z=new n(X.E.K,!0);Z.data={d:X.l.ex,link:"https://www.photopea.com/api/accounts#"+(R.target==this.OOe?"teams":"distributors")};
this.j(Z)};Rn.ml.prototype.OzV=function(R){var Z=R.currentTarget==this.Av;this.Av.o(Z);this.WK.o(!Z)};
Rn.ml.prototype.Oei=function(R){var Z=this.Av.M(),B=this.VN.M().trim(),o=this.zC.value.trim();if(B.length>60){alert("Too long email address");
return}if(o.length>600){alert("Too many team members");return}o=o.split(",").join(" ").trim();o=o.replace(/\s+/g," ");
if(o=="")o=[];else o=o.split(" ");var r=Gx.tI();if(r==null)r={};if(r.acc==null)r.acc={};r.acc.team={jin:Z,ldr:B,mmb:o};
Gx.aL(r,this.zF.bind(this));alert("Saved!");this.qD()};Rn.ml.prototype.OeH=function(R){var Z=this.VU.M().trim();
if(Z.length==0){alert("Domain is empty.");return}if(!Gx.pw()){alert("You have to log in first.");return}if(Gx.oM().distrib=="0"){alert("Order a distributor account first.");
return}var B=Gx.tI();if(B==null)B={};if(B.acc==null)B.acc={};B.acc.dname=Z;Gx.aL(B,this.zF.bind(this));
alert("Saved!");this.qD()};Rn.ml.prototype.qD=function(){if(Gx.pw()){var R=Gx.oM();if(R==null)return;
this.Lx.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+R.name+"</span> "+R.email+" <br/>"}else this.Lx.innerHTML="Logging In is free. Your environment settings will be synchronized across all devices. <br/>";
var Z=Gx.pw()&&Gx.Js();this.VJ.G.style.display=Z?"block":"none";if(Z){var B=parseInt(R[X.i_("!&|'&50")])-Date.now()*(1/1e3),o=parseInt(R.ptype),r;
if(o==-1)r="member of a team";else if(o==1)r="Single user";else r="Team of "+o;this.VJ.FS("Premium active for "+Math.round(B/(60*60*24))+" more days! ("+r+")")}var Y=Gx.pw()&&R.distrib*1e3>Date.now();
this.Vi.G.style.display=Y?"block":"none";if(Y){var B=parseInt(R.distrib)-Date.now()/1e3,o=parseInt(R.ptype);
this.Vi.FS("Distributor active for "+Math.round(B/(60*60*24))+" more days! ("+o+" visitos)")}var E=Gx.tI();
if(E&&E.acc&&E.acc.team){var p=E.acc.team;this.Av.o(p.jin);this.WK.o(!p.jin);this.VN.o(p.ldr);this.zC.value=p.mmb.join(", ")}else{this.Av.o(!0);
this.WK.o(!1);this.VN.o("");this.zC.value=""}if(E&&E.acc&&E.acc.dname)this.VU.o(E.acc.dname);else this.VU.o("")};
Rn.ml.prototype.Ozq=function(R,Z){var B=X.T("table");B.innerHTML="\t\t\t\t<table>\t\t\t\t\t<tr>   <th class=\"left\"></th><th>30 days</th><th>90 days</th> "+(R==3?"<th>365 days</th>":"")+" </tr>\t\t\t\t</table>\t\t\t";
for(var o=0;o<Z.length;o+=R+1){var r=X.T("tr"),Y;B.appendChild(r);Y=X.T("td","left");r.appendChild(Y);
Y.innerHTML="<b>"+Z[o]+"</b>";for(var E=0;E<R;E++){Y=X.T("td");r.appendChild(Y);Y.appendChild(Z[o+1+E].G)}}return B};
Rn.ml.prototype.OKk=function(R){var Z=this.s_.indexOf(R.currentTarget);if(!Gx.pw()){alert("You must log in before buying Premium");
return}if(this.OJn.M()==!1&&Z<9){alert("You must accept Terms of Service");return}var B=this.OOl[Z],o=B[1],r=B[2],Y=Gx.pw()&&Gx.Js();
if(Y&&r<1e3){alert("You already have premium.");return}Gx.order(o,r,this.zF.bind(this));this.zm()};Rn.ml.prototype.zF=function(R){if(Gx.pw()&&Gx.oM().msg)alert(Gx.oM().msg);
this.qD();this.zm()};Rn.ml.prototype.aX=function(R){if(Gx.pw()){Gx.OUp();this.zm();this.qD(null,null,null)}else Gx.aX(this.OKB.bind(this))};
Rn.ml.prototype.OKB=function(){var R=new n(X.E.K,!0);R.data={d:X.l.OyD};this.j(R)};Rn.ml.prototype.zm=function(){var R=new n(X.E.K,!0);
R.data={d:X.l.OBN};this.j(R)};Rn.wx=function(R){Gt.call(this);this.G=X.T("div");var Z=this.G,B=this.Oyq=new Gz([0,13,2],!1,null,!0);
B.v("click",this.OKf,this);Z.appendChild(B.G);var o=X.T("div","");o.innerHTML=R;Z.appendChild(o)};Rn.wx.prototype=new Gt;
Rn.wx.prototype.OKf=function(R){var Z=new n("showpage",!0);Z.data={qp:0};this.j(Z)};Rn.wx.prototype.c=function(){this.Oyq.c()};
Rn.OkE="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is a service operated by Ivan Kuckir (I\u010C 04498411).</p>\t\t<ul>\t\t\t<li><b>Address</b>: H\xE1lkova 483, Kostelec nad Orlic\xED, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com</li>\t\t\t<li><b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<p>You can ask for a refund by writing us an email.</p>\t\t<p>You can pay with PayPal or your credit / debit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t";
Rn.OkV="\t\t<h1>Terms of Service</h1>\t\t\t\t<h2>What are these Terms?</h2>\t\t<p>\t\tThese terms form a binding contract between you and us (\"these Terms\") regarding your access to and use of any of our web sites, \t\tweb applications, services, products and Software that contain a link to these Terms (individually and collectively, the \"Service\"). \t\t</p>\t\t\t\t<h2>Changes to the Service or these Terms</h2>\t\t<p>\t\tWe may make changes to, update (or not update) or discontinue any part, element, functionality, availability or offering of the Service.\t\tWe may also make changes or updates to these Terms at any time and for any reason in our sole discretion, including complying with applicable law. \t\tIf we make any material changes to these Terms, we\u2019ll provide notice to you in any way we deem reasonable including, for example, \t\tby posting a notice of the change on our web site(s) or in-service, or by sending a notice to your email address if you\u2019ve given it to us.\t\t</p>\t\t\t\t<h2>Your content</h2>\t\t<p>\t\tThese Terms don\u2019t grant us (and we don\u2019t claim) any ownership rights in Your Content.\t\t</p>\t\t<p>\t\t<b>Posting Your Content.</b> By sharing, publishing (e.g. through Imgur), distributing or allowing others to \t\taccess Your Content through the Service You are solely responsible for the consequences of doing so and you acknowledge \t\tand agree that Your Content may be viewed worldwide. If you choose to make your personal information publicly available through the Service, \t\tyou do so at your own risk. You warrant that you have obtained all necessary licenses, \t\trights and permissions to use and grant all of the rights granted in these Terms\t\tto Your Content and that you will comply with any requirements or restrictions imposed by them.\t\t</p>\t\t<!--\t\t<p>\t\tWe have the right (but not the obligation) to pre-screen or monitor any Content or any user's access to the Service,\t\tand to remove or block access to any Content for any reason, or suspend or terminate any user's access to the Service for any reason. \t\tWe have no responsibility or liability with respect to any Content, including for any actions that we may take with respect \t\tto any Content that we determine violates these Terms.\t\t</p>\t\t-->\t\t\t\t<h2>Registering for the Service</h2>\t\t<p>\t\tYou may be required or permitted to register with us to access the Service or certain areas of the Service.\t\tYou agree to immediately notify us of any unauthorized use of your registration information (including all purchases).  \t\tYou may also be able to sign into the Service by using a third-party social networking platform account \t\t(such as Facebook, Google+ or Twitter). Your registration information (including your user name and password, \t\tand any social networking account with which you sign into the Service) is for your personal use only, and not for use by any other person. \t\tYou are responsible for maintaining the confidentiality of any password you may use to access the Service, and agree not to transfer your password or user name\t\tto any third party. You are fully responsible for all use of your registration information, \t\tand to ensure that you \"log out\"/exit from your account with the Service (if applicable) \t\tat the end of each session. We are not liable for any loss or damage arising from your failure to comply with any of the foregoing obligations. \t\t</p>\t\t\t\t<h1>Privacy Policy</h1>\t\t\t\t<p>\t\tBy voluntarily providing us with Personal Data, you are consenting to our use of it in accordance with this Privacy Policy. \t\tIf you provide Personal Data to the Service, you acknowledge and agree that such Personal Data may be transferred from your current location to our servers.\t\t</p>\t\t<p>Computer information collected:</p>\t\t\t\t<ul>\t\t\t\t<li><b>Third party tracking tools.</b> We use third party tracking tools to improve the performance and features of the Service (e.g. Google Analytics).\t\t\t\tSuch tools are created and managed by parties outside our control. As such, we are not responsible for what information is actually captured by such third parties \t\t\t\tor how such third parties use and protect that information.</li>\t\t\t\t\t\t\t\t<li><b>Name and email for the authorization.</b> You may use third-party services (such as Facebook or Google) to log into the Service. \t\t\t\tIn such case, we store your name and email address, that were provided to us by third-party services.</li>\t\t\t\t\t\t\t\t<li><b>Environment settings.</b> When you use the Service, environment settings (e.g. current language, current color theme) \t\t\t\tare stored at your computer in \"localData\".\t\t\t\tIt helps us provide you the same environment when you visit the Service next time.<br/>\t\t\t\tWhen you log into the Service, your environemnt settings are stored at our server. \t\t\t\t</li>\t\t\t\t\t\t\t\t<li><b>Payer information.</b> When you make an order inside the Service and you pay through a third-party service (e.g. PayPal), \t\t\t\twe may store the information about the payer, that we may receive from the third-party service \t\t\t\t(it usually contains the name, the email address and the physical address of the payer, but no card nambers or passwords).</li>\t\t</ul>\t\t\t\t";
function RP(){Gr.call(this,[11,14],"addguides");this.xG;this.$V={Al:{zn:0}};this.CL=null;var R=X.T("div","form");
this.body.appendChild(R);this.FN=new EU([22,4,0],null,16);this.FN.v(X.E.Q,this.rl,this);this.Wr=new EU([22,4,1],null,16);
this.Wr.v(X.E.Q,this.rl,this);this.Cn=new Oq(null,O.uO.OD);this.Cn.v(X.E.Q,this.rl,this);R.appendChild(this.FN.G);
R.appendChild(this.Cn.G);X.Ax(R);R.appendChild(this.Wr.G);this.cT=new Gz("OK",!0,null,!0);this.cT.v("click",this.Hf,this);
R.appendChild(this.cT.G);this.v("closebtn",this.OkY,this)}RP.prototype=new Gr;RP.prototype.Ts=function(R,Z){return R!=null};
RP.prototype.uC=function(){return!0};RP.prototype.c=function(){Gr.prototype.c.call(this);this.FN.c();
this.Wr.c();this.Cn.c()};RP.prototype.lU=function(R,Z){var B=R.Al.zn;this.$V.Al.zn=B;this.Cn.o(B)};RP.prototype.qD=function(R,Z){this.xG=R;
this.CL=JSON.stringify(R.Vw);this.$h()};RP.prototype.$h=function(){var R=this.xG,Z=R.Vw,B=function(o,R,r,Y){var E=[];
for(var p=0;p<o.length;p++)E.push(O.uO.Tk(o[p],R.ag,r,Y));return E.join(", ")};this.FN.o(B(Z[1],R,this.$V,R.Z));
this.Wr.o(B(Z[0],R,this.$V,R.Y))};RP.prototype.rl=function(R){if(R&&R.currentTarget==this.Cn)this.$V.Al.zn=this.Cn.M();
else{var Z=this.OiL(this.FN),B=this.OiL(this.Wr),o=this.xG;o.Vw=[B,Z];o.Xl=!0}this.$h()};RP.prototype.OiL=function(R){var Z=R==this.FN?this.xG.Z:this.xG.Y,B=R.M().replace(/,/g," ").replace(/  +/g," ").trim(),o=B==""?[]:B.split(" ");
for(var r=0;r<o.length;r++)o[r]=O.uO.Oqq(o[r],this.xG.ag,this.$V,Z);return o};RP.prototype.OkY=function(R){var Z=this.xG;
Z.Vw=JSON.parse(this.CL);Z.Xl=!0;this.xG=null};RP.prototype.Hf=function(R){this.rl(R);var Z=new n(X.E.$,!0);
Z.B=A.tY;Z.data={d:"gids",IQ:JSON.parse(this.CL),ZW:JSON.parse(JSON.stringify(this.xG.Vw))};this.xG=null;
this.close();this.j(Z)};function Oz(R){var Z=Go.names[R];if(Z==null)Z=GK.names[R];if(R=="fade")Z=[2,11];
Gr.call(this,Z,"afw_"+R);this.Ln=R;this.Ap=null;this.Cl=null;this.K_=new b[R];this.K_.v(X.E.Q,this.wV,this);
this.K_.parent=this;this.body.appendChild(this.K_.G);this.UP=new Ol([24,18,5]);this.UP.o(!0);this.UP.v(X.E.Q,this.wV,this);
this.ODl=new Gz("Reset",!0,null,!0);this.ODl.v("click",this.wt,this);this.cT=new Gz("OK",!0,null,!0);
this.cT.v("click",this.Hf,this);if(this.K_.Oi())this.K_.vP(this.cT.G);else{X.Cy(this.K_.G,"form");X.Cy(this.body,"flexrow");
this.K_.G.setAttribute("style","width:24em");var B=X.T("div");this.body.appendChild(B);B.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");
B.appendChild(this.cT.G);B.appendChild(this.ODl.G);B.appendChild(this.UP.G)}this.v("closebtn",this.Gh,this)}Oz.prototype=new Gr;
Oz.prototype.uC=function(){return!0};Oz.prototype.Oi=function(){return this.K_!=null&&this.K_.Oi()};
Oz.prototype.Ch=function(){return this.K_.Oi()?new VP(0,0):Gr.prototype.Ch()};Oz.prototype.GX=function(){return this.K_.GX()};
Oz.prototype.JH=function(R,Z,B,o,r){this.K_.JH(R,Z,B,o,r)};Oz.prototype.TU=function(R,Z,B,o,r){this.K_.TU(R,Z,B,o,r)};
Oz.prototype.YF=function(R,Z,B,o,r){this.K_.YF(R,Z,B,o,r)};Oz.prototype.Ts=function(R,Z){if(this.Ln=="fade")return Oz.OxL(R);
return!0};Oz.prototype.wt=function(R){this.K_.o(Go.wI(this.Ln));this.wV()};Oz.prototype.wV=function(R){this.Bf({d:"edit",ct:this.K_.M(),Hm:!this.UP.M()})};
Oz.prototype.Gh=function(R){this.Bf({d:"cancel"})};Oz.prototype.Hf=function(R){if(!this.UP.M()){this.UP.o(!0);
this.wV()}this.Cl=this.K_.M();if(this.Oi())this.wV();this.Bf({d:"confirm"});this.close()};Oz.prototype.c=function(){Gr.prototype.c.call(this);
this.UP.c();if(this.K_)this.K_.c()};Oz.prototype.lU=function(R,Z){if(this.K_)this.K_.lU(R,Z)};Oz.prototype.oZ=function(R,Z,B,o){if(this.K_&&this.K_.Oi())this.K_.oZ(o);
else Gr.prototype.oZ.call(this,R,Z,B,o)};Oz.prototype.qD=function(R,Z,B,o){this.Ap=Z.Ap;var r=R.add.lnk2?R.add.lnk2:[],Y,E,p=new N(0,0,R.Y,R.Z),y=R.q[R.C[0]],z=null;
Y=y.buffer;E=y.rect;if(this.Oi())z=R.fw(R.C[0]-1);var u=Go.wI(this.Ln);if(Z.Ap==null){this.K_.o(u,Y,E,p,z,r);
if(GK.names[this.Ln]){if(o.R(a.yt)&&this.Cl)this.K_.o(this.Cl);var Q=Oi.Bi.getData(R),H=O.fy(Q[0].Gp);
this.K_.KY(H)}}else{var T=!1,y=R.q[this.Ap.r];if(y.by()){var C=y.YQ(R);Y=C.buffer;E=C.rect;var e=y.add.SoLd.filterFX.v.filterFXList.v;
if(e[this.Ap.index]){var $=e[this.Ap.index].v.Fltr.v;this.K_.o($,Y,E,p,z,r);T=!0}}if(!T)this.K_.o(u,Y,E,p,z,r)}if(!this.Oi())this.wV()};
Oz.prototype.Bf=function(R){var Z=new n(X.E.$,!0);R.Ln=this.Ln;R.Ap=this.Ap;Z.data=R;Z.B=Go.names[this.Ln]||this.Ap?A.Uz:A.Pl;
Z.XA=!0;this.j(Z)};Oz.prototype.YH=function(R,Z){Z=Z-26;R=R-26;this.K_.YH(R,Z)};Oz.OxL=function(R){if(R==null)return!1;
var Z=R.lp();if(Z==null||!(Z.data instanceof Array)||Z.data.length!=R.C.length)return!1;for(var B=0;
B<Z.data.length;B++){var o=Z.data[B];if(o.r<0&&R.tP[-1-o.r])return!0;if(o.r==null||R.q[o.r]==null||R.q[o.r].Fv!=o.rX)return!1;
if(R.C.indexOf(o.r)==-1)return!1}return!0};function Od(){Gr.call(this,[11,0],"camera");this.data=null;
this.Ct=new VP(1,1);this.ai=X.T("div","form hbar");this.body.appendChild(this.ai);this.OWv=new Oq(null,[]);
this.As=new Oq([21,0],[[21,2],[21,1]]);this.ai.appendChild(this.As.G);this.CN=new Gz([11,0],!1,null,!0);
this.CN.v("click",this.Oka,this);this.ai.appendChild(this.CN.G);this.Cv=new Yi("");this.ai.appendChild(this.Cv.G);
this.Cv.G.setAttribute("style","position:absolute;  left:14px; top:70px; z-index:1;");this.stream=null;
this.jD=X.T("video","");this.jD.setAttribute("autoplay","true");this.body.appendChild(this.jD);this.ODH=this.OkA.bind(this);
this.ODP=this.OkL.bind(this);this.OyW=this.Oeh.bind(this);this.v("closebtn",this.Okf,this)}Od.prototype=new Gr;
Od.prototype.c=function(){Gr.prototype.c.call(this);this.As.c();this.CN.c();this.Oeh()};Od.prototype.fw=function(){var R=this.jD.videoWidth,Z=this.jD.videoHeight,B=X.T("canvas","");
B.width=R;B.height=Z;var o=B.getContext("2d");o.drawImage(this.jD,0,0,R,Z);var r=o.getImageData(0,0,R,Z);
return{Ix:new N(0,0,R,Z),data:r.data.buffer}};Od.prototype.Oka=function(R){if(this.As.M()==0)this.Okw();
else this.OkI()};Od.prototype.OkI=function(){var R=this.fw(),Z={buffer:new Uint8Array(R.data),rect:R.Ix},B=new n(X.E.$,!0);
B.XA=!0;B.B=A.zr;B.data={d:S.aQ,Ev:Z};this.j(B);alert(Ok.get([21,4]))};Od.prototype.Okw=function(){var R=this.fw(),Z=Ya.Ao("camera",[R]),B=new n(X.E.K,!0);
B.data={d:X.l.ii,qC:Z};this.j(B);alert(Ok.get([21,5]))};Od.prototype.qD=function(R,Z,B){var o={video:{width:{ideal:6e3},height:{ideal:6e3}}};
if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(o).then(this.ODH).catch(this.ODP);
else navigator.webkitGetUserMedia(o,this.ODH,this.ODP)};Od.prototype.OkA=function(R){this.stream=R;this.jD.srcObject=R;
this.jD.addEventListener("loadedmetadata",this.OyW,!1)};Od.prototype.Oeh=function(R){this.YH(this.ZA,this.N$)};
Od.prototype.Ch=function(R,Z){return new VP(0,0)};Od.prototype.YH=function(R,Z){var B=this.jD.videoWidth,o=this.jD.videoHeight;
this.Cv.o(B+" x "+o+" px");this.Ct.wh(B,o);this.ZA=R;this.N$=Z;var r=R-28,Y=Z-28-30,E=this.Ct.x/this.Ct.y;
if(r/Y>E)r=Y*E;else Y=r/E;this.jD.setAttribute("style","display: block; width: "+Math.round(r)+"px; height:"+Math.round(Y)+"px;")};
Od.prototype.OkL=function(R){console.log("error",R);alert(Ok.get([21,6]));this.close()};Od.prototype.Okf=function(R){if(this.stream!=null){this.stream.getTracks()[0].stop();
this.jD.src="";this.stream=null}};function XW(){Gr.call(this,[7,8],"crange");this.xG=null;this.V$={wi:73,t:4.45,X:4};
this.Vx={wi:73,t:4.45,X:4};var R=X.T("div","form");R.setAttribute("style","width:18em");this.body.appendChild(R);
this.CP=new Gp([12,92],0,200);this.CP.o(40);this.CP.v(X.E.Q,this.XT,this);R.appendChild(this.CP.G);this.Fy=X.T("canvas");
R.appendChild(this.Fy);this.Cz=new Eo([12,36],[[18,0],"\uFF0B","\u2014"]);R.appendChild(this.Cz.G);this.Og=new Gz("OK",!0,null,!0);
this.Og.v("click",this.Hf,this);this.body.appendChild(this.Og.G)}XW.prototype=new Gr;XW.prototype.Ts=function(R,Z){return R!=null};
XW.prototype.GX=function(){return!0};XW.prototype.uC=function(){return!0};XW.prototype.c=function(){Gr.prototype.c.call(this);
this.CP.c();this.Cz.c()};XW.prototype.JH=function(R,Z,B,o,r){var Y=R.w.JQ(r.x,r.y);this.OKW(Y.x,Y.y)};
XW.prototype.OKW=function(R,Z){var B=Math.min,o=Math.max,r=this.xG,Y=o(0,B(r.Y-1,Math.floor(R))),E=o(0,B(r.Z-1,Math.floor(Z))),p=r.fw(),y=(E*r.Y+Y)*4,z=p[y],u=p[y+1],Q=p[y+2],H=O.MO(z,u,Q),T=this.Cz.M(),C=this.V$,e=this.Vx;
if(T==0){this.V$=JSON.parse(JSON.stringify(H));this.Vx=H}else if(T==1){C.wi=B(C.wi,H.wi);C.t=B(C.t,H.t);
C.X=B(C.X,H.X);e.wi=o(e.wi,H.wi);e.t=o(e.t,H.t);e.X=o(e.X,H.X)}else if(T==2){var $=(C.wi+e.wi)/2,x=(C.t+e.t)/2,M=(C.X+e.X)/2;
if(H.wi<$)C.wi=o(C.wi,H.wi+10);else e.wi=B(e.wi,H.wi-10);if(H.t<x)C.t=o(C.t,H.t+1);else e.t=B(e.t,H.t-1);
if(H.X<M)C.X=o(C.X,H.X+1);else e.X=B(e.X,H.X-1)}this.XT()};XW.prototype.Hf=function(R){var Z=new n(X.E.$,!0);
Z.B=A.tz;Z.data={d:"crange",Rt:this.V$,Rz:this.Vx,Ud:this.CP.M()/200};Z.XA=!0;this.j(Z);this.close()};
XW.prototype.qD=function(R,Z){this.xG=R;this.OKW(0,0)};XW.prototype.XT=function(){var R=this.xG,Z=A.hs.Oax(R,this.V$,this.Vx,this.CP.M()/200),B=Z.rect,o=Z.channel,r=this.Fy,Y=r.getContext("2d"),E=Math.floor(230*X.D()),p=Math.floor(E*(B.Z/B.Y));
r.width=E;r.height=p;X.Hw(r,E,p);var y=O.a(o.length*4);O.yg(y,4294967295);for(var z=0;z<3;z++)O.qH(o,y,z);
var u=A.HQ.q$([y,B],new GN(E/B.Y,0,0,p/B.Z,0,0)),Q=u.rect,H=new ImageData(new Uint8ClampedArray(u.buffer.buffer),Q.Y,Q.Z);
Y.putImageData(H,0,0)};function Ot(){Gr.call(this,[12,76,1],"createshape");this.j_=null;var R=X.T("div","form");
R.setAttribute("style","width:20em");this.body.appendChild(R);this.HX=new OH([12,41],0,0,null,0,!1,!0);
R.appendChild(this.HX.G);X.Ax(R);this.FN=new OH([12,42],0,0,null,0,!1,!0);R.appendChild(this.FN.G);X.Ax(R);
this.Ci=new Ol([19,5,3]);R.appendChild(this.Ci.G);this.HX.o(100);this.FN.o(100);this.cT=new Gz("OK",!0,null,!0);
this.cT.v("click",this.Hf,this);R.appendChild(this.cT.G)}Ot.prototype=new Gr;Ot.prototype.Hf=function(R){this.j_.O$m(this.j_.O$d,this.HX.M(),this.FN.M(),this.Ci.M());
this.close()};Ot.prototype.c=function(){if(this.j_)this.Vt=Ok.get([5,3])+": "+Ok.get(this.j_.O$C);Gr.prototype.c.call(this);
this.HX.c();this.FN.c();this.Ci.c()};Ot.prototype.qD=function(R,Z){this.j_=Z;this.c()};function Ou(){Gr.call(this,[11,1],"colorpicker");
this.Wp=null;this.Lu=null;this.LP=null;this.AH=!1;this.Xn=!1;var R=X.T("div","flexrow"),Y,E;this.body.appendChild(R);
this.jn=new Vs(256);this.jn.v(X.E.Q,this.iX,this);R.appendChild(this.jn.G);var Z=X.T("div","form");Z.setAttribute("style","width:14.5em; margin-left:1em;");
R.appendChild(Z);this.Oqh=X.T("div","full");Z.appendChild(this.Oqh);this.Oqv=X.T("div","full");Z.appendChild(this.Oqv);
var B=X.T("div","flexrow");Z.appendChild(B);var o=X.T("div"),r=X.T("div");B.appendChild(o);B.appendChild(r);
Y=["R","G","B"];E=o;this.C$=[];for(var p=0;p<3;p++){var y=new OH(Y[p]+":",0,255,null,0,!1,!0);this.C$.push(y);
y.v(X.E.Q,this.OkJ,this);E.appendChild(y.G)}Y=["H","S","B"];E=r;this.Cx=[];for(var p=0;p<3;p++){var z=0,u=360,Q="\xB0";
if(p!=0){u=100;Q="%"}var y=new OH(Y[p]+":",z,u,Q,0,!1,!0);this.Cx.push(y);y.v(X.E.Q,this.OkN,this);E.appendChild(y.G)}this.FN=new EU("Hex",null,6);
this.FN.v(X.E.Q,this.ia,this);Z.appendChild(this.FN.G);this.cw=X.T("input","fitem");this.cw.setAttribute("type","color");
this.cw.setAttribute("style","width:50px");this.cw.addEventListener("change",this.ia.bind(this),!1);
Z.appendChild(this.cw);this.WH=new XO(9);this.WH.v(X.E.Q,this.ia,this);Z.appendChild(this.WH.G);this.cT=new Gz("OK",!0,null,!0);
this.cT.v("click",this.Hf,this);Z.appendChild(this.cT.G);this.v("closebtn",this.Gh,this);this.VK=!1}Ou.prototype=new Gr;
Ou.prototype.GX=function(){return!0};Ou.prototype.YH=function(R,Z){this.jn.YH(Math.min(256,R-250),Z)};
Ou.prototype.iX=function(R){this.Lu=this.jn.M();this.update()};Ou.prototype.JH=function(R,Z,B,o,r){this.VK=!0;
this.OOi(R,r)};Ou.prototype.TU=function(R,Z,B,o,r){if(!this.VK)return;this.OOi(R,r)};Ou.prototype.YF=function(R,Z,B,o,r){this.VK=!1};
Ou.prototype.OOi=function(R,Z){var B=A.WC.Gx(R,Z,1),o=B&255,r=B>>8&255,Y=B>>16&255;this.Lu={F:Y/255,S:r/255,X:o/255};
this.update()};Ou.prototype.OkJ=function(R){var Z=this.C$,B=this.WL(parseInt(Z[0].M())),o=this.WL(parseInt(Z[1].M())),r=this.WL(parseInt(Z[2].M()));
this.Lu={F:B/255,S:o/255,X:r/255};this.update()};Ou.prototype.OkN=function(R){var Z=this.Cx,B=this.Ka(parseInt(Z[0].M())/360),o=this.Ka(parseInt(Z[1].M())/100),r=this.Ka(parseInt(Z[2].M())/100);
this.Lu=O.Aa(B,o,r);this.update()};Ou.prototype.ia=function(R){var Z;if(R.currentTarget==this.WH)Z=this.WH.M();
else{Z=R.currentTarget==this.FN?this.FN.M():this.cw.value;if(Z.charAt(0)=="#")Z=Z.slice(1);if(Z.length==3)Z=Z[0]+Z[0]+Z[1]+Z[1]+Z[2]+Z[2];
Z=O.OYa(Z)}this.Lu={F:(Z>>16&255)/255,S:(Z>>8&255)/255,X:(Z&255)/255};this.update()};Ou.prototype.TO=function(R){var Z=R.F,B=R.S,o=R.X;
return Math.round(Z*255)<<16|Math.round(B*255)<<8|Math.round(o*255)};Ou.prototype.Hf=function(R){this.OO$();
var Z=this.TO(this.Lu);this.LP(Z);this.close();this.Xn=!1;this.Lu=null};Ou.prototype.Gh=function(R){this.OO$();
if(this.AH)this.LP(this.TO(this.Wp));this.Xn=!1;this.Lu=null};Ou.prototype.OO$=function(R){var Z=new n(X.E.K,!0);
Z.data={d:X.l.ONr};this.j(Z)};Ou.prototype.lU=function(R,Z){if(Z!=GG.IU)return;var B=R.Ky;this.WH.o(B);
if(this.Lu!=null){this.Lu={F:(B>>16&255)/255,S:(B>>8&255)/255,X:(B>>0&255)/255};this.update()}};Ou.prototype.qD=function(R,Z){var B=Z.Oq,o={F:(B>>16&255)/255,S:(B>>8&255)/255,X:(B>>0&255)/255};
if(this.Lu==null){var r=new n(X.E.K,!0);r.data={d:X.l.Fj,JX:"crosshair",push:!0};this.j(r);this.VK=!1;
this.LP=Z.QF;this.AH=!1;this.Xn=Z.bZ;this.Wp=JSON.parse(JSON.stringify(o));this.Oqv.setAttribute("style","height:3em;background-color:#"+O.ue(B)+";")}this.Lu=o;
this.update()};Ou.prototype.update=function(){var R=this.Lu,Z=this.TO(R),B=this.C$;B[0].o(Math.round(R.F*255));
B[1].o(Math.round(R.S*255));B[2].o(Math.round(R.X*255));this.FN.o(O.ue(Z));this.cw.value="#"+O.ue(Z);
this.Oqh.setAttribute("style","height:3em;background-color:#"+O.ue(Z)+";");var o=O.Jn(R.F,R.S,R.X);B=this.Cx;
B[0].o(Math.round(o.N$*360));B[1].o(Math.round(o.tH*100));B[2].o(Math.round(o.ct*100));this.jn.o(R);
if(this.Xn){this.LP(this.TO(this.Lu));this.AH=!0}};Ou.prototype.WL=function(R){return Math.max(0,Math.min(255,R))};
Ou.prototype.Ka=function(R){return Math.max(0,Math.min(1,R))};function Xs(){Gr.call(this,[11,2],"contoureditor");
this.OqH=null;this.tF=null;this.response=null;this.rF=X.T("div","cell");this.body.appendChild(this.rF);
this.sf=X.T("div","cell padded");this.body.appendChild(this.sf);var R=X.T("div","bordered padded vmargin");
this.rF.appendChild(R);this.K_=new RU;this.K_.v(X.E.Q,this.zq,this);R.appendChild(this.K_.G);this.cT=new Gz("OK",!0,null,!0);
this.cT.v("click",this.close,this);this.sf.appendChild(this.cT.G);this.coords=X.T("div","");this.coords.setAttribute("style","width:250px");
this.rF.appendChild(this.coords);this.II=new EU("X (in)","%",4);this.wB=new EU("Y (out)","%",4);this.WF=new Ol([19,3,0]);
this.II.v(X.E.Q,this.iB,this);this.wB.v(X.E.Q,this.iB,this);this.WF.v(X.E.Q,this.iB,this);this.coords.appendChild(this.II.G);
this.coords.appendChild(this.WF.G);this.coords.appendChild(this.wB.G);this.v("closebtn",this.uc,this)}Xs.prototype=new Gr;
Xs.prototype.c=function(){Gr.prototype.c.call(this);this.WF.c()};Xs.prototype.zq=function(R){this.tF.Crv.v=this.K_.M();
this.response(this.tF);this.ij()};Xs.prototype.uc=function(R){this.response(this.OqH)};Xs.prototype.qD=function(R,Z){this.OqH=JSON.parse(JSON.stringify(Z.p));
this.tF=Z.p;this.response=Z.response;this.K_.o(this.tF.Crv.v);this.ij()};Xs.prototype.ij=function(){var R=this.K_.OS_();
this.coords.setAttribute("class",R==-1?"disabled":"");if(R==-1)return;var Z=this.tF.Crv.v[R].v;this.II.o(Math.round(Z.Hrzn.v*(100/255)));
this.wB.o(Math.round(Z.Vrtc.v*(100/255)));this.WF.o(Z.Cnty.v)};Xs.prototype.iB=function(R){var Z=this.K_.OS_(),B=this.tF.Crv.v[Z];
B.v.Hrzn.v=parseFloat(this.II.M())*(255/100);B.v.Vrtc.v=parseFloat(this.wB.M())*(255/100);B.v.Cnty.v=this.WF.M();
this.tF.Crv.v.sort(function(o,r){return o.v.Hrzn.v-r.v.Hrzn.v});this.K_.o(this.tF.Crv.v,this.tF.Crv.v.indexOf(B));
this.ij();this.response(this.tF)};function Xg(){Gr.call(this,[11,3],"csize");this.Cp=0;this.ai=X.T("div","form");
this.ai.setAttribute("style","width:22em");this.body.appendChild(this.ai);this.es=new Vn(!0,!0,!0,!0);
this.es.Oix(!1);this.ai.appendChild(this.es.G);this.CZ=new Eo("Align with",[[8,7],[12,6]]);this.CZ.v(X.E.Q,this.Okv,this);
this.Wc=new XY([12,23,2],41);this.ai.appendChild(this.Wc.G);this.Wc.o(4);this.Cu=new XD(!1);this.Cu.Oio(new VP(0,0));
this.Og=new Gz("OK",!0,null,!0);this.Og.v("click",this.Hf,this);this.body.appendChild(this.Og.G)}Xg.prototype=new Gr;
Xg.prototype.Ts=function(R,Z){return R!=null};Xg.prototype.uC=function(){return!0};Xg.prototype.Okv=function(){var R=[this.Wc.G,this.Cu.G];
this.ai.removeChild(R[this.Cp]);this.Cp=this.CZ.M();this.ai.appendChild(R[this.Cp])};Xg.prototype.c=function(){Gr.prototype.c.call(this);
this.es.c();this.CZ.c();this.Wc.c();this.Cu.c()};Xg.prototype.Hf=function(R){var Z=this.es.M(),B=Z.x,o=Z.y,r=new n(X.E.e_,!0);
r.data=A.bG.Oa$(B,o,this.Wc.M());this.close();this.j(r)};Xg.prototype.qD=function(R,Z){this.es.o(new VP(R.Y,R.Z),R.ag)};
function yh(){Gr.call(this,[11,4],"duplinto");this.Up=null;this.pQ=null;var R=X.T("div","form");R.setAttribute("style","max-width:26em");
this.body.appendChild(R);this.AF=new Oq([12,43],["abc","def"]);this.AF.v(X.E.Q,this.OOo,this);R.appendChild(this.AF.G);
X.Ax(R);this.Dl=new EU([12,48],null,14);R.appendChild(this.Dl.G);this.cT=new Gz("OK",!0,null,!0);this.cT.v("click",this.Hf,this);
R.appendChild(this.cT.G)}yh.prototype=new Gr;yh.prototype.uC=function(){return!0};yh.prototype.c=function(){Gr.prototype.c.call(this);
this.AF.c();this.Dl.c()};yh.prototype.OOo=function(R){var Z=this.AF.M();if(Z==this.pQ.length)this.Dl.lv();
else this.Dl.uE()};yh.prototype.qD=function(R,Z,B){this.Up=R;this.pQ=B;this.Dl.o(R.C.length==0?"Layer":R.q[R.C[0]].getName());
var o=[];for(var r=0;r<B.length;r++)o.push(B[r].name);o.push([11,7]);this.AF.Hp(o);this.AF.o(B.indexOf(R));
this.OOo(null)};yh.prototype.Hf=function(R){var Z=this.AF.M();if(Z==this.pQ.length){var B=new GF(this.Dl.M()+".psd");
B.Y=this.Up.Y;B.Z=this.Up.Z;B.buffer=O.a(B.Y*B.Z*4);var o=B.xE();o.AA("Background");B.Kz([o]);var r=new n(X.E.K,!0);
r.XA=!0;r.data={d:X.l.ii,qC:B};this.j(r)}var Y=this.Up.IG(null,this.Up!=this.pQ[Z]),r=new n(X.E.$,!0);
r.data={d:S.aT,q:Y,wm:this.Up,PE:this.pQ[Z]};r.B=A.zr;r.XA=!0;this.j(r);this.close()};function Xu(){Gr.call(this,[1,9],"eassets");
this.$V=null;this.mf=null;var R=X.T("div","form");R.setAttribute("style","width:32em");this.body.appendChild(R);
this.ef=X.T("span");R.appendChild(this.ef);X.Ax(R);this.Yn=[new Ol("Only layers / folders, whose name starts with \"-e-\""),new Ol("Remove parts outside the canvas"),new Ol("Trim transparent parts")];
for(var Z=0;Z<3;Z++){var B=this.Yn[Z];B.o(!0);B.v(X.E.Q,this.$h,this);R.appendChild(B.G);X.Ax(R)}this.VZ=new Xh([12,14,0],["1x","2x","3x","4x"]);
this.VZ.o([!0,!1,!1,!1]);R.appendChild(this.VZ.G);X.OaC(R);this.CQ=["PNG","JPG","SVG"];this.NG=new Oq([12,50],this.CQ);
this.NG.v(X.E.Q,this.OVi,this);R.appendChild(this.NG.G);this.EB=new jV;R.appendChild(this.EB.G);this.Og=new Gz([1,9],!0,null,!0);
this.Og.v("click",this.Hf,this);R.appendChild(this.Og.G);this.v("closebtn",this.ws,this)}Xu.prototype=new Gr;
Xu.prototype.OVi=function(R){this.EB.OtS(this.CQ[this.NG.M()])};Xu.prototype.ws=function(R){this.mf=null};
Xu.prototype.c=function(){Gr.prototype.c.call(this);this.NG.c();this.VZ.c();this.Og.c();this.EB.c()};
Xu.prototype.qD=function(R,Z,B){this.mf=R;this.$h()};Xu.prototype.$h=function(R){var Z=this.OGp(),B="- - - "+Z.length+" exportable layers";
this.ef.textContent=B;this.OVi(null)};Xu.prototype.OGp=function(){var R=this.Yn[0].M(),Z=[],B=this.mf;
for(var o=0;o<B.q.length;o++){var r=B.q[o],Y=r.getName();if(!R&&!r.av()&&!r.rect.Pa()||Y.startsWith("-e"))Z.push(o)}return Z};
Xu.prototype.lU=function(R,Z){this.$V=R};Xu.prototype.Hf=function(R){var Z=this.mf,B=[this.CQ[this.NG.M()]],o=[this.EB.M()],r=this.VZ.M(),Y={},E={},p=this.OGp(),y=[this.Yn[1].M(),this.Yn[2].M()];
for(var z=0;z<p.length;z++){var u=p[z],Q=Z.q[u],H=Q.getName();if(E[H]!=null){E[H]++;H+=" "+E[H]}else E[H]=1;
var T=Q.YT();Q.eM(!0);for(var C=0;C<r.length;C++){if(!r[C])continue;var e=C+1,$=A.ub.Oyk(Z,B,e,this.$V,u,o,y);
for(var x=0;x<B.length;x++){var M=B[x],m=H.slice(H.startsWith("-e-")?3:0)+(e==1?"":"-"+e+"x")+"."+M.toLowerCase();
Y[m]=new Uint8Array($[x])}}Q.eM(T)}var G=UZIP.encode(Y),K=new n(X.E.K,!0);K.data={d:X.l.Bx,data:G,name:"assets.zip"};
this.j(K)};function yj(){Gr.call(this,"File Info","finfo");this.cO=null;this.vm=null;this.cR=null;this.ai=X.T("div","form scrollable label12");
this.ai.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");this.body.appendChild(this.ai);
var R=X.T("div","form");this.body.appendChild(R);this.Vo=new Oq(null,["Hello"]);R.appendChild(this.Vo.G);
this.OWB=new Gz("Add Parameter",!1,null,!0);R.appendChild(this.OWB.G);this.OWB.v("click",this.GJ,this);
this.VM=new Gz("=== S A V E ===",!1,null,!0);R.appendChild(this.VM.G);this.VM.v("click",this.ic,this);
this.OWz=""}yj.prototype=new Gr;yj.prototype.Ch=function(R,Z){return R<450||Z<450?new VP(0,0):new VP(150,100)};
yj.prototype.GJ=function(R){if(this.cR.length==0)return;var Z=this.cR[this.Vo.M()],B=this.iP();B[Z]=Ei.Vs[Z][0];
this.TG(B);this.vm[Z].G.scrollIntoView();this.vm[Z].rE()};yj.prototype.wu=function(R){var Z=this.iP();
delete Z[R.currentTarget.Oyv];this.TG(Z)};yj.prototype.ic=function(R){var Z=this.iP(),B=this.cO,o=!0;
for(var r in B)if(JSON.stringify(B[r])!=JSON.stringify(Z[r]))o=!1;for(var r in Z)if(JSON.stringify(B[r])!=JSON.stringify(Z[r]))o=!1;
if(o)return;var Y=new n(X.E.$,!0);Y.B=A.zr;Y.data={d:S.FL,BV:Z};this.j(Y);this.cO=Z;this.TG(Z)};yj.Oki=function(R){function Z(r){var Y=r.toLowerCase();
return r==Y}var B=R.split(":").pop();for(var o=1;o<B.length-1;o++){if(B[o]==B[o].toUpperCase()&&(Z(B[o+1])||Z(B[o-1]))){B=B.slice(0,o)+" "+B.slice(o);
o++}}return B};yj.prototype.qD=function(R,Z){this.cO=R.mt;this.TG(R.mt)};yj.prototype.TG=function(R){var Z=this.ai,r=0;
X.vO(Z);var B=this.vm={},o=["tiff","exif","exif:GPS"],Y=this.cR=[],E=[];for(var p in Ei.Vs){var y=yj.Oki(p),z=0,Q=15,H=null;
if(R[p]==null){Y.push(p);E.push(y);continue}for(var u=0;u<o.length;u++)if(p.startsWith(o[u]))z=u;if(z!=r){X.OaC(Z);
r=z}if(p=="tiff:ImageDescription"||p=="dc:Keywords"){Q=18.5;H=3}var T=new EU(y,null,Q,H);B[p]=T;var C=R[p];
if(C instanceof Array)C=C[1]==0?"---":C[0]+"/"+C[1];var e=new Gz("\u2716",null,Ok.get([5,4]));Z.appendChild(e.G);
e.v("click",this.wu,this);e.Oyv=p;T.o(C);Z.appendChild(T.G);X.Ax(Z);if(p=="exif:GPSLongitude"&&R["exif:GPSLatitude"]){this.OWz=yj.OjV(R["exif:GPSLatitude"])+","+yj.OjV(R["exif:GPSLongitude"]);
var $=new Gz("Show on map",!1,null,!0);Z.appendChild($.G);X.Ax(Z);$.v("click",this.OkK,this)}}this.Vo.Hp(E);
this.Vo.o(0)};yj.prototype.iP=function(){var R=this.vm,Z=Ei.Vs,B={};for(var o in Z){var r=Z[o][0],Y=typeof r;
if(r==null||R[o]==null)continue;var E=R[o].M();if(Y=="number")E=parseFloat(E);else if(r instanceof Array&&r.length==2)E=E.split("/").map(parseFloat);
B[o]=E}return B};yj.OjV=function(R){var Z=R.length,B=R.slice(0,Z-1).split(",").map(parseFloat),o=R.slice(Z-1),r=B[0]+B[1]/60+B[2]/3600;
if(o!="N"&&o!="E")r=-r;return r};yj.prototype.OkK=function(R){window.open("https://maps.google.com?q="+this.OWz,"Map")};
function VZ(){Gr.call(this,[11,5],"gradienteditor");this.Wp=null;this.Lu=null;this.Tz=null;this.LP=null;
this.AH=!1;this.Xn=!1;X.Cy(this.body,"form");this.XP=null;this.qJ=null;this.De=-1;this.EH=-1;this.uZ=0;
this.rS=this.hf.bind(this);this.rD=this.GV.bind(this);this.J$=X.T("canvas","");this.wH=this.J$.getContext("2d");
this.J$.setAttribute("style","display:block");this.Dd=null;X.Ed(this.J$);X.dj(this.J$,this.Vm.bind(this));
this.cW=new OH([19,3,3],0,100,"%");this.cW.v(X.E.Q,this.pl,this);this.cW.parent=this;this.body.appendChild(this.cW.G);
X.Ax(this.body);this.lM=new Yi([12,0]);this.body.appendChild(this.lM.G);this.NY=X.T("div","bordered padded noalign");
this.body.appendChild(this.NY);this.dr=new OH([12,0],0,100,"%");this.dr.parent=this;this.dr.v(X.E.Q,this.pl,this);
this.NY.appendChild(this.dr.G);this.lH=new OH([12,40],0,100,"%");this.lH.parent=this;this.lH.v(X.E.Q,this.pl,this);
this.NY.appendChild(this.lH.G);this.Vc=new Gz([5,4],!1,null,!0);this.Vc.v("click",this.Ojg,this);this.NY.appendChild(this.Vc.G);
this.body.appendChild(this.J$);X.Ax(this.body);this.OWu=new Yi([13,0]);this.body.appendChild(this.OWu.G);
this.Wv=X.T("div","bordered padded noalign");this.body.appendChild(this.Wv);this.Gq=new Oq([12,44],[[12,45],[12,46],[12,47]]);
this.Gq.v(X.E.Q,this.pl,this);this.Wv.appendChild(this.Gq.G);this.oC=new EN(!0);this.oC.parent=this;
this.oC.v(X.E.Q,this.pl,this);this.Wv.appendChild(this.oC.G);this.lb=new OH([12,40],0,100,"%");this.lb.parent=this;
this.lb.v(X.E.Q,this.pl,this);this.Wv.appendChild(this.lb.G);this.GO=new Gz([5,4],!1,null,!0);this.GO.v("click",this.OIa,this);
this.Wv.appendChild(this.GO.G);this.cT=new Gz("OK",!0,null,!0);this.cT.v("click",this.Hf,this);this.body.appendChild(this.cT.G);
this.v("closebtn",this.Gh,this)}VZ.prototype=new Gr;VZ.prototype.Gh=function(R){if(this.AH)this.LP(this.Wp)};
VZ.prototype.c=function(){Gr.prototype.c.call(this);this.cW.c();this.lM.c();this.OWu.c();this.Vc.c();
this.GO.c();this.dr.c();this.lH.c();this.Gq.c();this.lb.c()};VZ.prototype.lU=function(R,Z){this.Tz=R};
VZ.prototype.qD=function(R,Z){this.Lu=JSON.parse(JSON.stringify(Z.L));this.Wp=JSON.parse(JSON.stringify(Z.L));
this.XP=this.qJ=null;this.LP=Z.QF;this.AH=!1;this.Xn=Z.bZ;this.Fx();this.pX()};VZ.prototype.Hf=function(R){var Z=this.Lu;
this.LP(Z);this.close()};VZ.prototype.Hc=function(R){return R==a.ZR||R==a.ZE};VZ.prototype.oZ=function(R,Z,B,o){if(o.R(a.ZR)||o.R(a.ZE)){if(this.qJ)this.Ojg();
if(this.XP)this.OIa()}};VZ.prototype.Ojg=function(R){var Z=this.Lu.Trns.v;if(this.qJ==null||Z.length==2)return;
Z.splice(Z.indexOf(this.qJ),1);this.qJ=null;this.Fx();this.pX()};VZ.prototype.OIa=function(R){var Z=this.Lu.Clrs.v;
if(this.XP==null||Z.length==2)return;Z.splice(Z.indexOf(this.XP),1);this.XP=null;this.Fx();this.pX()};
VZ.prototype.Fx=function(){var R=this.J$,Z=this.wH,B=X.D();R.width=Math.floor(410*B);R.height=Math.floor(90*B);
X.Hw(R,R.width,R.height);this.Dd=new N(0,0,Math.floor(380*B),Math.floor(32*B));this.Dd.x=Math.floor((this.J$.width-this.Dd.Y)/2);
this.Dd.y=Math.floor((this.J$.height-this.Dd.Z)/2);var o=this.Dd,r=o.Y,Y=o.Z,E=o.x,p=o.y,y=new N(0,0,r,Y),z=Z.getImageData(0,0,r,Y),u=new Uint8Array(z.data.buffer);
O.gc(u,r,Y,8,0,0);var Q=O.a(r*Y*4);O.L.PT(this.Lu,Q,y,[1/r,0,0,1/Y],r/2,Y/2,!1,0,this.Tz.Ky,this.Tz.Dk);
O.e.FO("norm",Q,o,u,o,o,1);Z.clearRect(0,0,R.width,R.height);Z.putImageData(z,E,p);var H=this.Lu.Trns.v,T=this.Lu.Clrs.v,C=O.L.$z(T,this.Tz.Ky,this.Tz.Dk),e=Math.round(6*X.D()),$=Math.round(14*X.D()),x=this.qJ?this.qJ.v:null,M=this.XP?this.XP.v:null;
for(var m=0;m<H.length;m++){var G=H[m].v,K=Math.round(255-255*G.Opct.v.val/100);if((G==x||H[m-1]&&H[m-1].v==x||m==this.EH)&&m!=0){Z.fillStyle="#000000";
Z.fillRect(E-3+r*(H[m-1].v.Lctn.v+(G.Lctn.v-H[m-1].v.Lctn.v)*G.Mdpn.v/100)/4096,p-6-2,6,6)}if(G==x){Z.fillStyle="#ffffff";
Z.fillRect(E-e+r*(G.Lctn.v/4096)-2,p-2-$-2,2*e+4,$+4)}Z.fillStyle="rgb("+K+","+K+","+K+")";Z.fillRect(E-e+r*(G.Lctn.v/4096),p-2-$,2*e,$)}for(var m=0;
m<T.length;m++){var s=T[m].v,L=C[m];if((s==M||T[m-1]&&T[m-1].v==M||m==this.De)&&m!=0){Z.fillStyle="#000000";
Z.fillRect(E-3+r*(T[m-1].v.Lctn.v+(s.Lctn.v-T[m-1].v.Lctn.v)*s.Mdpn.v/100)/4096,p+Y+2,6,6)}if(s==M){Z.fillStyle="#ffffff";
Z.fillRect(E-e+r*(s.Lctn.v/4096)-2,p+Y+2-2,2*e+4,$+4)}Z.fillStyle="rgb("+Math.round(L.F)+", "+Math.round(L.S)+","+Math.round(L.X)+")";
Z.fillRect(E-e+r*(s.Lctn.v/4096),p+Y+2,2*e,$)}if(this.Xn){this.LP(this.Lu);this.AH=!0}};VZ.prototype.pX=function(){this.cW.o(Math.round(100*this.Lu.Intr.v/4096));
var R=this.Lu.Trns.v,Z=this.Lu.Clrs.v,B=this.qJ!=null,o=this.EH!=-1;this.dr.iu(B);this.lH.iu(B||o);this.Vc.iu(B);
if(B){this.NY.setAttribute("style","");var r=this.qJ.v;this.lH.o(Math.round(100*r.Lctn.v/4096));this.dr.o(r.Opct.v.val)}if(o)this.lH.o(R[this.EH].v.Mdpn.v);
var B=this.XP!=null,o=this.De!=-1;this.Gq.iu(B);this.oC.iu(B);this.lb.iu(B||o);this.GO.iu(B);if(B){this.Wv.setAttribute("style","");
var Y=this.XP.v;this.lb.o(Math.round(100*Y.Lctn.v/4096));var E=Y.Type.v.Clry;this.Gq.o(["FrgC","BckC","UsrS"].indexOf(E));
if(E=="FrgC")this.oC.Zc(this.Tz.Ky);if(E=="BckC")this.oC.Zc(this.Tz.Dk);if(E=="UsrS")this.oC.o(Y.Clr.v)}if(o)this.lb.o(Z[this.De].v.Mdpn.v)};
VZ.prototype.pl=function(R){var Z=Math.round(4096*this.cW.M()/100);this.Lu.Intr.v=Z;var B=this.Lu.Trns.v,o=this.Lu.Clrs.v;
if(this.qJ!=null){var r=this.qJ.v;r.Lctn.v=Math.round(4096*(this.lH.M()/100));r.Opct.v.val=this.dr.M()}if(this.XP!=null){var Y=this.XP.v;
Y.Lctn.v=Math.round(4096*(this.lb.M()/100));if(R.target==this.oC)this.Gq.o(2);var E=this.Gq.M();Y.Type.v.Clry=["FrgC","BckC","UsrS"][E];
if(E==2)Y.Clr={t:"Objc",v:this.oC.M()};else if(Y.Clr)delete Y.Clr}if(this.EH!=-1)B[this.EH].v.Mdpn.v=this.lH.M();
if(this.De!=-1)o[this.De].v.Mdpn.v=this.lb.M();this.Fx()};VZ.prototype.Vm=function(R){var Z=X.$R(R,this.J$),B=(Z.x*X.D()-this.Dd.x)/this.Dd.Y,o=(Z.y*X.D()-this.Dd.y)/this.Dd.Z,r=this.Lu.Trns.v,Y=this.Lu.Clrs.v,E=null,p=null,y=-1,z=-1;
if(o<1)for(var u=0;u<r.length;u++){var Q=r[u].v;if(Math.abs(Q.Lctn.v/4096-B)<.02)E=r[u];if(u>0)if(Math.abs((r[u-1].v.Lctn.v+(Q.Lctn.v-r[u-1].v.Lctn.v)*Q.Mdpn.v/100)/4096-B)<.01)y=u}if(o>0)for(var u=0;
u<Y.length;u++){var H=Y[u].v;if(Math.abs(H.Lctn.v/4096-B)<.02)p=Y[u];if(u>0)if(Math.abs((Y[u-1].v.Lctn.v+(H.Lctn.v-Y[u-1].v.Lctn.v)*H.Mdpn.v/100)/4096-B)<.01)z=u}if(p==null&&E==null&&y==-1&&z==-1){if(o<0){var Q={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
Q.v.Lctn.v=Math.round(B*4096);r.push(Q);r.sort(this.TR);E=Q}if(o>1){var Y=this.Lu.Clrs.v,T=O.L.$z(Y,this.Tz.Ky,this.Tz.Dk),C=O.L.$w(this.Lu,T,B),H={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:O.L.hN({F:C&255,S:C>>8&255,X:C>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
H.v.Lctn.v=Math.round(B*4096);Y.push(H);Y.sort(this.TR);p=H}}if(p!=null)z=-1;if(E!=null)y=-1;if(p!=null||E!=null||y>-1||z>-1){this.qJ=E;
this.XP=p;this.EH=y;this.De=z;this.pX();this.Fx();X.sV(window,this.rS);X.HV(window,this.rD)}};VZ.prototype.hf=function(R){var Z=X.$R(R,this.J$),B=X.D()*(Z.x-this.Dd.x)/this.Dd.Y,o=X.D()*(Z.y-this.Dd.y)/this.Dd.Z;
B=Math.max(0,Math.min(1,B));var r=this.Lu.Trns.v,Y=this.Lu.Clrs.v;if(this.qJ!=null){var E=this.qJ.v;
E.Lctn.v=Math.round(4096*B);var p=r.indexOf(this.qJ);if(p!=-1&&o<-1&&r.length>2)r.splice(p,1);if(p==-1&&o>-1)r.push(this.qJ);
r.sort(this.TR)}if(this.XP!=null){var y=this.XP.v;y.Lctn.v=Math.round(4096*B);var z=Y.indexOf(this.XP);
if(z!=-1&&o>1.5&&Y.length>2)Y.splice(z,1);if(z==-1&&o<1.5)Y.push(this.XP);Y.sort(this.TR)}if(this.EH>-1){var E=r[this.EH].v;
E.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(B*4096-r[this.EH-1].v.Lctn.v)/(E.Lctn.v-r[this.EH-1].v.Lctn.v))))}if(this.De>-1){var y=Y[this.De].v;
y.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(B*4096-Y[this.De-1].v.Lctn.v)/(y.Lctn.v-Y[this.De-1].v.Lctn.v))))}if(this.qJ!=null||this.XP!=null||this.EH>-1||this.De>-1){this.pX();
this.Fx()}};VZ.prototype.GV=function(R){X.mw(window,this.rS);X.m_(window,this.rD);if(Date.now()-this.uZ<300){if(this.De!=-1||this.EH!=-1){var Z=(this.De!=-1?this.Lu.Clrs.v[this.De]:this.Lu.Trns.v[this.EH]).v;
Z.Mdpn.v=50;this.pX();this.Fx()}else if(this.XP!=null)this.oC.OWC()}this.uZ=Date.now()};VZ.prototype.TR=function(R,Z){return R.v.Lctn.v-Z.v.Lctn.v};
function az(){Gr.call(this,[11,10],"isize");this.ai=X.T("div","form");this.ai.setAttribute("style","width:20em");
this.body.appendChild(this.ai);this.es=new Vn(!0,!0);this.ai.appendChild(this.es.G);this.NX=new Ol("Resample");
this.NX.o(!0);this.ai.appendChild(this.NX.G);this.NX.v(X.E.Q,this.Okr,this);this.yQ=new Oq([12,14,1],[[12,14,2],[12,14,3],"Bicubic Sharper"]);
this.yQ.o(1);this.ai.appendChild(this.yQ.G);this.Og=new Gz("OK",!0,null,!0);this.Og.v("click",this.Hf,this);
this.body.appendChild(this.Og.G)}az.prototype=new Gr;az.prototype.Ts=function(R,Z){return R!=null};az.prototype.uC=function(){return!0};
az.prototype.Okr=function(R){var Z=this.NX.M(),B=this.es,o=this.yQ;if(Z)o.lv();else o.uE();if(Z)B.OiJ();
else B.Oit()};az.prototype.c=function(){Gr.prototype.c.call(this);this.yQ.c();this.es.c()};az.prototype.Hf=function(R){this.close();
var Z=this.es.M(),B=Z.x,o=Z.y,r=this.yQ.M();if(!this.NX.M())r=null;var Y=new n(X.E.e_,!0);Y.data=A.bG.OOD(B,o,this.es.OYH(),r);
this.j(Y)};az.prototype.qD=function(R,Z){this.es.o(new VP(R.Y,R.Z),R.ag)};function yS(){Gr.call(this,"Import RAW","importraw");
var R=X.T("div","flexrow"),Z=X.T("div");this.body.appendChild(R);this.body.appendChild(Z);var B=X.T("div","form");
B.setAttribute("style","width:16em");R.appendChild(B);var o=X.T("div","form");o.setAttribute("style","width:14em");
R.appendChild(o);this.j_=null;this.ONj=null;this.zD=null;this.ONC=[];this.Us=[new Vn(!0,!0),new Eo([12,72],["1","3","4"]),new Eo([12,34],["8 Bits","16 Bits"]),new Eo("Byte Order",["12-34","34-12"]),new Oq("Guesses",[])];
for(var r=0;r<this.Us.length;r++){var Y=this.Us[r];if(r!=0)Y.o(0);Y.v(X.E.Q,r==4?this.O_j:this.mS,this);
var E=r==0?B:r==4?Z:o;E.appendChild(Y.G)}this.Fy=X.T("canvas");this.IH=this.Fy.getContext("2d");this.body.appendChild(this.Fy);
this.Og=new Gz("OK",!0,null,!0);this.Og.v("click",this.Hf,this);this.body.appendChild(this.Og.G)}yS.prototype=new Gr;
yS.prototype.c=function(){Gr.prototype.c.call(this);var R=this.Us;for(var Z=0;Z<R.length;Z++)R[Z].c()};
yS.prototype.Hf=function(R){this.close();var Z=this.Us[0].M(),B=Ya.Ao(this.ONj,[{data:this.zD,Ix:new N(0,0,Z.x,Z.y)}]),o=new n(X.E.K,!0);
o.data={d:!0?X.l.ii:X.l.bx,qC:B};this.j(o)};yS.prototype.qD=function(R,Z){this.j_=new Uint8Array(Z.Gy);
this.ONj=Z.Re;var B=this.j_.length,o=[1,3,4],r=0,Y=0,E=1,p=1,y=this.ONC=[];for(var z=0;z<3;z++){for(var u=1;
u<3;u++){var Q=o[z],H=Q*u,T=Math.round(B/H);if(T!=B/H)continue;for(var C=0;C<=4e3;C++)for(var e=0;e<=4e3;
e++)if(C*e==T){var $=0;if(C==e)$+=64;if(Math.round(C/100)==C/100&&Math.round(e/100)==e/100)$+=32;if(Math.round(C/10)==C/10&&Math.round(e/10)==e/10)$+=16;
if(Math.round(C/2)==C/2&&Math.round(e/2)==e/2)$+=8;y.push([C,e,Q,u,$])}}}var x=function(s,L){if(L[4]!=s[4])return L[4]-s[4];
var _=Math.max(s[0],s[1])/Math.min(s[0],s[1]),P=Math.max(L[0],L[1])/Math.min(L[0],L[1]);if(_!=P)return _-P;
return L[0]-s[0]};y.sort(x);var M=this.Us,m=[];for(var G=0;G<y.length;G++){var K=y[G];m.push(K[0]+" x "+K[1]+", "+K[2]+"c, "+K[3]*8+"-bit")}M[4].Hp(m);
M[4].o(0);this.O_j(null)};yS.prototype.O_j=function(R){var Z=this.Us,B=this.ONC[this.Us[4].M()];Z[0].o(new VP(B[0],B[1]),72);
Z[1].o([1,3,4].indexOf(B[2]));Z[2].o([1,2].indexOf(B[3]));this.mS()};yS.prototype.mS=function(R){var Z=this.Us,B=Z[0].M(),o=B.x,r=B.y,Y=8+8*Z[2].M(),E=this.j_;
if(Y==16&&Z[3].M()==1){E=E.slice(0);for(var p=0;p<E.length;p+=2){var y=E[p];E[p]=E[p+1];E[p+1]=y}}var z=this.zD=UPNG.toRGBA8.decodeImage(E,o,r,{tabs:{},ctype:[0,2,6][Z[1].M()],depth:Y}),u=this.Fy,Q=this.IH,H=[z,new N(0,0,o,r)];
O.ir(H);for(var p=0;p<H.length;p+=2)if(H[p+1].Z<300){z=H[p];o=H[p+1].Y;r=H[p+1].Z;break}u.width=o;u.height=r;
X.Hw(u,o,r);var T=new ImageData(new Uint8ClampedArray(z.buffer),o,r);Q.putImageData(T,0,0)};function Y$(R,Z,B){Gt.call(this);
this.G=X.T("div","");this.Ie=R;this.wg=null;this.Nj=Z==null?!1:Z;this.GE=null;this.cN=B;this.ca=[];this.Au=[];
this.NI=[];this.$m=[];this.Nw=0;this.wg=this.OOG(Y$.$m[R]);this.aR()}Y$.prototype=new Gt;Y$.prototype.Oku=function(){for(var R=0;
R<this.$m.length;R++){X.rd(this.$m[R],"selected");if(this.NI[R]instanceof Ol)this.NI[R].o(!1)}};Y$.prototype.Okn=function(R){var Z=this.OkP.bind(this);
for(var B=0;B<this.NI.length;B++){var o=X.T("div","listitem");this.$m.push(o);if(B>0)o.textContent="\u2003";
o.appendChild(this.NI[B].G);if(Gk.OW_.indexOf(this.Ie)!=-1){var r=new Gz("+");r.lu();r.G.style.float="right";
o.appendChild(r.G);var Y=new Gz("\u2B0D");Y.lu();Y.G.style.float="right";Y.G.style["margin-right"]="2px";
o.appendChild(Y.G)}o.addEventListener("click",Z,!1);R.appendChild(o)}};Y$.pq=function(R,Z){var B=Z.getBoundingClientRect();
return(R.clientY-B.top)/B.height};Y$.prototype.OkP=function(R){var Z=R.target.tagName.toLowerCase();
if(Z=="input"){return}if(Z=="button"){var B=new n(X.E.$,!0),o=R.target.textContent=="+",r=o?0:Y$.pq(R,R.target)<.5?-1:1;
if(o)B.data={d:"st_dupsingle",r:this.parent.data.r,lJ:this.cN};else B.data={d:"st_movsingle",r:this.parent.data.r,lJ:this.cN,Owt:r};
B.B=A.WD;B.XA=!0;this.j(B);B=new n("redrawall",!0);B.data={Owt:r};this.j(B);return}X.uc(R);this.Uy();
this.Nw=this.$m.indexOf(R.currentTarget);this.j(new n("showme"))};Y$.prototype.Uy=function(){if(this.wg.enab&&this.wg.enab.M()==!1)this.Bf({hz:"enab",k:!0})};
Y$.prototype.OOV=function(){var R=this.$m[this.Nw];if(R)X.Cy(R,"selected");return this.Au[this.Nw]};
Y$.prototype.OOG=function(R){var Z={};for(var B=0;B<R.length;B++){var o=R[B],r=null;if(o=="----")r={G:X.T("hr")};
if(o=="\n")r={G:X.T("br")};if(o=="blOptions")r=new Yi([14,10]);if(o=="brst")r=new MultiCheck([12,72],["R","G","B"]);
if(o=="knko")r=new Oq("Knockout",[[13,1,0],"Shallow","Deep"]);if(o=="enab")r=new Ol(Gk.names[Gk.order.indexOf(this.Ie)]);
if(o=="lrMd"||o=="Md")r=new Oq([12,19,0],Gd.pp,!1,Gd.WT);if(o=="Opct")r=new Yv([12,0],0,100,"%");if(o=="iOpa")r=new Yv([12,26],0,100,"%");
if(o=="blIf")r=new Xi;if(o=="ShdN")r=new Yv([12,68],0,100,"%");if(o=="lagl"||o=="Angl")r=new Rl([12,15]);
if(o=="uglg")r=new Ol([12,27]);if(o=="Dstn")r=new Yv([12,28],0,200,"px");if(o=="Ckmt")r=new Yv([12,29],0,100,"%");
if(o=="blur")r=new Yv([12,14,0],0,200,"px");if(o=="TrnS"||o=="MpgS")r=new RQ([12,21]);if(o=="Nose")r=new Yv([12,30],0,100,"%");
if(o=="layerConceals")r=new Ol([12,31]);if(o=="AntA"||o=="antialiasGloss")r=new Ol("Anti-alias");if(o=="GlwT")r=new Oq([12,32],Gk.xb.names);
if(o=="glwS")r=new Oq([12,70],Gk.xb.O_S);if(o=="Inpr")r=new Yv([12,12],1,100,"%");if(o=="bvlS")r=new Oq([12,22],Gk.VB.style);
if(o=="bvlT")r=new Oq([12,32],Gk.VB.O_f);if(o=="bvlD")r=new Oq(null,Gk.VB.dir);if(o=="srgR")r=new Yv([12,34],0,1e3,"%");
if(o=="Sftn")r=new Yv([12,35],0,20,"px");if(o=="Lald")r=Z.lagl;if(o=="hglM"||o=="sdwM")r=new Oq([12,36],Gd.pp,!1,Gd.WT);
if(o=="hglC"||o=="sdwC")r=new EN;if(o=="hglO"||o=="sdwO")r=new Yv([12,0],0,100,"%");if(o=="Invr"||o=="InvT")r=new Ol([4,11]);
if(o=="Sz")r=new Yv([12,14,0],1,200,"px");if(o=="Styl")r=new Oq([12,40],Gk.stroke.names);if(o=="PntT")r=new Oq([12,66],Gk.stroke.O_X);
if(o=="Clr")r=new EN(!0);if(o=="Grad"){r=new RF(!0,[12,37],!0);r.o(JSON.parse(Gk.FD.Ozf).v)}if(o=="Rvrs")r=new Ol([12,23,0]);
if(o=="Dthr")r=new Ol("Dither");if(o=="Type")r=new Oq([12,22],Gk.L.names.slice(0,this.Ie=="FrFX"?6:5));
if(o=="Ptrn")r=new VF([12,62]);if(o=="Scl")r=new Yv([12,38],10,500,"%",0,!0);if(o=="Algn")r=new Ol([12,39]);
if(o=="Ofst")r=new XD(!0);if(o=="phase")r=new XD(!1);if(o=="useShape")r=new Ol([12,21]);if(o=="useTexture")r=new Ol([12,67]);
if(o=="textureDepth")r=new Yv([12,34],-300,300,"%");var Y=o=="----"||o=="\n"?o+B:o;if(r!=null)Z[Y]=r}return Z};
Y$.prototype.OOR=function(R){var Z=this.Au[this.Nw];for(var B=0;B<R.length;B++){var o=this.wg[R[B]];
if(o&&Z.contains(o.G))Z.removeChild(o.G)}};Y$.prototype.OOX=function(R){var Z=this.Au[this.Nw];for(var B=0;
B<R.length;B++){var o=this.wg[R[B]];if(o&&!Z.contains(o.G))Z.appendChild(o.G)}};Y$.prototype.lU=function(R,Z){if(this.wg==null)return;
var B=Z==GG.gy;if(this.wg.Grad){this.wg.Grad.vV(R.Ky,R.Dk);if(B||Z==GG.IU||Z==GG.zh)this.wg.Grad.lm(R.Vl)}if(this.wg.Ptrn){if(B||Z==GG.Oj)this.wg.Ptrn.lm(R.RU)}if(this.wg.TrnS){if(B||Z==GG.Yb)this.wg.TrnS.lm(R.cj)}if(this.wg.MpgS){if(B||Z==GG.Yb)this.wg.MpgS.lm(R.cj)}};
Y$.prototype.c=function(){for(var R=0;R<this.ca.length;R++)this.ca[R].c();for(var Z in this.wg)if(this.wg[Z]instanceof Gt)this.wg[Z].c()};
Y$.prototype.aR=function(){for(var R in this.wg){var Z=this.wg[R];Z.parent=this;if(Z instanceof Gt)Z.v(X.E.Q,this.OOq,this);
if(this.Au.length==0||R=="useShape"||R=="useTexture"){var B=new Yi(Z.OGr()),o=X.T("div","bordered padded");
if(this.Nj==!1){o.appendChild(B.G);o.appendChild(X.T("hr",""))}this.ca.push(B);this.Au.push(o);this.NI.push(Z)}else this.Au[this.Au.length-1].appendChild(Z.G)}};
Y$.prototype.update=function(R,Z){if(this.wg==null)return;if(this.Nj)this.GE=JSON.parse(JSON.stringify(Z));
for(var B in Z){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr Angl srgR Sftn textureDepth ShdN".split(" ").indexOf(B)!=-1)this.wg[B].o(Z[B].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(B)!=-1){this.wg[B].o(Z[B].v,R)}if(["Md","hglM","sdwM"].indexOf(B)!=-1)this.wg[B].o(Gd.Ie.indexOf(Z[B].v.BlnM));
if(B=="lrMd"){var o=(Z.av?[[15,10,27]]:[]).concat(Gd.pp),r=(Z.av?[1]:[]).concat(Gd.WT);this.wg[B].Hp(o,r);
this.wg[B].o(Z[B].v)}if(B=="lagl"){var Y=Z.uglg&&Z.uglg.v?R.vT():Z.lagl.v.val;this.wg[B].o(Y)}if(B=="Lald"){var Y=Z.uglg&&Z.uglg.v?R.jc():Z.Lald.v.val;
this.wg[B].o(null,Y)}if(B=="Type")this.wg[B].o(Gk.L.types.indexOf(Z.Type.v.GrdT));if(B=="Styl")this.wg[B].o(Gk.stroke.types.indexOf(Z.Styl.v.FStl));
if(B=="PntT"){var E=Gk.stroke.fK.indexOf(Z.PntT.v.FrFl);this.wg[B].o(E);if(!this.Nj){this.OOR(Gk.up.concat(Gk.rR.concat(Gk.rB)));
this.OOX([Gk.up,Gk.rR,Gk.rB][E])}}if(B=="GlwT")this.wg[B].o(Gk.xb.types.indexOf(Z.GlwT.v.BETE));if(B=="glwS")this.wg[B].o(Gk.xb.ORf.indexOf(Z.glwS.v.IGSr));
if(B=="bvlS")this.wg[B].o(Gk.VB.types.indexOf(Z.bvlS.v.BESl));if(B=="bvlT")this.wg[B].o(Gk.VB.OIx.indexOf(Z.bvlT.v.bvlT));
if(B=="bvlD")this.wg[B].o(["In","Out"].indexOf(Z.bvlD.v.BESs))}};Y$.prototype.OOq=function(R){for(var Z in this.wg){if(this.wg[Z]!=R.target)continue;
var B=null,o=!1;if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(Z)!=-1)B={type:"#Prc",val:R.target.M()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(Z)!=-1)B={type:"#Pxl",val:R.target.M()};if(["Angl","lagl"].indexOf(Z)!=-1)B={type:"#Ang",val:R.target.M().pB};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(Z)!=-1)B=R.target.M();
if(["Md","hglM","sdwM"].indexOf(Z)!=-1)B={BlnM:Gd.Ie[R.target.M()]};if(Z=="uglg"){B=R.target.M();o=!0}if(Z=="PntT"){B={FrFl:Gk.stroke.fK[R.target.M()]};
o=!0}if(Z=="Lald")B={type:"#Ang",val:R.target.M().alt};if(Z=="Type")B={GrdT:Gk.L.types[R.target.M()]};
if(Z=="Styl")B={FStl:Gk.stroke.types[R.target.M()]};if(Z=="GlwT")B={BETE:Gk.xb.types[R.target.M()]};
if(Z=="glwS")B={IGSr:Gk.xb.ORf[R.target.M()]};if(Z=="bvlS")B={BESl:Gk.VB.types[R.target.M()]};if(Z=="bvlT")B={bvlT:Gk.VB.OIx[R.target.M()]};
if(Z=="bvlD")B={BESs:["In","Out"][R.target.M()]};this.Bf({hz:Z,k:B});if(o){if(this.Nj)this.update(null,this.GE);
else{var r=this.parent,Y=r.qC,E=this.cN,p=Y.q[r.data.r].add.lmfx[Gk._p[E[0]]].v[E[1]].v;this.update(Y,p)}}}};
Y$.prototype.Bf=function(R){if(this.Nj){this.GE[R.hz].v=R.k;this.j(new n(X.E.Q))}else{R.d="changeprop";
R.r=this.parent.data.r;R.qp=this.cN;var Z=new n(X.E.$,!0);Z.data=R;Z.B=A.WD;Z.XA=!0;this.j(Z);this.j(new n("afterchange",!0))}};
Y$.prototype.M=function(){return JSON.parse(JSON.stringify(this.GE))};Y$.$m={bops:"blOptions lrMd Opct iOpa ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(Gk.up),GrFl:["enab","Md","Opct"].concat(Gk.rR),patternFill:["enab","Md","Opct"].concat(Gk.rB),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","PntT","\n"].concat(Gk.up.concat(Gk.rR.concat(Gk.rB)))};
function Ev(){Gr.call(this,[11,6],"layerstyle");this.ONQ=-1;this.data={};this.qC=null;this.$V=null;this.NV=[];
this.cZ=[];X.Cy(this.body,"flexrow");this.rF=X.T("div","bordered");this.rF.setAttribute("style","min-width:13em;");
this.body.appendChild(this.rF);this.qN=X.T("div","");this.qN.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.qN);this.sf=X.T("div","form");this.sf.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.sf);this.cT=new Gz("OK",!0,null,!0);this.cT.v("click",this.Hf,this);this.sf.appendChild(this.cT.G);
this.cB=new Gz([12,87],!0,null,!0);this.cB.v("click",this.OOK,this);this.sf.appendChild(this.cB.G);this.Ad=new XL;
this.Ad.parent=this;this.Ad.v(X.E.Q,this.OOv,this);this.sf.appendChild(this.Ad.G);this.v("closebtn",this.Gh,this);
this.v("redrawall",this.OlU,this)}Ev.prototype=new Gr;Ev.prototype.uC=function(){return!0};Ev.prototype.OOv=function(R){var Z=this.Ad.M();
this.Bf({d:"setstl",k:Z.FW});this.OlU(null)};Ev.prototype.OOK=function(R){var Z=this.qC,B=this.data.r;
if(B==null)B=Z.C[0];var o=this.qC.q[B],r=GS.O_U(o),Y=new n(X.E.K,!0);Y.data={d:X.l.zM,eo:"add",Fe:GG.qZ,hY:[JSON.parse(JSON.stringify(r))]};
this.j(Y)};Ev.prototype.OOs=function(R){this.data.index=R.currentTarget.cN;this.UR(R.currentTarget.cN)};
Ev.prototype.OlU=function(R){this.qD(this.qC,this.data)};Ev.prototype.UR=function(R,Z){X.vO(this.qN);
for(var B=0;B<this.NV.length;B++)this.NV[B].Oku();var o=R==0?this.NV[0]:this.cZ[R[0]][R[1]];this.qN.appendChild(o.OOV());
if(Z)o.Uy();var r=this.qC;if(r){var Y=r.q[this.data.r];this.NV[0].update(r,Oi.Zt.OE(r,Y));var E=Y.add.lmfx;
if(E==null)return;for(var B=0;B<Gk.order.length;B++){var p=E[Gk._p[B]].v;for(var y=0;y<p.length;y++)this.cZ[B][y].update(r,p[y].v)}}if(Z)o.Uy()};
Ev.prototype.c=function(){Gr.prototype.c.call(this);this.cB.c();this.Ad.c();for(var R=0;R<this.NV.length;
R++)this.NV[R].c()};Ev.prototype.qD=function(R,Z){var B=Z.r==null;this.data.r=Z.r;this.data.index=Z.index;
Z=this.data;this.qC=R;if(B)Z.r=R.C.length==0?R.q.length-1:R.C[0];X.vO(this.rF);var o=R.q[Z.r].add.lmfx;
this.UX();this.NV=[new Y$("bops",!1,0)];this.cZ=[];for(var r=0;r<Gk.order.length;r++){this.cZ.push([]);
var Y=o==null?[]:o[Gk._p[r]].v;for(var E=0;E<Y.length;E++){var p=new Y$(Gk.order[r],!1,[r,E]);this.NV.push(p);
this.cZ[r].push(p)}if(Y.length==0){var p=new Y$(Gk.order[r],!1,[r,0]);this.NV.push(p);this.cZ[r].push(p)}}this.c();
this.Ol$(this.$V,GG.gy);for(var r=0;r<this.NV.length;r++){this.NV[r].parent=this;this.NV[r].Okn(this.rF);
this.NV[r].v("showme",this.OOs,this)}if(Z.index==null||Z.index==0||!B&&o[Gk._p[Z.index[0]]].v.length==0){this.UR(0)}else this.UR(Z.index,B);
this.v("afterchange",this.UX,this)};Ev.prototype.UX=function(R){var Z=this.qC,B=this.data.r;if(B==null)B=Z.C[0];
var o=this.qC.q[B],r=GS.O_U(o);this.Ad.o(r,Z.add.Patt?Z.add.Patt:[],Z.vT(),Z.jc())};Ev.prototype.lU=function(R,Z){this.$V=R;
this.Ol$(R,Z);if(Z==GG.qZ||Z==GG.gy){this.Ad.lm([R.XE,R.RU])}if(Z==GG.OI){}};Ev.prototype.Ol$=function(R,Z){for(var B=0;
B<this.NV.length;B++)this.NV[B].lU(R,Z)};Ev.prototype.Gh=function(R){this.Bf({d:"cancel"})};Ev.prototype.Hf=function(R){this.Bf({d:"confirm"});
this.close()};Ev.prototype.Bf=function(R){R.r=this.data.r;var Z=new n(X.E.$,!0);Z.data=R;Z.B=A.WD;Z.XA=!0;
this.j(Z);this.UX()};Ev.OhQ=function(R){var Z=[{name:[14,10],vU:!0}];for(var B=0;B<Gk.names.length;B++)Z.push({name:Gk.names[B]});
if(R){Z[Z.length-1].vU=!0;Z.push({name:"Styles To Separate Layers",H:function(o){return{H:o!=null&&o.C.length!=0&&o.q[o.C[0]].add.lmfx!=null}}})}return Z};
Ev.OfY=function(R){var Z=[{z:X.E.K,i:{d:X.l.JT,fA:"layerstyle"}}];for(var B=0;B<Gk.names.length;B++)Z.push({z:X.E.K,i:{d:X.l.JT,fA:"layerstyle",index:[B,0]}});
if(R){var o={classID:"Mk",null:OX.m$("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
Z.push({z:X.E.e_,i:{DG:"make",UU:o}})}return Z};Ev.OJI=function(R){var Z=[];if(R)Z.push({name:[6,48,0,0],AP:!0},{name:[6,48,0,1],AP:!0},{name:[6,48,0,2],AP:!0,vU:!0});
for(var B in GK.names)Z.push({name:GK.names[B],vU:GK.OqU.indexOf(B)!=-1,AP:b[B]!=null});return Z};Ev.Oqx=function(R){var Z=[];
if(R)for(var B=0;B<3;B++)Z.push({z:X.E.e_,i:A.zi.DF(B)});for(var o in GK.names){var r=Go.wI(o);for(var Y in GK.HG)if(GK.HG[Y]==o)r.classID=Y;
var E={DG:"make",UU:{classID:"Mk",null:OX.m$("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:r}}}}};
Z.push({z:X.E.e_,i:E})}return Z};function yp(){Gr.call(this,"Merge Channels","mergechannels");this.cM=null;
var R=X.T("div","form");this.body.appendChild(R);this.Us=[];for(var Z=0;Z<3;Z++){var B=new Oq(GK.sn[Z],[]);
this.Us.push(B);R.appendChild(B.G);X.Ax(R)}this.cT=new Gz("OK",!0,null,!0);this.cT.v("click",this.Hf,this);
R.appendChild(this.cT.G)}yp.prototype=new Gr;yp.prototype.c=function(){Gr.prototype.c.call(this);for(var R=0;
R<3;R++)this.Us[R].c()};yp.prototype.qD=function(R,Z,B,o){this.cM=B;var r=[];for(var Y=0;Y<B.length;
Y++)r.push(B[Y].name);for(var Y=0;Y<3;Y++){var E=this.Us[Y];E.Hp(r);E.o(Math.min(Y,B.length-1))}};yp.prototype.Hf=function(R){var Z=this.cM,B=Z[0],o=new n(X.E.e_,!0);
o.data=GF.fe(B.Y,B.Z,B.ag,"Merged Document","Wht");this.j(o);var r=[];for(var Y=0;Y<3;Y++)r.push(Z[this.Us[Y].M()].fw());
var B=Z[Z.length-1],E=B.q[0],p=E.buffer;for(var Y=0;Y<p.length;Y+=4){p[Y]=r[0][Y];p[Y+1]=r[1][Y];p[Y+2]=r[2][Y]}E.U();
B.U();this.close()};function OT(){Gr.call(this,[1,10],"script");var R=X.T("div","form");R.setAttribute("style","width:44em");
this.body.appendChild(R);this.$V=null;this.mA=[];this.cA=[];this.OvO;var Z=this.VM=new Gz([1,2],!1,null,!0);
Z.v("click",this.ic,this);R.appendChild(Z.G);var B=new Gz("JS Reference",!1,null,!0);B.v("click",this.OOm,this);
R.appendChild(B.G);R.appendChild(new Yi("Demos:").G);this.Ova=[];var o=OT.Ut;for(var r=0;r<o.length;
r++){var Y=new Gz(o[r].Yw,!1,null,!0);this.Ova.push(Y);R.appendChild(Y.G);Y.v("click",this.Oya,this)}this.zC=X.T("textarea");
this.zC.setAttribute("rows",16);this.zC.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");
R.appendChild(this.zC);var E=new Gz("Run",!0,null,!0);E.v("click",this.Hf,this);R.appendChild(E.G);this.OvD=X.T("div");
R.appendChild(this.OvD)}OT.prototype=new Gr;OT.prototype.c=function(){this.VM.c()};OT.prototype.ic=function(){var R=this.OvO;
if(R==null)R="script.jsx";var Z=new n(X.E.K,!0);Z.data={d:X.l.JT,fA:"namewindow",rb:R.slice(0,R.length-4),OvW:this.OOH.bind(this)};
this.j(Z)};OT.prototype.OOH=function(R){var Z=this.zC.value,B=U.EJ(Z),o=new n(X.E.K,!0);o.data={d:X.l.Db,Gy:B.buffer,KM:R+".jsx",Oyz:!0};
this.j(o)};OT.prototype.OOF=function(R){var Z=this.mA.indexOf(R.target),B=this.OvO=this.$V.Mx.__[this.cA[Z]],o=B,r=new Uint8Array(o),Y=U.qe(r,0,r.length);
this.zC.value=Y};OT.prototype.qD=function(R,Z,B){this.zC.value=OT.Ut[0].Tj;this.ON_()};OT.prototype.ON_=function(){var R=this.$V.Mx,Z=this.OvD;
X.vO(Z);this.mA=[];this.cA=[];Z.textContent="Saved scripts: ";for(var B in R.__){if(B.endsWith(".jsx")){var o=new Gz(B,!1,null,!0);
this.mA.push(o);this.cA.push(B);o.v("click",this.OOF,this);Z.appendChild(o.G)}}};OT.prototype.lU=function(R,Z){this.$V=R;
if(Z==GG.RT)this.ON_()};OT.prototype.OOm=function(R){var Z=new n(X.E.K,!0);Z.data={d:X.l.ex,link:"https://www.adobe.com/content/dam/acom/en/devnet/photoshop/pdfs/photoshop-cc-javascript-ref-2019.pdf"};
this.j(Z)};OT.prototype.Hf=function(R){var Z=new n(X.E.K,!0);Z.data={d:X.l.iZ,hr:this.zC.value};this.j(Z)};
OT.prototype.Oya=function(R){var Z=this.Ova.indexOf(R.currentTarget);this.zC.value=OT.Ut[Z].Tj};OT.Ut=[{Yw:"Hello",Tj:"\nalert(\"Hello Photopea!\");\n"},{Yw:"Process Layers",Tj:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{Yw:"Clone Layers",Tj:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function YF(){Gr.call(this,[11,7],"newproject");this.data=null;this.cM=null;var R=X.T("div","flexrow");
this.aj=R;this.body.appendChild(R);var Z=X.T("div","form");this.ai=Z;R.appendChild(Z);this.Dl=new EU([12,48]);
Z.appendChild(this.Dl.G);X.Ax(Z);this.es=new Vn(!0);this.es.o(new VP(1280,720),72);this.es.v(X.E.Q,this.UJ,this);
Z.appendChild(this.es.G);this.c_=new Oq([12,46],[[13,1,8],[13,1,9],[12,46]]);Z.appendChild(this.c_.G);
Z.appendChild(X.T("hr"));this.Og=new Gz([12,49],!0,null,!0);this.Og.v("click",this.Hf,this);Z.appendChild(this.Og.G);
var B=YF.j_,o=[];for(var r=0;r<B.length;r++)o.push(B[r].name);this.cg=new Eo(null,o);this.cg.v(X.E.Q,this.ONv,this);
Z.appendChild(this.cg.G);this.cg.G.style["margin-top"]="1em";this.dX=new Rf(!0);this.dX.v(X.E.Q,this.OyI,this);
Z.appendChild(this.dX.G);this.ONv();this.pP=new OC;this.pP.parent=this;this.pP.G.setAttribute("style","margin-left:1em");
this.pP.v("tempready",this.OyN,this)}YF.prototype=new Gr;YF.prototype.lU=function(R,Z){this.pP.lU(R)};
YF.prototype.Ch=function(R,Z){return new VP(Math.max(0,Math.min(70,(R-690)/2)),R>Z?Math.max(0,Math.min(50,(Z-400)/2)):0)};
YF.prototype.YH=function(R,Z){this.ai.setAttribute("style","width:"+Math.min(R,338)+"px");this.dX.G.style.height=Z-260+"px";
var B=this.pP.G,o=B.parentNode;if(R<500){if(o!=null)this.aj.removeChild(B)}else{if(o==null)this.aj.appendChild(B)}this.pP.YH(R-360,Z-35)};
YF.prototype.UJ=function(){this.pP.o(this.es.M())};YF.prototype.OyI=function(R){var Z=this.dX.M(),B=YF.j_[this.cg.M()].BF[Z],o=B[4];
if(o==0)o=72;var r=B[1],Y=B[2],E=["px","%","mm","in"].indexOf(B[3]),p=[1,1,25.4/o,1/o][E];r/=p;Y/=p;
this.es.o(new VP(Math.round(r),Math.round(Y)),o);this.es.Oip(E);this.dX.Gf(Z);this.UJ()};YF.prototype.ONv=function(R){var Z=YF.j_[this.cg.M()].BF,B=[],o=[],r=Math.round(106*X.D()),Y=Math.round(106*X.D()),E=0;
for(var p=0;p<Z.length;p++)E=Math.max(E,Z[p][1],Z[p][2]);for(var p=0;p<Z.length;p++){var y=Z[p],z=y[1]+" x "+y[2]+" "+y[3];
if(y[3]=="in")z=(y[1]*25.4).toFixed(0)+" x "+(y[2]*25.4).toFixed(0)+" mm";if(y[3]=="mm")z=(y[1]/25.4).toFixed(1)+" x "+(y[2]/25.4).toFixed(1)+" in";
if(y[4])z=z+" @ "+y[4]+" ppi";o.push(z);B.push(YF.uj(y,r,Y,E))}this.dX.pc(B,o,r,Y)};YF.uj=function(R,Z,B,o){var r=X.T("canvas",""),Y=r.getContext("2d");
r.width=Z;r.height=B;var E=Math.round(Z/8),p=Math.floor(11*X.D()),y=R[1],z=R[2];Y.fillStyle="#000000";
Y.font=Math.round(p*.9)+"px \"Open Sans\", Sans-Serif";var u=y+" x "+z+" "+R[3],Q=Y.measureText(u);Y.fillText(u,Math.round((Z-Q.width)/2),B-Math.round(E/2));
if(R[0]!=null){Y.font="bold "+p+"px \"Open Sans\", Sans-Serif";var u=R[0],Q=Y.measureText(u);Y.fillText(u,Math.round((Z-Q.width)/2),B-Math.round(E/2)-Math.round(p*1.3))}B-=Math.round(2.5*p);
var H=Math.min((Z-E)/y,(B-E)/z);H*=.5+.5*(Math.max(y,z)/o);var T=(Z-y*H)/2,C=(B-z*H)/2;Y.strokeRect(Math.round(T)+.5,Math.round(C)+.5,Math.round(y*H),Math.round(z*H));
return r.toDataURL()};YF.prototype.c=function(){Gr.prototype.c.call(this);this.es.c();this.Dl.c();this.c_.c();
this.Og.c();this.Dl.o(Ok.get([11,7]));this.cg.c();this.pP.c()};YF.prototype.Hf=function(R){var Z=this.es.M(),B=Z.x,o=Z.y;
this.close();var r=new n(X.E.e_,!0);r.data=GF.fe(B,o,this.es.OYH(),this.Dl.M(),["Wht","Trns","BckC"][this.c_.M()]);
this.j(r);this.OiY()};YF.prototype.OyN=function(R){var Z=R.data.qC,B=new n(X.E.K,!0);B.data={d:X.l.ii,qC:Z};
this.j(B);this.close();this.OiY()};YF.prototype.OiY=function(){var R=this.cM[this.cM.length-1],Z=this.data.OEC;
if(Z)YU.gH(function(){var B=new XMLHttpRequest,o="https://www.googleapis.com/drive/v3/files?"+YU.nP();
B.open("POST",o,!0);B.setRequestHeader("Content-Type","application/json");B.addEventListener("load",function(r){var Y=JSON.parse(r.target.response);
R.eq={file:Y,cL:"psd"};alert(R.name+" created in Google Drive")});B.send(JSON.stringify({name:R.name,Ovh:[Z]}))})};
YF.prototype.qD=function(R,Z,B,o){this.cM=B;if(R!=null&&R.O!=null){var r=new N(0,0,R.Y,R.Z).Rg(R.O.rect);
this.es.o(new VP(r.Y,r.Z))}this.data=Z;this.UJ();this.Dl.rE();if(window.ClipboardItem)Ya.OhS(this.OEY.bind(this))};
YF.prototype.OEY=function(R){if(R=="granted")Ya.xN(this,this.OER.bind(this))};YF.prototype.OER=function(R,Z){this.es.o(new VP(Z.Y,Z.Z))};
YF.j_=[{name:"Social",BF:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],BF:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],BF:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],BF:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],BF:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],BF:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2\u1D3A",BF:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function a_(R,Z,B){Gr.call(this,Z,"sel_"+R);this.d=R;var o=X.T("div","form");this.body.appendChild(o);
this.Dl=new OH(Z,0,255,null,0,!1,!0);o.appendChild(this.Dl.G);this.Dl.o(1);var r=X.T("span");r.textContent=B;
o.appendChild(r);X.Ax(o);this.OvN=new Ol("Apply at canvas bounds");if(R!="border")o.appendChild(this.OvN.G);
this.cT=new Gz("OK",!0,null,!0);this.cT.v("click",this.Hf,this);o.appendChild(this.cT.G)}a_.prototype=new Gr;
a_.prototype.Ts=function(R,Z){if(R==null)return;if(R.O==null)alert("No selection!");return R.O!=null};
a_.prototype.Hf=function(R){var Z=new n(X.E.e_,!0);Z.data=A.hs.OOM(this.d,this.Dl.M(),this.OvN.M());
Z.XA=!0;this.j(Z);this.close()};a_.prototype.c=function(){Gr.prototype.c.call(this);if(this.Dl)this.Dl.c()};
a_.prototype.qD=function(R,Z){};function yc(R,Z){Gr.call(this,Z,R);this.j_=null;this.ai=X.T("div","form");
this.body.appendChild(this.ai);this.Dl=new EU(Z);this.ai.appendChild(this.Dl.G);this.cT=new Gz("OK",!0,null,!0);
this.cT.v("click",this.Hf,this);this.ai.appendChild(this.cT.G)}yc.prototype=new Gr;yc.prototype.Hf=function(R){var Z=this.Dl.M();
if(this.j_.OvW)this.j_.OvW(Z);else{var B=this.j_.Oid,o=new n(B.z,!0);o.B=B.B;o.data=B.i;o.data.k=Z;o.XA=!0;
this.j(o)}this.close()};yc.prototype.c=function(){Gr.prototype.c.call(this);if(this.Dl)this.Dl.c()};
yc.prototype.qD=function(R,Z){this.j_=Z;this.Dl.o(Z.rb);this.Dl.rE()};function yg(){Gr.call(this,[1,5],"open_from_url");
this.KH=null;var R=X.T("div","form");this.body.appendChild(R);this.Ga=new EU("URL",null,22);R.appendChild(this.Ga.G);
this.Ga.v(X.E.Q,this.Hf,this);X.Ax(R);this.As=new Eo([21,0],[[21,2],[21,1]]);R.appendChild(this.As.G);
this.Og=new Gz("OK",!0,null,!0);this.Og.v("click",this.Hf,this);R.appendChild(this.Og.G)}yg.prototype=new Gr;
yg.prototype.c=function(){Gr.prototype.c.call(this);this.As.c()};yg.prototype.qD=function(R,Z,B){this.Ga.rE();
this.KH=null;if(R&&B.indexOf(R)!=-1)this.KH=B.indexOf(R)};yg.prototype.Hf=function(R){var Z=new n(X.E.K,!0),B=this.Ga.M();
Z.data={d:X.l.Tr,Fe:{url:B,OJ:!0,KH:this.As.M()==1?this.KH:null}};this.j(Z);this.close()};function XZ(){Gr.call(this,[12,79],"preferences");
this.$V=null;var R=X.T("div","form");this.body.appendChild(R);this.$m=[new Ol([8,2]),new Ol([8,4]),new Oq([12,80,3],[[12,93,3],[12,80,4]]),new Yv([12,80,5],1,100,null,2),new Oq(null,O.uO.OD),new Oq([12,80,6],O.uO.OD)];
for(var Z=0;Z<this.$m.length;Z++){var B=this.$m[Z];R.appendChild(B.G);if(Z!=3)X.Ax(R);B.v(X.E.Q,this.rl,this)}}XZ.prototype=new Gr;
XZ.prototype.c=function(){Gr.prototype.c.call(this);for(var R=0;R<this.$m.length;R++)this.$m[R].c()};
XZ.prototype.qD=function(R,Z,B){};XZ.prototype.lU=function(R,Z){this.$V=R;this.$m[0].o(R.Al.Vw);this.$m[1].o(R.Al.IP);
this.$m[2].o(R.Al.aW);this.$m[3].o(R.Al.xj);this.$m[4].o(R.Al.xf);this.$m[5].o(R.Al.zn)};XZ.prototype.rl=function(R){var EB=this.$m,Z=JSON.parse(JSON.stringify(this.$V.Al));
Z.Vw=EB[0].M();Z.IP=EB[1].M();Z.aW=EB[2].M();Z.xj=EB[3].M();Z.xf=EB[4].M();Z.zn=EB[5].M();if(Z.xf!=4)Z.xj=Math.round(Z.xj);
var B=new n(X.E.K,!0);B.data={d:X.l.zM,Fe:GG.Ry,Zx:Z};this.j(B)};function Ve(){Gr.call(this,[11,8],"saveforweb");
this.OvC="";this.v("closebtn",function(){this._c.bT()},this);this.qA=new VP(512,512);this.qC=null;this._S=null;
this.Ozv=null;this.$V=null;X.Cy(this.body,"flexrow");var R=X.T("div"),Z=X.T("div");this.body.appendChild(R);
this.body.appendChild(Z);this.Wv=X.T("div","imgcont");R.appendChild(this.Wv);this._c=new YP;this._c.YH(this.qA.x,this.qA.y);
this.Mm=X.T("span");R.appendChild(this.Mm);this.ai=X.T("div","form cell");this.ai.setAttribute("style","width:15em; padding-left:1em;");
Z.appendChild(this.ai);this._d=new Oq([12,50],GI.Hr());this.ai.appendChild(this._d.G);this._d.v(X.E.Q,this.$h,this);
this.es=new Vn(!1,!0);this.es.v(X.E.Q,this.$h,this);this.ai.appendChild(this.es.G);this.EB=new jV;this.EB.v(X.E.Q,this.$h,this);
this.ai.appendChild(this.EB.G);this.cl=new Gz([1,2],!0,null,!0);this.cl.v("click",this.Hf,this);this.ai.appendChild(this.cl.G)}Ve.prototype=new Gr;
Ve.prototype.Ts=function(R,Z){return R!=null};Ve.prototype.c=function(){Gr.prototype.c.call(this);this.es.c();
this._d.c();this.EB.c();this.cl.c()};Ve.prototype.Hf=function(R){var Z=this.qC.name.split(".")[0],B=GI.Hr()[this._d.M()],o=this._S,r=Z+"."+B.toLowerCase(),Y=this.qC,E=Y.On;
if(E.length!=0&&(B=="JPG"||B=="PNG"||B=="GIF")&&this.EB.M().pop()){var p="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",y=[],z={},u=new N(0,0,Y.Y,Y.Z),Q=Y.fw();
for(var H=0;H<E.length;H++)y.push(A.EO.jO(E,H));y.reverse();var T=O.rect.Po([0,0,Y.Y,Y.Z],y);for(var H=0;
H<T.length;H++){var C=T[H],e=new N(C[0],C[1],C[2]-C[0],C[3]-C[1]),$=C.length==5?E[C[4]].v:null,x=O.a(e.b()*4);
O.GN(Q,u,x,e);var M="img/img"+(H+1)+"."+B.toLowerCase();z[M]=new Uint8Array(GI[B].qj([[x.buffer,0]],e.Y,e.Z,this.EB.M()));
p+="<div style=\"background-image:url('"+M+"'); left:"+e.x+"px; top:"+e.y+"px; width:"+e.Y+"px; height:"+e.Z+"px\">";
if($&&$.url.v!="")p+="\n\t<a href=\""+$.url.v+"\" target=\""+$.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
p+="</div>\n"}p+="</body>\n</html>\n";var m=O.a(Math.round(p.length*1.5)),G=U.Ww(p,m,0);z["index.html"]=m.slice(0,G);
o=UZIP.encode(z);r=Z+".zip"}var K=new n(X.E.K,!0);K.data={d:X.l.Bx,data:o,name:r};this.j(K);this._c.bT();
this.close()};Ve.prototype.qD=function(R,Z){if(Z.Kj!=null)this._d.o(Z.Kj);this.qC=R;var B=R.Y+","+R.Z;
if(B!=this.OvC){this.OvC=B;this.es.o(new VP(R.Y,R.Z))}this.EB.O$z();this.$h(null,!0)};Ve.prototype.Ch=function(R,Z){return new VP(Math.max(0,Math.min(150,(R-770)/2)),Math.max(0,Math.min(150,(Z-590)/2)))};
Ve.prototype.YH=function(R,Z){this.ZA=R;this.N$=Z;this.qA.x=Math.min(512,R-26-214);this.qA.y=Math.min(512,Z-45);
if(this.qC==null)return;var B=this.es.M(),R=B.x,Z=B.y,o=GI.Hr()[this._d.M()],r=GI[o],Q="<span style=\"width:",H="display:inline-block; text-align:right;\">";
if(r.$n){var Y=R,E=Z,p;if(o=="PDF"||r.Hm){Y=this.qA.x;E=this.qA.y}else{Y=Math.min(R+20,this.qA.x);E=Math.min(Z+20,this.qA.y)}this.Wv.firstChild.setAttribute("style","display:block; width:"+Y+"px; height:"+E+"px;")}else{if(r.Hm){Y=this.qA.x;
E=this.qA.y}else{var y=this.Ozv,z=y[0].Ix,Y=z.Y,E=z.Z;this._c.YH(Math.max(50,Math.min(Y/X.D(),this.qA.x)),Math.max(50,Math.min(E/X.D(),this.qA.y)))}}var u=this._S.byteLength,T=o+":"+Q+64+"px;"+H+Ve.TB(u)+"</span>";
if(this.qA.x>200)T+=Q+90+"px; opacity:"+.5+";"+H+u.toLocaleString()+" B</span>";this.Mm.innerHTML=T};
Ve.TB=function(R){var Z=0;while(R>>>Z+10!=0)Z+=10;var B=(R/(1<<Z)).toFixed(1),o=["B","KB","MB","GB"][Math.floor(Z/10)];
return B+" "+o};Ve.prototype.lU=function(R,Z){this.$V=R};Ve.prototype.$h=function(R,Z){var B=this.es.M(),o=B.x,r=B.y,Y=this._d.M(),E=GI.Hr()[Y],p=GI.QG(this.qC)[0].length,y=["GIF","PNG","WEBP"].indexOf(E)!=-1&&p>1,Q="";
if(y&&Z&&(o*r>1024*1024||o*r*p>800*800*50)){var z=window.confirm("Your animation is large ("+o+" x "+r+" px). Should we scale it down 50%?");
if(z){this.es.o(new VP(o>>>1,r>>>1));o=o>>>1;r=r>>>1}}this.EB.OtS(E,y,this.qC.On.length!=0);var u=this.EB.M();
this._S=GI.gm(this.qC,E,o,r,u,this.$V);if(this._S==null){this.qC=null;return}X.vO(this.Wv);this._c.bT();
var H=GI[E];if(H.Hm){this.Wv.innerHTML="<div></div>";Q+="width:0px"}else if(H.$n){var T=o,C=r,e;if(E=="PDF"){e=URL.createObjectURL(new Blob([this._S],{type:"application/pdf"}))}else{e=URL.createObjectURL(new Blob([this._S],{type:"image/svg+xml"}))}this.Wv.innerHTML="<iframe src=\""+e+"\"></iframe>"}else{var $=this.Ozv=H.Kf(this._S),x=$[0].Ix,T=x.Y,C=x.Z;
this._c.o($,$.length>1?u[u.length-2]:0);this.Wv.appendChild(this._c.G);Q="background: rgba(0,0,0,0);"}this.Wv.setAttribute("style","display:block; background-size:"+16/X.D()+"px;"+Q);
this.YH(this.ZA,this.N$)};function Oo(){Gr.call(this,[11,13],"shortcuts");var R=this.aj=X.T("div","scrollable");
R.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(R);
this.OeI()}Oo.prototype=new Gr;Oo.prototype.c=function(){Gr.prototype.c.call(this);this.OeI()};Oo.prototype.OeI=function(){var R="<div style=\"column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",Z="";
Z+="<h2 style=\"margin-top:0;\">Main Menu</h2>";Z+=R;Z+=this.wd([[0,0],"---",[1,0],"Ctrl + O",[1,2],"Ctrl + S",[1,3],"Shift+Ctrl + S",[1,8],"Alt+Shift+Ctrl + S",[0,1],"---",[2,0],"Shift + Ctrl + Z",[2,1],"Ctrl + Z",[5,0],"Ctrl + X",[5,1],"Ctrl + C",[5,2],"Ctrl + V",[2,2],"Delete",[2,3],"Alt + Backspace",[10,16],"Alt + Ctrl + T",[12,79],"Ctrl + K",[3],"---",[4,1],"Ctrl + L",[4,2],"Ctrl + M",[4,5],"Ctrl + U",[4,11],"Ctrl + I",[0,3],"---",[6,0],"Ctrl + J",[6,6,0],"Alt + Ctrl + G",[6,9],"Ctrl + G",[6,10],"Ctrl + E",[0,5],"---",[7,0],"Ctrl + A",[7,1],"Ctrl + D",[7,2],"Shift+Ctrl + I",[0,7],"---",[8,0],"Ctrl + +",[8,1],"Ctrl + -",[8,3],"Ctrl + R",[8,2],"Ctrl + ;",[8,4],"Ctrl + '",[11,13],"?"]);
Z+="</div>";Z+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";Z+=R;Z+=this.wd("Vertical scroll,Wheel,Horizontal scroll,Ctrl + Wheel,Zooming,Alt + Wheel".split(","));
Z+="</div>";Z+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
Z+=R;Z+=this.wd([[10,11],"Ctrl",[10,7],"Spacebar",[10,17],"Ctrl + Spacebar"]);Z+="</div>";Z+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
Z+=R;var B=[];for(var o=0;o<Oo.Dy.length;o+=3)B.push(Oo.Dy[o],Oo.Dy[o+1]);Z+=this.wd(B);Z+=this.wd(["abc",null,[24,16],"---",[22,7,1],"D",[22,7,0],"X","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}"]);
Z+="</div>";this.aj.innerHTML=Z};Oo.prototype.wd=function(R){var Z="",B=!0;for(var o=0;o<R.length;o+=2){var r=R[o],Y=R[o+1];
if(Y==null){B=!1;continue}var E=X.Oav(Ok.get(r));if(Y=="---"){if(!B)Z+="<br/>";Z+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+E+"</div>"}else Z+="<div>"+E+" <span style=\"float:right; font-weight:bold;\">"+Y+"</span> </div>";
B=!1}return Z};Oo.Dy=[[10,11],"V",0,[10,15],"M",1,[10,4],"M",2,[10,9],"L",5,[10,14],"L",6,[10,10],"L",7,[10,37],"W",8,[10,12],"W",9,[10,2],"C",10,[10,39],"C",11,[10,40],"C",12,[10,41],"C",13,[10,5],"I",14,[10,36],"I",16,[10,24],"J",18,[10,25],"J",19,[10,26],"J",20,[10,43],"J",22,[10,0],"B",23,[10,38],"B",24,[10,42],"B",25,[10,1],"S",27,[10,3],"E",31,[10,6],"G",34,[10,13],"G",35,[10,18],null,36,[10,19],null,37,[10,20],null,38,[10,21],"O",39,[10,22],"O",40,[10,23],"O",41,[10,8],"T",47,[10,29],"P",42,[10,30],"P",43,[10,27],"A",51,[10,28],"A",52,[10,32],"U",54,[10,33],"U",55,[10,35],"U",57,[10,34],"U",56,[10,31],"U",58,[10,7],"H",59,[10,17],"Z",61];
function EE(){Gr.call(this,[8,11,1],"soptions");this.Dq=null;var R=X.T("div","form");R.style.width="20em";
this.body.appendChild(R);this.GI={Nm:[12,48],url:"URL",null:[12,71]};this.$m={};for(var Z in this.GI){var B=new EU(this.GI[Z],null,15);
this.$m[Z]=B;R.appendChild(B.G)}var o=new Gz("OK",!0,null,!0);o.v("click",this.Hf,this);R.appendChild(o.G)}EE.prototype=new Gr;
EE.prototype.qD=function(R,Z,B){var o=Z.k;this.Dq=JSON.stringify(o);for(var r in this.GI){if(o[r])this.$m[r].o(o[r].v)}};
EE.prototype.Hf=function(R){var Z=JSON.parse(this.Dq);for(var B in this.GI){var o=this.$m[B].M();Z[B]={t:"TEXT",v:o}}var r=new n(X.E.$,!0);
r.B=A.pN;r.data=Z;r.XA=!0;this.j(r);this.close()};function Ob(){Gr.call(this,[2,3],"fill");this.$V=null;
this.xG=null;var R=X.T("div","form padded");R.style.width="22em";this.body.appendChild(R);this.KR="FrgC BckC Clr Blck Gry Wht contentAware".split(" ");
this.tr=new Oq([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3]]);this.tr.v(X.E.Q,this.OEl,this);
R.appendChild(this.tr.G);this.Wv=X.T("span");R.appendChild(this.Wv);this.Nc=new EN;this.Nc.parent=this;
this.Nc.Zc(0);this.cS=new Oq([12,19,0],Gd.pp,!1,Gd.WT);R.appendChild(this.cS.G);this.GB=new Yv([12,0],0,100,"%",0,!1);
this.GB.o(100);R.appendChild(this.GB.G);this.Og=new Gz("OK",!0,null,!0);this.Og.v("click",this.Hf,this);
this.body.appendChild(this.Og.G)}Ob.prototype=new Gr;Ob.prototype.Ts=function(R,Z){return R!=null};Ob.prototype.uC=function(){return!0};
Ob.prototype.OEl=function(){var R=this.tr.M()==2,Z=this.Nc.G,B=this.Wv;if(R)B.appendChild(Z);else if(B.contains(Z))B.removeChild(Z)};
Ob.prototype.c=function(){Gr.prototype.c.call(this);this.tr.c();this.cS.c();this.GB.c()};Ob.prototype.Hf=function(R){if(!this.xG._W())return;
var Z=new n(X.E.e_,!0),B=this.tr.M();Z.data=A.lg.DF(this.KR[B],Gd.pz[this.cS.M()],this.GB.M()/100,this.Nc.M());
this.close();this.j(Z)};Ob.prototype.qD=function(R,Z){this.xG=R};Ob.prototype.lU=function(R,Z){this.$V=R};
function OF(){Gr.call(this,[14,9],"stroke");this.$V=null;this.ai=X.T("div","form");this.ai.setAttribute("style","width:24em");
this.body.appendChild(this.ai);this.r_=new Y$("FrFX",!0);this.r_.parent=this;var R=["Sz","Styl","Md","Opct"].concat(Gk.up);
for(var Z=0;Z<R.length;Z++){var B=this.r_.wg[R[Z]].G;this.ai.appendChild(B)}this.Oi_=!1;this.Og=new Gz("OK",!0,null,!0);
this.Og.v("click",this.Hf,this);this.body.appendChild(this.Og.G)}OF.prototype=new Gr;OF.prototype.Ts=function(R,Z){return R!=null};
OF.prototype.uC=function(){return!0};OF.prototype.c=function(){Gr.prototype.c.call(this);this.r_.c()};
OF.prototype.Hf=function(R){var Z=new n(X.E.$,!0);Z.B=A.Vb;Z.data={d:"stroke",O$j:this.r_.M()};this.close();
this.j(Z)};OF.prototype.qD=function(R,Z){if(!this.Oi_){var B=Gk.eF[Gk.order.indexOf("FrFX")];B=JSON.parse(B);
this.r_.update(R,B);this.Oi_=!0}var B=this.r_.M(),o=this.$V.Ky;B.Clr.v=O.L.hN({F:o>>16&255,S:o>>8&255,X:o&255});
this.r_.update(R,B)};OF.prototype.lU=function(R,Z){this.$V=R};function yX(){Gr.call(this,[11,9],"textwarp");
this.$m=new yk;this.$m.v(X.E.Q,this.wV,this);this.$m.parent=this;this.ai=X.T("div","form");this.ai.setAttribute("style","width:20em");
this.body.appendChild(this.ai);this.ai.appendChild(this.$m.rP.G);this.ai.appendChild(this.$m.BU.G);this.ai.appendChild(this.$m.pY.G);
this.ai.appendChild(this.$m.pR.G);this.ai.appendChild(this.$m.pL.G);this.Og=new Gz("OK",!0,null,!0);
this.Og.v("click",this.Hf,this);this.ai.appendChild(this.Og.G);this.v("closebtn",this.Gh,this)}yX.prototype=new Gr;
yX.prototype.uC=function(){return!0};yX.prototype.c=function(){Gr.prototype.c.call(this);this.$m.c()};
yX.prototype.wV=function(R){var Z=this.$m.M();this.$y({d:"warp",Ef:Z})};yX.prototype.$y=function(R){var Z=new n(X.E.$,!0);
Z.B=A.cC;Z.data=R;Z.XA=!0;this.j(Z)};yX.prototype.Gh=function(R){this.$y({d:"warpCancel"})};yX.prototype.Hf=function(R){this.$y({d:"warpConfirm"});
this.close()};yX.prototype.qD=function(R,Z){var B=R.q[R.C[0]];this.$m.o(B.add.TySh.qP)};function yN(){Gr.call(this,"Raw Photopea","rawpea");
this.zD=null;this.hM=null;this.cf=null;this.OvK=0;this.ZY=null;this.TZ=null;this.OiQ=500;this.O$k=500;
this.v("closebtn",this.du,this);X.Cy(this.body,"flexrow");var R=X.T("div"),Z=X.T("div"),r="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
Z.setAttribute("style","padding-left: 1em");this.body.appendChild(R);this.body.appendChild(Z);this.Fy=X.T("canvas");
R.appendChild(this.Fy);this.Vz=new Ef(225);this.Vz.eb(4);Z.appendChild(this.Vz.G);this.ai=X.T("div");
this.ai.setAttribute("style","width:18em;");Z.appendChild(this.ai);this.O$r=new Yi("Hi",!0);this.ai.appendChild(this.O$r.G);
this.Xz=[new Gp("Temperature",2e3,13e3),new Gp("Tint",-150,150),new Gp([4,3],-4,4,null,!0),new Gp([12,3,0],-100,100)];
for(var B=0;B<this.Xz.length;B++){var o=this.Xz[B];o.o(0);o.v(X.E.Q,this.XT,this);this.ai.appendChild(o.G);
if(B==1)this.ai.appendChild(X.T("hr"))}this.Og=new Gz([1,0],!0,null,!0);this.Og.v("click",this.Hf,this);
this.ai.appendChild(this.Og.G);this.cJ=new Gz(r+" JPG",!0,null,!0);this.cJ.v("click",this.OVG,this);
this.ai.appendChild(this.cJ.G);this.cJ.G.style.marginTop="6px"}yN.prototype=new Gr;yN.prototype.Oi=function(){return!0};
yN.prototype.Ch=function(){return new VP(0,0)};yN.prototype.YH=function(R,Z){this.OiQ=R-274;this.O$k=Z-32;
if(this.zD)this.OeL()};yN.prototype.c=function(){Gr.prototype.c.call(this);this.Og.c();for(var R=0;R<this.Xz.length;
R++)this.Xz[R].c()};yN.prototype.OVG=function(R){var Z=this.zD,B=this.hM,o=O.a(Z.width*Z.height*4);O.yg(o,4294967295);
O.raw.Bo(B,o,Z,this.ik());var r=GI.JPG.qj([[o.buffer]],B.Rj,B.RI,[85]),Y=new n(X.E.K,!0);Y.data={d:X.l.Bx,data:r,name:"photo.jpg"};
this.j(Y)};yN.prototype.Hf=function(R){var Z=this.zD,B=this.hM,o=O.a(Z.width*Z.height*4);O.yg(o,4294967295);
O.raw.Bo(B,o,Z,this.ik());var r=Ei.xg(Z),Z={Ix:new N(0,0,B.Rj,B.RI),data:o.buffer,mt:r},Y=Ya.Ao("Raw Photo",[Z]),E=new n(X.E.K,!0);
E.data={d:X.l.ii,qC:Y};this.j(E);this.du();this.close()};yN.prototype.du=function(){this.zD=null;this.hM=null;
this.ZY=null;this.TZ=null};yN.prototype.qD=function(R,Z,B,o){this.zD=Z.Ti;this.hM=O.raw.OKD(this.zD);
var r=this.hM;this.O$r.o(r.Rj+" x "+r.RI+", "+(r.Rj*r.RI/1e6).toFixed(1)+" MPx");var Y=O.raw.Oyj(Z.Ti);
this.cf=yZ.RL(Y);this.Xz[0].o(this.cf.pu);this.Xz[1].o(this.cf.ck);for(var E=2;E<this.Xz.length;E++)this.Xz[E].o(0);
this.OeL()};yN.prototype.lU=function(R,Z){this.Vz.Zc(yK.iM[R.rh]["--text-color"])};yN.prototype.OeL=function(){var R=this.hM,Z=R.Rj,B=R.RI,o=1;
while(Z/o>this.OiQ*X.D()||B/o>this.O$k*X.D())o++;var r=Math.floor(Z/o),Y=Math.floor(B/o);this.ZY={Y$:new Float32Array(r*Y*3),Rj:r,RI:Y};
var E=this.Fy.getContext("2d");this.TZ=E.createImageData(r,Y);O.yg(this.TZ.data,4294967295);var p=1/(o*o);
for(var y=0;y<Y;y++)for(var z=0;z<r;z++){var u=0,Q=0,H=0,T=(z+1)*o,C=(y+1)*o;for(var e=y*o;e<C;e++)for(var $=z*o;
$<T;$++){var x=(e*Z+$)*3;u+=this.hM.Y$[x];Q+=this.hM.Y$[x+1];H+=this.hM.Y$[x+2]}var M=(y*r+z)*3;this.ZY.Y$[M]=u*p;
this.ZY.Y$[M+1]=Q*p;this.ZY.Y$[M+2]=H*p}this.XT()};yN.prototype.XT=function(){var R=this.zD,Z=this.ZY.Rj,B=this.ZY.RI,o=Z*B,r=this.Fy,Y=r.getContext("2d");
r.width=Z;r.height=B;X.Hw(r,Z,B);O.raw.Bo(this.ZY,new Uint8Array(this.TZ.data.buffer),R,this.ik());Y.putImageData(this.TZ,0,0);
var E=O.fy(this.TZ.data);for(var p=0;p<4;p++)for(var y=1;y<256;y++)if(E[p][y]==0)E[p][y]=E[p][y-1];for(var p=0;
p<4;p++)for(var y=1;y<256;y++)if(E[p][y]==0)E[p][y]=E[p][y-1];this.Vz.o(E)};yN.prototype.ik=function(){var R=[];
for(var Z=0;Z<this.Xz.length;Z++)R.push(this.Xz[Z].M());return R};function OM(){Gr.call(this,[11,11],"vbitmap");
this.j_=null;this.Gw=null;this.cD=null;this.GA=null;this.mf=null;this.xL=this.Fx.bind(this);this.ai=X.T("div","form hbar");
this.body.appendChild(this.ai);this.N_=new Yv([12,82],2,50,null);this.N_.v(X.E.Q,this.Fx,this);this.ai.appendChild(this.N_.G);
this.Us="";this.NS=new Ol([12,81]);this.NS.v(X.E.Q,this.Fx,this);this.ai.appendChild(this.NS.G);this.Nf=new Ol("Segmentize");
this.Nf.v(X.E.Q,this.Fx,this);this.ai.appendChild(this.Nf.G);this.Og=new Gz("OK",!1,null,!0);this.Og.v("click",this.Hf,this);
this.ai.appendChild(this.Og.G);var R=X.T("div","flexrow"),Z=16;this.body.appendChild(R);this.LX=new YP;
this.LX.v("viewchange",this.OEJ,this);this.qI=X.T("canvas");this.qI.setAttribute("style","margin-left: 1px; cursor:grab;");
this.wH=this.qI.getContext("2d");var B=O.a(16*16*4);O.gc(B,Z,Z,8,0,0);this.cx=O.scale.TA(B,Z,Z);this.LX.OjP(this.qI);
R.appendChild(this.LX.G);R.appendChild(this.qI)}OM.prototype=new Gr;OM.prototype.Oi=function(){return!0};
OM.prototype.Ch=function(){return new VP(0,0)};OM.prototype.uC=function(){return!0};OM.prototype.YH=function(R,Z){Z=Z-26-30;
R=Math.floor((R-28)/2);X.hl(this.qI,R,Z);this.LX.YH(R,Z)};OM.prototype.oZ=function(R,Z,B,o){this.LX.oZ(o)};
OM.prototype.c=function(){Gr.prototype.c.call(this);this.N_.c();this.NS.c();this.Nf.c();this.Og.c()};
OM.prototype.qD=function(R,Z){this.mf=R;var B=R.q[R.C[0]],o=O.WA.jI(B.buffer.buffer,B.rect.Y,B.rect.Z).OvY,r=o/((B.rect.Y-2)*(B.rect.Z-2));
this.NS.o(r<.75);this.Nf.o(r<.75);var Y=B.rect.clone();Y.x=Y.y=0;this.j_={Ix:Y,data:B.buffer.buffer.slice(0)};
this.Gw=null;this.LX.o([this.j_]);this.N_.o(20);setTimeout(this.xL,20)};OM.prototype.Fx=function(){var R=!0,Z=Date.now(),B=this.j_,o=this.NS.M(),r=this.Nf.M(),Y=o||r,E=o+","+r;
if(Y&&(this.Gw==null||this.Us!=E)){this.Us=E;console.log("recomputing");var p=new Uint8Array(B.data.slice(0)),y=15,z=35,u=B.Ix.Y,Q=B.Ix.Z;
if(o){Go.iN(p,p,u,Q,y,O.AO.ge,[z],2)}if(R){console.log("denoise",Date.now()-Z);Z=Date.now()}if(r){var H=O.WA.Ij(p,u,Q),T=H.qQ,C=new Uint8Array(T*4);
for(var e=0;e<T;e++){var $=e*4,x=e*6,M=1/H.LB[x+5];C[$]=H.LB[x]*M;C[$+1]=H.LB[x+1]*M;C[$+2]=H.LB[x+2]*M}for(var e=0;
e<p.length;e+=4){var m=H.LF[e>>>2]*4;p[e]=C[m];p[e+1]=C[m+1];p[e+2]=C[m+2]}}this.Gw={Ix:B.Ix.clone(),data:p.buffer};
if(R){console.log("segm",Date.now()-Z);Z=Date.now()}}if(Y)B=this.Gw;var p=new Uint8Array(B.data),u=B.Ix.Y,Q=B.Ix.Z;
for(var e=0;e<p.length;e+=4){if(p[e+3]<10)p[e]=p[e+1]=p[e+2]=p[e+3]=0}var G=O.WA.Owy(p,u,Q,this.N_.M(),Y?.1:2e-4);
if(R){console.log("doclipart",Date.now()-Z);Z=Date.now()}var K=G.LF.slice(0);for(var e=0;e<K.length;
e++)K[e]++;var s=new Uint8Array((u+2)*(Q+2));O.WX(K,new N(1,1,u,Q),s,new N(0,0,u+2,Q+2));var L=Math.round((u+2)*(Q+2)/1e4),_=RB.BP(s,u+2,Q+2,Math.min(12,L)),P=RB.dm(_),i=new GN(1,0,0,1,-1,-1);
for(var e=0;e<P.length;e++)O.W.P(P[e].path.I,i,P[e].path.I);this.GA=P;this.cD=G;if(R){console.log("trace",Date.now()-Z);
Z=Date.now()}for(var e=0;e<P.length;e++){var w=P[e];for(var k=e+1;k<P.length;k++){var h=P[k];if(G.DY[h.color-1].est.q[3]>.05||h.parent!=e)continue;
var j=h.path.J.slice(1);j.reverse();j=["M"].concat(j);var I=[],_=h.path.I.length;for(var V=0;V<_;V+=2){I[V]=h.path.I[_-2-V];
I[V+1]=h.path.I[_-2-V+1]}O.W.concat(w.path,{I:I,J:j})}}for(var e=0;e<P.length;e++){var w=P[e],F=G.DY[w.color-1].est.q;
if(F[3]<=.05){P.splice(e,1);e--;continue}}for(var e=1;e<P.length;e++){var q=P[e-1],w=P[e];if(q.color==w.color){O.W.concat(q.path,w.path);
P.splice(e,1);e--;continue}}this.OEJ()};OM.prototype.OEJ=function(R){if(this.GA==null)return;var Z=this.j_.Ix.Y,B=this.j_.Ix.Z,o=this.GA,r=this.cD.DY,Y=this.wH,E=this.LX.bb();
Y.setTransform(1,0,0,1,0,0);Y.clearRect(0,0,Y.canvas.width,Y.canvas.height);Y.translate(Y.canvas.width/2,Y.canvas.height/2);
Y.scale(E.h,E.h);Y.translate(E.s.x/E.h-Z/2,E.s.y/E.h-B/2);Y.scale(1/E.h,1/E.h);Y.fillStyle=this.cx;Y.fillRect(0,0,Z*E.h,B*E.h);
Y.scale(E.h,E.h);var p=[];for(var y=0;y<r.length;y++){var z=r[y].est.q;p.push({F:Math.round(255*z[0]),S:Math.round(255*z[1]),X:Math.round(255*z[2]),t:Math.round(255*z[3])})}for(var y=0;
y<o.length;y++){var u=o[y],z=p[u.color-1];if(z.t==0)continue;Y.fillStyle="rgba("+z.F+","+z.S+","+z.X+","+z.t/255+")";
Y.beginPath();Typr.U.pathToContext({crds:u.path.I,cmds:u.path.J},Y);Y.fill()}};OM.prototype.Hf=function(R){var Z=this.GA,B=Z.length==1,o=this.mf,r=o.C[0],Y=o.q[r],E=o.q.slice(0,r);
if(!B)E.push(o.ZP());for(var p=0;p<Z.length;p++){var y=Z[p],z=this.cD.DY[y.color-1].est.q;O.W.P(y.path.I,new GN(1,0,0,1,Y.rect.x,Y.rect.y),y.path.I);
var u=o.xE();u.AA("Path "+p);E.push(u);u.opacity=Math.round(z[3]*255);u.Kw|=16;u.add.SoCo={classID:"null",Clr:{t:"Objc",v:O.L.hN({F:255*z[0],S:255*z[1],X:255*z[2]})}};
u.add.vmsk=new S.lo;u.add.vstk=JSON.parse(JSON.stringify(Gk.uI.default));u.add.vmsk.u=O.W.un(y.path,!1);
u.add.vogk=[];u.uN();u.Aq(o)}var Q=E[E.length-1];if(!B){var u=o.xE();u.AA(Y.getName());u.add.lsct=YV.A_;
u.QV="pass";u.Kw=24;E.push(u);Q=u}var H=Y.add.lmfx;if(H)Q.add.lmfx=JSON.parse(JSON.stringify(H));for(var p=r+1;
p<o.q.length;p++)E.push(o.q[p]);var T=new n(X.E.$,!0);T.XA=!0;T.B=A.zr;T.data={d:S.Wd,aq:E,vq:[r+Z.length+(B?-1:1)],$L:[11,11]};
this.j(T);this.close()};function yW(R){Gr.call(this,[[7,11],"Magic Cut"][R],["redge","magiccut"][R]);
this.hH=R;this.j_={};this.GC=null;this.sI=null;this.mf=null;this.NU=null;this.yB=null;this.wY=[];this.EZ=-1;
this.ai=X.T("div","form hbar");this.body.appendChild(this.ai);this.o$=new ER;this.o$.parent=this;this.o$.v(X.E.Q,this.Wg,this);
this.ai.appendChild(this.o$.G);var Z=R==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"],B=R==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.ce=new XG(null,Z,B,28);this.ai.appendChild(this.ce.G);this.hd=new OH([7,9],0,50,null);this.hd.parent=this;
this.hd.v(X.E.Q,[this.OEM,this.Fx][R],this);this.ai.appendChild(this.hd.G);var o=this.OVB=new Gz([2,2],!1,null,!0);
o.v("click",this.du,this);this.ai.appendChild(o.G);var r=this.OVw=new Gz([12,90],!1,null,!0);r.v("click",function(p){alert(R==0?Ok.get([15,7,1]):"Mark the object with Green, background with Red.",5e3)},this);
this.ai.appendChild(r.G);var Y=X.T("span","form");this.ai.appendChild(Y);Y.setAttribute("style","position:absolute;  right:0px");
this.Gl=new XG([12,46],["checker","white","black"]);this.Gl.v(X.E.Q,this.OVO,this);Y.appendChild(this.Gl.G);
this.cr=new Oq(null,[[6,13],[6,2],[17,2]]);Y.appendChild(this.cr.G);this.Og=new Gz("OK",!1,null,!0);
this.Og.v("click",this.Hf,this);Y.appendChild(this.Og.G);var E=X.T("div","flexrow");this.body.appendChild(E);
this.IV=new YP(!0);this.Nx=new YP;this.IV.ve(this.Nx);this.Nx.ve(this.IV);this.IV.v("mousedown",this.mz,this);
this.IV.v("mousemove",this.KV,this);this.IV.v("mouseup",this.qK,this);this.IV.v("zoom",this.Wg,this);
E.appendChild(this.IV.G);E.appendChild(this.Nx.G)}yW.prototype=new Gr;yW.prototype.Ts=function(R,Z){var B=R!=null&&!R.q[R.C[0]].rect.Pa();
if(!B)alert("The layer is empty.");return B};yW.prototype.Oi=function(){return!0};yW.prototype.Ch=function(){return new VP(0,0)};
yW.prototype.uC=function(){return!0};yW.prototype.YH=function(R,Z){Z=Z-26-33;R=Math.floor((R-28)/2);
this.IV.YH(R,Z);this.Nx.YH(R,Z)};yW.prototype.c=function(){Gr.prototype.c.call(this);this.o$.c();this.hd.c();
this.Og.c();this.Gl.c();this.cr.c();this.OVB.c();this.OVw.c()};yW.prototype.lU=function(R,Z){this.sI=R;
if(Z==GG.eP||Z==GG.gy){this.o$.lm(R.$r);this.o$.o(YN.Ir(),R.$r.DZ,R.$r.sw)}};yW.prototype.oZ=function(R,Z,B,o){this.NU=o;
var r=A.lg.LV(this.o$.M(),o);if(r!=null){this.o$.o(r);this.Wg()}else if(o.R(a.iW)&&o.R(a.sK)){var Y=this.wY,E=0;
if(o.R(a.Fl)){if(this.EZ+1<Y.length)E=1}else if(this.EZ>0)E=-1;if(E!=0){this.EZ+=E;var p=this.EZ,y=this.j_;
if(E==1)O.GN(Y[p][2],Y[p][0],y.qO,y.rect);else O.GN(Y[p+1][1],Y[p+1][0],y.qO,y.rect);y.Ne=y.rect;this.Fx()}}else this.IV.oZ(o)};
yW.prototype.rG=function(R){var Z=this.j_,B=this.wY,o=O.a(R.b()*4);O.GN(Z.GS,Z.rect,o,R);Z.GS=null;var r=O.a(R.b()*4);
O.GN(Z.qO,Z.rect,r,R);this.EZ++;B[this.EZ]=[R.clone(),o,r];while(B.length>this.EZ+1)B.pop();while(B.length>50){B=B.slice(1);
this.EZ--}};yW.prototype.Wg=function(){var R=this.sI,Z=GM.Jl(this.o$.M(),R.$r.DZ,this.IV.bb().h);this.IV.wX(Z)};
yW.prototype.mz=function(R){var Z=this.sI,B=this.j_,o=this.NU,r=this.o$.M(),Y=this.IV.wa(),E=[16777215,8421504,0][this.ce.M()];
this.GC=new GM(r,Z.$r.list[0].DZ,Z.$r.list[0].sw,{dr:1,sS:!0},E,Z.Dk,B.rect);B.GS=B.qO.slice(0);if(o!=null&&o.R(a.Fl)&&this.yB){this.GC.moveTo(this.yB.x,this.yB.y);
this.GC.lineTo(Y.x,Y.y)}else this.GC.moveTo(Y.x,Y.y);this.OE$()};yW.prototype.KV=function(R){var Z=this.j_,B=this.IV.wa();
this.GC.lineTo(B.x,B.y);this.OE$()};yW.prototype.qK=function(R){this.yB=this.IV.wa();this.rG(this.GC.xQ());
this.Fx()};yW.prototype.OE$=function(){var R=this.j_,Z=this.GC,B=Z.JI();if(B.Pa())return;R.Ne=B;O.e.FO("norm",Z.VW(),Z.mb(),R.qO,R.rect,B,1);
this.OEs()};yW.prototype.du=function(R){var Z=this.j_;Z.GS=Z.qO.slice(0);Z.Ne=Z.rect;O.yg(Z.qO,[4278190080,4292730333][this.hH]);
this.rG(Z.rect);this.Fx()};yW.prototype.qD=function(R,Z){this.mf=R;var B=R.q[R.C[0]],o=B.rect.clone(),r=o.Y,Y=o.Z;
this.hd.o(this.hH==0?3:r*Y<3e6?3:0);this.ce.o(R.O==null?0:1);this.hd.uE();if(this.hH==0&&R.O!=null||this.hH==1)this.hd.lv();
var E=this.hH,p=O.a(o.b()),y=new Float32Array(o.b());if(E==0&&R.O){O.WX(R.O.channel,R.O.rect,p,o);var z=O.a(o.b());
for(var u=0;u<Y;u++)for(var Q=0;Q<r;Q++){var H=u*r+Q,T=p[H];if(Q>0&&p[H-1]!=T||Q<r-1&&p[H+1]!=T||u>0&&p[H-r]!=T||u<Y-1&&p[H+r]!=T)z[H]=255}O.style.DP(z,y,r,Y)}else y.fill(1e9);
o.x=o.y=0;this.j_={rect:o,Y$:B.buffer,vL:p,tW:y,XU:O.a(o.b()*4),rc:O.a(o.b()*4),qO:O.a(o.b()*4),GS:null,dw:null,Ne:o,O$T:{}};
if(E==0)this.OEM();else{this.j_.O$T=A.Ar.OYF(R);var C=this.j_.qO;O.yg(C,4287137928);var e=O.mr.getSelection(B.buffer,r,Y),$=Math.round(r/60),x=Math.round(.7*Y);
for(var u=0;u<Y;u++)for(var Q=0;Q<r;Q++){var M=(u*r+Q)*4,m=e[M>>>2];m=m>128?255:128;if(u<$||u<x&&(Q<$||Q>r-1-$))m=0;
C[M]=C[M+1]=C[M+2]=m}this.Fx()}this.wY=[1];this.EZ=0;this.IV.OUN();var G=this.o$.M();G.Brsh.v.Dmtr.v.val=Math.round(o.Y/(E==0?10:20));
this.o$.o(G);this.Wg()};yW.prototype.OEM=function(){var R=this.j_,Z=R.rect.b(),B=this.hd.M(),o=R.vL.slice(0);
for(var r=0;r<Z;r++)if(R.tW[r]<B)o[r]=128;O.yg(R.qO,4294967295);O.qH(o,R.qO,0);O.qH(o,R.qO,1);O.qH(o,R.qO,2);
R.Ne=R.rect;this.Fx()};yW.prototype.Fx=function(){var R=this.j_,r,Y=0,E=0,p=0;this.OEs();var Z=R.rect,B=O.a(Z.b()),o=R.Y$;
O.KT(R.qO,B,0);for(var y=0;y<B.length;y++){var z=B[y];if(z==0)Y++;else if(z==255)E++;else p++}if(Y*E*p!=0){if(this.hH==0)r=O.Ls.Ls(Z,o,B);
else{var u=Date.now(),Q=this.j_.O$T;O.VG(B,Q.UA);A.Ar.MY(Q,!0);var H=Math.ceil(this.hd.M()/2);if(H==0){r=o.slice(0);
O.qH(Q.O,r,3)}else{var T=Q.O.slice(0),C=Q.O.slice(0),e=Z.Y,$=Z.Z;for(var x=0;x<H;x++){for(var M=1;M<$-1;
M++)for(var m=1;m<e-1;m++){var y=M*Z.Y+m,G=T[y];if(T[y-e]!=G||T[y-1]!=G||T[y+1]!=G||T[y+e]!=G)C[y]=128;
else C[y]=G}var K=T;T=C;C=K}r=O.Ls.Ls(Z,o,T,20,!1)}}}else{r=o.slice(0);O.qH(B,r,3)}if(Z.EW(R.rect))R.dw=r;
else O.GN(r,Z,R.dw,R.rect);this.OVO()};yW.prototype.OEs=function(R){var Z=this.j_,B=Z.Ne;O.GN(Z.Y$,Z.rect,Z.XU,Z.rect,B,!0);
var o=Z.qO;if(this.hH==1){var r=new Uint32Array(256);r[0]=4278190335;r[255]=4278255360;var Y=Z.rect.b();
o=o.slice(0);var E=new Uint32Array(o.buffer);for(var p=0;p<Y;p+=2){E[p]=r[E[p]&255];E[p+1]=r[E[p+1]&255]}}O.e.FO("norm",o,Z.rect,Z.XU,Z.rect,B,.3);
this.IV.o([{Ix:Z.rect,data:Z.XU.buffer}])};yW.prototype.OVO=function(R){var Z=this.j_;O.yg(Z.rc,[0,4294967295,4278190080][this.Gl.M()]);
O.e.FO("norm",Z.dw,Z.rect,Z.rc,Z.rect,Z.rect,1);this.Nx.o([{Ix:Z.rect,data:Z.rc.buffer}])};yW.prototype.Hf=function(R){var Z=this.mf,B=this.j_,o=this.cr.M(),r=Z.q[Z.C[0]],Y=new n(X.E.$,!0);
Y.XA=!0;var E=r.rect.clone();if(o==0&&r.YT()||o!=0&&!r.YT()){Y.B=A.zr;Y.data={d:S.vS,r:Z.C[0]};this.j(Y)}if(Z.O!=null){Y.B=A.tz;
Y.data={d:"fromAction",sJ:A.hs.FP()};this.j(Y)}if(o==0){var p=Z.q.slice(0),y=Z.xE();y.AA(r.getName());
p.splice(Z.C[0]+1,0,y);y.rect=E;y.buffer=B.dw;y.U();Y.B=A.zr;Y.data={d:S.Wd,aq:p,vq:[Z.C[0]+1],$L:[7,11]};
this.j(Y)}if(o==1){var z=r.F$();Y.B=A.zr;Y.data={d:S.At,Oez:!0};this.j(Y);var u=r.F$();u.channel=O.a(E.b());
u.rect=E;u.color=0;u.Zr=!0;O.KT(B.dw,u.channel,3);if(z){var Q=u._s(z);u.rect=Q.rect;u.channel=Q.channel;
u.color=Q.color}u.gG();r.Aq()}if(o==2){var H={rect:E,channel:O.a(E.b())};O.KT(B.dw,H.channel,3);Y.B=A.tz;
Y.data={d:"setsel",O:H,$L:this.Vt};this.j(Y)}this.close()};function yI(){Gr.call(this,[1,13],"locstor");
this.$V=null;this.DO=[];var R=this.body,Z=X.T("p");Z.textContent="These files are loaded every time you start Photopea.";
R.appendChild(Z);this.Oxw=0;this.cp=X.T("span");R.appendChild(this.cp);this.cp.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
this.wu=new Gz([5,4],!1,null,!0);this.wu.v("click",this.OVj,this);R.appendChild(this.wu.G);this.sE=new Rf(!0);
this.sE.parent=this;this.sE.eb(1);this.sE.v(X.E.Q,this.OVX,this);R.appendChild(this.sE.G);this.sE.G.setAttribute("style","width: 40em; height: 25em")}yI.prototype=new Gr;
yI.prototype.c=function(){Gr.prototype.c.call(this);this.cp.textContent=Ok.get([13,2])+": "+Ve.TB(this.Oxw);
this.wu.c()};yI.prototype.lU=function(R,Z){this.$V=R;if(Z==GG.RT)this.qD()};yI.prototype.qD=function(R,Z){var B=this.$V.Mx.__,y=0;
this.DO=[];for(var o in B)this.DO.push(o);this.DO.sort(function(Q,H){Q=Q.split(".");H=H.split(".");return Q[1]==H[1]?Q[0]<H[0]?-1:1:Q[1]<H[1]?-1:1});
var r=Math.floor(100*X.D()),Y=Math.floor(16*X.D()),E=[],p=[];for(var z=0;z<this.DO.length;z++){var o=this.DO[z],u=yI.uj(o,B[o],r,Y);
E.push(u);p.push(o);y+=B[o].byteLength}this.sE.pc(E,p,r,Y);this.Oxw=y;this.c()};yI.prototype.OVX=function(R){this.sE.Gf(this.sE.M())};
yI.prototype.OVj=function(R){var Z=this.sE.M();if(Z==-1){alert("Select a file first.");return}this.sE.o(-1);
var B=this.$V.Mx.__;delete B[this.DO[Z]];var o=new n(X.E.K,!0);o.data={d:X.l.zM,Fe:GG.RT};this.j(o)};
yI.uj=function(R,Z,B,o){var r=X.T("canvas"),p=0;r.width=B;r.height=o;var Y=r.getContext("2d"),E=R.split(".").pop().toLowerCase();
for(var y=0;y<E.length;y++)p+=E.charCodeAt(y)*613<<8*y;Y.fillStyle="#"+O.ue(p&16777215);Y.fillRect(0,0,20,o);
var z=Math.floor(14*X.D());Y.fillStyle="#000000";Y.font="bold "+z+"px sans-serif";var u=(o-z)/2,Q=Ve.TB(Z.byteLength),H=Y.measureText(Q);
Y.fillText(Q,B-12-H.width,o-u);return r.toDataURL()};function EI(R,Z,B){Gr.call(this,Z,"cwindow");this.OVS=new VP(B[0],B[1]-33);
this.ai=X.T("div","form");this.ai.setAttribute("style","width:"+(B[2]-B[0])+"px; height:"+(B[3]-B[1])+"px");
this.body.appendChild(this.ai)}EI.prototype=new Gr;EI.prototype.Ch=function(R,Z){return this.OVS.clone()};
function OG(R,Z,B,o){Gt.call(this);this.name=R;this.OVt=B;this.Za=o;this.wj=X.T("div","");this.wj.setAttribute("draggable","true");
this.EV=X.T("div","pbody");this.rU=new Gz("",!1,"");this.rU.parent=this;this.Oxv=X.T("span","cross");
this.aA=X.T("span","label");var r=this.OVh.bind(this);this.wj.addEventListener("mousedown",this.OVl.bind(this),!1);
this.wj.addEventListener("contextmenu",r,!1);this.rU.G.addEventListener("contextmenu",r,!1);this.Oxv.addEventListener("mousedown",this.ws.bind(this),!1);
this.wj.appendChild(this.aA);if(Z)this.wj.appendChild(this.Oxv);this.XC=!1;this.cs=new OD([{name:[1,12]}]);
this.cs.v("select",this.ws,this);this.aA.textContent=R}OG.prototype=new Gt;OG.prototype.$E=function(){return null};
OG.prototype.Tw=function(){return new VP(0,0)};OG.prototype.c=function(){var R=Ok.get(this.name),Z=this.ZA==0?22:Math.round(2+this.ZA/50),B=R.length>Z;
this.aA.textContent=B?R.slice(0,Z-2):R;if(B)for(var o=0;o<2;o++){var r=X.T("span");r.textContent=R.charAt(Z-2+o);
r.setAttribute("style","opacity:"+(.6-o*.4));this.aA.appendChild(r)}var Y=R.split(" "),E=Y.length==2?Y[0].substring(0,2)+Y[1][0]:R.substring(0,3);
if(E.charCodeAt(0)>=11776)E=E.substring(0,1);var p=this.OVt;if(p==null)this.rU.FS(E,R);else{if(p.indexOf("\"")==-1)this.rU.FS("<img src=\""+p+"\" alt=\""+R+"\" height=\"20\" />",R)}};
OG.prototype.enable=function(){this.EV.setAttribute("class","pbody")};OG.prototype.disable=function(){this.EV.setAttribute("class","pbody disabled")};
OG.prototype.lU=function(R,Z){};OG.prototype.qD=function(R,Z,B){};OG.prototype.YH=function(R,Z){};OG.prototype.oF=function(R){this.name=R;
this.c()};OG.prototype.zB=function(){};OG.prototype.OVl=function(R){if(R.button==0)this.j(new n("select",!1))};
OG.prototype.OVh=function(R){X.uc(R);if(this.Za!=null&&isNaN(this.Za))return;var Z=X.$R(R,document.body),B=this.cs;
B.update(null);B.c();B.parent=this;var o=new n(X.E.K,!0);o.data={d:X.l.dF,Jd:B,x:Z.x+1,y:Z.y+1};this.j(o)};
OG.prototype.$j=function(){this.ws({})};OG.prototype.ws=function(R){if(R.stopPropagation)R.stopPropagation();
if(this.Za!=null&&!isNaN(this.Za)){var Z=new n(X.E.K,!0);Z.data={d:X.l.Bq,Jd:this.cs};this.j(Z);Z.data={d:X.l.zM,Fe:GG.zZ,k:parseFloat(this.Za),eo:"del"};
this.j(Z)}else if(this.OVx())this.j(new n(X.E.Vj,!1))};OG.prototype.OVx=function(R){return!0};OG.prototype.JH=function(R,Z,B,o,r){};
OG.prototype.TU=function(R,Z,B,o,r){};OG.prototype.YF=function(R,Z,B,o,r){};OG.GU=function(R,Z){if(R.childElementCount!=0)return;
var B=R.textContent;this.Ca=this.OVp.bind(this);this.Oxm=this.OVo.bind(this);this.YG=Z;this.Ul=R;this.OVe=B;
var o=X.T("input","");o.setAttribute("type","text");o.setAttribute("size","10");o.setAttribute("value",B);
X.vO(R);R.appendChild(o);o.select();o.focus();R.addEventListener("keyup",this.Ca,!1);document.body.addEventListener("mousedown",this.Oxm,!1)};
OG.GU.prototype.OVp=function(R){var Z=a.ey,B=Z(R.code,a.Ic);if(Z(R.code,a.UF)||B)this.OGM(B)};OG.GU.prototype.OVo=function(R){var Z=R.target;
if(Z.tagName&&Z.tagName.toLowerCase()=="input")return;this.OGM(!0)};OG.GU.prototype.OGM=function(R){var Z=this.Ul;
Z.removeEventListener("keyup",this.Ca);document.body.removeEventListener("mousedown",this.Oxm);if(R){var B=Z.firstChild.value;
this.YG(B)}else{X.vO(Z);Z.textContent=this.OVe}};OG.qr={Fp:"0",OVM:"1",zr:"2",OVc:"3",OGh:"4",TS:"5",CSS:"6",eP:"7",OGJ:"8",OGH:"9",OGF:"10",OGu:"11",OGm:"12",IU:"13",bO:"14",OGb:"15",OGC:"16",iR:"17",OGQ:"18"};
function VC(){OG.call(this,[9,9],!1,null,OG.qr.OGu);this.$V=null;this.nL=[0,0];this.Pg=X.T("div","padded scrollable");
this.Pg.setAttribute("style","width:260px;  height:260px");this.EV.appendChild(this.Pg);this.v(X.E.Q,this.vg,this);
this.qF=X.T("div","lpfoot");this.EV.appendChild(this.qF);this.mA=[];var R="<svg  class=\"gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\">",Z="</svg>",B=R+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+Z,o=R+"<path d=\"M0,2 L14,9 L0,16 Z\" />"+Z;
this.OxT=R+"<circle cx=\"7\" cy=\"9\" r=\"6\" />"+Z;this.OVK=R+"<path d=\"M2,4 L12,4 L12,14 L2,14 Z\" />"+Z;
var r=[this.OxT,o,"lrs/folder","lrs/newlayer","lrs/bin",B],Y=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var E=0;E<r.length;E++){var p=r[E];if(1<E&&E!=r.length-1)p="<img src=\""+PIMG[r[E]]+"\" class=\"gsicon\" />";
var y=new Gz(p,!1,Y[E]);y.v("click",this.OGs,this);this.qF.appendChild(y.G);this.mA.push(y)}}VC.prototype=new OG("");
VC.prototype.c=function(){OG.prototype.c.call(this);for(var R=0;R<this.mA.length;R++)this.mA[R].c()};
VC.prototype.OGs=function(R){var Z=this.mA.indexOf(R.currentTarget),B=this.nL,o=this.$V,r=o.La;if(Z==0){var Y,E=o.Gz;
if(r.length==0){alert("Create an Action Set first.");return}if(B.length<2){alert("Select a target action first.");
return}if(E==null){Y=this.OVK;E=this.nL}else{Y=this.OxT;E=null}this.mA[0].FS(Y);o.Gz=E}else if(Z==1)this.OGg();
else if(Z==2||Z==3){var p={$L:"Action Set "+r.length,p:[],exp:!0};if(Z==2||r.length==0){B=[r.length];
r.push(p)}if(Z==3){var y=r[B[0]].p;B=[B[0],y.length];y.push({$L:"Action "+y.length,color:0,p:[],OOc:!1,shift:!1,exp:!0,qp:y.length})}this.nL=B;
this.XT()}else if(Z==4){var z;if(B.length==1)z=r;else if(B.length==2)z=r[B[0]].p;else z=r[B[0]].p[B[1]].p;
var u=B.length-1;z.splice(B[u],1);if(z.length==0)B.pop();else while(B[u]>=z.length)B[u]--;if(B.length==0)B.push(0);
this.XT()}else if(Z==5){if(r.length==0){alert("No Actions Present.");return}var Q=new n(X.E.K,!0);Q.data={d:X.l.Dm,O$v:GG.$,lJ:B[0]};
this.j(Q)}};VC.prototype.vg=function(R){var Z=this.$V.La,B=R.data.d,o=R.data.sY;if(B=="sel")this.nL=o;
if(B=="fold"){if(o.length==1)Z[o[0]].exp=!Z[o[0]].exp;else Z[o[0]].p[o[1]].exp=!Z[o[0]].p[o[1]].exp}if(B=="enab"){var r=Z[o[0]].p[o[1]].p[o[2]];
r.H=!r.H}if(B=="nchange"){if(o.length==1)Z[o[0]].$L=R.data.VD;else Z[o[0]].p[o[1]].$L=R.data.VD}this.XT()};
VC.prototype.lU=function(R,Z){this.$V=R;if(Z==GG.$||Z==GG.gy)this.XT()};VC.prototype.XT=function(){if(this.$V==null)return;
X.vO(this.Pg);var R=this.$V.La;if(R.length==0)return;var Z=JSON.stringify(this.nL);for(var B=0;B<R.length;
B++){var o=R[B],r=new VC.pU([B],Z,o.exp,o.$L.split("=").pop());r.parent=this;this.Pg.appendChild(r.G);
if(!o.exp)continue;for(var Y=0;Y<o.p.length;Y++){var E=o.p[Y],r=new VC.pU([B,Y],Z,E.exp,E.$L.split("=").pop());
r.parent=this;this.Pg.appendChild(r.G);if(!E.exp)continue;for(var p=0;p<E.p.length;p++){var y=E.p[p],r=new VC.pU([B,Y,p],Z,null,Ok.get(OX.OBU(y)),y.H);
r.parent=this;this.Pg.appendChild(r.G)}}}};VC.prototype.OGg=function(){var R=this.$V.La,Z=this.nL;if(R.length==0){alert("No Actions Present");
return}if(Z.length==1){alert("Select an Action first");return}if(this.$V.Gz!=null){alert("You can not apply actions while recording actions");
return}if(Z.length==1)Z.push(0);var B=R[Z[0]],o=B.p[Z[1]],r=new n(X.E.K,!0);r.data={d:X.l.Wk,ua:[o.$L,B.$L]};
this.j(r)};VC.pU=function(R,Z,B,o,r){Gt.call(this);this.sY=R;var Y=this.sY.length-1;this.G=X.T("div","layeritem"+(JSON.stringify(R)==Z?" selected":""));
this.vo=X.T("div","head");this.G.appendChild(this.vo);this.vo.setAttribute("style","height:24px");this.nh=X.T("div","headL");
this.vo.appendChild(this.nh);if(Y!=0){var E=X.T("div");E.style.width=Y*20+"px";this.nh.appendChild(E)}if(B!=null){var p=this.OVr=X.T("div",B?"open":"closed");
this.nh.appendChild(p)}else{var y=this.OVZ=X.T("div","cmark");y.setAttribute("style","background-size:12px 12px; opacity:"+(r?1:.3));
this.nh.appendChild(y)}if(Y==0){var z=X.T("div","folder");this.nh.appendChild(z)}var u=this.aA=X.T("div","label");
u.textContent=o;this.nh.appendChild(u);this.G.addEventListener("mouseup",this.wn.bind(this),!1)};VC.pU.prototype=new Gt;
VC.pU.prototype.wn=function(R){if(R.detail==1&&R.target.tagName.toLowerCase()!="input"){var Z="sel";
if(R.target==this.OVr)Z="fold";if(R.target==this.OVZ)Z="enab";var B=new n(X.E.Q,!0);B.data={d:Z,sY:this.sY};
this.j(B)}else if(this.sY.length<3)var o=new OG.GU(this.aA,this.YG.bind(this))};VC.pU.prototype.YG=function(R){var Z=new n(X.E.Q,!0);
Z.data={d:"nchange",VD:R,sY:this.sY};this.j(Z)};function GQ(){OG.call(this,[9,3],!1,null,OG.qr.eP);this.ok=null;
this.aY=null;this.$V=null}GQ.prototype=new OG("");GQ.prototype.GK=function(){var R=X.T("div","");this.EV.appendChild(R);
this.rF=X.T("div","bordered cell");this.rF.setAttribute("style","width:10em; height:28.5em;");R.appendChild(this.rF);
this.$m=[];this.cF=null;this.tK=[];var Z=this.OYE.bind(this);this.NV=[new GQ.h$,new GQ.cV,new GQ.YL,new GQ.UM];
for(var B=0;B<this.NV.length;B++){var o=X.T("div","listitem"),r=this.NV[B].uX,Y=null;if(B==0){this.cF=new Yi(r);
o.appendChild(this.cF.G)}else{Y=new Ol(r,!1);Y.v(X.E.Q,this.OYk,this);o.appendChild(Y.G)}this.tK.push(Y);
this.rF.appendChild(o);this.$m.push(o);o.addEventListener("click",Z,!1)}this.qN=X.T("div","cell padded");
R.appendChild(this.qN);for(var B=0;B<this.NV.length;B++)this.NV[B].v("brushchange",this.OGP,this);this.setItem(0);
this.J$=X.T("canvas","");this.J$.width=Math.floor(380*X.D());this.J$.height=Math.floor(80*X.D());X.Hw(this.J$,this.J$.width,this.J$.height);
R.appendChild(this.J$);this.wH=this.J$.getContext("2d");this.Fx()};GQ.prototype.zB=function(){if(this.rF){this.Fx();
return}this.GK();this.c();this.lU(this.$V,GG.gy)};GQ.prototype.c=function(){OG.prototype.c.call(this);
if(this.rF==null)return;this.cF.c();for(var R=1;R<this.tK.length;R++)this.tK[R].c();for(var R=0;R<this.NV.length;
R++)this.NV[R].c()};GQ.prototype.OGP=function(R){var Z=this.NV.indexOf(R.currentTarget),B=JSON.parse(JSON.stringify(this.NV[Z].aY)),o=new n(X.E.K,!0);
o.data={d:X.l.zM,Fe:GG.Ow,aY:B};this.j(o)};GQ.prototype.OYk=function(R){this.OYB(this.tK.indexOf(R.currentTarget),R.currentTarget.ZD())};
GQ.prototype.OYE=function(R){var Z=this.$m.indexOf(R.currentTarget);if(R.target.tagName.toLowerCase()=="input")return;
if(this.tK[Z]&&!this.tK[Z].ZD()){this.tK[Z].lu();this.OYB(Z,!0)}this.setItem(Z)};GQ.prototype.OYB=function(R,Z){this.NV[R].TW(Z)};
GQ.prototype.setItem=function(R){for(var Z=0;Z<this.NV.length;Z++)this.$m[Z].setAttribute("class","listitem");
if(this.qN.firstChild)this.qN.removeChild(this.qN.firstChild);this.$m[R].setAttribute("class","listitem selected");
this.qN.appendChild(this.NV[R].G)};GQ.prototype.lU=function(R,Z){this.$V=R;if(this.rF==null)return;if(Z==GG.eP||Z==GG.gy){this.ok=R.$r;
for(var B=0;B<this.NV.length;B++)this.NV[B].lm(this.ok)}if(Z==GG.Ow||Z==GG.gy){this.aY=R.$r.nt;this.Fx()}if(Z==GG.IU)this.Fx()};
GQ.prototype.Fx=function(){if(this.aY)this.enable();else{this.disable();return}if(!X.Zi(this.EV))return;
var R=this.$V;for(var Z=0;Z<this.NV.length;Z++){this.NV[Z].o(this.aY);if(this.tK[Z])this.tK[Z].o(this.NV[Z].ZD())}var B=JSON.parse(JSON.stringify(this.aY));
B.Brsh.v.Dmtr.v.val=Math.min(B.Brsh.v.Dmtr.v.val,50);var o=new N(0,0,this.J$.width,this.J$.height),r=new GM(B,this.ok?this.ok.DZ:null,this.ok?this.ok.sw:null,{dr:1},R.Ky,R.Dk,o),Y=40*X.D(),E=300*X.D();
r.moveTo(Y,Y);for(var Z=0;Z<=E;Z+=10)r.lineTo(Y+Z,Y+20*Math.sin(2*Math.PI*Z/E));r.finish();var p=this.wH.createImageData(o.Y,o.Z);
O.GN(r.VW(),r.mb(),p.data,o);this.wH.putImageData(p,0,0)};GQ.mx=function(R){Gt.call(this);this.uX=R;
this.G=X.T("div","");this.aY=null};GQ.mx.prototype=new Gt;GQ.mx.prototype.lm=function(R){};GQ.mx.prototype.o=function(R){this.aY=JSON.parse(JSON.stringify(R));
this.G.setAttribute("class",this.ZD()?"":"disabled");this.Fx()};GQ.mx.prototype.TW=function(R){};GQ.mx.prototype.ZD=function(){return!1};
GQ.mx.prototype.c=function(){};GQ.mx.prototype.Fx=function(){};GQ.mx.prototype.Z_=function(){this.j(new n("brushchange"))};
GQ.h$=function(){GQ.mx.call(this,[15,0]);this.ok=null;this.Oxg=null;this.Np=new Rf(!0);this.G.appendChild(this.Np.G);
this.Np.v(X.E.Q,this.OYf,this);this.Np.G.style.height="10.7em";this.No=new Gp([12,14,0],1,1e3," px",0,!0);
this.No.v(X.E.Q,this.OYJ,this);this.Nm=new Gp([12,15],0,359," \xB0");this.Nm.v(X.E.Q,this.OYD,this);
this.Nb=new Gp([12,16],0,100," %");this.Nb.v(X.E.Q,this.OYN,this);this.Nd=new Gp([12,17],0,100," %");
this.Nd.v(X.E.Q,this.OYi,this);this.Nn=new Gp([12,18],1,300," %");this.Nn.v(X.E.Q,this.OYU,this);this.$m=[this.No,this.Nm,this.Nb,this.Nd,this.Nn]};
GQ.h$.prototype=new GQ.mx;GQ.h$.prototype.c=function(){this.No.c();this.Nm.c();this.Nb.c();this.Nd.c();
this.Nn.c()};GQ.h$.prototype.ZD=function(){return!0};GQ.h$.prototype.lm=function(R){this.ok=R;var Z=[],B=Math.floor(30*X.D()),o=Math.floor(40*X.D());
for(var r=0;r<R.list.length;r++){var Y=R.list[r].v,E=GM.uj(Y,R.DZ,R.sw,B,o);Z.push(E)}this.Np.pc(Z,null,B,o)};
GQ.h$.prototype.Fx=function(){var R=this.aY.Brsh.v,Z=R.classID!=this.Oxg;this.Oxg=R.classID;if(Z)for(var B=0;
B<this.$m.length;B++)if(this.G.contains(this.$m[B].G))this.G.removeChild(this.$m[B].G);this.No.o(R.Dmtr.v.val);
if(Z)this.G.appendChild(this.No.G);this.Nm.o(R.Angl.v.val);if(Z)this.G.appendChild(this.Nm.G);if(R.classID=="computedBrush"||R.classID=="sampledBrush"){this.Nb.o(R.Rndn.v.val);
if(Z)this.G.appendChild(this.Nb.G)}if(R.classID=="computedBrush"){this.Nd.o(R.Hrdn.v.val);if(Z)this.G.appendChild(this.Nd.G)}this.Nn.o(R.Spcn.v.val);
if(Z)this.G.appendChild(this.Nn.G)};GQ.h$.prototype.OYf=function(R){this.aY=this.ok.list[this.Np.M()].v;
this.Z_()};GQ.h$.prototype.OYJ=function(R){this.aY.Brsh.v.Dmtr.v.val=R.target.M();this.Z_()};GQ.h$.prototype.OYD=function(R){this.aY.Brsh.v.Angl.v.val=R.target.M();
this.Z_()};GQ.h$.prototype.OYN=function(R){this.aY.Brsh.v.Rndn.v.val=R.target.M();this.Z_()};GQ.h$.prototype.OYi=function(R){this.aY.Brsh.v.Hrdn.v.val=R.target.M();
this.Z_()};GQ.h$.prototype.OYU=function(R){this.aY.Brsh.v.Spcn.v.val=R.target.M();this.Z_()};GQ.cV=function(){GQ.mx.call(this,[15,1]);
this.Gi=new Gp([15,4,0],0,100," %");this.Gi.v(X.E.Q,this.OY$,this);this.G.appendChild(this.Gi.G);this.GZ=new Gp([15,4,1],0,100," %");
this.GZ.v(X.E.Q,this.OYx,this);this.G.appendChild(this.GZ.G);this.Go=new Gp([15,4,2],0,100," %");this.Go.v(X.E.Q,this.OYe,this);
this.G.appendChild(this.Go.G);this.GF=new Gp([15,4,3],0,100," %");this.GF.v(X.E.Q,this.ORJ,this);this.G.appendChild(this.GF.G);
this.Gu=new Gp([15,4,4],0,100," %");this.Gu.v(X.E.Q,this.ORZ,this);this.G.appendChild(this.Gu.G)};GQ.cV.prototype=new GQ.mx;
GQ.cV.prototype.c=function(){this.Gi.c();this.GZ.c();this.Go.c();this.GF.c();this.Gu.c()};GQ.cV.prototype.ZD=function(){return this.aY.useTipDynamics.v};
GQ.cV.prototype.TW=function(R){this.aY.useTipDynamics.v=R;YN.WL.fH(this.aY);this.Z_()};GQ.cV.prototype.Fx=function(){var R=this.aY;
if(R.useTipDynamics.v==!1)return;this.Gi.o(R.szVr.v.jitter.v.val);this.GZ.o(R.minimumDiameter.v.val);
this.Go.o(R.angleDynamics.v.jitter.v.val);this.GF.o(R.roundnessDynamics.v.jitter.v.val);this.Gu.o(R.minimumRoundness.v.val)};
GQ.cV.prototype.OY$=function(R){this.aY.szVr.v.jitter.v.val=R.target.M();this.Z_()};GQ.cV.prototype.OYx=function(R){this.aY.minimumDiameter.v.val=R.target.M();
this.Z_()};GQ.cV.prototype.OYe=function(R){this.aY.angleDynamics.v.jitter.v.val=R.target.M();this.Z_()};
GQ.cV.prototype.ORJ=function(R){this.aY.roundnessDynamics.v.jitter.v.val=R.target.M();this.Z_()};GQ.cV.prototype.ORZ=function(R){this.aY.minimumRoundness.v.val=R.target.M();
this.Z_()};GQ.YL=function(){GQ.mx.call(this,[15,2]);this.Gm=new Gp([15,5,0],0,1e3," %");this.Gm.v(X.E.Q,this.OXE,this);
this.G.appendChild(this.Gm.G);this.Gb=new Gp([15,5,1],1,20);this.Gb.v(X.E.Q,this.OXS,this);this.G.appendChild(this.Gb.G);
this.GT=new Gp([15,5,2],0,100," %");this.GT.v(X.E.Q,this.OXD,this);this.G.appendChild(this.GT.G)};GQ.YL.prototype=new GQ.mx;
GQ.YL.prototype.c=function(){this.Gm.c();this.Gb.c();this.GT.c()};GQ.YL.prototype.ZD=function(){return this.aY.useScatter.v};
GQ.YL.prototype.TW=function(R){this.aY.useScatter.v=R;YN.WL.fH(this.aY);this.Z_()};GQ.YL.prototype.Fx=function(){var R=this.aY;
if(R.useScatter.v==!1)return;this.Gm.o(R.scatterDynamics.v.jitter.v.val);this.Gb.o(R.Cnt.v);this.GT.o(R.countDynamics.v.jitter.v.val)};
GQ.YL.prototype.OXE=function(R){this.aY.scatterDynamics.v.jitter.v.val=R.target.M();this.Z_()};GQ.YL.prototype.OXS=function(R){this.aY.Cnt.v=R.target.M();
this.Z_()};GQ.YL.prototype.OXD=function(R){this.aY.countDynamics.v.jitter.v.val=R.target.M();this.Z_()};
GQ.UM=function(){GQ.mx.call(this,[15,3]);this.Gn=new Gp([15,6,0],0,100," %");this.Gn.v(X.E.Q,this.OXN,this);
this.G.appendChild(this.Gn.G);this.ox=new Gp([15,6,1],0,100," %");this.ox.v(X.E.Q,this.OXu,this);this.G.appendChild(this.ox.G);
this.Yk=new Gp([15,6,2],0,100," %");this.Yk.v(X.E.Q,this.OXQ,this);this.G.appendChild(this.Yk.G);this.YO=new Gp([15,6,3],0,100," %");
this.YO.v(X.E.Q,this.Oak,this);this.G.appendChild(this.YO.G)};GQ.UM.prototype=new GQ.mx;GQ.UM.prototype.c=function(){this.Gn.c();
this.ox.c();this.Yk.c();this.YO.c()};GQ.UM.prototype.ZD=function(){return this.aY.useColorDynamics.v};
GQ.UM.prototype.TW=function(R){this.aY.useColorDynamics.v=R;YN.WL.fH(this.aY);this.Z_()};GQ.UM.prototype.Fx=function(){var R=this.aY;
if(R.useColorDynamics.v==!1)return;this.Gn.o(R.clVr.v.jitter.v.val);this.ox.o(R.H.v.val);this.Yk.o(R.Strt.v.val);
this.YO.o(R.Brgh.v.val)};GQ.UM.prototype.OXN=function(R){this.aY.clVr.v.jitter.v.val=R.target.M();this.Z_()};
GQ.UM.prototype.OXu=function(R){this.aY.H.v.val=R.target.M();this.Z_()};GQ.UM.prototype.OXQ=function(R){this.aY.Strt.v.val=R.target.M();
this.Z_()};GQ.UM.prototype.Oak=function(R){this.aY.Brgh.v.val=R.target.M();this.Z_()};function yP(){OG.call(this,[9,0],!1,null,OG.qr.Fp);
this.EV.setAttribute("style","min-width:200px;");this.Wi=X.T("div","hpbody scrollable");this.Wi.style.height="160px";
this.EV.appendChild(this.Wi);this.OVs=-1;this.cm=[]}yP.prototype=new OG("");yP.prototype.qD=function(R){X.vO(this.Wi);
if(R==null)return;var Z=0;for(var B=0;B<R.history.length;B++)if(B<=R.ls&&!R.history[B].md)Z=B;for(var B=0;
B<R.history.length;B++){var o=R.history[B];if(o.md)continue;var r=new E_(o,B,Z);r.parent=this;this.Wi.appendChild(r.G);
this.cm.push(r)}if(R.ls==R.history.length-1)this.zB()};yP.prototype.zB=function(){this.Wi.scrollTop=this.Wi.scrollHeight};
yP.prototype.c=function(){OG.prototype.c.call(this);for(var R=0;R<this.cm.length;R++)this.cm[R].c()};
function E_(R,Z,B){Gt.call(this);this.index=Z;this.G=X.T("div",Z==B?"listitem selected":"listitem");
this.pk=R.name;this.c();if(Z>B)this.G.style.opacity=.4;this.G.addEventListener("click",this.JH.bind(this),!1)}E_.prototype=new Gt;
E_.prototype.c=function(){this.G.textContent=Ok.get(this.pk)};E_.prototype.JH=function(R){if(this.index==this.parent.OVs)return;
this.Bf({d:"h_itemchange",index:this.index})};E_.prototype.Bf=function(R){var Z=new n(X.E.$,!0);Z.data=R;
Z.B=A.Fp;this.j(Z)};function yJ(){OG.call(this,[9,10],!1,null,OG.qr.OGh);var R=X.T("div","padded");this.EV.appendChild(R);
this.Vz=new Ef(256);R.appendChild(this.Vz.G);this.OVH=[];this.BE=[];var Z=["Mean:","Pixels:"];for(var B=0;
B<Z.length;B++){var o=new Yi(Z[B]);this.OVH.push(o);R.appendChild(o.G);var r=new Yi("hi");this.BE.push(r);
R.appendChild(r.G);X.Ax(R)}this.xG=null}yJ.prototype=new OG("");yJ.prototype.qD=function(R){this.xG=R;
this.XT()};yJ.prototype.XT=function(){var R=this.xG,z=0;if(!X.Zi(this.EV))return;if(R==null||R.C.length==0){this.Vz.o(O.fy(O.a(4)));
this.BE[0].o("");this.BE[1].o("");return}var Z=R.fw(),B=new N(0,0,R.Y,R.Z),o=B.b();if(R.O){var r=R.O.rect,Y=O.a(r.b()*4);
O.GN(Z,B,Y,r);O.Qu(R.O.channel,Y);Z=Y;B=r;var E=R.O.channel;o=0;for(var p=0;p<E.length;p++)o+=E[p];o=Math.round(o/255)}var y=O.fy(Z);
this.Vz.o(y);for(var p=0;p<256;p++)z+=p*(.333*y[1][p]+.333*y[2][p]+.333*y[3][p]);this.BE[0].o((z/o).toFixed(1)+"");
this.BE[1].o(o+"")};yJ.prototype.lU=function(R,Z){this.Vz.Zc(yK.iM[R.rh]["--text-color"])};yJ.prototype.c=function(){OG.prototype.c.call(this);
this.Vz.c()};yJ.prototype.zB=function(){this.XT()};function Eh(){OG.call(this,[9,8],!1,null,OG.qr.OVM);
this.Pg=X.T("div","padded");this.EV.appendChild(this.Pg);this.eZ=new XO(10);this.Pg.appendChild(this.eZ.G);
this.Pg.appendChild(X.T("hr"));this.nS=new Xp;this.nS.parent=this;this.Pg.appendChild(this.nS.ud);this.eZ.v(X.E.Q,this.OY_,this);
this.nS.v(X.E.Q,this.OY_,this)}Eh.prototype=new OG("");Eh.prototype.OY_=function(R){var Z;if(R.target==this.eZ)Z=this.eZ.M();
else{var B=this.nS.M();Z=Math.round(B.F)<<16|Math.round(B.S)<<8|Math.round(B.X)}var o=new n(X.E.K,!0);
o.data={d:X.l.zM,Fe:GG.IU,_r:0,k:Z};this.j(o)};Eh.prototype.lU=function(R,Z){var B=R.Ky,o=Z==GG.gy;if(Z==GG.IU||o){this.eZ.o(B);
this.nS.o({F:B>>>16&255,S:B>>>8&255,X:B>>>0&255,Zo:"Color #"+O.ue(B)})}if(Z==GG.z$||o){var r=R.OeX;this.nS.lm(r)}};
function Rp(){OG.call(this,[12,72],!1,null,OG.qr.OGC);this.Ya=null;this.U$=null;this.Wi=X.T("div","lpbody scrollable");
this.qF=X.T("div","lpfoot");this.EV.appendChild(this.Wi);this.EV.appendChild(this.qF);this.cb=[];this.v("click",this.$W,this);
this.Vr=[];Rp.To([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.Vr,this.qF,this.Ay.bind(this),this.$q.bind(this));
this.OeC=new OD([{name:"Merge Channels",AP:!0}]);this.OeC.v("select",this.pC,this)}Rp.prototype=new OG("");
Rp.prototype.pC=function(R){var Z=new n(X.E.K,!0);Z.data={d:X.l.JT,fA:"mergechannels"};this.j(Z)};Rp.prototype.$E=function(){return this.OeC};
Rp.To=function(R,Z,B,o,r){for(var Y=0;Y<R.length;Y++){var E=new Gz("W",!1,R[Y]);Z.push(E);X.dj(E.G,o);
B.appendChild(E.G);var p=E.G;p.addEventListener("drop",r,!1);p.addEventListener("dragover",function(y){y.preventDefault()},!1);
p.addEventListener("dragenter",X.uc,!1)}};Rp.$t=function(R,Z){for(var B=0;B<R.length;B++)if(R[B].G==Z.currentTarget)return B};
Rp.prototype.Ay=function(R){var Z=Rp.$t(this.Vr,R);if(Z==0)this.j(XN.$x(!0,null,R));else{Z--;var B=new n(X.E.e_,!0),o={classID:"null"};
if(Z==0)o.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(Z==1)o.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else o.null=OX.m$("Chnl",!0);B.data={DG:["duplicate","make","delete"][Z],UU:o};this.j(B)}};Rp.prototype.$q=function(R){var Z=Rp.$t(this.Vr,R);
if(Z==2){var B=new n(X.E.e_,!0),o={classID:"null"};o.null=OX.m$("Chnl",!0);B.data={DG:"duplicate",UU:o};
this.j(B)}else this.Ay(R)};Rp.prototype.WQ=function(R){var Z=this.cb,B=Z[R];if(B==null){var o=X.T("canvas");
B=o.getContext("2d");Z.push(B)}return B};Rp.prototype.$W=function(R){var Z=this.Ya.slice(0),B=R.data.qp,o=Z[0]+Z[1]+Z[2],r=this.U$;
if(-5<B&&B<0){var Y=-B-1;if(R.data.cQ){if(Y==0)Z=o==3?[0,0,0]:[1,1,1];else{if(Z[Y-1]==0)Z[Y-1]=1;else if(!0)Z[Y-1]=0}}else{if(Y==0)Z=[1,1,1];
else{Z=[0,0,0];Z[Y-1]=1}r.Y_=[]}var E=new n(X.E.$,!0);E.B=A.vD;E.data={d:"setcls",Ej:Z};this.j(E);return}if(-1<B){var p=r.q[B],y=p.Fv==1?p.F$():p.YQ(r).m;
if(R.data.cQ)y.NM=!y.NM;else{for(var z=0;z<r.tP.length;z++)r.tP[z].NM=!1;r.Y_=[]}}else{var u=-B-5,y=r.tP[u];
if(R.data.cQ)y.NM=!y.NM;else{for(var z=0;z<r.tP.length;z++)r.tP[z].NM=!1;y.NM=!0;r.Y_=[u]}}r.Xl=r.ZK=!0};
Rp.prototype.zB=function(){this.$h()};Rp.prototype.qD=function(R){this.U$=R;this.$h()};Rp.prototype.$h=function(){var R=this.U$,Z=this.Wi,p=34,y=34,C=4;
X.vO(Z);if(R==null||!X.Zi(Z))return;var B=R.Y,o=R.Z,r=new N(0,0,B,o),Y=this.Ya=R.w.Ej.slice(0),E=Y[0]+Y[1]+Y[2];
if(B>o)y=Math.round(y*o/B);else p=Math.round(p*B/o);var z=["RGB"].concat(GK.sn);for(var u=0;u<4;u++){var Q=this.WQ(u);
O.Zz.Os(Q,p,y,r,R.fw(),r,!1,u==0?null:u-1);var H=u==0?E==3:Y[u-1]==1,T=new XN(-1-u,!0,!0,Q,z[u],H,H);
T.parent=this;Z.appendChild(T.G)}for(var u=0;u<R.C.length;u++){var e=R.q[R.C[u]],$=e.Fv;if($!=1&&$!=3)continue;
var x=$==1?e.F$():e.YQ(R).m,Q=this.WQ(C+u);C++;O.Zz.Op(Q,p,y,r,x);var T=new XN(R.C[u],!0,!0,Q,e.getName()+($==1?"":" Filter")+" Mask",!0,x.NM);
T.parent=this;Z.appendChild(T.G)}for(var u=0;u<R.tP.length;u++){var x=R.tP[u],Q=this.WQ(C+u);O.Zz.Op(Q,p,y,r,x);
var T=new XN(-5-u,!0,x.name=="Quick Mask",Q,x.name,R.Y_.indexOf(u)!=-1,x.NM,A.zr,{d:S.El,_r:"rnm",qp:u});
T.parent=this;Z.appendChild(T.G)}};Rp.prototype.YH=function(R,Z){this.Wi.style.height=Z-9-25+"px"};Rp.prototype.c=function(){OG.prototype.c.call(this);
this.$h();Rp.OYZ(this.Vr,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};Rp.OYZ=function(R,Z){for(var B=0;
B<R.length;B++){var o=R[B];o.FS(X.bQ(Z[B]))}};function XN(R,Z,B,o,r,Y,E,p,y){Gt.call(this);this.G=X.T("div","layeritem");
this.OVu=R;this.OVT=Z;this.OVC=B;this.IH=o;this.OVd=p;this.OVn=y;this.vo=X.T("div",Y?"head selected":"head");
this.vo.setAttribute("style","height: "+40+"px");var z=X.T("div","headL"),u=X.T("div","headR"),Q=15;
this.G.appendChild(this.vo);this.vo.appendChild(z);this.vo.appendChild(u);this.Zw=X.T("div","eye");if(1<X.D()&&X.D()<1.5)Q=Q/X.D();
this.Zw.setAttribute("style","background-size: "+Q+"px "+Q+"px;");this.Zw.style.opacity=E?1:.2;if(Z)z.appendChild(this.Zw);
this.L_=X.T("div","thumb");this.L_.appendChild(o.canvas);z.appendChild(this.L_);this.qb=X.T("div","label");
if(B)this.qb.style.fontStyle="italic";this.qb.textContent=Ok.get(r);z.appendChild(this.qb);var H=this.vo;
H.setAttribute("draggable","true");this.vo.addEventListener("mousedown",this.OaO.bind(this),!1)}XN.prototype=new Gt;
XN.prototype.YG=function(R){var Z=new n(X.E.$,!0);Z.B=this.OVd;Z.data=this.OVn;Z.data.name=R;this.j(Z)};
XN.prototype.OaO=function(R){var Z=R.ctrlKey||R.metaKey,B=this.OVu;if(!this.OVC&&R.detail==2&&R.target==this.qb){var o=new OG.GU(this.qb,this.YG.bind(this))}else if(Z&&R.target==this.IH.canvas){this.j(XN.$x(this.OVT,B,R))}else{var r=new n("click",!0);
r.data={qp:B,cQ:R.target==this.Zw,cP:Z};this.j(r)}};XN.$x=function(R,Z,B){var o=0;if(B.shiftKey)o++;
if(B.altKey)o+=2;var r=new n(X.E.$,!0);r.B=A.tz;if(R)r.data={d:"fromchannel",ua:[Z,0,o]};else r.data={d:"frompath",ua:[Z,0,o]};
return r};function Vm(){OG.call(this,[8,9],!1,null,OG.qr.iR);this.Ya=null;this.U$=null;this.Wi=X.T("div","lpbody scrollable");
this.qF=X.T("div","lpfoot");this.EV.appendChild(this.Wi);this.EV.appendChild(this.qF);this.EV.addEventListener("click",this.OaD.bind(this),!1);
this.cb=[];this.v("click",this.$W,this);this.Vr=[];Rp.To([[17,2],"Selection to Path",[5,3],[5,4]],this.Vr,this.qF,this.Ay.bind(this),this.$q.bind(this))}Vm.prototype=new OG("");
Vm.prototype.Ay=function(R){var Z=Rp.$t(this.Vr,R),B;if(Z==0)B=XN.$x(!1,null,R);else if(Z==1){B=new n(X.E.e_,!0);
B.data={DG:"make",UU:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else{var B=new n(X.E.$,!0);
B.B=A.Pw;B.data={d:"pathedit",_r:["new","del"][Z-2]}}this.j(B)};Vm.prototype.$q=function(R){this.Ay(R)};
Vm.prototype.WQ=function(R){var Z=this.cb,B=Z[R];if(B==null){var o=X.T("canvas");B=o.getContext("2d");
Z.push(B)}return B};Vm.prototype.OaD=function(R){if(R.target==this.Wi){var Z=this.U$;Z.JG=[];Z.ID=[];
Z.ZK=!0;Z.Xl=!0}};Vm.prototype.$W=function(R){var Z=R.data.qp,B=this.U$,o=R.data.cP,r=0,Y,E;if(Z<0){r=-1-Z;
Y=B.JG;E=B.ID}else{var p=B.dm()[0];for(var y=0;y<p.length;y++){var z=p[y].qp;if(z==Z)break;if(z>=0)r++}Y=B.ID;
E=B.JG}if(o){var u=Y.indexOf(r);if(u==-1)Y.push(r);else Y.splice(u,1)}else{while(Y.length!=0)Y.pop();
while(E.length!=0)E.pop();Y.push(r)}B.ZK=!0;B.Xl=!0};Vm.prototype.zB=function(){this.$h()};Vm.prototype.qD=function(R){this.U$=R;
this.$h()};Vm.prototype.$h=function(){var R=this.U$,Z=this.Wi,p=34,y=34;X.vO(Z);if(R==null||!X.Zi(Z))return;
var B=R.Y,o=R.Z,r=new N(0,0,B,o),Y=this.Ya=R.w.Ej.slice(0),E=Y[0]+Y[1]+Y[2];if(B>o)y=Math.round(y*o/B);
else p=Math.round(p*B/o);var z=R.dm(),u=z[0];for(var Q=0;Q<u.length;Q++){var H=u[Q],T=this.WQ(Q);O.Zz.OzM(T,p,y,r,H.add.vmsk);
var C=new XN(H.qp,!1,H.qp>=-1,T,H.name,z[1].indexOf(Q)!=-1,!1,A.Pw,{d:"pathedit",_r:"rnm",qp:H.qp});
C.parent=this;Z.appendChild(C.G)}};Vm.prototype.YH=function(R,Z){this.Wi.style.height=Z-9-25+"px"};Vm.prototype.c=function(){OG.prototype.c.call(this);
this.$h();Rp.OYZ(this.Vr,["lrs/makesel","lrs/makepath","lrs/newlayer","lrs/bin"])};function yq(R){OG.call(this,[9,R?4:5],!1,null,R?OG.qr.OGH:OG.qr.OGF);
this.EV.setAttribute("style","min-width:240px;");this.OVg=R;this.tZ=null;this.$V=null}yq.prototype=new OG("");
yq.prototype.GK=function(){this.tZ=new Rg;var R=this.tZ,Z=this.EV;R.parent=this;if(this.OVg){var B=X.T("div","marged");
Z.appendChild(B);B.appendChild(R.jd.G);Z.appendChild(X.T("hr"));var o=X.T("div","marged");Z.appendChild(o);
o.appendChild(R.IY.G);o.appendChild(R.IX.G);var r=X.T("div","marged");Z.appendChild(r);r.appendChild(R.Ia.G);
Z.appendChild(X.T("hr"));var Y=X.T("div","marged");Z.appendChild(Y);Y.appendChild(R.mi.G);Y.appendChild(R.bV.G);
var E=X.T("div","marged");Z.appendChild(E);E.appendChild(R.bA.G);E.appendChild(R.IL.G);Z.appendChild(X.T("hr"));
var p=X.T("div","marged");Z.appendChild(p);p.appendChild(R.yX.G);p.appendChild(R.ya.G);p.appendChild(R.yI.G);
p.appendChild(R.yw.G);p.appendChild(R.yf.G);p.appendChild(R.y_.G);p.appendChild(R.yi.G);p.appendChild(R.y$.G)}else{var B=X.T("div","marged");
Z.appendChild(B);B.appendChild(R.bH.G);B.appendChild(R.bm.G);B.appendChild(R.bu.G);B.appendChild(R.ORc.G);
B.appendChild(R.Ojv.G);B.appendChild(R.OXB.G);B.appendChild(R.Ojp.G);Z.appendChild(X.T("hr"));var o=X.T("div","marged");
Z.appendChild(o);o.appendChild(R.Dg.G);o.appendChild(R.qf.G);o.appendChild(R.qv.G);Z.appendChild(X.T("hr"));
var r=X.T("div","marged");Z.appendChild(r);r.appendChild(R.qz.G);r.appendChild(R.qs.G);r.appendChild(R.bW.G)}};
yq.prototype.zB=function(){if(!X.Zi(this.EV))return;if(this.tZ==null){this.GK();if(this.$V)this.tZ.ND(this.$V);
this.tZ.c()}};yq.prototype.c=function(){OG.prototype.c.call(this);if(this.tZ)this.tZ.c()};yq.prototype.lU=function(R,Z){this.$V=R;
if(Z!=GG.gy&&Z!=GG.zb&&Z!=GG.Ot&&Z!=GG.YP)return;if(this.tZ)this.tZ.ND(R)};function ys(){OG.call(this,[13,0],!1,null,OG.qr.IU);
this.dY=0;this.Oec=0;this.$V=null;var R=X.T("div","flexrow padded");this.EV.appendChild(R);var Z=X.T("div");
R.appendChild(Z);this.dR=[];for(var B=0;B<2;B++){var o=new EN;this.dR.push(o);o.v("click",this.Ojw,this);
Z.appendChild(o.G)}this.jn=new Vs(192);this.jn.v(X.E.Q,this.iX,this);R.appendChild(this.jn.G)}ys.prototype=new OG("");
ys.prototype.Ojw=function(R){this.dY=this.dR.indexOf(R.currentTarget);this.XT()};ys.prototype.iX=function(R){var Z=this.jn.M();
this.jn.o(Z);var B=Math.round(Z.F*255)<<16|Math.round(Z.S*255)<<8|Math.round(Z.X*255),o=new n(X.E.K,!0);
o.data={d:X.l.zM,Fe:GG.IU,_r:this.dY,k:B};this.j(o);this.Oec=Date.now()};ys.prototype.XT=function(){var R=this.$V,Z=this.dY,B=[R.Ky,R.Dk];
for(var o=0;o<2;o++){var r=this.dR[o],Y=r.G.style;r.Zc(B[o]);if(o==Z)delete Y.borderColor;else Y.borderColor="var(--bg-color)"}var E=B[Z];
if(Date.now()-this.Oec>100)this.jn.o({F:(E>>>16)/255,S:(E>>>8&255)/255,X:(E&255)/255})};ys.prototype.lU=function(R,Z){this.$V=R;
if(Z==GG.gy||Z==GG.IU)this.XT()};ys.prototype.zB=function(){this.XT()};function OL(){OG.call(this,"CSS",!1,null,OG.qr.CSS);
this.xG=null;var R=X.T("div","padded");this.EV.appendChild(R);this.zC=X.T("textarea");this.zC.setAttribute("rows",16);
this.zC.setAttribute("style","display:block;tab-size:4; font-family:monospace; width:98%; min-width:270px;");
R.appendChild(this.zC)}OL.prototype=new OG("");OL.prototype.qD=function(R){this.xG=R;this.XT()};OL.prototype.lU=function(R,Z){if(Z==GG.Ot)this.XT()};
OL.prototype.XT=function(){var R=this.xG;if(R==null||R.C.length==0)return;if(!X.Zi(this.EV))return;var Z=R.q[R.C[0]],B=CSS.ODV(Z,R);
if(B.length!=0)this.zC.value=B.join(";\n")+";";else this.zC.value=""};OL.prototype.zB=function(){this.XT()};
function OZ(){OG.call(this,[9,6],!1,null,OG.qr.OVc);this.EV.setAttribute("style","min-width:240px;");
this.xG=null;this.$V=null;var R=X.T("div","marged row");this.EV.appendChild(R);var Z=X.T("div","cell");
Z.setAttribute("style","width:10em");R.appendChild(Z);var B=X.T("div","cell");B.setAttribute("style","width:10em");
R.appendChild(B);this.OVP=new Yi("R:");this.OGI=new Yi("G:");this.OGw=new Yi("B:");this.EV.appendChild(X.T("hr",""));
var o=X.T("div","marged row");this.EV.appendChild(o);var Z=X.T("div","cell");Z.setAttribute("style","width:10em");
var B=X.T("div","cell");B.setAttribute("style","width:10em");o.appendChild(Z);o.appendChild(B);this.II=new Yi("");
Z.appendChild(this.II.G);X.Ax(Z);this.wB=new Yi("");Z.appendChild(this.wB.G);this.HX=new Yi("");B.appendChild(this.HX.G);
X.Ax(B);this.FN=new Yi("");B.appendChild(this.FN.G);this.II.o("X: 100 px");this.wB.o("Y: 100 px");this.HX.o("W: 0");
this.FN.o("H: 0")}OZ.prototype=new OG("");OZ.prototype.TU=function(R,Z,B,o,r){var Y=R.w.JQ(r.x,r.y),E=new VP(Math.floor(Y.x),Math.floor(Y.y));
if(!1){var p=0,y=0,z=0;if(!r.yL&&!R.OA$()&&new N(0,0,R.Y,R.Z).a_(E)){var u=R.fw(),Q=R.Y*E.y+E.x<<2;p=u[Q+0];
y=u[Q+1];z=u[Q+2]}this.OVP.o("R: "+p);this.OGI.o("G: "+y);this.OGw.o("B: "+z)}this.II.o("X: "+O.uO.Tk(E.x,R.ag,B,R.Y));
this.wB.o("Y: "+O.uO.Tk(E.y,R.ag,B,R.Z));this.$K()};OZ.prototype.$K=function(){var R=this.xG,Z=this.$V,B=0,o=0;
if(R&&Z){if(R.w.nC){B=R.w.nC.Y;o=R.w.nC.Z}else if(R.O){B=R.O.rect.Y;o=R.O.rect.Z}B=O.uO.Tk(Math.abs(B),R.ag,Z,R.Y);
o=O.uO.Tk(Math.abs(o),R.ag,Z,R.Z)}this.HX.o(Ok.get([12,41]).charAt(0)+": "+B);this.FN.o(Ok.get([12,42]).charAt(0)+": "+o)};
OZ.prototype.c=function(){OG.prototype.c.call(this);this.$K()};OZ.prototype.qD=function(R,Z,B){this.xG=R;
this.$V=B;this.$K()};function Yz(){OG.call(this,[9,1],!1,null,OG.qr.zr);this.nJ=null;this.qC=null;this.pQ=null;
this.vo=X.T("div","lphead");this.Wi=X.T("div","lpbody scrollable");this.qF=X.T("div","lpfoot");this.ZJ=new Oq(null,Gd.pp,!1,Gd.WT);
this.ZJ.v(X.E.Q,this.Ojn,this);this.vo.appendChild(this.ZJ.G);this.nW=new OH([12,0],0,100,"%",0);this.nW.v(X.E.Q,this.OjQ,this);
this.nW.parent=this;this.vo.appendChild(this.nW.G);this.NP=new Xh("<img src=\""+PIMG["lrs/lock"]+"\" class=\"autoscale gsicon\" />",[[12,76,2],[12,40],[7,0]]);
this.NP.v(X.E.Q,this.OIX,this);this.vo.appendChild(this.NP.G);this.vE=new OH([12,26],0,100,"%",0);this.vE.v(X.E.Q,this.OIw,this);
this.vE.parent=this;this.Vr=[];this.To();this.EV.appendChild(this.vo);this.EV.appendChild(this.Wi);this.EV.appendChild(this.qF);
this.EV.addEventListener("contextmenu",X.uc,!1);var R=[{name:[14,10]},{name:[14,11],vU:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],vU:!0},{name:[6,7]},{name:"New Smart Obj. via Copy",H:function(Y){return{H:Y.q[Y.C[0]].add.SoLd!=null}},vU:!0},{name:[6,8],H:function(Y){var E=Y.q[Y.C[0]];
if(E.add.TySh||E.add.SoLd||E.add.SoCo||E.add.GdFl||E.add.PtFl)return{H:!0};return{H:!1}}},{name:[6,34],H:function(Y){var E=Y.q[Y.C[0]];
return{H:E.add.lmfx!=null&&!E.av()}}},{name:[6,40],vU:!0,H:function(Y){var E=Y.q[Y.C[0]];return{H:E.add.TySh!=null}}},{name:"",vU:!0,H:function(Y){var E=Y.q[Y.C[0]],p=E.add.TySh,y=p?p.HC:null;
return{H:p!=null&&y.Curve==null,Ni:Ok.get(p&&GV.hX(y)==0?[16,3,1]:[16,3,0])}}},{name:[6,6,0],vU:!0,H:function(Y){return{H:Y.Fd(Y.C[0]),FX:Y.q[Y.C[0]].fa}}},{name:[11,6],vU:!0,sub:[{name:[5,1],H:function(Y){var E=Y.q[Y.C[0]];
return{H:E.add.lmfx!=null}}},{name:[5,2]},{name:[2,2],H:function(Y){var E=Y.q[Y.C[0]];return{H:E.add.lmfx!=null}}}]},{name:[6,10],H:function(Y){return{H:Y.C.length==1&&Y.C[0]!=0&&!Y.q[Y.C[0]].av()}}},{name:[6,12,0],H:function(Y){return{H:Y.C.length>1||Y.q[Y.C[0]].av()}}},{name:[6,12,1],vU:!0},{name:[13,0],sub:function(){var Y=[[13,1,0],[13,1,1],[13,1,2],[13,1,3],[13,1,4],[13,1,5],[13,1,6],[13,1,7]],E=[];
for(var p=0;p<Y.length;p++)E.push({name:Y[p]});return E}()}];this.yx=[null,{z:X.E.$,B:A.tz,i:{d:"fromlayer",ua:[null,0,0]}},S.NC,{z:X.E.K,i:{d:X.l.JT,fA:"duplinto"}},S.vR,{z:X.E.e_,i:{DG:"newPlacedLayer"}},S.fR,{z:X.E.e_,i:{DG:"rasterizeLayer",UU:{classID:"rasterizeLayer",null:OX.m$("Lyr",!0)}}},S.fX,S.ORw,{z:X.E.$,B:A.cC,i:{d:"switchPntPrgr"}},S.yu,null,S.yz,S.Xo,S.ft,S.$c];
this.qN=new OD(R);this.qN.v("select",this.pC,this);var Z=[{name:[6,45],H:function(Y){var E=Y.q[Y.C[0]];
return{H:E.YQ(Y).m==null}}},{name:[6,47]}];this.OGD=[S.FU,S.fW];this.dI=new OD(Z);this.dI.v("select",this.pC,this);
var B=[{name:"enab/disab",H:function(Y){return{Ni:Ok.get(Y.q[Y.C[0]].F$().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],H:function(Y){return{H:Y._W(!1,!0)}}}];
this.OGq=[S.yZ,S.Uw,S.fq];this.dB=new OD(B);this.dB.v("select",this.pC,this);var o=[{name:"enab/disab",H:function(Y){return{Ni:Ok.get(Y.q[Y.C[0]].YQ(Y).m.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}];
this.OGW=[S.XF,S.Fr];this.dL=new OD(o);this.dL.v("select",this.pC,this);var r=[{name:"enab/disab",H:function(Y){return{Ni:Ok.get(Y.q[Y.C[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]}];
this.OGe=[S.UB,S.US];this.dl=new OD(r);this.dl.v("select",this.pC,this);this.dS=new OD(Ev.OJI(!0),Ev.Oqx(!0));
this.OKJ=new OD(Ev.OhQ(),Ev.OfY());this.v("rclick",this.Ojz,this)}Yz.prototype=new OG("");Yz.prototype.Tw=function(){return new VP(253,0)};
Yz.prototype.pC=function(R){var Z=R.target.ib(),B=Z[0],o;if(R.target==this.qN)o=this.yx;if(R.target==this.dI)o=this.OGD;
if(R.target==this.dB)o=this.OGq;if(R.target==this.dl)o=this.OGe;if(R.target==this.dL)o=this.OGW;if(R.target==this.dS)o=this.OiH;
if(R.target==this.OKJ)o=this.OiF;if(o[B]==null){if(B==0){var r=new n(X.E.K,!0);r.data={d:X.l.JT,fA:"layerstyle",r:this.qC.C[0]};
this.j(r)}else{var Y=new n(X.E.$,!0);Y.B=A.WD;Y.data={d:["st_copy","st_paste","st_clear"][Z[1]],r:this.qC.C[0]};
this.j(Y)}return}if(o[B].z!=null){var E=o[B],Y=new n(E.z,!0);Y.B=E.B;Y.data=E.i;R.target.j(Y);return}var Y=new n(X.E.$,!0);
if(R.target==this.dS)Y.data=o[B];else Y.data={d:o[B]};if(o[B]==S.$c)Y.data.OIg=Z[1];Y.B=A.zr;R.target.j(Y)};
Yz.prototype.Ojz=function(R){var Z=this.qC,B=R.data,r;if(Z.C.indexOf(B.r)==-1){var o={d:S.Eo,r:R.target.Ul.index,Eb:B.Fv};
this.Bf(o)}if(Z.C.indexOf(B.r)==-1)return;if(B.Fv==1){r=this.dB}else if(B.Fv==2){r=this.dl}else if(B.Fv==3){r=this.dL}else if(B.OGo){r=this.dI}else{r=this.qN}r.c();
r.update(Z);r.parent=this;var Y=new n(X.E.K,!0);Y.data={d:X.l.dF,Jd:r,x:B.Sl.x+1,y:B.Sl.y+1};this.j(Y)};
Yz.prototype.c=function(){OG.prototype.c.call(this);this.ZJ.c();this.nW.c();this.NP.c();this.vE.c();
if(this.qC)this.qD(this.qC);var R="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var Z=0;Z<this.Vr.length;Z++){var B=this.Vr[Z];B.FS(X.bQ(R[Z]))}};Yz.prototype.qD=function(R,Z){if(R==null)X.Cy(this.EV,"disabled");
else X.rd(this.EV,"disabled");this.qC=R;this.pQ=Z;if(this.nJ!=null){this.Wi.removeChild(this.nJ.Wi);
this.nJ=null}if(R==null)return;this.nJ=new Yx(R.root,this,R,{Oq:0});this.Wi.appendChild(this.nJ.Wi);
if(R.C.length==0)X.Cy(this.vo,"disabled");else{X.rd(this.vo,"disabled");if(R.C.length==1&&R.Hl)this.nJ.OjU(R.C);
var B=R.q[R.C[0]];if(B.av()){this.ZJ.Hp([[15,10,27]].concat(Gd.pp),[1].concat(Gd.WT));var o=Gd.pz.indexOf(B.QV);
this.ZJ.o(o+1)}else{this.ZJ.Hp(Gd.pp,Gd.WT);var o=Gd.pz.indexOf(B.QV);this.ZJ.o(o)}this.nW.o(Math.round(100*B.opacity/255));
this.NP.o([B._A(1),B._A(2),B._A(31)]);this.vE.o(Math.round(100*(B.add.iOpa!=null?B.add.iOpa/255:1)))}};
Yz.prototype.YH=function(R,Z){var B=this.vo.getBoundingClientRect().height;B=Math.max(B,52);if(B>68)B=Math.max(B,76);
var o=Z-(B+35);this.Wi.style.height=o+"px"};Yz.prototype.Ojn=function(R){this.Bf({d:S.ED,Zx:this.ZJ.M()})};
Yz.prototype.OjQ=function(R){this.Bf({d:S.EN,Zx:Math.round(255*this.nW.M()/100)})};Yz.prototype.OIX=function(R){this.Bf({d:S.UC,Zx:[this.NP.M(),[1,2,31]]})};
Yz.prototype.OIw=function(R){this.Bf({d:S.aw,Zx:Math.round(255*this.vE.M()/100)})};Yz.prototype.OIt=function(R){this.ORD(R,this.dS)};
Yz.prototype.OIU=function(R){this.ORD(R,this.OKJ)};Yz.prototype.ORD=function(R,Z){var B=R.currentTarget;
if(X.Zi(Z.G))return;R.stopPropagation();var o=B.getBoundingClientRect();Z.c();Z.update(this.qC);Z.parent=this;
var r=new n(X.E.K,!0);r.data={d:X.l.dF,Jd:Z,x:o.left,y:o.top,ORL:!0};this.j(r)};Yz.prototype.OI$=function(R){this.Bf({d:S.Ojx})};
Yz.prototype.OIH=function(R){this.Bf({d:S.FE})};Yz.prototype.OIm=function(R){this.Bf({d:S.vN})};Yz.prototype.OIn=function(R){this.Bf({d:S.vR})};
Yz.prototype.OBO=function(R){this.Bf({d:S.Ua})};Yz.prototype.Bf=function(R){var Z=new n(X.E.$,!0);Z.data=R;
Z.B=A.zr;this.j(Z)};Yz.prototype.To=function(){var R=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[6,31]],Z=[this.OBO,this.OIU,this.OIt,this.OI$,this.OIH,this.OIm,this.OIn],B=this.OBZ.bind(this);
for(var o=0;o<R.length;o++){var r=new Gz("W",!1,R[o]);this.Vr.push(r);X.dj(r.G,Z[o].bind(this));this.qF.appendChild(r.G);
if(o>=R.length-3){var Y=r.G;Y.addEventListener("drop",B,!1);Y.addEventListener("dragover",function(E){E.preventDefault()},!1);
Y.addEventListener("dragenter",X.uc,!1)}}};Yz.prototype.OBZ=function(R){X.uc(R);var Z=0,B=this.Vr;while(B[Z].G!=R.currentTarget)Z++;
B[Z].UW();var o=R.dataTransfer.getData("Text");if(o=="")return;var o=JSON.parse(o);if(o.ju=="l"){var r={d:[S.jY,S.NC,S.vR][Z-4]};
if(this.qC.C.indexOf(o.lJ)==-1)r.r=o.lJ;this.Bf(r)}if(Z!=6)return;if(o.ju=="sm"||o.ju=="s"){var Y=new n(X.E.$,!0);
Y.B=A.WD;Y.data={d:o.ju=="sm"?"st_clear":"st_delsingle",r:o.lJ,lJ:o.Fm};this.j(Y)}if(o.ju=="fm"||o.ju=="f"){this.Bf({d:o.ju=="fm"?S.fW:S.OIk,src:o.lJ,Fm:o.Fm})}if(o.ju=="m"||o.ju=="vm"){this.Bf({d:o.ju=="m"?S.Uw:S.US,r:o.lJ})}};
function Yx(R,Z,B,o){Gt.call(this);this.parent=Z;this.Ul=R;this.dt=[];this.G=X.T("div","layeritem");
var r=R.r,m=15,g=!1;this.vo=X.T("div",B.C.indexOf(R.index)!=-1?"head selected":"head");if(R.r.add.artb!=null)X.Cy(this.vo,"artb");
this.vo.setAttribute("style","height: "+(r.O_Z+10)+"px");var Y=X.T("div","headL"),E=X.T("div","headR"),p=X.T("div","lpineck");
this.Wi=X.T("div","lpibody");this.G.appendChild(this.vo);this.vo.appendChild(Y);this.vo.appendChild(E);
if(r.Hv()||r.by())if(r.X_())this.G.appendChild(p);var y=this.vo;y.setAttribute("draggable","true");y.addEventListener("dragstart",this.$Z.bind(this),!1);
y.addEventListener("drop",this.iT.bind(this),!1);y.addEventListener("dragover",this.$H.bind(this),!1);
y.addEventListener("dragenter",X.uc,!1);y.addEventListener("dragleave",this.$o.bind(this),!1);var z=[],u=[],Q=X.T("div");
this.Zw=X.T("div","eye");Q.appendChild(this.Zw);var H=X.T("div","space");this.qb=X.T("div","label");
this.qb.textContent=r.getName();this.df=X.T("div","lock");this.YB=X.T("div","arfx");var T=this.OwT.bind(this),C=this.OAG.bind(this);
this.vo.addEventListener("click",C,!1);this.vo.addEventListener("contextmenu",T,!1);var e=[0,16711680,16748544,16763904,4513024,22015,11141375,7829367],$=r.add.lclr==null?0:e[r.add.lclr];
if($==0)$=o.Oq;var x=[$>>16,$>>8&255,$&255];for(var M=0;M<3;M++){x[M]=Math.round(.5*x[M]+.5*220)}if(1<X.D()&&X.D()<1.5)m=m/X.D();
Q.setAttribute("style","background-color:rgba("+x.join(",")+","+($==0?0:1)+");");this.Zw.setAttribute("style","background-size: "+m+"px "+m+"px;");
var G=this.OBF.bind(this);Q.addEventListener("mousedown",G,!1);Q.addEventListener("mouseover",G,!1);
this.qb.addEventListener("click",this.Ow$.bind(this),!1);this.YB.addEventListener("click",this.Owb.bind(this),!1);
z[0]=Q;z[1]=H;z[10]=this.qb;if(r.av()){var K=X.T("div","arrow"),s=X.T("div","folder");K.addEventListener("click",this.OBu.bind(this),!1);
z[2]=K;z[3]=s;if(r.add.lsct==YV.A_){for(var M=R.children.length-1;M>=0;M--){var L=new Yx(R.children[M],Z,B,{Oq:$});
this.dt.push(L);this.Wi.appendChild(L.G)}this.G.appendChild(this.Wi)}K.setAttribute("class",r.add.lsct==YV.A_?"open":"closed")}else{this.L_=X.T("div","thumb");
z[5]=this.L_;this.L_.appendChild(r.UT.canvas)}var _=r.F$();if(_){this.YJ=X.T("div","chain");this.Z$=X.T("div","thumb");
this.Z$.setAttribute("draggable","true");this.Z$.appendChild(R.r.OlH.canvas);this.YJ.style.opacity=_.vG?1:0;
this.YJ.addEventListener("click",this.OBm.bind(this),!1)}var P=r.yJ()&&r.add.vmsk;if(r.add.vmsk&&!P){this.YW=X.T("div","chain");
this.LL=X.T("div","thumb");this.LL.setAttribute("draggable","true");this.LL.appendChild(R.r.OSI.canvas);
this.YW.style.opacity=r.add.vmsk.vG?1:0;this.YW.addEventListener("click",this.Oww.bind(this),!1)}if(r.by()&&r.YQ(B).m){this.nH=X.T("div","thumb");
this.nH.appendChild(R.r.OSd.canvas);this.nH.addEventListener("click",C,!1);this.nH.addEventListener("contextmenu",T,!1)}if(r.Hv()){p.addEventListener("contextmenu",T,!1);
var i=new Yz.FA(Ok.get([12,1]),"sm","layerstyle",R.depth,0,null);i.parent=this;p.appendChild(i.G);var w=r.add.lmfx,k=w.masterFXSwitch.v;
i.eM(k);for(var M=0;M<Gk.order.length;M++){var h=w[Gk._p[M]].v;if(h.length==0)continue;for(var j=0;j<h.length;
j++){var i=new Yz.FA(Ok.get(Gk.names[M]),"s","layerstyle",R.depth,1,[M,j]);i.eM(k&&h[j].v.enab.v);i.parent=this;
p.appendChild(i.G)}}}if(r.by()){var i=new Yz.FA(Ok.get([12,55]),"fm",null,R.depth,0,-1,r.YQ(B).m?this.nH:null);
i.parent=this;p.appendChild(i.G);this.OOx=i.G;this.OOx.addEventListener("contextmenu",T,!1);var w=r.add.SoLd.filterFX.v,I=w.filterFXList.v,k=w.enab.v;
i.eM(k);for(var M=I.length-1;M>=0;M--){var V=I[M].v,F=V.filterID.v,q=U.KK(F);if(GK.Ou[q])q=GK.Ou[q];
var t=V.Nm.v;if(Go.names[q])t=Ok.get(Go.names[q]);if(GK.names[q])t=Ok.get(GK.names[q]);var c=b[q]||Go.Dy[q]?"afw_"+q:null,i=new Yz.FA(t,"f",c,R.depth,1,M);
i.eM(k&&V.enab.v);i.parent=this;p.appendChild(i.G)}}if(B.q.indexOf(r)==B.C[0]){var f=r.Fv,W;if(f<=0)W=this.L_;
else if(f==1)W=this.Z$;else if(f==3)W=this.nH;if(W)W.setAttribute("class","thumb active");if(r.GQ&&this.LL)this.LL.setAttribute("class","thumb active")}Q.style.opacity=r.YT()?1:.25;
H.setAttribute("style","width:"+Math.max(0,R.depth-1)*18+"px");var l=r.add.lspf!=null&&r.add.lspf!=0;
this.df.style.opacity=r._A(31)?1:.5;z[4]=r.fa?X.T("div","clipp"):null;z[6]=_?this.YJ:null;z[7]=_?this.Z$:null;
z[8]=r.add.vmsk&&!P?this.YW:null;z[9]=r.add.vmsk&&!P?this.LL:null;var v=r.gt,Vg=B.C;if(v!=0)for(var M=0;
M<Vg.length;M++)if(B.q[Vg[M]].gt==v){g=!0;break}u[0]=g?X.T("div","link"):null;u[1]=l?this.df:null;u[2]=r.Hv()?X.T("div","lrfx"):null;
u[3]=r.Hv()||r.by()?this.YB:null;this.YB.setAttribute("class",r.X_()?"arfx open  gsicon":"arfx closed  gsicon");
var GE=z;for(var M=0;M<GE.length;M++)if(GE[M])Y.appendChild(GE[M]);GE=u;for(var M=0;M<GE.length;M++)if(GE[M])E.appendChild(GE[M])}Yx.prototype=new Gt;
Yx.prototype.OjU=function(R){var Z=this.Ul.index;if(R.indexOf(Z)!=-1){if(this.G.scrollIntoView)this.G.scrollIntoView({block:"nearest"})}for(var B=0;
B<this.dt.length;B++)this.dt[B].OjU(R)};Yx.pq=function(R,Z){var B=Z.getBoundingClientRect();return(R.clientY-B.top)/B.height};
Yx.prototype.$Z=function(R){R.stopPropagation();var Z=R.target==this.Z$?"m":R.target==this.LL?"vm":"l";
R.dataTransfer.setData("Text",JSON.stringify({ju:Z,lJ:this.Ul.index}))};Yx.prototype.$o=function(R){X.uc(R);
this.GM()};Yx.prototype.iT=function(R){X.uc(R);this.GM();var Z=R.dataTransfer.getData("Text"),B=this.parent.qC,o=Yx.pq(R,this.vo),r=this.Ul.index;
if(o>.8){var Y=!0,E=B.root.oO(r);while(E.parent!=null){var p=E.parent,y=p.children;if(y.indexOf(E)!=0)Y=!1;
E=E.parent}if(Y){r=0;o=1}}if(Z==""){X.OtU(R,this,this.parent.pQ.indexOf(B),r+(o>.5?0:1))}else if(Z!="--panel"){var Z=JSON.parse(Z),z=Z.ju;
if(z=="l")this.Bf({d:S.$Y,source:Z.lJ,target:r,mO:o});else if(z=="m"||z=="vm")this.Bf({d:z=="m"?S.HZ:S.Ho,src:Z.lJ,sj:r,rm:R.altKey});
else Yx.OIS(R,Z,this)}};Yx.OIS=function(R,Z,B,o){var r=Z.ju,Y=B.Ul.index,E=Z.lJ;if(r=="s"||r=="sm")B.Bf({d:S.F_,src:E,sj:Y,Fm:Z.Fm,rm:R.altKey});
if(r=="f"||r=="fm")B.Bf({d:S.Oj$,src:E,sj:Y,Fm:Z.Fm,gp:o==null?0:o,rm:R.altKey})};Yx.prototype.$H=function(R){X.uc(R);
var Z=Yx.pq(R,this.vo);this.GM();var B="border-"+(Z>.5?"bottom":"top");if(this.Ul.r.av()&&.5<Z&&Z<.8)B="border";
this.vo.style[B]="0.2em solid rgba(0,0,0,0.5)"};Yx.prototype.GM=function(R){this.vo.style.border="none"};
Yx.OBC=-1;Yx.$F=!1;Yx.Owr=function(R){Yx.$F=!1;document.body.removeEventListener("mouseup",Yx.Owr)};
Yx.prototype.OBF=function(R){if(R.button!=0)return;if(R.type=="mousedown"){Yx.$F=!0;document.body.addEventListener("mouseup",Yx.Owr,!1)}if(R.type=="mouseover"&&(!Yx.$F||Yx.OBC==this.Ul.index))return;
X.uc(R);this.Bf({d:S.vS,r:this.Ul.index});Yx.OBC=this.Ul.index};Yx.prototype.OBu=function(R){this.Bf({d:S.ONI,r:this.Ul.index})};
Yx.prototype.OBm=function(R){this.Bf({d:S.Xg,r:this.Ul.index})};Yx.prototype.Oww=function(R){this.Bf({d:S.HM,r:this.Ul.index})};
Yx.prototype.Ow$=function(R){if(R.detail==1)return;this.vo.setAttribute("draggable","false");var Z=new OG.GU(this.qb,this.YG.bind(this))};
Yx.prototype.YG=function(R){this.Bf({d:S.$s,r:this.Ul.index,name:R})};Yx.prototype.Owb=function(R){this.Bf({d:S.OOW,r:this.Ul.index})};
Yx.prototype.OwT=function(R){if(this.OAq(R,R.target,this.Fv(R)))return;var Z=R.sourceCapabilities;if(Z)Z=Z.firesTouchEvents;
if(R.button!=2&&Z!=!0)return;var B=new n("rclick",!0);B.data={r:this.Ul.index,Fv:this.Fv(R),Sl:X.$R(R,document.body),OGo:R.currentTarget==this.OOx};
this.j(B)};Yx.prototype.Fv=function(R){var Z=R.target,B=Z.parentNode;return B==this.LL?2:B==this.Z$?1:B==this.L_?0:B==this.nH?3:-1};
Yx.prototype.OAG=function(R){var Z=R.target,z=0;if(Z==this.Zw||Z==this.YB||Z==this.YJ||Z==this.YW||Z.tagName&&Z.tagName.toLowerCase()=="input")return;
var B=this.Fv(R),o=this.parent.qC,r=this.Ul.index,Y=o.q[r];if(Z==this.df){this.Bf({d:S.UC,r:r,Zx:[[0,0,0,0,0],[0,1,2,3,31]]});
return}if(R.button==0&&R.detail==2){if(Z==this.qb)return;var E=new n(X.E.K,!0),p=new n(X.E.e_,!0);if(B==0&&(GK.get(Y.add)||Y.add.SoCo||Y.add.GdFl||Y.add.PtFl))E.data={d:X.l.Bv,fA:OG.qr.TS};
else if(B!=0&&B!=-1)E.data={d:X.l.Bv,fA:OG.qr.TS};else if(B==0&&Y.add.SoLd)p.data={DG:"placedLayerEditContents",UU:{classID:"placedLayerEditContents"}};
else if(B==0&&Y.add.TySh)E.data={d:X.l.nu,B:A.cC};else E.data={d:X.l.JT,fA:"layerstyle",r:r};this.j(p.data?p:E);
if(B==0&&Y.add.TySh){var y=new n(X.E.$,!0);y.B=A.cC;y.data={d:"editCurr",XK:r};this.j(y)}return}if(this.OAq(R,Z,B))return;
if(R.button!=0)return;var u={d:S.Eo,r:r,Eb:B};this.Bf(u);if(R.altKey){if(B==1||B==3){var y=new n(X.E.$,!0);
y.B=A.vA;y.data={d:"mskView",k:z!=0?0:R.shiftKey?1:2};this.j(y)}else{this.Bf({d:S.yu,r:r})}return}};
Yx.prototype.OAq=function(R,Z,B){if((R.ctrlKey||R.metaKey)&&(B==0||B==1||B==2)){var o=0;if(R.shiftKey)o++;
if(R.altKey)o+=2;var r=new n(X.E.$,!0);r.B=A.tz;r.data={d:"fromlayer",ua:[this.Ul.index,B,o]};this.j(r);
return!0}return!1};Yx.prototype.Bf=function(R){var Z=new n(X.E.$,!0);Z.data=R;Z.B=A.zr;this.j(Z)};Yz.FA=function(R,Z,B,o,r,Y,E){Gt.call(this);
this.OOp=Z;this.Ye=B;this.index=Y;this.G=X.T("div","styleitem");this.vo=X.T("div","head");this.vY=X.T("div","eye gsicon");
this.qb=X.T("div","label");this.G.appendChild(this.vo);this.vo.appendChild(this.vY);if(E){this.Z$=E;
this.vo.appendChild(this.Z$);this.vo.setAttribute("style","height: "+(E.firstChild.height/X.D()+10)+"px")}this.qb.innerHTML=R;
this.G.setAttribute("style","margin-left: "+(24+o*16+r*22)+"px");this.vo.appendChild(this.qb);this.vY.addEventListener("click",this.OAL.bind(this),!1);
var p=this.G;p.setAttribute("draggable","true");p.addEventListener("dragstart",this.$Z.bind(this),!1);
if(!0){p.addEventListener("drop",this.iT.bind(this),!1);p.addEventListener("dragover",this.$H.bind(this),!1);
p.addEventListener("dragenter",X.uc,!1);p.addEventListener("dragleave",this.$o.bind(this),!1)}this.G.addEventListener("click",this.YF.bind(this),!1)};
Yz.FA.prototype=new Gt;Yz.FA.prototype.$Z=function(R){R.stopPropagation();R.dataTransfer.setData("Text",JSON.stringify({ju:this.OOp,lJ:this.parent.Ul.index,Fm:this.index}))};
Yz.FA.prototype.$o=function(R){X.uc(R);this.GM()};Yz.FA.prototype.iT=function(R){X.uc(R);this.GM();var Z=R.dataTransfer.getData("Text");
if(Z=="")return;var Z=JSON.parse(Z);Yx.OIS(R,Z,this.parent,this.index+(Yx.pq(R,this.vo)>.5?0:1))};Yz.FA.prototype.$H=function(R){X.uc(R);
var Z=Yx.pq(R,this.vo)>.5;this.GM();var B="border-"+(Z?"bottom":"top");this.vo.style[B]="0.2em solid rgba(0,0,0,0.5)"};
Yz.FA.prototype.GM=function(R){this.vo.style.border="none"};Yz.FA.prototype.eM=function(R){var Z=15;
if(1<X.D()&&X.D()<1.5)Z=Z/X.D();this.vY.setAttribute("style","background-size: "+Z+"px "+Z+"px;");this.vY.style.opacity=R?1:.2};
Yz.FA.prototype.YF=function(R){if(R.target==this.vY)return;if(R.detail!=1&&this.Ye!=null){var Z=this.parent.Ul.index,B=new n(X.E.K,!0);
if(this.Ye.indexOf("afw_")==0)B.data=Oi.Iv.OJo(this.Ye.slice(4),{r:Z,index:this.index});else B.data={d:X.l.JT,fA:this.Ye,r:Z,index:this.index};
this.j(B)}};Yz.FA.prototype.OAL=function(R){var Z={fm:S.jS,f:S.jW,sm:S.au,s:S.ab}[this.OOp];this.parent.Bf({d:Z,r:this.parent.Ul.index,index:this.index})};
function Os(){OG.call(this,"Guide Guy",!1,null,OG.qr.OGb);this.xG=null;this.im=[];var R=X.T("div","form padded");
this.EV.appendChild(R);R.setAttribute("style","width:200px");this.EV.appendChild(R);var Z=X.T("canvas"),B=Z.getContext("2d");
Z.width=Z.height=160;var o=[32,0,16,160,0,32,160,16,0,112,160,16],r="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),Y=[0,0,0,0,0,0,0,0,0,0];
for(var E=0;E<10;E++){B.clearRect(0,0,160,160);B.setTransform(1,0,0,1,80,80);B.rotate((E&3)*Math.PI/2);
B.translate(-80,-80);B.fillStyle="rgba(0,0,0,0.3)";if(E<4){for(var p=0;p<12;p+=4){B.fillStyle=p==0?"#000000":"rgba(0,0,0,0.3)";
B.fillRect(o[p],o[p+1],o[p+2],o[p+3])}}else if(E<6){var y=8*6;B.fillRect(0,0,y,160);B.fillRect(8*7,0,y,160);
B.fillStyle="#000000";B.fillRect(8*14,0,y,160)}else if(E<8){B.fillRect(0,0,16,160);B.fillRect(160-16,0,16,160);
B.fillRect(32,0,160-64,160);B.fillStyle="#000000";B.fillRect(32,80-8,160-64,8*1)}else{B.fillRect(0,0,8*7,160);
B.fillRect(8*13,0,160,160);B.fillStyle="#000000";B.fillRect(8*7,80-8,8*6,8*1)}var z="<img src=\""+Z.toDataURL()+"\" class=\"autoscale gsicon\" /> ",u=new OH(z,0,200,E==4||E==5?null:"px",null,null,null,4,r[E]);
u.parent=this;u.v(X.E.Q,this.OAJ,this);u.o(Y[E]);u.c();this.im.push(u);R.appendChild(u.G)}var Q=["Add Guides","Clear Guides"];
this.mA=[];for(var E=0;E<Q.length;E++){var H=new Gz(Q[E],!0,null,!0);this.mA.push(H);H.v("click",this.Tc,this);
R.appendChild(H.G)}for(var E=0;E<6;E++){B.setTransform(1,0,0,1,80,80);B.rotate(Math.floor(E/3)*Math.PI/2);
B.translate(-80,-80);B.clearRect(0,0,160,160);B.fillStyle="rgba(0,0,0,0.3)";B.fillRect(0,0,160,160);
B.clearRect(16,16,128,128);B.fillStyle="#000000";var T=E%3;B.fillRect([0,9,18][T]*8,0,16,160);var z="<img src=\""+Z.toDataURL()+"\" class=\"autoscale gsicon\" /> ",H=new Gz(z,!1,null,!1);
this.mA.push(H);H.v("click",this.Tc,this);R.appendChild(H.G)}}Os.prototype=new OG("");Os.prototype.OAJ=function(R){var Z=this.im,B=Z.indexOf(R.target),o=Math.floor(B/2),r=B&1,Y=[];
for(var E=0;E<4;E++)Y.push(Z[2*E+r].M());var p=-1;if(o==2&&Y[2]!=0&&Y[3]!=0&&Y[4]!=0)p=4;if(o==3&&Y[3]!=0&&Y[2]!=0&&Y[4]!=0)p=4;
if(o==4&&Y[4]!=0&&Y[2]!=0&&Y[3]!=0)p=3;if(p!=-1)Z[2*p+r].o(0)};Os.prototype.Tc=function(R){var Z=this.xG,B=this.mA.indexOf(R.target),o=[[],[]];
if(Z==null)return;var r=Z.O?Z.O.rect:new N(0,0,Z.Y,Z.Z),Y=r.Y,E=r.Z;if(B==0){var p=[[],[]];for(var y=0;
y<this.im.length;y++)p[y&1].push(this.im[y].M());o=[Os.OLv(p[0],r.x,r.x+Y),Os.OLv(p[1],r.y,r.y+E)];A.ub.Lq(o,Z.Vw)}else if(B==1){}else{B-=2;
var z=Math.floor(B/3),o=[[],[]];o[z].push([r.x,r.x+Y/2,r.x+Y,r.y,r.y+E/2,r.y+E][B]);A.ub.Lq(o,Z.Vw)}var u=function(Q,H){return Q-H};
o[0].sort(u);o[1].sort(u);this.OAp(o)};Os.prototype.OKL=function(R){var Z=this.OUE.indexOf(R.target)};
Os.prototype.OAp=function(R){var Z=new n(X.E.$,!0);Z.B=A.tY;Z.data={d:"gids",ZW:R};this.j(Z)};Os.OLv=function(R,Z,B){var o=[],r=R[2],Y=R[3],E=R[4],p=0;
if(r==0)p++;if(Y==0)p++;if(E==0)p++;if(p>1&&r==0&&Y==0){if(R[0]!=0)o.push(Z+R[0]);if(R[1]!=0)o.push(B-R[1]);
return o}var y=B-Z-R[0]-R[1];if(r==0){if(E==0){r=Math.floor(y/Y);E=(y-r*Y)/(r-1)}else{r=1;while(Y*r+E*(r-1)+Y+E<=y)r++}}else if(r!=0&&Y!=0){if(r*Y>y)r=Math.floor(y/Y);
E=(y-r*Y)/(r-1)}o.push(Z+R[0],B-R[1]);var Y=(y-E*(r-1))/r;for(var z=1;z<r;z++){if(E==0)o.push(Z+R[0]+z*Y);
else o.push(Z+R[0]+z*Y+(z-1)*E,Z+R[0]+z*Y+z*E)}return o};Os.prototype.qD=function(R){this.xG=R};function YA(){OG.call(this,[9,2],!1,null,OG.qr.TS);
this.OyF=null;this.mf=null;this.$V=null;this.Oym=-1}YA.prototype=new OG("");YA.prototype.GK=function(){this.Pg=X.T("div","padded");
this.Pg.style.width="22em";this.EV.appendChild(this.Pg);var R=X.T("span","fitem");this.Pg.appendChild(R);
this.Vq=[new Gz([0,3]),new Gz([12,73]),new Gz([12,91,0])];for(var Z=0;Z<this.Vq.length;Z++){var B=this.Vq[Z];
B.v("click",this.OAd,this);R.appendChild(B.G)}this.Pg.appendChild(X.T("hr"));this.nF=new YA.fJ;this.nF.parent=this;
this.vX=new YA.Yy;this.vX.parent=this;this.dD=new YA.AI;this.dD.parent=this;this.OEB=[this.nF,this.vX,this.dD];
this.Pg.appendChild(this.nF.G)};YA.prototype.OAd=function(R){var Z=this.Vq.indexOf(R.currentTarget);
this.Ck(Z);this.OLg(Z==1?this.vX.vj:-1)};YA.prototype.Ck=function(R){for(var Z=0;Z<3;Z++){this.Vq[Z].UW();
var B=this.OEB[Z].G;if(B.parentNode==this.Pg&&Z!=R)this.Pg.removeChild(B);if(B.parentNode!=this.Pg&&Z==R)this.Pg.appendChild(B)}this.Vq[R].lu()};
YA.prototype.OLg=function(R){var Z=this.mf.C[0],B=this.mf.q[Z],o=R+1;if(R==1&&B.GQ)return;var r=new n(X.E.$,!0);
r.B=A.zr;if(R!=1&&B.GQ){r.data={d:S.Eo,r:Z,Eb:2};this.j(r)}r.data={d:S.Eo,r:Z,Eb:o};this.j(r)};YA.prototype.c=function(){OG.prototype.c.call(this);
if(this.Pg==null)return;this.qD(this.mf);for(var R=0;R<3;R++){this.Vq[R].c();this.OEB[R].c()}};YA.prototype.zB=function(){if(!X.Zi(this.EV))return;
if(this.Pg==null){this.GK();this.lU(this.$V,GG.gy);this.qD(this.OyF);this.c()}};YA.prototype.qD=function(R){this.OyF=R;
if(this.Pg==null)return;this.nF.qD(R);this.vX.qD(R);this.dD.qD(R);if(R==null||R.C.length==0){X.Cy(this.EV,"disabled");
this.mf=null;return}else X.rd(this.EV,"disabled");var Z=R.C[0],B=R.q[Z],o=R.dm(),r=o[0],Y=o[1];if(Y.length!=0){var E=r[Y[0]],p=E.add.vogk,y=!1;
if(p)for(var z=0;z<p.length;z++){var u=p[z].v,Q=u.keyShapeInvalidated;if(Q&&Q.v||u.keyOriginType==null)continue;
y=!0;Z=E.qp}}if(R!=this.mf||this.Oym!=Z){this.mf=R;this.Oym=Z;if(y)this.Ck(2);else if(B.Fv<1&&!B.GQ)this.Ck(0);
else this.Ck(1)}this.Vq[1].iu(this.vX.vj!=-1);this.Vq[2].iu(y)};YA.prototype.lU=function(R,Z){this.$V=R;
if(this.nF)this.nF.lU(R,Z)};YA.fJ=function(){Gt.call(this);this.G=X.T("div","form");this.OEi=new Yi("Hello");
this.G.appendChild(this.OEi.G);this.Yu=null;this.OEe=null;this.mf=null;this.OEp=-1;this.OEF=null;this.tm=new EN(!0);
this.tm.parent=this;this.tm.v(X.E.Q,this.O_O,this);this.jr=X.T("div","marged hiline");this.jr.appendChild(this.tm.G);
this.Kg=new Y$("GrFl",!0);this.Kg.parent=this;this.Kg.v(X.E.Q,this.O_E,this);this.Dx=X.T("div","marged hiline");
var R="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");for(var Z=0;Z<R.length;Z++){var B=this.Kg.wg[R[Z]].G;
this.Dx.appendChild(B)}this.re=new Y$("patternFill",!0);this.re.parent=this;this.re.v(X.E.Q,this.O_B,this);
this.DK=X.T("div","marged hiline");var R=["Ptrn","Scl","Algn","phase"];for(var Z=0;Z<R.length;Z++){var B=this.re.wg[R[Z]].G;
this.DK.appendChild(B)}this.rT={};for(var o in GK.names){if(b[o]==null)continue;this.rT[o]=new b[o];
this.rT[o].v(X.E.Q,this.O_w,this);this.rT[o].parent=this}var r=this.ORs=X.T("div","marged hiline");this.dq=YA.xa(["W","H","X","Y"],null,r,this.$u,this);
this.GJ=new Oq([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.GJ.v(X.E.Q,this.$u,this);r.appendChild(this.GJ.G);
this.vB=new EN(!1);this.vB.parent=this;this.vB.v(X.E.Q,this.$u,this);r.appendChild(this.vB.G)};YA.fJ.prototype=new Gt;
YA.fJ.prototype.c=function(){for(var R in this.rT)this.rT[R].c();this.Kg.c();this.re.c();this.GJ.c();
for(var Z=0;Z<4;Z++)this.dq[Z].c()};YA.fJ.prototype.$u=function(R){var Z=YA.xw(this.dq),B=S.OAs(new N(Z[2],Z[3],Z[0],Z[1])),o=this.GJ.M(),r={classID:"artboard",artboardRect:{t:"Objc",v:B},Clr:{t:"Objc",v:this.vB.M()},artboardBackgroundType:{t:"long",v:o+1}},Y=new n(X.E.$,!0);
Y.B=A.zr;Y.data={d:S.Hu,fT:r};this.j(Y)};YA.fJ.prototype.O_O=function(R){var Z=this.mf,B=Z.C[0];if(Z.q[B].add.SoCo==null)return;
var o=JSON.parse(JSON.stringify(Z.q[B].add.SoCo));o.Clr.v=this.tm.M();this.xy({UD:1,ZI:o})};YA.fJ.prototype.O_E=function(R){var Z=this.mf,B=Z.C[0];
if(Z.q[B].add.GdFl==null)return;this.xy({UD:2,ZI:this.Kg.M()})};YA.fJ.prototype.O_B=function(R){this.xy({UD:3,ZI:this.re.M()})};
YA.fJ.prototype.xy=function(R){this.OlE(A.zr,{d:S.xr,ZZ:[this.mf.C[0]],Ui:!0,k:R})};YA.fJ.prototype.O_w=function(R){this.OlE(A.Pl,{d:"edit_layer",k:this.OEe.M()})};
YA.fJ.prototype.OlE=function(R,Z){var B=new n(X.E.$,!0);B.B=R;B.data=Z;this.j(B)};YA.fJ.prototype.qD=function(R){var Z=Ok.get([0,3]),B=null;
this.mf=R;if(R&&R.q.length>0&&R.C.length!=0){var o=R.q[R.C[0]],r=GK.get(o.add);if(r!=null&&this.rT[r]!=null){B=this.rT[r].G;
this.OEe=this.rT[r];this.rT[r].o(o.add[r]);if(R.C[0]!=this.OEp){var Y=R.fw(R.C[0]-1);this.OEF=O.fy(Y)}this.rT[r].KY(this.OEF);
Z=Ok.get(GK.names[r])}if(o.add.SoCo){B=this.jr;this.tm.o(o.add.SoCo.Clr.v);Z=Ok.get([6,48,0,0])}if(o.add.GdFl){B=this.Dx;
this.Kg.update(R,o.add.GdFl);Z=Ok.get([6,48,0,1])}if(o.add.PtFl){B=this.DK;this.re.update(R,o.add.PtFl);
Z=Ok.get([6,48,0,2])}if(o.add.artb){var E=o.add.artb,p=o.NT();B=this.ORs;this.GJ.o(E.artboardBackgroundType.v-1);
if(E.Clr)this.vB.o(E.Clr.v);YA.qE(this.dq,[p.Y,p.Z,p.x,p.y]);Z="Artboard"}this.OEp=R.C[0]}if(B!=this.Yu){if(this.Yu)this.G.removeChild(this.Yu);
if(B!=null)this.G.appendChild(B);this.Yu=B}this.OEi.o(Z)};YA.fJ.prototype.lU=function(R,Z){this.Kg.lU(R,Z);
this.re.lU(R,Z);for(var B in this.rT)this.rT[B].lU(R,Z)};YA.Yy=function(){Gt.call(this);this.G=X.T("div","form");
this.mf=null;this.vj=0;var R=X.T("span","fitem");this.G.appendChild(R);this.Vq=[new Gz([6,2]),new Gz([6,3]),new Gz([6,50])];
for(var Z=0;Z<this.Vq.length;Z++){var B=this.Vq[Z];B.v("click",this.O_A,this);R.appendChild(B.G)}this.QQ=new Gp([12,74],0,255);
this.QQ.v(X.E.Q,this.mS,this);this.G.appendChild(this.QQ.G);this.Oa=new Gp([7,6],0,500,"px",2,!0);this.Oa.v(X.E.Q,this.mS,this);
this.G.appendChild(this.Oa.G)};YA.Yy.prototype=new Gt;YA.Yy.prototype.mS=function(R){var Z=this.QQ.M(),B=this.Oa.M(),o=new n(X.E.$,!0);
o.B=A.zr;o.data={d:S.Fu,mJ:this.mf.C[0],Dq:{uA:this.vj,QQ:Z,Oa:B}};this.j(o)};YA.Yy.prototype.c=function(){for(var R=0;
R<this.Vq.length;R++)this.Vq[R].c();this.QQ.c();this.Oa.c()};YA.Yy.prototype.qD=function(R){this.mf=R;
this.$h()};YA.Yy.prototype.O_A=function(R){this.$h(this.Vq.indexOf(R.currentTarget));this.parent.OLg(this.vj)};
YA.Yy.prototype.$h=function(R){var Z=this.mf,B=this.Vq;for(var o=0;o<3;o++){var r=B[o];r.UW();r.uE()}if(Z==null||Z.q.length==0||Z.C.length==0)return;
var Y=-1,E=Z.q[Z.C[0]];if(E.by()&&E.YQ(Z).m!=null){B[2].lv();Y=2}if(E.add.vmsk){B[1].lv();Y=1}if(E.F$()){B[0].lv();
Y=0}if(R!=null)Y=R;else if(E.GQ)Y=1;else if(E.Fv==3)Y=2;else if(E.Fv==1)Y=0;this.vj=Y;if(Y==-1){this.QQ.uE();
this.Oa.uE();return}var p=E.OET(Y);this.QQ.lv();this.Oa.lv();this.QQ.o(p.QQ);this.Oa.o(p.Oa);B[Y].lu()};
YA.AI=function(){Gt.call(this);this.G=X.T("div","form");this.dW=1;this.Rk=X.T("div");this.o$=YA.xa(["W","H","X","Y"],[12,51],this.Rk,this.OlA,this);
this.RO=X.T("div");var R=["\u250F","\u2513","\u2517","\u251B"];this.vh=YA.xa(R,[12,91,2],this.RO,this.OlA,this)};
YA.AI.prototype=new Gt;YA.AI.prototype.c=function(){X.bk(this.o$[0],this.o$[1]);for(var R=2;R<5;R++){this.o$[R].c()}this.vh[4].c()};
YA.xa=function(R,Z,B,o,r){var Y=X.T("div","numlist");B.appendChild(Y);var E=[];for(var p=0;p<4;p++){var y=new OH(R[p],0,0,null,1,!1,!0);
y.v(X.E.Q,o,r);Y.appendChild(y.G);E.push(y);if(p==1||p==3)X.Ax(Y)}if(Z){E[4]=new Ol(Z);E[4].o(!0);B.appendChild(E[4].G)}return E};
YA.qE=function(R,Z){for(var B=0;B<4;B++)R[B].o(Z[B])};YA.xw=function(R){var Z=[];for(var B=0;B<4;B++)Z[B]=R[B].M();
return Z};YA.AI.prototype.OlA=function(R){var Z=this.o$.indexOf(R.currentTarget),B=this.vh.indexOf(R.currentTarget),o=[null,null,null,null],r=[null,null,null,null];
if(Z!=-1){var Y=YA.xw(this.o$),E=this.o$[4].M();Y[0]=Math.max(1,Y[0]);Y[1]=Math.max(1,Y[1]);if(E&&Z==0)Y[1]=Y[0]/this.dW;
if(E&&Z==1)Y[0]=Y[1]*this.dW;o[0]=Y[2];o[1]=Y[3];o[2]=o[0]+Y[0];o[3]=o[1]+Y[1]}if(B!=-1){var Y=YA.xw(this.vh);
r[B]=Math.max(0,Y[B]);if(this.vh[4].M())for(var p=0;p<4;p++)r[p]=r[B];var y=r[3];r[3]=r[2];r[2]=y}var z=new n(X.E.$,!0);
z.B=A.zr;z.data={d:S.Hs,pS:o,OeE:r};this.j(z)};YA.AI.prototype.qD=function(R){if(R==null)return;var Z=this.Rk.parentNode!=null,B=this.RO.parentNode!=null,o=O.je.ik(R),r=o[0],Y=o[1];
if(r){if(!Z)this.G.appendChild(this.Rk);this.dW=(r[2]-r[0])/(r[3]-r[1]);YA.qE(this.o$,[r[2]-r[0],r[3]-r[1],r[0],r[1]])}else if(Z)this.G.removeChild(this.Rk);
if(Y){if(!B)this.G.appendChild(this.RO);var E=Y[2];Y[2]=Y[3];Y[3]=E;YA.qE(this.vh,Y)}else if(B)this.G.removeChild(this.RO)};
function Yk(R){OG.call(this,R.name,!0);this.qC=R;this.sI=null;this.tM=[];this.dN=!1;this.lS={x:0,y:0,yL:!1};
this.RE=!0;this.vJ=document.createElement("canvas");this.vZ=this.vJ.getContext("2d");this.qI=document.createElement("canvas");
this.p=this.qI.getContext("2d");var Z=16,B=O.a(16*16*4);O.gc(B,Z,Z,8,0,0);this.cx=O.scale.TA(B,Z,Z);
this.ORH=this.mz.bind(this);this.vM=this.KV.bind(this);this.OYh=this.qK.bind(this);var o=this.EV;X.dj(o,this.ORH);
X.sV(o,this.vM);o.addEventListener("wheel",this.BT.bind(this),!1);o.addEventListener("contextmenu",this.O_h.bind(this),!1);
this.Od=0;this.dv="";this._E=4;o.addEventListener("touchmove",X.Vy,!1)}Yk.prototype=new OG;Yk.prototype.OVx=function(){if(this.qC.ul())return window.confirm(Ok.get([22,6,3])+" "+this.qC.name+". "+Ok.get([22,6,4]));
return!0};Yk.prototype.Vy=function(R){R.preventDefault()};Yk.prototype.OlF=function(R){var Z=-1,B=this.tM;
for(var o=0;o<B.length;o++)if(B[o].pointerId==R.pointerId)Z=o;return Z};Yk.prototype.mz=function(R){this.tM.push(R);
if(this.tM.length==1){var Z=R.button!=null&&R.button!=0?"rdown":"down",B=new n("mouse",!0);B.action=Z;
this.Aw(R,B);this.j(B);X.mw(this.EV,this.vM);X.sV(window,this.vM);X.HV(window,this.OYh)}if(this.tM.length==2){this.Olu("multidown");
this.dN=!0}};Yk.prototype.KV=function(R){var Z=this.OlF(R);if(Z!=-1)this.tM[Z]=R;if(this.tM.length>1){this.Olu("multimove")}if(this.dN)return;
var B=new n("mouse",!0);B.action="move";this.Aw(R,B);this.j(B)};Yk.prototype.qK=function(R){var Z=this.tM,B=this.OlF(R);
Z.splice(B,1);if(Z.length==0){var o=R.button!=null&&R.button!=0?"rup":"up",r=new n("mouse",!0);r.action=o;
this.Aw(R,r);this.j(r);X.mw(window,this.vM);X.m_(window,this.OYh);X.sV(this.EV,this.vM);this.dN=!1}};
Yk.prototype.BT=function(R){this.Vy(R);if(R.deltaX==0&&R.deltaY==0)return;var Z=new n("mouse",!0);Z.action="scroll";
Z.cP=R.ctrlKey;this.Aw(R,Z);this.j(Z)};Yk.prototype.O_h=function(R){X.uc(R);var Z=R.sourceCapabilities;
if(Z)Z=Z.firesTouchEvents;if(Z){var B=new n("mouse",!0);this.Aw(R,B);B.action="rdown";this.j(B);B.action="rup";
this.j(B)}};Yk.prototype.Olu=function(R){var Z=this.tM,B=X.D(),o=[];for(var r=0;r<Z.length;r++){var Y=o[r]=X.$R(Z[r],this.EV);
Y.x*=B;Y.y*=B}var E=new n("mouse",!0);E.action=R;E.Hk=o;this.j(E)};Yk.prototype.Aw=function(R,Z,B){var o=this.tM.length!=0;
if(Z.action!="up"){var r=X.D();if(B==null)B=X.$R(R,this.EV);this.lS=Z.if={x:r*B.x,y:r*B.y,yL:o};var Y=X.$R(R,document.body);
Z.if.dp=Y.x;Z.if.$M=Y.y}else this.lS=Z.if={x:this.lS.x,y:this.lS.y,yL:o};Z.if.Sh=1;if(R.pressure!=null&&R.pressure!=0)Z.if.Sh=R.pressure*2;
if(R.deltaX!=null){var E=R.deltaMode==0?1:40;Z.XW=new VP(R.deltaX*E,R.deltaY*E)}};Yk.prototype.lU=function(R,Z){this.sI=R};
Yk.prototype.qD=function(R){this.zB();this.XT()};Yk.prototype.YH=function(R,Z){if(R<=0||Z<=0)return;
this.ZA=R;this.N$=Z;var B=this.qC,o=X.D();B.w.p.Y=Math.floor(R*o);B.w.p.Z=Math.floor(Z*o);X.hl(this.qI,R,Z);
X.hl(this.vJ,R,Z);X.hl(d.yE(),R,Z);if(B.w.h==0)B.w.h=A.Ae.Lr(B.Y,B.Z,R*o,Z*o);this.RE=!0;this.XT()};
Yk.prototype.zB=function(){var R=this.EV.firstChild;if(!d.lx&&R==d.yE()||d.lx&&R==this.qI)this.EV.removeChild(R);
this.EV.appendChild(d.lx?d.yE():this.qI)};Yk.prototype.XT=function(){if(d.lx!=this._E){this.Od=0;this.dv="";
this.RE=!0}this._E=d.lx;if(this.sI==null)return;if(d.lx)this.O_t();else this.xL();var R=this.qC;this.Od=R.w.h;
this.dv=JSON.stringify(R.w.Ej);this.RE=!1};Yk.prototype.O_t=function(){if(d.lx&&Yk.OYM==null)Yk.OYM=new Yk.qB(!1);
if(d.lx&&Yk.OYu==null)Yk.OYu=new Yk.qB(!0);var R=this.qC,p;if(R.LC==null)return;var Z=R.w,B=Z.p.Y,o=Z.p.Z,r=d.IH;
this.p.clearRect(0,0,Z.p.Y,Z.p.Z);var Y=this.OhO(R);if(Z.fg==null)Z.fg=new d.ZF(Z.p.Y,Z.p.Z);if(Y)Z.fg.set(this.qI);
else{d._H(Z.fg);d.tp(0)}var E=new N(0,0,R.Y*Z.h,R.Z*Z.h);E.x=Math.round((B-R.Y*Z.h)/2+Z.s.x);E.y=Math.round((o-R.Z*Z.h)/2+Z.s.y);
var y=[0,0,0,0],z=[];if(R.add.artd){y=Yk.xA(R);var u=R.Y,Q=R.Z;p=Yk.OYu;for(var H=0;H<R.q.length;H++){var T=R.q[H],C=T.add.artb;
if(C==null||!T.YT())continue;var e=T.NT();z.push(e.x/u,e.y/Q,e.Y/u,e.Z/Q)}if(z.length>32*4){z=z.slice(0,32*4)}while(z.length<32*4){z.push(0,0,0,0)}}else p=Yk.OYM;
d.BY(B,o);d.tp(0);d.BY(B,o);p.qi();p.qq(Z.fg.NZ,R.LC.NZ,new Float32Array([E.x/B,E.y/o,E.Y/B,E.Z/o]),new Float32Array([8/B,8/o]),R.Y,R.Z,1/R.w.h,B,o,new Float32Array(z),new Float32Array(y),new Float32Array(O.lN._J(O.lN.Il(Z.Ej))));
r.drawArrays(r.TRIANGLES,0,6)};Yk.xA=function(R){var Z=R.add.artd.canvasColor;if(Z==null)return[0,0,0,0];
return Yk.O_D(Z)};Yk.O_D=function(R){var Z=O.L.iz(R.v),B=[Z.F/255,Z.S/255,Z.X/255,1];for(var o=0;o<4;
o++)B[o]=Math.min(1,B[o]);return B};Yk.sL=function(R,Z){var B=R[2]*255;if(d.lx)B=Z?0:Math.max(1,B);return"rgba("+R[0]*255+","+R[1]*255+","+B+","+R[3]+")"};
Yk.x_=function(R){if(d.lx)for(var Z=0;Z<R.length;Z+=4){if(R[Z+2]==0)R[Z+2]++}};Yk.prototype.xL=function(){var R=this.qC;
if(R.buffer==null)return;var Z=R.w,B=Z.p.Y,o=Z.p.Z;this.vZ.clearRect(0,0,Z.p.Y,Z.p.Z);this.p.clearRect(0,0,Z.p.Y,Z.p.Z);
if(R.add.artd==null){}else{this.p.fillStyle=Yk.sL(Yk.xA(R));this.p.fillRect(0,0,Z.p.Y,Z.p.Z)}var r=Z.xm(),Y=Z.p.Rg(r);
this.p.save();this.p.translate(r.x,r.y);if(R.add.artd==null){this.p.fillStyle=this.cx;this.p.fillRect(0,0,r.Y,r.Z)}this.p.restore();
var E=R.Y!=Z.bl.Y||R.Z!=Z.bl.Z;if(E)Z.bl.wh(0,0,R.Y,R.Z);var p=JSON.stringify(Z.Ej);if(Z.h<=1){if(Z.h!=this.Od||p!=this.dv||R.sq){if(Z.h!=this.Od||Z.qy==null||E)Z.qy=this.p.createImageData(Math.max(1,r.Y),Math.max(1,r.Z));
if(Z.h<1){var y=O.aF(R.buffer,new N(0,0,R.Y,R.Z),Z.h,new Uint8Array(Z.qy.data.buffer))}else O.VG(R.buffer,Z.qy.data);
O.lN.I_(Z.qy.data,Z.qy.data,O.lN.Il(Z.Ej))}this.vZ.putImageData(Z.qy,r.x,r.y);this.p.drawImage(this.vJ,Y.x,Y.y,Y.Y,Y.Z,Y.x,Y.y,Y.Y,Y.Z)}else{var z=Z.uW(),u=new N(0,0,z.Y*Z.h,z.Z*Z.h);
u.x=z.x*Z.h+r.x;u.y=z.y*Z.h+r.y;if(Z.h!=this.Od||this.RE){Z.rg=O.a(z.b()*4);Z.qy=this.p.createImageData(u.Y,u.Z)}O.set(Z.rg,0);
O.GN(this.qC.buffer,new N(0,0,R.Y,R.Z),Z.rg,z);O.scale.Dv(Z.rg,z.Y,z.Z,Z.qy.data,u.Y,u.Z,Z.h);O.lN.I_(Z.qy.data,Z.qy.data,O.lN.Il(Z.Ej));
this.vZ.putImageData(Z.qy,u.x,u.y);this.p.drawImage(this.vJ,0,0)}this.OhO(R)};Yk.prototype.OhO=function(R){var Z=R.w,B=Z.Ej[0]+Z.Ej[1]+Z.Ej[2],o=!1,r=[];
for(var Y=0;Y<R.C.length;Y++){var E=R.q[R.C[Y]],p=E.Fv;if(p!=1&&p!=3)continue;var y=p==1?E.F$():E.YQ(R).m;
if(y.NM)r.push(y)}for(var Y=0;Y<R.tP.length;Y++)if(R.tP[Y].NM)r.push(R.tP[Y]);for(var Y=0;Y<r.length;
Y++){var y=r[Y];this.OhT(y.channel,y.rect,Z,r.length==1&&B==0?2:1,y.color,y.Oq);o=!0}var z=this.sI;o=this.O_N(R,this.p,Z)||o;
if(R.O&&z.RG&&z.Al.Xw){this.OhT(R.O.channel,R.O.rect,Z,0,0,null);o=!0}return o};Yk.prototype.OhT=function(R,Z,B,o,r,Y){var E=B.xm(),p,y,z,u=0;
if(Y)u=Math.round(Y.X)<<16|Math.round(Y.S)<<8|Math.round(Y.F);if(B.h<=1){p=Z.clone();p.x=Math.round(p.x*B.h);
p.y=Math.round(p.y*B.h);p.Y=Math.floor(p.Y*B.h);p.Z=Math.floor(p.Z*B.h);y=R;if(B.h<1){if(B.jy==null||B.jy.length<Z.b()>>>1){console.log("here");
B.jy=O.a(Z.b()>>>1)}y=B.jy;var Q=O.Qr(R,Z,B.h,y);p.Y=Q.rect.Y;p.Z=Q.rect.Z}if(B.eu==null||B.eu.length!=p.b()*4)B.eu=O.a(p.b()*4);
else O.yg(B.eu,0);var H=B.p.clone();H.offset(-E.x,-E.y);z=p.Rg(H)}else{var T=B.uW();p=new N(T.x*B.h,T.y*B.h,T.Y*B.h,T.Z*B.h);
if(B.eu==null||B.eu.length!=p.b()*4){B.jy=O.a(p.b());B.eu=O.a(p.b()*4)}var C=O.a(T.b());O.set(C,r);O.WX(R,Z,C,T);
O.scale.Ov(C,T.Y,T.Z,B.jy,p.Y,p.Z,B.h);O.yg(B.eu,0);y=B.jy}if(o==0)O.O.ONy(y,B.eu,p,z);else{var e=E.x,$=E.y,x=E.Y,M=E.Z;
z=p.Rg(new N(0,0,x,M));if(B.h<=1){this.p.fillStyle=o==2?Yk.sL([r/255,r/255,r/255,1]):Yk.sL([Y.F/255,Y.S/255,Y.X/255,.5*(1-r/255)]);
var m=e,G=m+z.x,K=G+z.Y,s=m+x,L=$,_=L+z.y,P=_+z.Z,i=L+M;this.p.fillRect(e,L,x,_-L);this.p.fillRect(e,_,G-m,P-_);
this.p.fillRect(K,_,s-K,P-_);this.p.fillRect(e,P,x,i-P)}O.O.ONR(y,B.eu,p,z,o,u)}Yk.x_(B.eu);if(B.h<=1)this.vZ.clearRect(0,0,B.p.Y,B.p.Z);
if(p.b()!=0){var w=new ImageData(new Uint8ClampedArray(B.eu.buffer),p.Y,p.Z);this.vZ.putImageData(w,E.x+p.x,E.y+p.y);
this.p.drawImage(this.vJ,0,0)}};Yk.prototype.O_N=function(R,Z,B){var o=R.A.yq||R.A.ql||R.A.jK||R.A.sB.length!=0||R.A.Xd.length!=0,r=this.sI,Y=r.Al,E=B.xm(),p=new GN(B.h,0,0,B.h,E.x+.5,E.y+.5),y=yK.iM[r.rh],z=Math.round(12*X.D());
if(R.add.artd){var u=Yk.xA(R)[0];u=u<.5?u+.5:u-.5;u=""+Math.round(u*255).toString(16);while(u.length<2)u="0"+u;
Z.fillStyle="#"+u+u+u;Z.font=z+"px sans-serif";for(var Q=0;Q<R.q.length;Q++){var H=R.q[Q];if(H.add.artb==null||!H.YT())continue;
var T=H.NT(),C=new VP(T.x,T.y);C=p.qS(C);Z.fillText(H.getName(),Math.round(C.x),Math.round(C.y-6));o=!0}}var e=Yk.sL([.1,.5,1,1]),$=Yk.sL([1,1,1,1]);
if(r.RG&&Y.EP){Z.fillStyle=Z.strokeStyle=e;Z.lineWidth=1.5;var x=R.dm(),M=x[0],m=x[1];for(var G=0;G<m.length;
G++){var H=M[m[G]],K=H.add.vmsk,s=K.u,L=O.W.mM(s);this.pr(L,p,Z);Z.stroke();o=!0;var _=Math.round(3*X.D()),P=s.length-3;
for(var Q=0;Q<K.BD.length;Q++){var i=O.V.EX(s,K.BD[Q]);if(i==null)continue;var w=E.x+i.x*B.h,k=E.y+i.y*B.h;
Z.beginPath();var h=Q==0;if(K.Xm)h=!h;if(h){Z.moveTo(w-_,k-_);Z.lineTo(w+_,k+_);Z.moveTo(w-_,k+_);Z.lineTo(w+_,k-_);
Z.stroke()}else{Z.arc(w,k,_*1,0,2*Math.PI);Z.fill()}o=!0}if(R.C.length!=1)continue;var j=-1;for(var Q=0;
Q<s.length;Q++){if(s[Q].type>5)continue;if(s[Q].type==0||s[Q].type==3){if(s[Q].lz!=-1)j++;continue}if(K.C.indexOf(j)!=-1){var w=E.x+s[Q].N.x*B.h,k=E.y+s[Q].N.y*B.h;
Z.fillRect(Math.round(w-_+.5),Math.round(k-_+.5),2*_-1,2*_-1)}if(K._R.indexOf(Q)!=-1){var I=[s[Q].N];
Z.beginPath();Z.moveTo(E.x+s[Q].EY.x*B.h,E.y+s[Q].EY.y*B.h);Z.lineTo(E.x+s[Q].N.x*B.h,E.y+s[Q].N.y*B.h);
Z.lineTo(E.x+s[Q].IJ.x*B.h,E.y+s[Q].IJ.y*B.h);Z.stroke();if(!s[Q].N.EW(s[Q].EY))I.push(s[Q].EY);if(!s[Q].N.EW(s[Q].IJ))I.push(s[Q].IJ);
for(var V=0;V<I.length;V++){var i=I[V],w=E.x+i.x*B.h,k=E.y+i.y*B.h;if(V==0&&(s[Q].type==2||s[Q].type==5))Z.fillRect(Math.round(w-1.2*_),Math.round(k-1.2*_),Math.round(2.4*_),Math.round(2.4*_));
else{Z.beginPath();Z.arc(w,k,_*1.2,0,2*Math.PI);Z.fill();if(V!=0)Z.fillStyle=$;Z.beginPath();Z.arc(w,k,_*.8,0,2*Math.PI);
Z.fill();Z.fillStyle=e}}}o=!0}}}Z.fillStyle=Z.strokeStyle=Yk.sL([0,0,0,1],!0);Z.lineWidth=1;if(R.A.yq){this.pr(R.A.yq,p,Z);
Z.fill()}if(R.A.ql){this.pr(R.A.ql,p,Z);Z.stroke()}for(var F in R.A.Fw)if(R.A.Fw[F].ql){this.pr(R.A.Fw[F].ql,p,Z);
Z.stroke()}Z.beginPath();var _=4*X.D(),q=R.A.KW;for(var Q=0;Q<q.length;Q+=2){o=!0;var w=E.x+q[Q]*B.h,k=E.y+q[Q+1]*B.h;
Z.rect(w-_+.5,k-_+.5,2*_-1,2*_-1)}Z.stroke();var q=R.A.Oeg;Z.beginPath();var _=4*X.D();for(var Q=0;Q<q.length;
Q+=2){o=!0;var w=E.x+q[Q]*B.h,k=E.y+q[Q+1]*B.h;Z.moveTo(w+_-.5,k);Z.arc(w,k,_-.5,0,2*Math.PI)}Z.fill();
var q=R.A.rM;Z.fillStyle=Yk.sL([1,1,1,1]);Z.beginPath();var _=6*X.D();for(var Q=0;Q<q.length;Q+=2){o=!0;
var w=E.x+q[Q]*B.h,k=E.y+q[Q+1]*B.h;Z.moveTo(w+_-.5,k);Z.arc(w,k,_-.5,0,2*Math.PI)}Z.fill();var _=4*X.D();
for(var Q=0;Q<q.length;Q+=2){o=!0;var w=E.x+q[Q]*B.h,k=E.y+q[Q+1]*B.h;Z.fillStyle=Yk.sL(R.A.fu.indexOf(Q>>>1)!=-1?[0,.6,1,1]:[.7,.7,.7,1]);
Z.beginPath();Z.moveTo(w+_-.5,k);Z.arc(w,k,_-.5,0,2*Math.PI);Z.fill()}if(R.A.sB.length!=0){for(var Q=0;
Q<R.A.sB.length;Q++){var t=R.A.sB[Q],c=t[1];Z.putImageData(new ImageData(new Uint8ClampedArray(t[0].buffer),c.Y,c.Z),c.x,c.y)}}if(R.A.tW){o=!0;
var f=R.A.tW,W=f.nA,L={J:[],I:[]};for(var Q=0;Q<f.dH.length;Q++)O.W.concat(L,O.W.Bu(f.dH[Q]));L.I=L.I.concat(W);
for(var Q=0;Q<W.length;Q+=4)L.J.push("M","L");Z.strokeStyle=Yk.sL([.9,.2,.2,1]);this.pr(L,p,Z);Z.stroke();
var l=X.D();for(var Q=0;Q<W.length;Q+=4){var w=W[Q],k=W[Q+1],g=W[Q+2],v=W[Q+3],Vg=Math.sqrt((v-k)*(v-k)+(g-w)*(g-w));
Vg=O.uO.Tk(Vg,R.ag,r,k==v?R.Y:R.Z);var GE=new VP((w+g)/2,(k+v)/2);GE=p.qS(GE);Z.fillStyle=Yk.sL([.9,.2,.2,1]);
var Gy=Z.measureText(Vg),GY=Gy.width;Z.fillRect(GE.x-GY/2-2.5*l,GE.y-7.5*l,GY+5*l,15*l);Z.fillStyle=Yk.sL([1,1,1,1]);
Z.fillText(Vg,GE.x-GY/2,GE.y+4*l)}}if(r.RG){Z.lineWidth=1;if(Y.IP){var Ga=O.uO.PM(Y.xj,R,Y.xf),GO=Ga;
if(Y.xf==4)GO*=R.Z/R.Y;this.az(R,E,Z,Ga,GO,1,Y.aW);o=!0}if(Y.nT&&R.w.h>7){this.az(R,E,Z,1,1,.5,Y.aW);
o=!0}if(Y.Vw){Z.beginPath();Z.strokeStyle=Yk.sL([0,1,1,1]);for(var Q=0;Q<R.Vw[0].length;Q++){var J=Math.round(R.w.Nv(R.Vw[0][Q],0).x)+.5;
Z.moveTo(J,0);Z.lineTo(J,R.w.p.Z)}for(var Q=0;Q<R.Vw[1].length;Q++){var D=Math.round(R.w.Nv(0,R.Vw[1][Q]).y)+.5;
Z.moveTo(0,D);Z.lineTo(R.w.p.Y,D)}Z.closePath();Z.stroke()}var GB=R.On;if(Y.On&&GB.length!=0){var Gj=Z.font;
Z.font=Math.round(z*.8)+"px sans-serif";var GX=[],Gw=[];for(var Q=0;Q<GB.length;Q++){var G_=A.EO.jO(GB,Q);
GX.push(G_);if(R.KF.indexOf(Q)!=-1)Gw.push(G_)}GX.reverse();var Gf=Date.now();GX=O.rect.Po([0,0,R.Y,R.Z],GX);
Z.translate(.5,.5);for(var V=0;V<2;V++)for(var Q=0;Q<GX.length;Q++){var Gl=GX[Q],j=Gl[4],GU=j!=null?GB[j]:null;
if(GU&&V==0||GU==null&&V==1)continue;var GD=R.w.Nv(Gl[0],Gl[1]),Gi=R.w.Nv(Gl[2],Gl[3]),w=Math.round(GD.x),k=Math.round(GD.y),g=Math.round(Gi.x),v=Math.round(Gi.y);
Z.strokeStyle=Z.fillStyle=Yk.sL(GU?[0,.7,.7,1]:[.8,.8,.8,1]);Z.beginPath();Z.moveTo(w,k);Z.lineTo(g,k);
Z.lineTo(g,v);Z.lineTo(w,v);Z.closePath();Z.stroke();var Gh=Q+1,Gy=Z.measureText(Gh),GY=Gy.width;Z.fillRect(w-.5,k-.5,Math.round(GY+z/2),z);
Z.fillStyle=Yk.sL([1,1,1,1]);Z.fillText(Gh,w+z/4,Math.round(k+z*.8)-.5)}for(var Q=0;Q<Gw.length;Q++){var Gl=Gw[Q],GD=R.w.Nv(Gl[0],Gl[1]),Gi=R.w.Nv(Gl[2],Gl[3]),w=Math.round(GD.x),k=Math.round(GD.y),g=Math.round(Gi.x),v=Math.round(Gi.y);
Z.strokeStyle=Z.fillStyle=Yk.sL([0,.7,.7,1]);Z.beginPath();Z.moveTo(w,k);Z.lineTo(g,k);Z.lineTo(g,v);
Z.lineTo(w,v);Z.closePath();Z.stroke();var G$=[w,k,g,k,g,v,w,v];for(var GA=0;GA<G$.length;GA+=2){var J=G$[GA],D=G$[GA+1],GJ=G$[GA+2&7],Ge=G$[GA+3&7];
Z.fillRect(J-2.5,D-2.5,4,4);Z.fillRect(Math.round((J+GJ)/2)-2.5,Math.round((D+Ge)/2)-2.5,4,4)}}Z.translate(-.5,-.5);
Z.font=Gj;o=!0}}Z.strokeStyle=Yk.sL([1,0,0,1]);if(R.A.jK){this.pr(R.A.jK,p,Z);Z.stroke()}if(r.Uq){if(R.w.oe==null||R.w.oe.width!=R.w.p.Y||R.w._T.height!=R.w.p.Z){R.w.oe=Z.createImageData(R.w.p.Y,O.uO.sx);
R.w._T=Z.createImageData(O.uO.sx,R.w.p.Z)}var y=yK.iM[r.rh],B=R.w,Gq=B.h*R.Y/2,Gv=B.h*R.Z/2,yi=[1,R.ag,R.ag/2.54,R.ag/25.4,R.Y/100][Y.zn],GZ=B.h,OU=B.s.clone();
B.h*=yi;B.s.x+=Gq*yi-Gq;B.s.y+=Gv*yi-Gv;O.uO.OqK(B,y["--text-color"],y["--bg-input"]);B.h=GZ;B.s=OU;
var GH=YP.Ohs(B.h,Yk.sL([1,1,1,1]));Yk.x_(R.w._T.data);Yk.x_(R.w.oe.data);Z.putImageData(R.w._T,0,0);
Z.putImageData(R.w.oe,0,0);Z.putImageData(GH,0,R.w.p.Z-GH.height)}if(R.A.Xd.length!=0){for(var Q=0;Q<R.A.Xd.length;
Q++){var t=R.A.Xd[Q],c=t[1];Z.putImageData(new ImageData(new Uint8ClampedArray(t[0].buffer),c.Y,c.Z),c.x,c.y)}}return o||r.Uq||R.Vw[0].length+R.Vw[1].length>0};
Yk.prototype.az=function(R,Z,B,o,r,Y,E){while(o*R.w.h<4){o*=2;r*=2}var p=Z.x,y=p+Z.Y,z=Z.y,u=z+Z.Z;B.beginPath();
B.strokeStyle=Yk.sL([.5,.5,.5,Y],!0);for(var Q=0;Q<=R.Y;Q+=o){var H=Math.round(R.w.Nv(Q,0).x)+.5;B.moveTo(H,z);
B.lineTo(H,u)}if(E==0){for(var T=0;T<=R.Z;T+=r){var C=Math.round(R.w.Nv(0,T).y)+.5;B.moveTo(p,C);B.lineTo(y,C)}}else{r*=Math.sqrt(4/3);
var e=(y-p)*(r/(2*o)),$=r*Math.floor(R.Y/r);for(var T=-$;T<=R.Z+$;T+=r){var C=Math.round(R.w.Nv(0,T).y)+.5,x=C-e,M=C+e;
this.Ohc(B,p,z,y,u,C,x);this.Ohc(B,p,z,y,u,C,M)}}B.closePath();B.stroke()};Yk.prototype.Ohc=function(R,Z,B,o,r,Y,E){var p=Z,y=o,z=Y,u=E,Q=0,H=1,T=y-p,C=u-z,e,$,x;
for(var M=0;M<4;M++){if(M==0){e=-T;$=-(Z-p)}if(M==1){e=T;$=o-p}if(M==2){e=-C;$=-(B-z)}if(M==3){e=C;$=r-z}x=$/e;
if(e==0&&$<0)return!1;if(e<0){if(x>H)return!1;else if(x>Q)Q=x}else if(e>0){if(x<Q)return!1;else if(x<H)H=x}}var m=p+Q*T,G=z+Q*C,K=p+H*T,s=z+H*C;
R.moveTo(m,G);R.lineTo(K,s)};Yk.prototype.pr=function(R,Z,B){B.beginPath();var o=O.W.clone(R);O.W.P(o.I,Z,o.I);
Typr.U.pathToContext({cmds:o.J,crds:o.I},B)};Yk.qB=function(R){d.BC.call(this);this.ORT=R;var Z="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform vec3 imgSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(R?"uniform vec4 bgClr;  uniform vec4 ars[32];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+d.he.Bc+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = ctrn*texture2D(target, sCoord); "+(R?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<32; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=vec4(0.0,0.0,0.0,0.0); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),imgSizeZoom.xy, sCoord*imgSizeZoom.xy+vec2(0.0,-6.0*imgSizeZoom.z) , 10.0*imgSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = in01(sCoord) ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = in01(sCoord) ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",B="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec2 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgCoord = (sCoord * srct.zw) / gsize ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.aR(Z,B)};Yk.qB.prototype=new d.BC;Yk.qB.prototype.qq=function(R,Z,B,o,r,Y,E,p,y,z,u,Q){this.lh("srct gsize source target imgSizeZoom cnvSize ars bgClr ctrn".split(" "));
var H=d.IH,T=this.Rl;H.uniform4fv(T.srct,B);H.uniform2fv(T.gsize,o);H.uniform3f(T.imgSizeZoom,r,Y,E);
H.uniform2f(T.cnvSize,p,y);H.uniformMatrix4fv(T.ctrn,!1,Q);if(this.ORT){H.uniform4fv(T.ars,z);H.uniform4fv(T.bgClr,u)}H.uniform1i(T.source,0);
H.uniform1i(T.target,1);H.activeTexture(H.TEXTURE0);H.bindTexture(H.TEXTURE_2D,R);H.activeTexture(H.TEXTURE1);
H.bindTexture(H.TEXTURE_2D,Z);H.activeTexture(H.TEXTURE0)};function yb(){OG.call(this,[9,7],!1,null,OG.qr.OGJ);
this.EV.setAttribute("style","min-width:240px;");this.mf=null;this.vH=-1;this.OXI=[];this.Wi=X.T("div","scrollable");
this.Wi.style.height="160px";this.EV.appendChild(this.Wi);this.qF=X.T("div","lpfoot");this.EV.appendChild(this.qF);
this.mA=[];var R=["reload","lrs/newlayer","lrs/bin"],Z=[[5,10],[5,3],[5,4]];for(var B=0;B<R.length;B++){var o=new Gz("<img src=\""+PIMG[R[B]]+"\" class=\"gsicon\" />",!1,Z[B]);
o.v("click",this.O_$,this);this.qF.appendChild(o.G);this.mA.push(o)}}yb.prototype=new OG("");yb.prototype.Bf=function(R){var Z=new n(X.E.$,!0);
Z.data=R;Z.B=A.pd;this.j(Z)};yb.prototype.O_$=function(R){var Z=this.mA.indexOf(R.currentTarget);if(Z!=1)if(this.vH==-1)return;
this.Bf({d:["updLC","addLC","delLC"][Z],qp:this.vH});if(Z==2)this.vH=-1};yb.prototype.c=function(){OG.prototype.c.call(this);
for(var R=0;R<this.mA.length;R++)this.mA[R].c()};yb.prototype.qD=function(R){if(R==null)X.Cy(this.EV,"disabled");
else X.rd(this.EV,"disabled");this.mf=R;X.vO(this.Wi);if(R==null)return;var Z=R.lP.lastAppliedComp?R.lP.lastAppliedComp.v:0,B=R.lP.list.v.slice(0);
B.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var o=0;o<B.length;
o++){var r=B[o].v,Y=new El(r.Nm.v,r.compID.v,r.capturedInfo.v,Z,this.vH);Y.v("activate",this.wn,this);
Y.parent=this;this.Wi.appendChild(Y.G);this.OXI.push(Y)}};yb.prototype.wn=function(R){this.vH=R.currentTarget.qp;
this.qD(this.mf)};function El(R,Z,B,o,r){Gt.call(this);this.qp=Z;this.G=X.T("div","head listitem"+(Z==r?" selected":""));
var Y=Z==o,E=new Gz("<b>"+(Y?"\u2713":"\u2014")+"</b>");if(Y)E.lu();this.G.appendChild(E.G);E.v("click",this.Mw,this);
var p=this.aA=X.T("span");p.textContent=R;this.G.appendChild(p);this.mA=[];if(Z!=0){this.G.addEventListener("mouseup",this.wn.bind(this),!1);
this.ORi=X.T("span","headR");this.G.appendChild(this.ORi);var y=["lrs/eye","pos","lrs/fx"],z=["Visibility","Position","Appearance"];
for(var u=0;u<y.length;u++){var Q=new Gz("<img src=\""+PIMG[y[u]]+"\" class=\"autoscale gsicon\" />",!1,z[u]);
if((B>>u&1)==0)Q.G.setAttribute("style","opacity:0.3");Q.v("click",this.O_x,this);this.ORi.appendChild(Q.G);
this.mA.push(Q)}}}El.prototype=new Gt;El.prototype.wn=function(R){if(R.target!=this.aA&&R.target!=this.G)return;
if(R.detail==1)this.j(new n("activate",!1));else{var Z=new OG.GU(this.aA,this.YG.bind(this))}};El.prototype.O_x=function(R){var Z=this.mA.indexOf(R.currentTarget);
this.Bf({d:"editLC",OAA:Z,qp:this.qp})};El.prototype.YG=function(R){this.Bf({d:"editLC",VD:R,qp:this.qp})};
El.prototype.Mw=function(R){this.Bf({d:"setLC",qp:this.qp})};El.prototype.Bf=function(R){var Z=new n(X.E.$,!0);
Z.data=R;Z.B=A.pd;this.j(Z)};function X$(){OG.call(this,[9,11],!1,null,OG.qr.OGm);var R=X.T("div","padded");
R.setAttribute("style","min-width:15em");this.EV.appendChild(R);var Z=X.T("div");R.appendChild(Z);Z.setAttribute("style","cursor:grab;");
this.Fy=X.T("canvas");this.Fy.width=100;Z.appendChild(this.Fy);X.Ed(this.Fy);X.dj(this.Fy,this.Az.bind(this));
this.RV=new Yv(null,0,A.Ae.Dc.length-1);this.RV.v(X.E.Q,this.O_T,this);R.appendChild(this.RV.G);this.ORm=this.YY.bind(this);
this.ORb=this.YS.bind(this);this.xG=null}X$.prototype=new OG("");X$.prototype.YH=function(R,Z){this.XT()};
X$.prototype.O_T=function(R){var Z=this.RV.M(),B=this.xG,o=A.Ae.Dc[A.Ae.Dc.length-1-Z],r=new n(X.E.$,!0);
r.B=A.vA;r.data={d:"zoom",h:o};this.j(r)};X$.prototype.Az=function(R){if(this.xG==null)return;X.sV(window,this.ORm);
X.HV(window,this.ORb)};X$.prototype.YY=function(R){var Z=X.$R(R,this.Fy),B=this.xG,o=this.Fy.width,r=this.Fy.height,Y=(Z.x*X.D()-o/2)/o,E=(Z.y*X.D()-r/2)/r,p=X.D()*B.w.h,y=Math.round(-B.w.h*B.Y*Y),z=Math.round(-B.w.h*B.Z*E);
A.uB.oW(B,y,z)};X$.prototype.YS=function(R){X.mw(window,this.ORm);X.m_(window,this.ORb)};X$.prototype.qD=function(R){if(R==null&&this.xG!=null)this.Fy.width=100;
this.xG=R;this.XT()};X$.prototype.XT=function(){var R=this.xG,B=0;if(R==null||R.w.h==0)return;if(!X.Zi(this.EV))return;
this.RV.o(A.Ae.Dc.length-1-A.Ae.LM(R.w.h));var Z=300*X.D(),o=[R.fw(),new N(0,0,R.Y,R.Z)];O.ir(o);while(Math.max(o[B+1].Y,o[B+1].Z)>Z){B+=2}var r=o[B],Y=o[B+1],E=Y.Y,p=Y.Z,y=this.Fy;
y.width=E;y.height=p;X.Hw(y,E,p);var z=y.getContext("2d"),u=z.createImageData(E,p);O.VG(r,u.data);z.putImageData(u,0,0);
var Q=R.w.uW(),H=E/R.Y;z.scale(H,H);z.lineWidth=4/H;z.strokeStyle="#ff0000";z.strokeRect(Q.x,Q.y,Q.Y,Q.Z)};
X$.prototype.lU=function(R,Z){};X$.prototype.zB=function(){this.XT()};function EK(R){if(R==null){OG.call(this);
return}var Z=R.id;if(Z==null)Z="plg_"+R.name;OG.call(this,R.name,!1,R.icon,Z);var B=X.T("iframe","padded");
B.setAttribute("src",R.url);B.setAttribute("style","width:"+R.width+"px; height:"+R.height+"px");this.EV.appendChild(B)}EK.prototype=new OG("");
function Er(){EK.call(this,{id:OG.qr.OGQ,name:"Gallery",url:"plugins/gallery.html",width:400,height:400,icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAADxQTFRFAAAA////////////////////////////////////////////////////////////////////////////2EloEwAAABR0Uk5TAP8GD/MW0yBZ54Z4wEcvqbaVbqOHZj16AAACiklEQVR4nO2a2YKDIAwAixeeVdv//9fVrlWQgIAQHpp53LVmqomJlMeDIAiCIAjioGyrgkWnqNoSjl8jRN8cajA+VvgVwKBE+/4rhXoXWsz4jLWKQIUrUCkCqHdguQeKAG58xvQCuioNAW+vBdTsCMp8KRDx+688LwXixn+UJEACWAK86xvGmr7jSQT4eDzyRkkhRxGQRxtp/EAR6NiJDlcAGK2Oa4AgwIHGXux5gCAwqvGXTMQT4FB8xr6XIL6AkoH/fPMwvkAPC0xoAg0s0KAJwPH38/6AQPJbkDwJk5dh8gdR8kcxRjPKM+O/I7fjvF0KrapNDlEHEr6tI4wmg4gjWb6vY7xNBtGG0mw6Tjwbj+TdtI7l03ksvykgLSR1xkM13BM45fcLW+B5rnBwvTGeAFcb3eAskPkL5MBCXvHEE8jAZ7yzgb+AZiW14boPBBbQLmVX6qpWaVjo8hVQCkAwyOVDhyVXKm12egqUmknvQy89lF//f9QZ+Alk5pXs6TDIvguRhcbATwAsAIG9MeVHr9DUh5eAZs4U2BoTF69UAxr4CNj8lvNeM7GWMwWsUA8BQwEIFOOsJApQoR4CxgK44FyhPgKZ5k3Hjl4Zm5wF3nfiSxXqJ3BdABecR0dHgeFufGV0dBOwK4AL5N+AnATuFICANDq6CNwrAIHaU2CGT+fB4CXwChZfbI32AgEKQDB4OgtAb/k32FujrQA0g98z4E4C4ktoILbWaCkQrgAEg9xeIGABCHxao5VA0AIQWFujjUDgAhAYMxuB4AUgMFsIRCgAgfZaIPJ2nj2/tQJYkAAJkAAJkAAJKALJt3Qm39SafFtv8o3Nybd2p9/cnn57P0EQBEEQP8of0kskEgrfunYAAAAASUVORK5CYII="})}Er.prototype=new EK;
function Ek(){OG.call(this,[9,12],!1,null,OG.qr.bO);this.$V=null;this.rQ=new Xq(A.eP);this.rQ.parent=this;
var R=X.T("div","padded");R.setAttribute("style","width:20em");this.EV.appendChild(R);R.appendChild(this.rQ.ud)}Ek.prototype=new OG("");
Ek.prototype.zB=function(){this.rQ.lm(this.$V.RR)};Ek.prototype.lU=function(R,Z){this.$V=R;if(Z==GG.gy||Z==GG.bO)this.rQ.lm(R.RR)};
Ek.prototype.YH=function(R,Z){this.rQ.ONV(this.$V.Yh)};Ek.prototype.c=function(){OG.prototype.c.call(this);
this.rQ.c()};function yO(){Gt.call(this);this.B=0;this.$G=null;this.G=X.T("div","toolconf");this.rQ=null;
this.dz=null;this.body=new X.T("div","body")}yO.prototype=new Gt;yO.prototype.O_n=function(R,Z){this.B=R;
this.$G=Z;if(A.PD[R]){var B=this.rQ=new Xq(R);this.G.appendChild(B.G);B.parent=this}else{this.dz=X.T("div");
this.G.appendChild(this.dz)}this.G.appendChild(this.body);this.c()};yO.prototype.OtG=function(R,Z){};
yO.prototype.OJd=function(R){};yO.prototype.lU=function(R,Z){if(Z==GG.gy||Z==GG.bO)if(this.rQ)this.rQ.lm(R.RR)};
yO.prototype.Fb=function(R){};yO.prototype.c=function(){if(this.rQ)this.rQ.c();else this.dz.innerHTML=X.bQ(this.$G,null,"toolicon");
this.Fq()};yO.prototype.Fq=function(){};function OI(R){yO.call(this);if(R==null)return;this.$V=null;
this.im={};for(var Z=0;Z<R.length;Z++){var B=R[Z],o=null;if(B=="brush"){o=new ER}if(B=="bmode"){o=new Oq([12,19,0],Gd.pp,!1,Gd.WT)}if(B=="bmode0"){o=new Oq([12,19,0],Gd.pp.slice(23),!1)}if(B=="emode"){o=new Oq([12,36],[[9,3],[10,38]])}if(B=="opacity"){o=new OH([12,0],0,100,"%");
o.o(100)}if(B=="flow"){o=new OH([12,63],0,100,"%");o.o(100)}if(B=="smth"){o=new OH([19,3,0],0,100,"%");
o.o(0)}if(B=="samp"){o=new Oq("Sampling",["Brush Center","Start of Stroke","Background Color"])}if(B=="wconf"){o=new jO;
o.o([40,!0,!0])}if(B=="strn"){o=new OH([12,64],1,100,"%");o.o(50)}if(B=="smode"){o=new Oq([12,36],[[19,7,0],[19,7,1]]);
o.o(1)}if(B=="pdetail"){o=new Ol([12,65]);o.lu()}if(B=="rng"){o=new Oq([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
o.o(1)}if(B=="expo"){o=new OH([12,5],0,100,"%");o.o(50)}if(B=="algnd"){o=new Ol([12,75]);o.o(!1)}if(B=="sfrom"){o=new Oq([12,70],[[17,1],[17,3],[17,0]])}if(B=="alt"){o=new Xh(null,["Alt"],!0,["Select Source"])}if(B=="qsmode"){o=new Eo([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(B=="redge"){o=new Gz([7,11],!1,null,!0)}if(B=="setop"){o=new aO}if(B=="patch"){o=new Eo(null,[[12,70],[12,71]])}if(B=="prsr"){o=new Xh(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
o.o([!1,!0])}o.parent=this;this.body.appendChild(o.G);this.im[B]=o;if(B=="brush")o.v(X.E.Q,this.ODG,this);
else if(B=="redge")o.v("click",this.xl,this);else o.v(X.E.Q,this.fc,this)}}OI.prototype=new yO;OI.prototype.OtG=function(R,Z){R=R[1];
var B=this.im;if(R.Md)B.bmode.o(Gd.Ie.indexOf(R.Md.v.BlnM));if(R.Opct)B.opacity.o(R.Opct.v);if(R.flow)B.flow.o(R.flow.v);
if(R.Brsh)B.brush.o(R,Z.$r.DZ,Z.$r.sw);if(R.FrgC){var o=O.L.iz(R.FrgC.v),r=new n(X.E.K,!0);r.data={d:X.l.zM,Fe:GG.IU,_r:0,k:o.F<<16|o.S<<8|o.X};
this.j(r)}this.ODG();this.fc()};OI.prototype.OJd=function(){if(A.PD[this.B]==null)return null;var R=this.im,Z=JSON.parse(JSON.stringify(R.brush.M()));
Z.classID=A.PD[this.B][1][0];if(R.bmode)Z.Md={t:"enum",v:{BlnM:Gd.Ie[R.bmode.M()]}};if(R.opacity)Z.Opct={t:"long",v:R.opacity.M()};
if(R.flow)Z.flow={t:"long",v:R.flow.M()};var B=this.$V.Ky;B={F:B>>>16,S:B>>>8&255,X:B&255};Z.FrgC={t:"Objc",v:O.L.hN(B)};
return["Brush Preset "+Z.Brsh.v.Dmtr.v.val,Z]};OI.prototype.xl=function(){var R=new n(X.E.K,!0);R.data={d:X.l.JT,fA:"redge"};
this.j(R)};OI.prototype.Fq=function(){for(var R in this.im)this.im[R].c()};OI.prototype.Fb=function(R){if(R.OUu=="showBrushOpts"){this.im.brush.OXi(R.Sl.x,R.Sl.y)}for(var Z in R.Xj){var B=R.Xj[Z];
if(Z!="qsmode")B*=100;if(this.im[Z])this.im[Z].o(B)}};OI.prototype.lU=function(R,Z){yO.prototype.lU.call(this,R,Z);
this.$V=R;var B=this.im.brush;if(B==null)return;if(Z==GG.gy||Z==GG.eP)B.lm(R.$r);if(Z==GG.Ow){B.o(R.$r.nt,R.$r.DZ,R.$r.sw)}};
OI.prototype.ODG=function(){var R=new n(X.E.K,!0);R.data={d:X.l.zM,Fe:GG.Ow,aY:this.im.brush.M()};this.j(R)};
OI.prototype.fc=function(){var R=new n(X.E.K,!0);R.data={d:X.l.FB,B:this.B};for(var Z in this.im){if(Z=="brush"||Z=="redge")continue;
var B=this.im[Z].M();if(["opacity","flow","smth","strn","expo"].indexOf(Z)!=-1)R.data[Z]=B/100;else if(Z=="bmode")R.data.bmode=Gd.pz[B];
else if(Z=="bmode0")R.data.bmode=Gd.pz[23+B];else R.data[Z]=B}this.j(R)};function y$(R){yO.call(this);
if(R)return;this.data={d:X.l.FB,$p:"front",lB:0,st:[10,!0,!0],DR:{RN:0,x:1,y:1}};this.vF=new aO;this.body.appendChild(this.vF.G);
this.vF.v(X.E.Q,this.gO,this);this.nd=new OH([7,6],0,100," px");this.nd.parent=this;this.nd.o(0);this.body.appendChild(this.nd.G);
this.nd.v(X.E.Q,this.gO,this);this.di=new Gz([7,11],!1,null,!0);this.body.appendChild(this.di.G);this.di.v("click",this.xl,this)}y$.prototype=new yO;
y$.prototype.Fb=function(R){if(R.$p!=null)this.vF.o(R.$p);else{var Z=y$.vC;if(Z==null){var B=Ea.OEI(!0);
Z=y$.vC=new OD(B.items,B.yx)}Z.c();Z.parent=this;Z.update(R.fB,R.sI);var o=new n(X.E.K,!0);o.data={d:X.l.dF,Jd:Z,x:R.Xq.dp+2,y:R.Xq.$M+1};
this.j(o)}};y$.prototype.Fq=function(){this.nd.c();this.vF.c();this.di.c()};y$.prototype.xl=function(){var R=new n(X.E.K,!0);
R.data={d:X.l.JT,fA:"redge"};this.j(R)};y$.prototype.gO=function(){var R=new n(X.E.K,!0);this.data.B=this.B;
this.data.$p=this.vF.M();this.data.lB=this.nd.M();R.data=this.data;this.j(R)};function Es(){OI.call(this,["brush","strn"])}Es.prototype=new OI;
function EH(){OI.call(this,"brush bmode opacity flow smth prsr".split(" "))}EH.prototype=new OI;function EF(){OI.call(this,["brush","bmode0","samp","wconf"])}EF.prototype=new OI;
function Eu(){OI.call(this,["brush"])}Eu.prototype=new OI;function Em(){OI.call(this,"brush bmode opacity flow smth prsr".split(" "))}Em.prototype=new OI;
function Eb(){OI.call(this,["brush","rng","expo"])}Eb.prototype=new OI;function ET(){OI.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}ET.prototype=new OI;
function Oc(R){yO.call(this);if(R==null)return;var Z=X.T("span","fitem");this.body.appendChild(Z);var B=[[17,0],[17,1],[11,12,0],[17,2]];
this.Vq=[];for(var o=0;o<B.length;o++){var r=new Gz(B[o],!1,null,!0);this.Vq.push(r);r.v("click",this.OLw,this);
if(!R||o==1)Z.appendChild(r.G)}this.DR=new XU;this.DR.v(X.E.Q,this.OLA,this);if(!R)this.body.appendChild(this.DR.G);
this.Yf=new Xy;this.Yf.v("click",this.UZ,this)}Oc.prototype=new yO;Oc.prototype.Fq=function(){this.Yf.c();
for(var R=0;R<this.Vq.length;R++)this.Vq[R].c();this.DR.c()};Oc.prototype.Fb=function(R){var Z=this.Yf.G;
if(R.SH)this.body.appendChild(Z);else if(this.body.contains(Z))this.body.removeChild(Z);if(R.DR)this.DR.o(R.DR)};
Oc.prototype.UZ=function(R){var Z={d:X.l.FB,B:this.B,hu:this.Yf.M()?"commit":"cancel"},B=new n(X.E.K,!0);
B.data=Z;this.j(B)};Oc.prototype.OLw=function(R){R.target.G.blur();var Z={d:X.l.FB,B:this.B,hu:"cropby",OlD:this.Vq.indexOf(R.target)},B=new n(X.E.K,!0);
B.data=Z;this.j(B)};Oc.prototype.OLA=function(R){var Z={d:X.l.FB,B:this.B,hu:"config",rA:{Vu:this.DR.M()}},B=new n(X.E.K,!0);
B.data=Z;this.j(B)};function Ec(){Oc.call(this,!1)}Ec.prototype=new Oc;function Ed(){Oc.call(this,!0)}Ed.prototype=new Oc;
function En(){OI.call(this,["brush","rng","expo"])}En.prototype=new OI;function EQ(){OI.call(this,"brush emode opacity flow smth prsr".split(" "))}EQ.prototype=new OI;
function Eg(){OI.call(this,["brush","samp","wconf"])}Eg.prototype=new OI;function EP(){y$.call(this);
this.DR=new XU;this.DR.v(X.E.Q,this.xh,this);this.body.appendChild(this.DR.G)}EP.prototype=new y$(!0);
EP.prototype.xh=function(R){this.data.DR=this.DR.M();this.gO()};EP.prototype.Fq=function(){y$.prototype.Fq.call(this);
this.DR.c()};function Vk(){yO.call(this);this.RB=new Oq([12,20],["1x1","3x3","5x5","11x11","31x31"]);
this.RB.v(X.E.Q,this.fc,this);this.body.appendChild(this.RB.G)}Vk.prototype=new yO;Vk.prototype.fc=function(R){var Z=new n(X.E.K,!0);
Z.data={d:X.l.FB,B:this.B,nb:[1,3,5,11,31][this.RB.M()]};this.j(Z)};Vk.prototype.Fq=function(){this.RB.c()};
function EL(){yO.call(this);this.LT=new RF(!1);this.LT.parent=this;this.LT.v(X.E.Q,this.mS,this);this.body.appendChild(this.LT.G);
this.LT.o(JSON.parse(Gk.FD.Oyn).v);this.Rw=new Oq(null,Gk.L.names.slice(0,5));this.Rw.v(X.E.Q,this.mS,this);
this.body.appendChild(this.Rw.G);this.RS=new Oq([12,19,0],Gd.pp,null,Gd.WT);this.RS.v(X.E.Q,this.mS,this);
this.body.appendChild(this.RS.G);this.lM=new OH([12,0],0,100,"%");this.lM.parent=this;this.lM.v(X.E.Q,this.mS,this);
this.body.appendChild(this.lM.G);this.lM.o(100);this.RJ=new Ol([12,23,0]);this.RJ.v(X.E.Q,this.mS,this);
this.body.appendChild(this.RJ.G);this.RD=new Ol("Dither");this.RD.v(X.E.Q,this.mS,this);this.body.appendChild(this.RD.G)}EL.prototype=new yO;
EL.prototype.Fq=function(){this.Rw.c();this.RS.c();this.lM.c();this.RJ.c();this.RD.c()};EL.prototype.lU=function(R,Z){yO.prototype.lU.call(this,R,Z);
var B=Z==GG.IU;this.LT.vV(R.Ky,R.Dk);if(B||Z==GG.zh||Z==GG.gy)this.LT.lm(R.Vl)};EL.prototype.mS=function(){var R=new n(X.E.K,!0);
R.data={d:X.l.FB,B:this.B};R.data.Fe={L:this.LT.M(),FW:Gk.L.types[this.Rw.M()],Xm:this.RJ.ZD(),OhM:this.RD.ZD(),OSy:Gd.pz[this.RS.M()],dr:this.lM.M()/100};
this.j(R)};function Vy(){yO.call(this)}Vy.prototype=new yO;function VE(){OI.call(this,["brush","algnd","sfrom","alt"])}VE.prototype=new OI;
function EJ(){yO.call(this);this.tC=new Rg;this.tC.parent=this;this.body.appendChild(this.tC.jd.G);this.body.appendChild(this.tC.IY.G);
this.body.appendChild(this.tC.IL.G);var R=X.T("span","fitem");this.body.appendChild(R);R.appendChild(this.tC.bH.G);
R.appendChild(this.tC.bm.G);R.appendChild(this.tC.bu.G);this.fr=new Gz([11,9],!1,null,!0);this.fr.v("click",this.OL_,this);
this.body.appendChild(this.fr.G);this.Yf=new Xy;this.Yf.v("click",this.UZ,this)}EJ.prototype=new yO;
EJ.prototype.Fq=function(){this.Yf.c();this.tC.c();this.fr.c()};EJ.prototype.OL_=function(R){var Z={d:X.l.FB,B:this.B,hu:"showwarp"},B=new n(X.E.K,!0);
B.data=Z;this.j(B)};EJ.prototype.Fb=function(R){if(R.hu=="showactive")this.body.appendChild(this.Yf.G);
if(R.hu=="hideactive")this.body.removeChild(this.Yf.G)};EJ.prototype.lU=function(R,Z){yO.prototype.lU.call(this,R,Z);
if(Z!=GG.gy&&Z!=GG.zb&&Z!=GG.Ot&&Z!=GG.YP)return;this.tC.ND(R)};EJ.prototype.UZ=function(R){var Z={d:X.l.FB,B:this.B,hu:this.Yf.M()?"commit":"cancel"},B=new n(X.E.K,!0);
B.data=Z;this.j(B)};function VG(){y$.call(this)}VG.prototype=new y$(!0);function Eq(){yO.call(this);
var R=[],B="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.vc=new Ol([12,85]);this.vc.v(X.E.Q,this.fc,this);R.push(this.vc.G);this.vn=new Ol([20,1]);this.vn.v(X.E.Q,this.fc,this);
R.push(this.vn.G);this.zk=new Ol([12,83]);this.zk.v(X.E.Q,this.fc,this);R.push(this.zk.G);var Z=X.T("span","fitem");
R.push(Z);this.OXf=new Oq("Scale for exported files",["1x","2x","3x","4x"],!0);Z.appendChild(this.OXf.G);
this.dU=new Gz(B+" PNG",!1,null,!0);Z.appendChild(this.dU.G);this.dU.v("click",this.xS,this);this.OXU=new Gz(B+" SVG",!1,null,!0);
Z.appendChild(this.OXU.G);this.OXU.v("click",this.xS,this);var o=X.T("span","fitem");R.push(o);var r=X.T("span","fitem");
R.push(r);this.mA=[];for(var Y=0;Y<8;Y++){var E=Y==3||Y==7?[20,4,6]:[20,4,Y<3?Y:Y-1],p=new Gz("Hi",!1,E);
(Y<4?o:r).appendChild(p.G);p.v("click",this.xS,this);this.mA.push(p)}for(var Y=0;Y<R.length;Y++)this.body.appendChild(R[Y]);
this.OaQ=R}Eq.prototype=new yO;Eq.prototype.Fb=function(R){var Z=R.t$,B=R.O$D;this.vc.o(Z.HK);this.vn.o(Z.HF);
this.zk.o(Z.tW);if(B){X.vO(this.body);for(var o=0;o<B.length;o++)if(B[o]==1&&this.OaQ[o])this.body.appendChild(this.OaQ[o])}};
Eq.prototype.xS=function(R){var Z=this.mA.indexOf(R.target),B;if(Z==-1){B=new n(X.E.K,!0);B.data={d:X.l.FB,B:this.B,_r:R.target==this.dU?"getPNG":"getSVG",ONU:this.OXf.M()+1}}else{B=new n(X.E.$,!0);
B.B=A.tY;B.data={d:"algn",k:Z}}this.j(B)};Eq.prototype.fc=function(R){var Z=new n(X.E.K,!0);Z.data={d:X.l.FB,B:this.B,_r:"prms",HK:this.vc.ZD(),HF:this.vn.ZD(),tW:this.zk.ZD()};
this.j(Z)};Eq.prototype.Fq=function(){this.vc.c();this.vn.c();this.zk.c();var R="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var Z=0;Z<8;Z++){this.mA[Z].FS(X.bQ("align/"+R[Z],null,"autoscale"))}};function VR(){y$.call(this);
var R=this.fd=new jO;R.parent=this;R.v(X.E.Q,this.OLD,this);this.body.appendChild(R.G)}VR.prototype=new y$(!0);
VR.prototype.OLD=function(R){this.data.st=this.fd.M();this.gO()};VR.prototype.Fq=function(){y$.prototype.Fq.call(this);
this.fd.c()};function VX(){OI.call(this,["setop","patch"])}VX.prototype=new OI;function Va(){OI.call(this,["bmode","opacity","wconf"])}Va.prototype=new OI;
function Vj(){y$.call(this)}Vj.prototype=new y$(!0);function VI(){y$.call(this)}VI.prototype=new y$(!0);
function VB(){y$.call(this);this.DR=new XU;this.DR.v(X.E.Q,this.xh,this);this.body.appendChild(this.DR.G)}VB.prototype=new y$(!0);
VB.prototype.xh=function(R){this.data.DR=this.DR.M();this.gO()};VB.prototype.Fq=function(){y$.prototype.Fq.call(this);
this.DR.c()};function VO(){yO.call(this);this.rv=[new EU("X",null,3),new EU("Y",null,3),new EU("W",null,3),new EU("H",null,3),new EU([12,15],null,4),new EU([12,80,0],null,4),new Gz([15,7,6],!1,null,!0)];
for(var R=0;R<this.rv.length;R++){var Z=this.rv[R];this.body.appendChild(Z.G)}this.rv[6].v("click",this.OLU,this);
this.RW=0}VO.prototype=new yO;VO.prototype.OLU=function(R){if(this.RW==0){return}var Z=new n(X.E.$,!0);
Z.B=A.iY;Z.data={d:"rot",$L:[2,5],k:-this.RW};this.j(Z)};VO.prototype.Fb=function(R){var Z=R.O$$,B=R._b,o=B.x-Z.x,r=B.y-Z.y,Y=this.rv;
this.RW=-Math.atan2(r,o);Y[0].o(Z.x);Y[1].o(Z.y);Y[2].o(o);Y[3].o(r);Y[4].o((this.RW*180/Math.PI).toFixed(2));
Y[5].o(Math.sqrt(o*o+r*r).toFixed(2))};VO.prototype.Fq=function(){var R=this.rv;for(var Z=0;Z<R.length;
Z++)R[Z].c();X.bk(R[2],R[3])};function VA(){OI.call(this,["brush","strn","pdetail"])}VA.prototype=new OI;
function V_(){OI.call(this,["brush"]);this.OjY=[];var R=[[7,12]];for(var Z=0;Z<R.length;Z++){var B=new Gz(R[Z],!1,null,!0);
this.OjY.push(B);B.parent=this;this.body.appendChild(B.G);B.v("click",this.OL$,this)}}V_.prototype=new OI;
V_.prototype.OL$=function(R){var Z=this.OjY.indexOf(R.currentTarget),B=new n(X.E.e_,!0);B.data=A.lg.DF("contentAware");
this.j(B)};function VL(){OI.call(this,["brush","strn"])}VL.prototype=new OI;function Vl(){OI.call(this,["brush","flow","smode"])}Vl.prototype=new OI;
function EW(){yO.call(this);this.za=!1;var R=X.T("span","fitem");this.body.appendChild(R);this.zI=new Eo(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
R.appendChild(this.zI.G);this.zI.v(X.E.Q,this.fc,this);this.Ro=new Gz([20,2]);this.body.appendChild(this.Ro.G);
this.Ro.v("click",this.Ovs,this);this.dx=new Gz([20,3]);this.body.appendChild(this.dx.G);this.dx.v("click",this.Ovs,this)}EW.prototype=new yO;
EW.prototype.Fq=function(){this.Ro.c();this.dx.c()};EW.prototype.fc=function(){var R={d:X.l.FB,B:this.B,Fc:this.zI.M()==0},Z=new n(X.E.K,!0);
Z.data=R;this.j(Z)};EW.prototype.Fb=function(R){if(this.za!=R.za)this.zI.o(1-this.zI.M());this.za=R.za};
EW.prototype.Ovs=function(R){var Z=new n(X.E.$,!0);Z.B=A.vA;Z.data={d:"adapt",k:R.target==this.Ro?"pixel":"fitscr"};
this.j(Z)};function YQ(R,Z){yO.call(this);if(R==null)return;this.im={};var B=[[12,76,0],[12,76,1]];if(Z==null)B.push([12,76,2]);
for(var o=0;o<R.length;o++){var r=R[o],Y=null;if(r=="tmode"){Y=new Oq(null,B);Y.o(1)}if(r=="binop"){Y=new Oq(null,[[18,1],[18,2],[18,3],[18,4]]);
Y.uE()}if(r=="pshape")Y=new Oq(null,[[12,93,0],[12,93,1],"Arrow",[12,93,2]]);if(r=="shape")Y=new VS([12,76,1]);
if(r=="crad"){Y=new OH([12,94,0],0,50,"px");Y.o(0)}if(r=="cstr"){Y=new XU}if(r=="irad"){Y=new OH([12,94,1],0,100,"%");
Y.o(40)}if(r=="length"){Y=new OH([12,80,0],4,40);Y.o(4)}if(r=="sides"){Y=new OH([12,78],3,30);Y.o(5)}if(r=="width"){Y=new OH([12,41],1,100,"px");
Y.o(5)}if(r=="tsiz"){Y=new OH("Tip Size",100,500,"%");Y.o(300)}if(r=="tolr"){Y=new OH([12,24],0,100);
Y.o(5)}if(r=="fstyle"){Y=new yL([12,26])}if(r=="sstyle"){Y=new Xb}if(r=="psnap"){Y=new Ol([8,10])}Y.parent=this;
this.body.appendChild(Y.G);this.im[r]=Y;Y.v(X.E.Q,this.fc,this)}}YQ.prototype=new yO;YQ.prototype.Fb=function(R){var Z=YQ.vC;
if(Z==null)Z=YQ.vC=new OD([{name:"Make Selection"}],[{z:X.E.$,B:A.tz,i:{d:"frompath",ua:[null,0,0]}}]);
Z.parent=this;Z.update(R.fB,R.sI);var B=new n(X.E.K,!0);B.data={d:X.l.dF,Jd:Z,x:R.Xq.dp+2,y:R.Xq.$M+1};
this.j(B)};YQ.prototype.Ozl=function(R){return null};YQ.prototype.OUl=function(){if(this.im.pshape==null)return;
var R=this.Ozl(this.im.pshape.M());if(R==null)return;X.vO(this.body);for(var Z=0;Z<R.length;Z++){var B=R[Z];
this.body.appendChild(this.im[B].G)}};YQ.prototype.Fq=function(){for(var R in this.im){this.im[R].c()}};
YQ.prototype.fc=function(R){var Z=new n(X.E.K,!0);if(R.target==this.im.fstyle){Z.data={d:X.l.zM,Fe:GG.iy,k:this.im.fstyle.M()};
this.j(Z);return}if(R.target==this.im.sstyle){Z.data={d:X.l.zM,Fe:GG.YC,k:this.im.sstyle.M()};this.j(Z);
return}if(this.im.tmode&&this.im.binop){if(this.im.tmode.M()==0)this.im.binop.lv();else this.im.binop.uE()}Z.data={d:X.l.FB,B:this.B};
for(var B in this.im)if(B!="sstyle")Z.data[B]=this.im[B].M();this.j(Z);if(R.target==this.im.pshape)this.OUl()};
YQ.prototype.lU=function(R,Z){yO.prototype.lU.call(this,R,Z);var B=this.im.fstyle,o=this.im.sstyle;if(B)B.lU(R,Z);
if(o)o.lU(R,Z);if(Z==GG.gy||Z==GG.OI)if(R.fh.length!=0&&this.im.shape){this.im.shape.lm(R.fh)}if(Z==GG.gy||Z==GG.iy)if(B)B.o(null,R.tQ,R.OjM);
if(Z==GG.gy||Z==GG.YC)if(o)o.o(null,R.tT,R.OjH)};function Vt(){YQ.call(this,["tmode","fstyle","sstyle","binop"],!0)}Vt.prototype=new YQ;
function Vf(){YQ.call(this,["tmode","fstyle","sstyle","binop","tolr"])}Vf.prototype=new YQ;function Vw(){YQ.call(this,["fstyle","sstyle"]);
this.O$J=null;this.OIO=null;this.OIh=null;this.ZH=new Oq("Path",[[18,1],[18,2],[18,3],[18,4],[18,5]],!1,[4]);
this.sR=new Gz("\u25BC");this.sR.lu();this.oI=new Gz("\u25B2");this.oI.lu();this.dZ=[this.ZH,this.sR,this.oI];
for(var R=0;R<this.dZ.length;R++){var Z=this.dZ[R];this.body.appendChild(Z.G);Z.parent=this;Z.v(R==0?X.E.Q:"click",this.Ec,this)}}Vw.prototype=new YQ;
Vw.prototype.Fb=function(R){if(R.hu=="main"){var Z=this.dZ,B=R.Xv;if(B&&B.C.length==1){this.OIO=B.clone();
this.OIh=JSON.stringify(R.je);var o=B.C[0],r=O.V._D(B.u);this.ZH.lv();if(o>0)this.sR.lv();else this.sR.uE();
if(o<r-1)this.oI.lv();else this.oI.uE();var Y=O.V.qY(B.u,o),E=B.u[Y];this.ZH.FS("Path "+(o+1));this.ZH.o([3,0,1,2][E.lz])}else{for(var p=0;
p<Z.length;p++)Z[p].uE()}}else YQ.prototype.Fb.call(this,R)};Vw.prototype.Fq=function(){YQ.prototype.Fq.call(this);
this.ZH.c()};Vw.prototype.Ec=function(R){if(R.target==this.ZH||R.target==this.sR||R.target==this.oI){var Z={},B=this.OIO,o=B.u,r=JSON.parse(this.OIh),Y=B.C[0],E=O.V.qY(o,Y),p=o[E];
if(R.target==this.ZH){var y=this.ZH.M();if(y<4)p.lz=[1,2,3,0][y];else{if(O.V._D(o)<=1)return;B.u=O.V.BN(o);
B.C=B.u.length==2?[]:[0];B._R=[];r=[O.je.GP()]}}else{var z=R.target==this.sR?-1:1,u=Math.min(Y,Y+z),Q=Math.max(Y,Y+z),H=O.V.qY(o,u),T=O.V.qY(o,Q);
if(H==-1||T==-1)return;var C=T+O.V.Bz(o,Q),e=r[u];r[u]=r[Q];r[Q]=e;var $=o.slice(0,H),x=o.slice(H,T),M=o.slice(T,C),m=o.slice(C);
B.u=$.concat(M.concat(x.concat(m)));B.C[0]+=z}Z.Xv=B;Z.je=r;var G=new n(X.E.K,!0);G.data={d:X.l.FB,B:this.B,ua:Z};
this.j(G)}};function VD(){YQ.call(this,["fstyle","sstyle","psnap"])}VD.prototype=new YQ;function Vq(){YQ.call(this,"tmode fstyle sstyle binop cstr crad".split(" "))}Vq.prototype=new YQ;
function VW(){YQ.call(this,["tmode","fstyle","sstyle","binop","cstr"])}VW.prototype=new YQ;function VN(){YQ.call(this,"tmode fstyle sstyle binop pshape sides irad crad width tsiz length".split(" "));
this.OXr=[["sides","crad"],["sides","irad","crad"],["width","tsiz"],["length"]];this.OUl()}VN.prototype=new YQ;
VN.prototype.Ozl=function(R){return["tmode","fstyle","sstyle","binop","pshape"].concat(this.OXr[R])};
function Vv(){YQ.call(this,["tmode","fstyle","sstyle","binop","width"])}Vv.prototype=new YQ;function Vz(){YQ.call(this,"tmode fstyle sstyle binop cstr shape".split(" "))}Vz.prototype=new YQ;
function Vi(){y$.call(this)}Vi.prototype=new y$(!0);function VU(){OI.call(this,["brush","qsmode","redge"])}VU.prototype=new OI;
function V$(){yO.call(this)}V$.prototype=new yO;function Vx(){yO.call(this);this.sR=new Gz("\u25BC");
this.sR.lu();this.oI=new Gz("\u25B2");this.oI.lu();var EB=[this.sR,this.oI];for(var R=0;R<2;R++){var Z=EB[R];
this.body.appendChild(Z.G);Z.v("click",this.Ec,this)}}Vx.prototype=new yO;Vx.prototype.Ec=function(R){var Z=new n(X.E.K,!0);
Z.data={d:X.l.FB,B:this.B,_r:"reorder",dir:R.target==this.sR?-1:1};this.j(Z)};function RG(R){yO.call(this);
if(window.Typr==null||R)return;this.G$=null;this.OBE=X.T("span","");this.OBw=X.T("span","");var Z=1;
this.zV={Uf:new XY(null,24),II:new OH("X",0,0,"px",0,!1,!0,4),wB:new OH("Y",0,0,"px",0,!1,!0,4),HX:new OH("W",0,0,["%","px"],0,!1,!0,4),Og:new Gz("\u2261",null,[12,51],null),FN:new OH("H",0,0,["%","px"],0,!1,!0,4),OXo:new OH("\u2221",0,0,"\xB0",Z,!1,!0),OXM:new OH("\u25B1 X",-85,85,"\xB0",Z,!1,!0),OXs:new OH("\u25B1 Y",-85,85,"\xB0",Z,!1,!0),yQ:new Oq(null,[[12,14,2],[12,14,3],"Bicubic Sharper"])};
this.zV.yQ.o(1);for(var B in this.zV){this.OBE.appendChild(this.zV[B].G);var o=this.zV[B]==this.zV.Og?"click":X.E.Q;
this.zV[B].v(o,this.OLx,this)}this.fd=new yk(!0,!0,!0);this.fd.v(X.E.Q,this.OLZ,this);this.fd.parent=this;
var r=this.OBw,Y=this.fd;r.appendChild(Y.rP.G);r.appendChild(Y.BU.G);r.appendChild(Y.pY.G);r.appendChild(Y.pR.G);
r.appendChild(Y.pL.G);this.fr=new Gz([11,9]);this.fr.v("click",this.OLs,this);this.Yf=new Xy;this.Yf.v("click",this.UZ,this)}RG.prototype=new yO;
RG.prototype.Fb=function(R){if(R.Xq){var Z=RG,B=Z.vC;if(B==null)B=Z.vC=new OD(Z.OUm(),Z.OKq());B.c();
B.parent=this;B.update(R.fB,R.sI);var o=new n(X.E.K,!0);o.data={d:X.l.dF,Jd:B,x:R.Xq.dp+2,y:R.Xq.$M+1};
this.j(o);return}X.vO(this.body);this.G$=R;if(R.zV){var r=R.zV._,Y=R.zV.lN.clone(),E=Math.atan2(-Y.X,Y.t),p=new GN;
p.rotate(-E);Y.concat(p);var y=this.zV;y.Uf.o(R.zV.H$);y.II.o(R.zV.Yd.x);y.wB.o(R.zV.Yd.y);y.HX.o(Y.t*(y.HX.ee()=="%"?100:r.Y));
y.FN.o(Y._l*(y.FN.ee()=="%"?100:r.Z));y.OXo.o(-E*180/Math.PI);y.OXM.o(0*180/Math.PI);y.OXs.o(Math.atan(Y.f_)*180/Math.PI);
this.body.appendChild(this.OBE);this.fr.UW()}if(R.gA){this.fd.o(R.gA);this.body.appendChild(this.OBw);
this.fr.lu()}this.body.appendChild(this.Yf.G);if(R.OxO)this.body.appendChild(this.fr.G)};RG.prototype.OLx=function(R){var Z=this.zV,B=this.G$.zV._;
if(R.target==Z.Og)Z.Og.o(!Z.Og.M());if(Z.Og.ZD()){var o=Z.FN,r=Z.HX,Y=B.Z,E=B.Y;if(R.target==Z.HX){o=Z.HX;
r=Z.FN;Y=B.Y;E=B.Z}var p=o.M()/(o.ee()=="%"?100:Y);p*=r.ee()=="%"?100:E;r.o(p)}var y=[];for(var z in Z)if(Z[z]!=Z.Og&&Z[z]!=Z.Uf){var p=Z[z].M();
if((Z[z]==Z.HX||Z[z]==Z.FN)&&p==0){p=.1;Z[z].o(p)}if(Z[z]==Z.HX&&Z[z].ee()=="px")p/=B.Y/100;if(Z[z]==Z.FN&&Z[z].ee()=="px")p/=B.Z/100;
y.push(p)}var u=new VP(y[0],y[1]);if(R.target==Z.Uf){this.Uu({hu:"ctyp",H$:Z.Uf.M()})}else if(R.target==Z.II||R.target==Z.wB){this.Uu({hu:"cen",Yd:u})}else{var Q=this.G$.zV.lN.clone(),H=Q.clone(),T=Math.atan2(-Q.X,Q.t);
H.translate(-u.x,-u.y);H.rotate(-T);var C=new GN(H.t,H.X,H.f_,H._l,0,0);C.za();H.concat(C);H.concat(new GN(y[2]/100,Math.tan(y[5]*Math.PI/180),Math.tan(y[6]*Math.PI/180),y[3]/100,0,0));
H.rotate(-y[4]*Math.PI/180);H.translate(u.x,u.y);this.G$.zV.lN=H;this.Uu({hu:"trn",zV:H,Hy:this.zV.yQ.M()})}};
RG.prototype.OLZ=function(R){this.Uu({hu:"wrp",gA:this.fd.M()})};RG.prototype.OLs=function(R){this.Uu({hu:"switchWarp"})};
RG.prototype.UZ=function(R){this.Uu({hu:this.Yf.M()?"commit":"cancel"})};RG.prototype.Uu=function(R){R.d=X.l.FB;
R.B=this.B;var Z=new n(X.E.K,!0);Z.data=R;this.j(Z)};RG.prototype.Fq=function(){var R=this.zV;for(var Z in R)R[Z].c();
X.bk(R.HX,R.FN);this.Yf.c();this.fd.c();this.fr.c()};RG.OUm=function(){return[{name:[5,9],vt:"Shift+Alt+Ctrl + T",vU:!0},{name:[2,9]},{name:[11,9],H:function(R){if(R==null||R.C.length!=1)return{H:!1};
var Z=R.q[R.C[0]];return{H:Z.add.TySh==null&&!Z.av()}},vU:!0},{name:"90\xB0 \u21BB",H:function(R){return{Ni:Ok.get([2,5])+" 90\xB0 \u21BB"}}},{name:"90\xB0 \u21BA",H:function(R){return{Ni:Ok.get([2,5])+" 90\xB0 \u21BA"}}},{name:"180\xB0 ",H:function(R){return{Ni:Ok.get([2,5])+" 180\xB0"}}},{name:[2,6,[22,4,2]]},{name:[2,6,[22,4,3]]}]};
RG.OKq=function(){return[{z:X.E.$,B:A.iY,i:{d:"again"}},{z:X.E.K,i:{d:X.l.nu,B:A.iY,t$:{zt:1}}},{z:X.E.K,i:{d:X.l.nu,B:A.iY,t$:{zt:2}}},{z:X.E.$,B:A.iY,i:{d:"rot",$L:[2,5],k:-Math.PI/2}},{z:X.E.$,B:A.iY,i:{d:"rot",$L:[2,5],k:-3*Math.PI/2}},{z:X.E.$,B:A.iY,i:{d:"rot",$L:[2,5],k:Math.PI}},{z:X.E.$,B:A.iY,i:{d:"scl",$L:[2,6,[22,4,2]],k:new VP(-1,1)}},{z:X.E.$,B:A.iY,i:{d:"scl",$L:[2,6,[22,4,3]],k:new VP(1,-1)}}]};
function VK(){RG.call(this)}VK.prototype=new RG(!0);function Vr(){RG.call(this)}Vr.prototype=new RG(!0);
function ED(){yO.call(this);var R=this.Us=[new Oq([12,36],["Rigid",[15,10,0],[24,4]]),new Oq([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new OH([7,4],0,100,"px"),new Ol("Show Mesh"),new Gz("\u25BC",null,null,!0),new Gz("\u25B2",null,null,!0)];
for(var Z=0;Z<R.length;Z++){var B=R[Z];B.parent=this;this.body.appendChild(B.G);B.v(Z<4?X.E.Q:"click",this.OLH,this)}this.Yf=new Xy;
this.Yf.v("click",this.UZ,this);this.body.appendChild(this.Yf.G)}ED.prototype=new yO;ED.prototype.Fq=function(){var R=this.Us;
for(var Z=0;Z<4;Z++)R[Z].c();this.Yf.c()};ED.prototype.Fb=function(R){var R=R.Fe;for(var Z=0;Z<4;Z++)this.Us[Z].o(R[Z])};
ED.prototype.OLH=function(R){var Z=[];for(var B=0;B<4;B++)Z[B]=this.Us[B].M();var o=this.Us.indexOf(R.target);
if(o<4)this.Uu({hu:"prm",Fe:Z});else this.Uu({hu:"moveDepth",OxI:o==5})};ED.prototype.UZ=function(R){this.Uu({hu:this.Yf.M()?"commit":"cancel"})};
ED.prototype.Uu=function(R){R.d=X.l.FB;R.B=this.B;var Z=new n(X.E.K,!0);Z.data=R;this.j(Z)};function RL(){Gt.call(this);
this.G=X.T("div","cmanager");this.ZA=0;this.N$=0;this.lO=[];this.dM={};this.ds=X.T("div","alertcont");
this.G.appendChild(this.ds);this.OBK=X.T("div","alertcont");this.G.appendChild(this.OBK);this.Qh=X.T("div","alertcont");
this.OBr=0;this.QJ=-1;this.OBb=null;this.hp=null;var R=this.O$u=X.T("div","alertpanel");R.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.Qh.appendChild(R);var Z=this.mD=X.T("input");Z.setAttribute("type","text");Z.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
Z.addEventListener("input",this.OlV.bind(this),!1);Z.addEventListener("keydown",this.OlG.bind(this),!1);
R.appendChild(Z);var B=this.OAM=X.T("div","contextpanel scrollable");B.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
B.addEventListener("click",this.OlY.bind(this),!1);R.appendChild(B);X.dj(document.body,this.Olb.bind(this))}RL.prototype=new Gt;
RL.prototype.xt=function(){if(X.Zi(this.Qh))this.G.removeChild(this.Qh)};RL.prototype.Oly=function(R,Z){var B=this.OBb=[];
for(var o=0;o<Ea.data.length;o++){var r=Ea.data[o],Y=[Ok.get(r.name)],E=[o];RL.Okl(r.items,Y,E,B,R,Z)}var p=Oo.Dy;
for(var o=0;o<p.length;o+=3){B.push([["Tools",Ok.get(p[o])],[-1,p[o+2]]])}this.G.appendChild(this.Qh);
var y=this.mD;y.focus();y.select();this.XT()};RL.prototype.OlV=function(R){this.QJ=-1;this.XT()};RL.prototype.XT=function(){var R=this.mD.value.toLowerCase().trim().replace(/  +/g," "),Z=this.OBb,B=[],o=[],r=R.split(" ");
if(R!="")for(var Y=0;Y<Z.length;Y++){var E=Z[Y][0],p=[],y=0;for(var z=0;z<E.length;z++)p[z]=-1;for(var u=0;
u<r.length;u++)for(var z=0;z<E.length;z++){var Q=E[z].toLowerCase().indexOf(r[u]);if(Q!=-1){p[z]=[Q,Q+r[u].length];
y++;break}}if(y==r.length){B.push(Z[Y]);o.push(p)}}var H=[],T=this.OAM;X.vO(T);for(var Y=0;Y<B.length;
Y++){var C=B[Y][0],Q=o[Y],e="enab",x="";if(Y==this.QJ)e+=" active";var $=X.T("div",e);H.push($);T.appendChild($);
for(var z=0;z<C.length;z++){var M=Q[z],m=r[z],G=C[z];if(M!=-1)G=G.slice(0,M[0])+"<span style=\"color:black\">"+G.slice(M[0],M[1])+"</span>"+G.slice(M[1]);
x+=G;if(z<C.length-1)x+=" \uFE65 "}$.innerHTML=x}this.hp=[B,H]};RL.prototype.OlG=function(R){var Z=a.ey,B=R.code;
if(Z(B,a.UF))this.xt();var o=Z(B,a.RQ),r=Z(B,a.Xy),Y=Z(B,a.Ic);if(o||r){this.QJ=Math.max(0,Math.min(this.hp[0].length-1,this.QJ+(o?-1:1)));
this.XT()}if(Y&&this.QJ!=-1)this.OyO(this.QJ)};RL.Okl=function(R,Z,B,o,r,Y){for(var E=0;E<R.length;E++){var p=R[E],y=Z.slice(0),z=B.slice(0),u=Ok.get(p.name);
if(p.H){var Q=p.H(r,Y,E);if(Q.Ni)u=Q.Ni;if(Q.H==!1)continue}y.push(u);z.push(E);if(p.sub)RL.Okl(p.sub,y,z,o,r,Y);
else o.push([y,z])}};RL.prototype.OlY=function(R){var Z=R.target;if(Z.tagName.toLowerCase()=="span")Z=Z.parentNode;
var B=this.hp[1].indexOf(Z);if(B!=-1)this.OyO(B)};RL.prototype.OyO=function(R){var Z=this.hp[0][R][1];
if(Z[0]==-1){var B=new n(X.E.K,!0);B.data={d:X.l.nu,B:Z[1]};this.j(B)}else{var o=Ea.data[Z[0]].yx[Z[1]];
for(var r=2;r<Z.length;r++)o=o.sub[Z[r]];var Y=new n(o.z,!0);Y.B=o.B;Y.data=o.i;this.j(Y)}this.xt()};
RL.prototype.YH=function(R,Z){this.ZA=R;this.N$=Z;this.OAM.style["max-height"]=Z-120+"px"};RL.prototype.Ola=function(R){var Z=X.T("div","alertpanel");
Z.textContent=Ok.get(R);this.ds.appendChild(Z);this.dM[JSON.stringify(R)]=Z};RL.prototype.OlI=function(R){var Z=this.dM[JSON.stringify(R)];
this.ds.removeChild(Z);delete this.dM[JSON.stringify(R)]};RL.prototype.alert=function(R,Z){var B=this.OBK;
for(var o=0;o<B.children.length;o++)if(B.children[o].textContent==R)return;var r=X.T("div","alertpanel tpanel");
r.textContent=R;r.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");B.appendChild(r);if(Z==null)Z=1500;
var Y=Z,E=Math.max(Date.now()+Y,this.OBr+Y);setTimeout(function(){r.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){B.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},E-Date.now()-30);
setTimeout(function(){B.removeChild(B.firstChild);B.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},E-Date.now());
this.OBr=E};RL.prototype.Olb=function(R){var Z=this.lO;for(var B=Z.length-1;B>=0;B--){var o=Z[B],r=R.target;
while(r!=null){if(r==o.G){this.A$(o);return}r=r.parentNode}}this.A$();var Y=R.target;while(Y!=this.Qh&&Y!=document.body)Y=Y.parentNode;
if(Y!=this.Qh)this.xt()};RL.prototype.A$=function(R){var Z=this.lO;for(var B=0;B<Z.length;B++){if(R&&R.OWk(Z[B]))continue;
var o=Z[B].G;o.style.height="auto";X.rd(o,"scrollable");this.G.removeChild(o);Z.splice(B,1);B--}};RL.prototype.Oln=function(R){this.A$(R.Jd);
var Z=R.Jd,B=Z.G;if(this.lO.indexOf(Z)!=-1)return;this.lO.push(Z);this.G.appendChild(Z.G);var o=this.ZA,r=this.N$,Y=R.x,E=R.y,p=this.G.getBoundingClientRect(),y=Z instanceof OD;
if(y||R.Oxo){var z=Z.WO(),u=Z.O_v();if(y)z=Math.min(z,200);if(E+u<r){Y=Math.min(Y,o-z-5)}else{if(Y+z<o){E=Math.min(E,r-u-5)}else if(u<E){E=E-u-2;
Y=Math.min(Y,o-z-5)}else{Y=Y-z;E=Math.min(E,r-u-5)}}if(R.ORL)E=Math.max(2,R.y-u-2);if(R.OXH)E=R.y}E=Math.max(2,E);
var top=Math.round(E-p.y+this.G.offsetTop);B.style.position="absolute";B.style["z-index"]=10;B.style.left=Math.round(Y)+"px";
B.style.top=top+"px";if(E+Z.O_v()>r-3){B.style.height=r-3-E+"px";X.Cy(B,"scrollable")}};RL.prototype.OyR=function(R){var Z=R.Jd,B=this.lO.indexOf(Z);
if(B==-1)return;this.lO.splice(B,1);var o=Z.G;this.G.removeChild(Z.G)};RL.prototype.uK=function(){var R=this.lO;
return R.length==0?null:R[R.length-1]};RL.prototype.Ohj=function(){this.OyR({Jd:this.uK()})};function Vo(){Gt.call(this);
this.G=X.T("div","confbar")}Vo.prototype=new Gt;Vo.prototype.OhL=function(R){R.parent=this;X.vO(this.G);
this.G.appendChild(R.G)};function Ya(){Gt.call(this);this.$V=null;this.lY=X.T("input","");this.lY.setAttribute("type","file");
this.lY.setAttribute("multiple","");this.lY.addEventListener("change",function(R){this.xo(R.target.files,null,this.dc,null);
this.dc=null}.bind(this),!1);document.body.appendChild(this.lY);this.lY.setAttribute("style","display:none");
this.OAF=[];this.dC=!1;this.OLE={};this.dc=null}Ya.prototype=new Gt;Ya.Ohl=function(R){try{navigator.clipboard.write([new ClipboardItem(Object.defineProperty({},R.type,{value:R,enumerable:!0}))])}catch(Yd){console.error(Yd,Yd.message)}};
Ya.xN=function(R,Z){try{navigator.clipboard.read().then(function(B){for(var o=0;o<B.length;o++){try{var r=B[o];
for(var Y=0;Y<r.types.length;Y++){var E=r.types[Y];if(E!="image/png")continue;r.getType(E).then(function(p){new Response(p).arrayBuffer().then(function(y){Ya.ps({name:"image.png"},y,R,Z)})})}}catch(Yd){console.error(Yd,Yd.message)}}})}catch(Yd){console.error(Yd,Yd.message)}};
Ya.OhS=function(R){navigator.permissions.query({name:"clipboard-read"}).then(function(Z){R(Z.state)})};
Ya.prototype.xv=function(R){if(R==null)R=[23,5];var Z=JSON.stringify(R),B=this.OLE;if(B[Z]==null)B[Z]=0;
if(B[Z]==0){var o=new n(X.E.K,!0);o.data={d:X.l.D$,ef:R};this.j(o)}B[Z]++};Ya.prototype.xp=function(R){if(R==null)R=[23,5];
var Z=JSON.stringify(R),B=this.OLE;if(B[Z]==null)B[Z]=0;B[Z]--;if(B[Z]==0){var o=new n(X.E.K,!0);o.data={d:X.l.Ds,ef:R};
this.j(o)}};Ya.prototype.Oht=function(R,Z){var B=this.lY;if(Z)B.setAttribute("accept",Z);else B.removeAttribute("accept");
var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
B.dispatchEvent(o);this.dc=R};Ya.prototype.AZ=function(R){this.OAF.push(R);this.OYb()};Ya.prototype.OYb=function(){var R=this.OAF;
if(R.length==0||this.dC)return;this.dC=!0;var Z=R.shift();this.xv();if(Z.eo==null)Z.eo={};var B=new XMLHttpRequest;
B.Rm=Z;var o=Z.url;if(Z.OJ)o="mirror.php?url="+encodeURIComponent(o);B.open("GET",o);if(Z.dd)for(var r in Z.dd)B.setRequestHeader(r,Z.dd[r]);
B.responseType="arraybuffer";B.onload=this.OYg.bind(this);B.send()};Ya.prototype.xo=function(R,Z,B,o){for(var r=0;
r<R.length;r++){this.xv();var Y=R[r],E=new FileReader;E.Rm=Y;E.Rm.KH=B;E.Rm.D_=o;E.OXF=Z;E.onload=this.OYg.bind(this);
E.onerror=function(p){this.xp()}.bind(this);E.readAsArrayBuffer(Y)}this.lY.value=null};Ya.prototype.Ohv=function(R){var Z=R.eq.cL,B=Ya.CE(R,Z);
YU.gH(function(){var o=new XMLHttpRequest,r="https://www.googleapis.com/upload/drive/v3/files/"+R.eq.file.id+"?uploadType=media"+"&"+YU.nP();
o.open("PATCH",r,!0);o.addEventListener("load",function(Y){var E=JSON.parse(Y.target.response);alert(E.name+" updated")});
o.send(B);alert("Saving \""+R.eq.file.name+"\" to Google Drive ...")})};Ya.prototype.Ohz=function(R,Z,B){var o=R.fw(),r=Z[0],Y=Ya.CE(R,r,B);
if(window.parent!=window)window.parent.postMessage(Y,"*")};Ya.prototype.Oho=function(R,Z){this.xv("Saving ...");
this.$V=Z;setTimeout(Ya.OhF.bind({Up:R,caller:this}),50)};Ya.CE=function(R,Z,B){var o=Z.split(":"),r=o[0],Y=null;
if(o.length==2){if(r=="jpg"||r=="webp")Y=[Math.round(100*parseFloat(o[1]))];if(r=="psd")Y=[!0,!0]}var E=GI.gm(R,r.toUpperCase(),null,null,Y,B);
return E};Ya.OhF=function(){var R=this.Up,Z=this.caller,B=R.eo.zw,o=B.formats,r,Y;R.fw();var E=Date.now();
if(B.version==1){var p=[],y=0,Q=0;for(var z=0;z<o.length;z++){var u=Ya.CE(R,o[z],Z.$V);p.push(u);y+=u.byteLength}r=new Uint8Array(2e3+y);
var H="{ \"source\": "+JSON.stringify(R.KE)+", \"versions\": [\n";for(var z=0;z<o.length;z++){var T=new Uint8Array(p[z]);
H+="\t{\"format\": \""+o[z].split(":")[0]+"\", \"start\": "+Q+", \"size\": "+T.length+" }"+(z+1<o.length?", ":"")+"\n";
r.set(T,2e3+Q);Q+=p[z].byteLength}H+="] }";var C=U.Ww(H,r,0);for(var z=C;z<2e3;z++)r[z]=32;Y="application/octet-stream"}else{var e=new RZ,$=0,x="",M=encodeURIComponent;
x="p="+M("{ \"source\": "+JSON.stringify(R.KE)+", \"versions\": [");U.BJ(e,$,x);$+=x.length;for(var z=0;
z<o.length;z++){x=M(" {\"format\": \""+o[z].split(":")[0]+"\", \"data\": \"");U.BJ(e,$,x);$+=x.length;
var u=Ya.CE(R,o[z],Z.$V),m=Ya.OSk(u,u.byteLength),C=m.length;e.$_($,C);for(var G=0;G<C;G++){e.$_($,3);
var K=m[G];if(K==43){e.data[$]=37;e.data[$+1]=50;e.data[$+2]=66;$+=3}else if(K==47){e.data[$]=37;e.data[$+1]=50;
e.data[$+2]=70;$+=3}else if(K==61){e.data[$]=37;e.data[$+1]=51;e.data[$+2]=68;$+=3}else{e.data[$]=K;
$++}}x=M("\" }"+(z+1<o.length?", ":""));U.BJ(e,$,x);$+=x.length}x=M("] }");U.BJ(e,$,x);$+=x.length;r=e.data.slice(0,$);
Y="application/x-www-form-urlencoded"}var s=new XMLHttpRequest;s.open("POST",B.url,!0);if(Y)s.setRequestHeader("Content-Type",Y);
s.addEventListener("load",Ya.OhC.bind(this));s.send(new Blob([r.buffer]))};Ya.OhC=function(R){this.caller.xp("Saving ...");
var Z=R.target.response;if(Z.charAt(0)=="{"){Z=JSON.parse(Z);if(Z.newSource)this.Up.KE=Z.newSource;if(Z.message)alert(Z.message,2e3);
if(Z.script){var B=new n(X.E.K,!0);B.data={d:X.l.iZ,hr:Z.script};this.caller.j(B)}}else alert("Saved. Response: "+Z,1500)};
Ya.xH=function(R){var Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B=new Uint8Array(R),o=B.length,r=o%3,Y=o-r,E=[],p=0,y=0,z=0;
for(var u=0;u<Y;u+=3){p=B[u];y=B[u+1];z=B[u+2];E.push(Z[p>>2]+Z[(p&3)<<4|y>>4]+Z[(y&15)<<2|z>>6]+Z[z&63])}if(r==1){p=B[Y];
E.push(Z[p>>2]+Z[(p&3)<<4]+"==")}if(r==2){p=B[Y];y=B[Y+1];E.push(Z[p>>2]+Z[(p&3)<<4|y>>4]+Z[(y&15)<<2]+"=")}var Q=E.join("");
return Q};Ya.OSk=function(R,Z){var B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=new Uint8Array(64),y=0,z=0,u=0,H=0;
for(var r=0;r<64;r++)o[r]=B.charCodeAt(r);var Y=new Uint8Array(R),E=Z%3,p=Z-E,Q=new Uint8Array(Math.floor(Z/3)*4+(E==0?0:4));
for(var r=0;r<p;r+=3){y=Y[r];z=Y[r+1];u=Y[r+2];Q[H]=o[y>>>2];Q[H+1]=o[(y&3)<<4|z>>>4];Q[H+2]=o[(z&15)<<2|u>>>6];
Q[H+3]=o[u&63];H+=4}if(E==1){y=Y[p];Q[H]=o[y>>2];Q[H+1]=o[(y&3)<<4];Q[H+2]=61;Q[H+3]=61}if(E==2){y=Y[p];
z=Y[p+1];Q[H]=o[y>>2];Q[H+1]=o[(y&3)<<4|z>>4];Q[H+2]=o[(z&15)<<2];Q[H+3]=61}return Q};Ya.prototype.OYg=function(R){var Z,B=R.target.Rm;
if(R.target instanceof XMLHttpRequest)Z=R.target.response;else Z=R.target.result;Ya.ORa(B,Z,this,R.target.OXF);
this.xp();if(R.target instanceof XMLHttpRequest){this.dC=!1;this.OYb()}};Ya.ORa=function(R,Z,B,o){if(window.location.href.indexOf("photopea.com")==-1)Ya.ps(R,Z,B,o);
else{try{Ya.ps(R,Z,B,o)}catch(Yd){if(Yd=="low_ram"){}else{var r="Error. Please, send your file to support@photopea.com and we will solve it.";
if(GI.jL(Z)=="eps")r="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
window.OjT(r,1e4)}}}};Ya.ps=function(R,Z,B,o){var r;if(R.name)r=R.name.split(".")[0];else{if(R.url.substring(0,5)=="data:"||R.url.indexOf("googleapis")!=-1)r="image";
else r=R.url.substring(R.url.lastIndexOf("/")+1).split(".")[0];r=r.slice(0,50)}var Y=R.name?R.name:R.url,E=new Uint8Array(Z),p=GI.jL(Z),y=window.ga;
if(y&&p!=null&&GI.WP(p))y("send","event","Formats",p);if(p==null)p=U.XG(E,0,4);if(Y&&Y.toLowerCase().endsWith(".raw")){var z=new n(X.E.K,!0);
z.data={d:X.l.JT,fA:"importraw",Gy:Z,Re:Y.split("/").pop()};B.j(z);return}else if(p=="json"){var u="";
for(var Q=0;Q<E.length;Q++)u+=String.fromCharCode(E[Q]);u=decodeURIComponent(escape(u));alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(JSON.parse(u));return}if(p=="html"){var u=U.qe(E,0,E.length),H=new DOMParser,T=H.parseFromString(u,"text/html"),C=T.getElementsByTagName("meta");
for(var Q=0;Q<C.length;Q++){var e=C[Q],$=e.getAttribute("property"),x=e.getAttribute("content"),M=null;
if($=="og:image")M=x;if($==null&&x&&x.startsWith("0;url=/imgres?")){var m=x.slice(14).split("&");for(var G=0;
G<m.length;G++)if(m[G].startsWith("imgurl"))M=decodeURIComponent(m[G].slice(7))}if(M==null)continue;
var z=new n(X.E.K,!0);z.data={d:X.l.Tr,Fe:{url:M,OJ:!0,KH:R.KH}};B.j(z)}return}if(GI.WP(p)){var K,s=GI.WP(p);
if(R.KH!=null&&"jpg png gif pdf svg psd".split(" ").indexOf(p)!=-1){var z=new n(X.E.K,!0);z.data={d:X.l.bx,target:R.KH,XK:R.D_,qC:Z,uX:r};
B.j(z);return}if(s.$n){K=new GF(r+(p=="psd"?"":"-"+p)+".psd");s.Kf(Z,K,!0)}else{var L=s.Kf(Z);if(L[0].t33421||L[0].t50706){O.raw.normalize(L[0],Z);
console.log(L[0]);var z=new n(X.E.K,!0);z.data={d:X.l.JT,fA:"rawpea",Ti:L[0]};B.j(z);return}if(o){o(new Uint8Array(L[0].data),L[0].Ix);
return}K=Ya.Ao(r,L)}K.eo=R.eo;K.KE=R.url;K.eJ=R.eJ;K.eq=R.eq;if(K.eq)K.eq.cL=p;if(K.q.length!=0){var z=new n(X.E.K,!0);
z.data={d:R.KH==null?X.l.ii:X.l.bx,target:R.KH,XK:R.D_,qC:K};B.j(z)}return}var _=new n(X.E.K,!0);_.data={d:X.l.Db,Gy:Z,KM:R.name};
var P=R instanceof File&&R.OLf!=!0,z=new n(X.E.K,!0);z.data={d:X.l.zM,eo:"add",Fe:null,hY:null,OLb:R.OLf};
if(p=="zip"){var i=Date.now(),w=UZIP.parse(Z),k="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var h in w){var j=!1;for(var Q=0;Q<k.length;Q++)if(h.toLowerCase().endsWith("."+k[Q]))j=!0;if(h.startsWith("__MACOSX/")||w[h].length==0)j=!0;
if(j)continue;var I=h.split("/").pop();Ya.ORa({name:I},w[h].buffer,B,o)}}else if(p=="jsx"){var u=U.qe(new Uint8Array(Z));
z.data={d:X.l.iZ,hr:u};B.j(z)}else if(p=="otf"){if(P)B.j(_);var V=Typr.parse(Z);z.data.Fe=GG.Ot;for(var Q=0;
Q<V.length;Q++){z.data.hY=V[Q];B.j(z)}}else if(p=="asl"){if(P)B.j(_);var V=ah.NW(Z);z.data.Fe=GG.Oj;
z.data.hY=V.c$;B.j(z);z.data.Fe=GG.qZ;z.data.hY=V.$U;B.j(z)}else if(p=="tpl"){var V=aT.NW(Z);z.data.Fe=GG.eP;
z.data.hY={DZ:V.DZ,sw:V.sw,list:[]};B.j(z);z.data.Fe=GG.bO;z.data.hY=V.list;B.j(z)}else{var F="";for(var q in GG.KQ)if(GG.KQ[q][0]==p)F=q;
if(F!=""){if(P)B.j(_);z.data.hY=GG.KQ[F][2].NW(Z,Y);z.data.Fe=F;B.j(z)}else alert("Unknown file format: "+JSON.stringify(p))}};
Ya.prototype.OSL=function(R){var Z=new XMLHttpRequest;Z.open("POST","https://api.imgur.com/3/image",!0);
Z.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");Z.setRequestHeader("Content-type","application/x-www-form-urlencoded");
Z.setRequestHeader("Accept","application/json");Z.addEventListener("load",this.OSe);Z.send("type=base64&image="+encodeURIComponent(Ya.xH(R)));
alert("Saving to Imgur ...",4e3)};Ya.prototype.OSe=function(R){var Z=JSON.parse(R.target.response);if(Z.success)window.open(Z.data.link,"Imgur")};
Ya.Ao=function(R,Z){var B=Z[0].cI&&Z[0].cI.startsWith("_a_"),o,r=new GF(R+".psd"),Y=new N(0,0,1,1);if(B){o=r.xE();
o.add.lsct=YV.A_;o.AA(R);o.QV="pass";o.Kw=24;o.eM(!0);r.q.push(r.ZP())}for(var E=0;E<Z.length;E++){var p=Z[E];
Y=Y.fj(p.Ix);var y=r.xE();y.eM(E==0);y.AA(Z.length==1?"Background":"Layer "+E);if(p.ag)r.ag=p.ag;if(p.mt)r.mt=p.mt;
if(p.cI)y.AA(p.cI);y.rect=p.Ix.clone();y.buffer=new Uint8Array(p.data);O.Uj(y);r.q.push(y)}if(B)r.q.push(o);
r.C=[B?r.q.length-1:0];r.Y=Y.Y;r.Z=Y.Z;r.buffer=O.a(Y.b()*4);r.U();return r};Ya.save=function(R,Z){var B=new Uint8Array(R),o=document.createElement("a");
if(typeof o.download=="string"){var r=new Blob([B]),Y=window.URL.createObjectURL(r);o.href=Y;o.download=Z;
document.body.appendChild(o);o.click();document.body.removeChild(o)}else{var E="data:application/octet-stream;base64,"+Ya.xH(R);
window.open(E)}};function RZ(){this.size=16;this.data=O.a(16)}RZ.prototype.$_=function(R,Z){if(R+Z<=this.size)return;
var B=this.size;while(R+Z>this.size)this.size*=2;var o=O.a(this.size);for(var r=0;r<B;r++)o[r]=this.data[r];
this.data=o};function Ov(R){Gt.call(this);this.CG=Ov.CG++;this.RP=R;this.OXm=this.OSZ.bind(this);this.OlR=this.OSQ.bind(this);
this.OXb=this._k.bind(this);this.OXc=this.Otw.bind(this);this.Olf=this.Otl.bind(this);this.OXd=this.Oth.bind(this);
this.z_=0;this.Olq=0;this.Qz=0;this.G=X.T("div","panelblock");this.lL=X.T("div","block");this.XO=X.T("div","collapsed");
this.G.appendChild(this.lL);this.XC=-1;this.zf=!0;this.v_=X.T("div","panelhead");this.lL.appendChild(this.v_);
this.eO(this.v_);this.dn=new Gz("\u2261");this.dn.G.setAttribute("style","position:absolute; right:0;");
this.dn.v("click",this.OSp,this);this.Wi=X.T("div","");this.lL.appendChild(this.Wi);this.$m=[];this.XR=null;
this.zN=null}Ov.CG=0;Ov.prototype=new Gt;Ov.prototype.OSp=function(R){var Z=this.$m[this.XC].$E(),B=R.currentTarget.G.getBoundingClientRect();
Z.c();Z.parent=this;var o=new n(X.E.K,!0);o.data={d:X.l.dF,Jd:Z,x:B.left,y:B.top+B.height+2};this.j(o)};
Ov.prototype.Am=function(R){var Z=this.lL,B=this.v_,o=this.Wi;if(X.Zi(B))Z.removeChild(B);if(X.Zi(o))Z.removeChild(o);
if(R==0)Z.appendChild(B);Z.appendChild(o);this.Qz=R};Ov.uc=function(R){R.stopPropagation();R.preventDefault()};
Ov.prototype.OSZ=function(R){var Z=R.dataTransfer.types;if(Z[1]!=null&&Z[1]!=this.CG+"")return;Ov.uc(R);
var B=R.currentTarget;if(R.target==B)X.Cy(B,"highlight")};Ov.prototype.OSQ=function(R){Ov.uc(R);var Z=R.currentTarget;
if(R.target==Z)X.rd(Z,"highlight")};Ov.prototype.eO=function(R){R.addEventListener("dragenter",this.OXm,!1);
R.addEventListener("dragleave",this.OlR,!1);R.addEventListener("dragover",Ov.uc,!1);R.addEventListener("drop",this.OXb,!1);
R.addEventListener("dragstart",function(Z){Z.dataTransfer.setData("Text","--panel");Z.dataTransfer.setData(this.CG+"","")}.bind(this),!1)};
Ov.prototype._k=function(R){this.OlR(R);var Z=null,B=R.currentTarget,o=this.OXe(B);if(B==this.Wi&&this.XC!=-1)Z=this.XC;
else if(B==this.v_)Z=null;else if(o!=-1)Z=o;var r=R.dataTransfer.getData("Text");if(r==""||r.startsWith("http"))X.OtU(R,this,Z);
else if(r=="--panel"){var Y=X.$R(R,B),EB=this.$m,E=EB.slice(0),p=this.XC,y=o==-1?EB.length:Y.x<B.getBoundingClientRect().width/2?o:o+1;
if(p==y||p+1==y||B==this.Wi)return;var z=p<y?y-1:y,u=EB[p];EB.splice(p,1);EB.splice(z,0,u);X.vO(this.v_);
for(var Q=0;Q<EB.length;Q++)this.v_.appendChild(EB[Q].wj);this.JS(z);var H=[];for(var p=0;p<EB.length;
p++)H[p]=E.indexOf(EB[p]);var T=new n("shuffleItems",!1);T.data={OXn:H};this.j(T)}else if(Z!=null&&this instanceof ay){var T=new n(X.E.K,!0);
T.data={d:X.l.OAX,OXP:Z};this.j(T)}};Ov.prototype.eY=function(){return null};Ov.prototype.ORx=function(){if(this.eY()){this.zN=this.eY();
this.Wi.appendChild(this.zN)}};Ov.prototype.OSg=function(){if(this.zN){this.Wi.removeChild(this.zN);
this.zN=null}};Ov.prototype.OXe=function(R){var Z=this.$m;for(var B=0;B<Z.length;B++)if(Z[B].wj==R)return B;
return-1};Ov.prototype.eS=function(){for(var R=0;R<this.$m.length;R++)this.$m[R].rU.UW()};Ov.prototype.Tw=function(){var R=new VP(0,0);
for(var Z=0;Z<this.$m.length;Z++){var B=this.$m[Z].Tw();R.x=Math.max(R.x,B.x);R.y=Math.max(R.y,B.y)}return R};
Ov.prototype._O=function(){return this.XC};Ov.prototype.Hi=function(){if(this.zf)return;this.zf=!0;this.G.removeChild(this.XO);
this.G.appendChild(this.lL)};Ov.prototype.collapse=function(){if(!this.zf)return;this.zf=!1;this.G.appendChild(this.XO);
this.G.removeChild(this.lL)};Ov.prototype.OtY=function(){return 26+this.Wi.getBoundingClientRect().height};
Ov.prototype.YH=function(R,Z){this.v_.setAttribute("style","max-width: "+R+"px");var B=0;if(this.Qz==0){B=this.v_.getBoundingClientRect().height;
B=Math.max(B,26)}if(this.XC!=-1)this.$m[this.XC].YH(R,Z-B);return Z-B};Ov.prototype.lU=function(R,Z){this.$m[this.XC].lU(R,Z)};
Ov.prototype.qD=function(R,Z){this.$m[this.XC].qD(R)};Ov.prototype._X=function(R){this.OSg();if(this.$m.indexOf(R)!=-1){this.JS(this.$m.indexOf(R));
return}R.parent=this;this.$m.push(R);this.v_.appendChild(R.wj);R.wj.addEventListener("mouseover",this.OXc,!1);
this.eO(R.wj);this.XO.appendChild(R.rU.G);R.rU.v("click",this.OjB,this);R.v("select",this.Oab,this);
R.v(X.E.Vj,this.OaT,this);this.JS(this.$m.length-1)};Ov.prototype.Otw=function(R){if(R.buttons==0)return;
var Z=R.currentTarget,B=Z,o=0;while((B=B.previousSibling)!=null)o++;this.Olq=o;Z.addEventListener("mouseout",this.Olf,!1);
this.z_=setTimeout(this.OXd,700)};Ov.prototype.Otl=function(R){var Z=R.currentTarget,B=Z,o=0;while((B=B.previousSibling)!=null)o++;
Z.removeEventListener("mouseout",this.Olf);clearTimeout(this.z_)};Ov.prototype.Oth=function(R){this.j(new n(X.E.ONW,!1))};
Ov.prototype.Otf=function(R){return this.Olq};Ov.prototype._t=function(R){var Z=new n(X.E.Vj,!1);Z.data={Cm:R};
this.j(Z);var B=this.$m[R];this.$m.splice(R,1);this.v_.removeChild(B.wj);this.XO.removeChild(B.rU.G);
B.wj.setAttribute("class","");B.rU.removeEventListener("click",this.OjB,this);B.rU.UW();B.removeEventListener("activate",this.Oab);
B.removeEventListener(X.E.Vj,this.OaT);var o=this.XC;if(R<o)o--;else if(R==o&&R==this.$m.length)o--;
this.JS(o);if(this.$m.length==0)this.ORx()};Ov.prototype.OtD=function(){return this.$m.length};Ov.prototype.$j=function(){if(this.$m.length!=0)this.$m[this.XC].$j()};
Ov.prototype.JS=function(R,Z){if(Z==null)Z=!0;for(var B=0;B<this.$m.length;B++)this.$m[B].wj.setAttribute("class","");
if(this.XR)this.Wi.removeChild(this.XR);this.XR=null;this.XC=R;if(R==-1)return;var o=this.$m[this.XC];
this.XR=o.EV;this.Wi.appendChild(o.EV);o.wj.setAttribute("class","active");if(!this.zf){this.j(new n("showFloat"));
this.$m[R].rU.lu()}if(Z)this.j(new n(X.E.Q,!1));o.zB();var r=this.dn.G;if(r.parentNode)this.v_.removeChild(r);
if(o.$E())this.v_.appendChild(r);var Y=new n(X.E.K,!0);Y.data={d:X.l.BS};this.j(Y)};Ov.prototype.Oab=function(R){if(this.RP&&!this.RP.Otr())return;
var Z=this.$m.indexOf(R.currentTarget);this.JS(Z)};Ov.prototype.OaT=function(R){if(this.RP&&!this.RP.Otr())return;
var Z=this.$m.indexOf(R.currentTarget);this._t(Z)};Ov.prototype.OjB=function(R){var Z=this.$m.indexOf(R.currentTarget.parent);
if(this.$m[Z].rU.ZD())this.j(new n("hideFloat"));else this.JS(Z)};Ov.prototype.OKh=function(R){this.j(R)};
function ay(R){Ov.call(this,R);this.ZA=0;this.N$=0;this.zv=null;this.zz=X.T("div");this.zz[X.i_("$y+[145/+AC7")](X.i_("$(0&\""),X.i_("(}{.%ZZXa<GmUE<PHMU$~ cny]tvt(;.r)+)X"));
X.HV(this.v_,this.Ot$.bind(this));this.XL=0;this.OlW=this.OfA.bind(this);this.eO(this.Wi);this.fn=X.T("div","intro");
this.lq=["default;"];this.Ep=new X.mn(this.Wi);var Z=X.T("ul");Z.setAttribute("style","margin:0;  padding:164px 0px 0 113px; font-size:1.8em;");
this.fn.appendChild(Z);this.mA=[];var B=[[11,7],[1,6],"pea.psd","milk.sketch"],o=X.T("li");for(var r=0;
r<B.length;r++){if(r==2){var Y=new Gz("Demo: ");o.appendChild(Y.G)}var E=B[r],p=new Gz(E);p.v("click",this.OtF,this);
o.appendChild(p.G);this.mA.push(p);if(r==0||r==1||r==3||r==B.length-1){Z.appendChild(o);o=X.T("li")}}var y=X.T("div");
y.setAttribute("style","margin:0;  padding:28px 25px 0 25px; font-size:1.1em");this.fn.appendChild(y);
this.Oxz={};var z=["en"],u=navigator.languages;if(u)for(var r=0;r<u.length;r++){var Q=u[r].split("-")[0].toLowerCase();
if(z.indexOf(Q)==-1)z.push(Q)}}ay.prototype=new Ov;ay.prototype.Ot$=function(R){if(R.target!=this.v_)return;
var Z=this.XL;this.XL=Date.now();if(Date.now()-Z>300)return;var B=new n(X.E.K,!0);B.data={d:X.l.JT,fA:"newproject"};
this.j(B)};ay.prototype.OGs=function(R){var Z=R.currentTarget,B;if(Z.Ohm!=null){var o=Ok.nQ(Z.Ohm);if(o!=-1)B={d:X.l.zM,Fe:GG.sG,lang:o};
else B={d:X.l.ex,link:"https://www.photopea.com/translate?lang="+Z.Ohm}}else B={d:X.l.zM,Fe:GG.RH,rh:Z.OxU};
var r=new n(X.E.K,!0);r.data=B;this.j(r)};ay.prototype.wX=function(R,Z){if(Z)this.lq.push(R);else{var B=this.lq.length-1;
if(this.lq[B]==R)return;this.lq[B]=R}this.ek()};ay.prototype.OtH=function(){this.lq.pop();this.ek()};
ay.prototype.ek=function(){var R=this.lq[this.lq.length-1];this.Ep.qD(R,this.j$)};ay.prototype.OtF=function(R){var Z=this.mA.indexOf(R.target),B=new n(X.E.K,!0);
if(Z==0)B.data={d:X.l.JT,fA:"newproject"};if(Z==1)B.data={d:X.l.Vg};if(Z>1)B.data={d:X.l.Tr,Fe:{url:["images/pea.psd","images/milk.sketch"][Z-2]}};
this.j(B)};ay.prototype.c=function(){for(var R=0;R<this.mA.length;R++)this.mA[R].c()};ay.prototype.qD=function(R,Z){for(var B=0;
B<Z.length;B++){var o=Z[B];this.$m[B].oF(o.name+(o.ul()?" *":""))}Ov.prototype.qD.call(this,R,Z)};ay.prototype.Otm=function(R){this.G.appendChild(this.zz);
var Z=R[0],B=R[1],o=R[2];this.zv=Z;this.zz[o](Z);Z[o](B);this.YH(this.ZA,this.N$)};ay.prototype.OfE=function(){if(this.zv){this.G.removeChild(this.zz);
this.zz.removeChild(this.zv);this.zv=null;this.YH(this.ZA,this.N$)}};ay.prototype.eY=function(){return this.fn};
ay.prototype.YH=function(R,Z){this.ZA=R;this.N$=Z;if(this.zv!=null)Z-=100;Z=Ov.prototype.YH.call(this,R,Z);
this.j$="height:"+Z+"px; width:"+R+"px; overflow:hidden; position:relative;";this.ek();var B=512,o=410,r=1,Y="";
if(R<B||Z<o){if(R/B<Z/o)r=R/B;else r=Z/o}Y+="background-image:url("+PIMG.intro+"); background-size: "+B+"px "+o+"px;";
Y+="position:relative; top:"+Math.round((Z-o)/2)+"px;  left: "+Math.round((R-B)/2)+"px; width:"+B+"px; height:"+o+"px;";
if(r!=1)Y+="transform: scale("+r+","+r+");";if(this.fn)this.fn.setAttribute("style",Y)};ay.prototype._X=function(R){Ov.prototype._X.call(this,R);
X.HV(R.wj,this.OlW)};ay.prototype._t=function(R){var Z=this.$m[R];X.m_(Z.wj,this.OlW);Ov.prototype._t.call(this,R)};
ay.prototype.OfA=function(R){var Z=this.XL;this.XL=Date.now();if(Date.now()-Z>300)return;var B=this.OXe(R.currentTarget),o=this.$m[B].qC.name,r=new n(X.E.K,!0),Y={z:X.E.$,B:A.zr,i:{d:S.ja}};
r.data={d:X.l.JT,fA:"namewindow",rb:o.slice(0,o.length-4),Oid:Y};this.j(r)};function Yl(){Gt.call(this);
yK.O_R(1);this.G=X.T("div","flexrow photopea");this.dQ=X.T("div");this.G.appendChild(this.dQ);this.lS={x:0,y:0,yL:!1};
this.gq=!1;this.X$=!1;this.dg=null;this.OSj=0;this.OST=0;this.Qz=0;this.Ota=!1;if(X.pM(27))X.sA=window;
else X.sA=this.G;setTimeout(function(){var m=window.hideCap;if(m)m()},25e3);window.OjT=window.alert;
window.alert=function(m,G){this.zO.alert(m,G);console.log("Alert: "+m)}.bind(this);window.onmessage=function(m){if(m.data instanceof ArrayBuffer){var G=GI.jL(m.data),K=GI.WP(G);
Ya.ps({url:"file"},m.data,this);if(K==null)this._q()}else if(m.data instanceof Object||m.data.startsWith("{")||m.data.startsWith("amp-")||m.data.startsWith("0=goog")||m.data.startsWith("3PCoo")){}else{var s=new n(X.E.K,!0);
s.data={d:X.l.iZ,hr:m.data};this.j(s);this._q()}}.bind(this);window.onbeforeunload=function(m){for(var r=0;
r<this.WY.length;r++)if(this.WY[r].ul())return this.WY[r].name}.bind(this);window.onblur=function(m){var G=this.zO;
G.A$()}.bind(this);var R=this,y="",z="";if(window.indexedDB&&(!Og.iq()||document.hasStorageAccess==null)){var Z={$_:window.indexedDB.open("pp",1)};
Z.$_.onupgradeneeded=function(m){var G=m.target.result,K=G.createObjectStore("rsrc",{keyPath:"k"})};
Z.$_.onsuccess=function(m){var G=R.fL.Mx.Qd=m.target.result,K=G.transaction(["rsrc"],"readwrite").objectStore("rsrc"),s=K.get("fs0");
s.onsuccess=function(m){if(m.target.result){var L=R.fL.Mx.__=m.target.result.fset;for(var _ in L){if(!_.endsWith(".jsx"))Ya.ps({url:_,OLf:!0},L[_],R)}}}}}var B=["rksyuzpxz8y|px|v@u\x80\x84}\x8A\x88\x88\x8EI\x7F\x8C\x8B"],o=X.sA[X.bM("YcVg^U]b",11)][X.bM("oaa_kj\\h",3)];
for(var r=0;r<B.length;r++){var Y=X.FK(B[r],2);if(o.indexOf(Y)!=-1){var E=X.sA[X.FK("hti|unx\x7F",4)][X.FK("esi\x7F",3)],p=X.iL("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
X.vO(E);E[X.FK("lrskyP]WW",3)]=p;return}}this.Dy={Otx:[{B:A.vA,or:!1,vt:[a.OXh,a.NF]},{B:A.vD,or:!1,vt:[a.NF]},{B:A.pN,or:!0,vt:[a.iW],zU:[A._u]},{B:A._u,or:!0,vt:[a.iW],zU:[A.pN]},{B:A.pe,or:!0,vt:[a.iW],zU:[A.Pw,A._n,A.vf]},{B:A.Pw,or:!0,vt:[a.iW],zU:[A.pe,A.pK,A._Q,A.pm,A.pZ,A._g]},{B:A.tY,or:!0,vt:[a.iW]}],CI:[[{B:new A.ub,$S:Eq}],[{B:new A.Gv,$S:VB},{B:new A.Wq,$S:EP}],[{B:new A.DC,$S:VG},{B:new A.Ux,$S:Vj},{B:new A.rt,$S:VI}],[{B:new A.OO,$S:Vi},{B:new A.Ar,$S:VU},{B:new A.yd,$S:VR}],[{B:new A.OIs,$S:Ec},{B:new A.Oy_,$S:Ed},{B:new A.EO,$S:V$},{B:new A.Ny,$S:Vx}],[{B:new A.WC,$S:Vk},{B:new A.uT,$S:VO}],"---",[{B:new A.YI,$S:V_},{B:new A.Lt,$S:VE},{B:new A.Pu,$S:VX},{B:new A.Zd,$S:Eu}],[{B:new A.Zs,$S:EH},{B:new A.oX,$S:Em},{B:new A.ZT,$S:EF}],[{B:new A.PW,$S:ET}],[{B:new A.ol,$S:EQ},{B:new A.ot,$S:Eg}],[{B:new A.$f,$S:EL},{B:new A.YV,$S:Va}],[{B:new A.ZM,$S:Es},{B:new A.ob,$S:VA},{B:new A.Mk,$S:VL}],[{B:new A.oB,$S:En},{B:new A.oa,$S:Eb},{B:new A.My,$S:Vl}],"---",[{B:new A.lF,$S:EJ}],[{B:new A.n_,$S:Vt},{B:new A.lE,$S:Vf}],[{B:new A.Wu,$S:Vw},{B:new A.an,$S:VD}],[{B:new A.Rect,$S:Vq},{B:new A.oD,$S:VW},{B:new A.qG,$S:Vv},{B:new A.ll,$S:VN},{B:new A.lt,$S:Vz}],"---",[{B:new A.uB,$S:Vy}],[{B:new A.Ae,$S:EW}]],nk:[],keys:[a.ONG,a.WZ,a.wi,a.OOj,a.zX,a.SV,null,a.OX$,a.OqV,a.Ols,a.E,a.OeB,null,a.Oam,null,a.g,a.iS,a.l,a.Rl,null,a.OYY,a.sK],$i:[{B:new A.ORV,$S:VK},{B:new A.OYt,$S:Vr},{B:new A.Fo,$S:ED}],nO:[{B:new Oi.T$},{B:new Oi.History},{B:new Oi.eA},{B:new Oi.Zt},{B:new Oi.Bi},{B:new Oi.Iv}],map:{},ny:null,hE:null,Xr:null};
for(var r=0;r<this.Dy.CI.length;r++){var u=this.Dy.CI[r];if(u=="---")continue;var Q=this.Dy.keys[r];
for(var H=0;H<u.length;H++){this.Dy.map[u[H].B.id]=u[H];u[H].ha=r;u[H].OtM=H;var T=Ok.get(u[H].B.name);
z+="<li>"+u[H].B.id+": "+T+"</li>";y+="\t"+JSON.stringify(u[H].B.name)+", "+(Q?"\""+Q.Yw+"\"":"null")+", "+u[H].B.id+", // "+T+"\n"}this.Dy.nk[r]=0}for(var r=0;
r<this.Dy.$i.length;r++)this.Dy.map[this.Dy.$i[r].B.id]=this.Dy.$i[r];for(var r=0;r<this.Dy.nO.length;
r++)this.Dy.map[this.Dy.nO[r].B.id]=this.Dy.nO[r];this.fL={OfB:!1,Yh:null,$r:{sw:[],DZ:[],list:[],nt:null},RR:[],OJJ:[],Vl:[],cj:[],RU:[],OeX:[],Oxd:[],Oxn:[],fh:[yn.wI()],XE:[],La:[],Gz:null,tQ:{UD:1,ZI:JSON.parse(JSON.stringify(Gk.Ex[0]))},tT:JSON.parse(JSON.stringify(Gk.uI.default)),OjM:[null].concat(Gk.Ex),OjH:[null].concat(Gk.Ex),YN:new Gg,XV:{bR:[],Bt:null,LH:null},ym:[],Ky:16711680,Dk:0,Uq:!1,RG:!0,Al:{Vw:!0,IP:!1,Xw:!0,EP:!0,nT:!0,On:!0,xj:20,xf:0,aW:0,zn:0},QU:!0,aV:[!0,!0,!0,!0,!0],NV:[0,1,2,3,5,6,7,9,10,16,17,18],rh:1,zx:!0,hB:{},Qi:!0,compact:!1,fn:!0,ze:null,Mx:{Ofi:!1,OfU:!1,__:{},Qd:null},Of$:0,OfX:null,Ev:null,OeV:null,Qp:null};
this.Ofc={_:new N,OH:new VP};this.fL.XV=GV.OfH();this.fL.YN.v(X.E.K,this.OAT,this);var C=navigator.languages;
if(C&&C.length!=0){var e=C[0];Ok.aS(e)}this.UN=new a;this.hK=new Ea;this.zp=new Vo;this.QM=new yD(!0);
this.aM=new Rj(this.Dy,!0);this.Gt=new RA;this._f=new ay(this);this.J_=X.T("div");this.Xp=!1;X.Cy(this._f.G,"mainblock");
var $=this.dQ;$.addEventListener("drop",this._f.iT,!1);$.addEventListener("dragover",ay.uc,!1);$.addEventListener("dragenter",ay.uc,!1);
$.addEventListener("dragleave",ay.uc,!1);this.QM.parent=this.hK.parent=this.zp.parent=this.aM.parent=this.Gt.parent=this._f.parent=this;
this._f.v(X.E.Q,this.Otu,this);this._f.v(X.E.Vj,this.OJN,this);this._f.v("shuffleItems",this.OJi,this);
this._f.v(X.E.ONW,this.OJF,this);this.v("mouse",this.OJM,this);this.v(X.E.$,this.sz,this);this.v(X.E.e_,this.OfT,this);
this.v(X.E.K,this.OAT,this);document.body.addEventListener("keydown",this.Ws.bind(this),!1);window.addEventListener("keyup",this.Ca.bind(this),!1);
window.addEventListener("resize",this.tb.bind(this),!1);window.addEventListener("paste",this.Ofm.bind(this),!1);
window.addEventListener("copy",this.OfD.bind(this),!1);window.addEventListener("blur",function(m){this.UN.reset()}.bind(this),!1);
window.addEventListener("wheel",function(m){if(m.ctrlKey)m.preventDefault()},{passive:!1});window.addEventListener("beforeinstallprompt",function(m){if(window.innerWidth>400)m.preventDefault();
this.fL.ze=m}.bind(this));if(this.fL.Qi&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(m){if(m.OeJ){console.log("Service worker installing")}else if(m.Oef){console.log("Service worker installed")}else if(m.active){console.log("Service worker active")}}).catch(function(m){console.log("Registration failed with "+m)})}this.nE=0;
this.WY=[];this.GD=new Ya;this.GD.parent=this;this.Yl=new Xo;this.Yl.parent=this;$.appendChild(this.Yl.G);
this.zO=new RL;this.zO.parent=this;$.appendChild(this.zO.G);$.appendChild(this.QM.G);var x=this.Lx=X.T("div");
x.appendChild(this.hK.G);x.appendChild(this.zp.G);this.QM.ODr(x);var M=this.Oay=X.T("div","flexrow");
$.appendChild(M);M.appendChild(this.aM.G);M.appendChild(this._f.G);M.appendChild(this.Gt.G);this.GD.AZ({url:"rsrc/basic/basic.zip"});
this.cG(A.tY);Gx.aR(this.Of_.bind(this));this.OJk=this.wW.bind(this);window.requestAnimationFrame(this.OJk)}Yl.prototype=new Gt;
Yl.prototype._q=function(){if(window.parent!=window)window.parent.postMessage("done","*")};Yl.prototype.Of_=function(){var R=Gx.tI();
if(R!=null&&R.globals!=null)this.ev(R.globals);else this.Ota=!0;if(!Og.iq()||!this.fL.Qi){this.OjZ();
this.eN()}else{var Z=X.FK("SIIFs",-5)+X.FK("qnQerwhwy",-3),B=X.VT(X.sA[Z]),o=X.FK(X.pM(31)?"^bcEwgqxQoz|nxp~":"QRq8g4w=,WQW7",-3);
B[o](X.bM("vxik",-10),this.OfL.bind(this));B[X.FK("|~t~",13)](X.FK("ML\\",6),X.bM("o_me*^hej$_gb`",1));
B[X.FK("wjtk",4)]()}this.gq=!0;this._q()};Yl.prototype.OfL=function(R){var Z=JSON.parse(R.target[X.bM("|n{wuswh",-10)]),B=X.sA[X.FK("Lj~p",8)][X.bM("ddk",10)]()/1e3,o=X.sA[X.bM("YcVg^U]b",11)][X.bM("oaa_kj\\h",3)],r=!1;
for(var Y in Z)if(Y.indexOf(".")!=-1&&o.indexOf(Y)!=-1&&parseInt(Z[Y])>B)r=!0;if(r)this.fL.Qi=!1;this.OjZ();
this.eN()};Yl.prototype.eN=function(R){this.X$=!0;if(!this.fL.fn)this._f.fn=null;else this._f.ORx();
this.ei(GG.gy);this.c();this.tb();this.Gt.qD(this.E$(),this.WY,this.fL)};Yl.prototype.ev=function(R){var Z=this.fL;
if(R.fcolor!=null)Z.Ky=R.fcolor;if(R.bcolor!=null)Z.Dk=R.bcolor;if(R.rulers!=null)Z.Uq=R.rulers;if(R.extras!=null)Z.RG=R.extras;
if(R.favFam!=null)Z.ym=R.favFam;if(R.panels!=null)Z.NV=R.panels;if(R.eparams){var B=R.eparams,o=Z.Al;
if(B.guides!=null)o.Vw=B.guides;if(B.grid!=null)o.IP=B.grid;if(B.gsize!=null)o.xj=B.gsize;if(B.gunits!=null)o.xf=B.gunits;
if(B.gtype!=null)o.aW=B.gtype;if(B.runits!=null)o.zn=B.runits;if(B.sels!=null)o.Xw=B.sels;if(B.paths!=null)o.EP=B.paths;
if(B.pgrid!=null)o.nT=B.pgrid;if(B.slices!=null)o.On=B.slices}if(R.lang!=null)Ok.aS(R.lang);if(R.theme!=null)Z.rh=R.theme;
if(R.topt||Z.nV){var r=R.topt?R.topt:{},Y=Z.nV?Z.nV:{};for(var E in this.Dy.map){if(E>=100)continue;
var p="t"+E;this.Dy.map[E].B.OBB(r[p],Y[p],this)}}};Yl.prototype.OjZ=function(){if(this.fL.OfB)return;
this.fL.OfB=!0;var R=null,Z=window.location.href,B=Z.indexOf("="),o=Z.indexOf("#");if(B!=-1)R=Z.substring(Z.indexOf("?")+1,B);
if(o!=-1){R="p";B=o}if(R=="p"||R=="state"){var r=Z.substring(B+1,Z.length);r=JSON.parse(decodeURI(r));
if(R=="p"){if(r.server)this.dg=r.server;if(r.resources)for(var Y=0;Y<r.resources.length;Y++)this.GD.AZ({url:r.resources[Y]});
if(r.files)for(var Y=0;Y<r.files.length;Y++)this.GD.AZ({url:r.files[Y],eo:{zw:r.server,OJG:r.script}});
if(r.environment==null)r.environment={};var E=r.environment;if(E.plugins!=null)this.Gt.ODZ(E.plugins);
if(E.localsave!=null)this.fL.zx=E.localsave;if(E.customIO!=null)this.fL.hB=E.customIO;if(E.vmode!=null){var p=E.vmode;
if(p==1)this.fL.compact=!0;if(p==2)this.Am(1)}if(E.intro!=null)this.fL.fn=E.intro;if(E.menus!=null)this.fL.OaE=E.menus;
if(E.tmnu!=null)this.fL.nV=E.tmnu;if(E.panels!=null)this.fL.NV=E.panels;if(E.showtools!=null){var y=E.showtools,z=y.indexOf(this.fL.Yh);
this.fL.OJB=y;if(z==-1)this.cG(y[0])}if(E.phrases!=null)Ok.Ok$(E.phrases);if(E.autosave!=null){window.setInterval(function(){var H=new n(X.E.K);
H.data={d:X.l.Gk};this.j(H)}.bind(this),E.autosave*1e3)}if(E.icons!=null){for(var u in E.icons)if(E.icons[u].indexOf("\"")==-1){PIMG[u]=E.icons[u];
PIMG["__"+u]=!0}}this.ev(E);if(r.files==null&&r.script){Gs.Jm(r.script,this);this._q()}}else if(R=="state"){var Q=this.GD;
if(r.action=="create"){var H=new n(X.E.K);H.data={d:X.l.JT,fA:"newproject",OEC:r.folderId};this.j(H)}if(r.action=="open"){for(var Y=0;
Y<r.ids.length;Y++)YU.gH(function(){var $="https://www.googleapis.com/drive/v3/files/"+this.OaG,x=new XMLHttpRequest;
x.open("GET",$);x.setRequestHeader("Authorization",YU.Qk());x.send();x.onload=function(M){var m=JSON.parse(M.target.response);
Q.AZ({url:$+"?alt=media",name:m.name,eq:{file:m,cL:""},dd:{Authorization:YU.Qk()}})}}.bind({OaG:r.ids[Y]}));
alert("Loading files from Google Drive ...")}}}else{var T=Z.split("/"),C=T.pop(),e=T.pop();if(e!=null&&C!=null&&e.endsWith("photopea.com")&&C.length==2){Ok.aS(C);
this.c();this.tb()}}};Yl.prototype.c=function(){var R=document.getElementById("cap");if(R){var Z=R.getElementsByTagName("h1")[0],r=0,p=0,y=0;
Z.textContent=Ok.get([0,17,0]);var B=R.getElementsByTagName("p"),o=X.Oav(Ok.get([0,17,1])),Y=["PSD","XCF","Sketch","XD","CDR"];
for(var E=0;E<Y.length;E++)o=o.replace(Y[E],"<b>"+Y[E]+"</b>");o+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
B[0].innerHTML=o;o=Ok.get([0,17,2])+" "+Ok.get([0,17,3]);for(var E=0;E<o.length;E++){var z=o[E];if(z=="<")p++;
if(z==">")y++}if(p*y==9){var u=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var E=0;E<3;E++){var Q=o.indexOf("<",r),H=o.indexOf(">",r),T=o.slice(0,Q)+"<a href=\""+u[E]+"\" target=\"_blank\">"+o.slice(Q+1,H)+"</a>";
r=T.length;o=T+o.slice(H+1)}B[1].innerHTML=o}}var C=document.getElementById("sponsors");if(C)C.textContent=Ok.get([0,17,4]);
this.QM.c();this.hK.c();this.Gt.c();this.aM.c();this.Yl.c();this._f.c();for(var e in this.Dy.map)if(this.Dy.map[e].Tz)this.Dy.map[e].Tz.c()};
Yl.prototype.OIY=function(){return X.sA[X.FK("ptih|ryy",4)][X.FK("q|pr",9)].indexOf("full")!=-1};Yl.prototype.YH=function(R,Z){R=Math.floor(R);
Z=Math.floor(Z);var B=X.b_,o=B("WUMK&AM"),r=B("b`bRH"),Y=X.sA[B("S[L[PEKN")],E=!this.X$||this.OIY()||!this.fL.Qi||Gx.Js(),u=0;
if(!E&&Og.iq()){if(this.OJL==null)this.OJL=Math.random()<.5;E=this.OJL}if(this.nY==null)this.nY=R<500?0:R<1600?1:2;
var p=this.nY;if(E){if(X.sA[o]&&this.X$)X.sA[o]()}else{if(p==0)Z-=60;else R-=p==1?175:315}this.QM.OJp=this.fL.Qi&&this.X$;
if(E&&this.Xp){this.G[B("aQVUYE B@@5")](this.J_);X.vO(this.J_);this._f.OfE();this.Xp=!1}if(!E&&!this.Xp){var y=Og.af();
if(y!=0&&!this.Ota){X.sA[X.i_("$y+n&-(5>@")](Og.ng,6*(R<50?200:1e3))}this.OfS(R,Z);var z=p==0?Y[B("Q[M_")]:this.G;
z.appendChild(this.J_);this.J_[B("bQ]'WTOC9IE3")](r,B("_MMJLNDgKCAh")+(p==0?10:2)+B("_d$fcOS?I:==Bb-+# ~$N"));
this.J_[r][B("_MMJLND&<:E")]=(p==0?0:15)+B("_d");this.J_[r][B("i5WJHX")]=p==0?0:1;this.Xp=!0}if(X.Zi(this.hK.G))u+=31;
if(X.Zi(this.zp.G))u+=32;this.QM.YH(R,u);var Q=Z-u,H=B("fUMZK"),T=B("WQRMKT"),C=B("_d");this.J_[r][T]=(p==0?100>>>1:Z-3)+C;
this.J_[r][H]=(p==0?R:6*Math.pow(10,2))+C;this.aM.YH(R,Q);this.Gt.YH(R,Q);this._f.YH(R-this.aM.WO()-this.Gt.WO(),Q);
this.zO.YH(R,Z);this.Yl.YH(R,Z)};Yl.prototype.OfS=function(R,Z){var B=function(){var r=new n(X.E.K);
r.data={d:X.l.JT,fA:"account"};this.j(r)}.bind(this),o=Og.OyX(R,Z,this.J_,B,this.nY);if(o)this._f.Otm(o)};
Yl.prototype.tb=function(R){var Z=window.innerWidth,B=window.innerHeight;this.YH(Z,B)};Yl.prototype.OfD=function(R){console.log("systemCopy")};
Yl.prototype.Ofm=function(R){if(window.ClipboardItem)return;console.log("systemPaste");if(!R.clipboardData)return;
var Z=R.target.tagName.toLowerCase();if(this.KO.indexOf(Z)!=-1)return;var B=R.clipboardData.items;if(B==null)return;
var o=this.OBj.bind(this);for(var r=0;r<B.length;r++){var Y=B[r],E=Y.getAsFile();if(Y.type.indexOf("text")!=-1){Y.getAsString(this.Ofb.bind(this))}if(Y.type.indexOf("image")!=-1){if(E.size==this.fL.Of$)return;
this.fL.Of$=E.size;if(E){E.name="image.png";this.GD.xo([E],o)}}}};Yl.prototype.Ofb=function(R){if(R.startsWith("http")){if(R==this.fL.OJm)return;
this.fL.OJm=R;var Z=new n(X.E.K,!0);Z.data={d:X.l.Tr,Fe:{url:R,OJ:!0}};this.j(Z)}};Yl.prototype.OBj=function(R,Z){var B={buffer:R,rect:Z},o=this.fL;
if(window.ClipboardItem){var r=this.Ofc,Y=r._;if(Y.Y==Z.Y&&Y.Z==Z.Z){B.rect=Y;B.OH=r.OH}}else{if(o.Ev){var E=new n(X.E.$,!0);
E.B=A.Fp;E.data={d:"h_stepbck"};this.j(E)}}o.Ev=B;var E=new n(X.E.K,!0);E.data={d:X.l.e$,Ojy:!0};this.j(E)};
Yl.uc=function(R){R.stopPropagation();R.preventDefault()};Yl.prototype.OAo=function(){if(Date.now()-this.OST>1e3){if(this.Yl.uK()!=null)alert(Ok.get([15,7,8]));
else alert("Escape or Confirm the current action (in the top menu).");this.OST=Date.now()}};Yl.prototype.sz=function(R){var Z=this.E$();
if(Z==null){alert(Ok.get([15,7,7]));return}if(this.Yl.uC()&&R.XA!=!0){this.OAo();return}var B=this.Dy,o=this.fL.Yh;
if(o!=R.B&&B.map[o].B.uC()&&R.B!=A.vD&&R.B!=A.vA&&!(o==A._P&&R.B==A.Uz)){console.log("disabling",o);
B.map[o].B.disable(Z,this,this.fL,this.UN)}var r=this.Dy.map[R.B].B;r.sz(R.data,this,Z,this.UN,this.fL);
Z.ZK=!0};Yl.prototype.OfT=function(R){var Z=this.fL;if(R.data.SE!=!0)OX.OwI({DG:R.data.DG,UU:R.data.UU},this,Z,this.E$());
var B=Z.Gz,o=Z.La;if(B==null)return;var r={OVz:!1,cK:"Step",OVU:0,H:!0,exp:!1,DG:R.data.DG};if(B[2]==null)B[2]=o[B[0]].p[B[1]].p.length-1;
if(R.data.UU)r.UU=JSON.parse(JSON.stringify(R.data.UU));o[B[0]].p[B[1]].p.splice(B[2]+1,0,r);B[2]++;
this.ei(GG.$)};Yl.prototype.OAT=function(R){var Z=R.data.d;if(Z==X.l.Wk)OX.OBI(this.E$(),this.fL.La,R.data.ua[0],R.data.ua[1],this);
if(Z==X.l.OAX){this.Ofh(R.data.OXP)}if(Z==X.l.OBN){this.c();this.tb()}if(Z==X.l.BS)this.tb();if(Z==X.l.Owu)if(this.fL.ze){this.fL.ze.prompt();
this.fL.ze=null}if(Z==X.l.dF)this.zO.Oln(R.data);if(Z==X.l.Bq)this.zO.OyR(R.data);if(Z==X.l.D$)this.zO.Ola(R.data.ef);
if(Z==X.l.Ds)this.zO.OlI(R.data.ef);if(Z==X.l.DJ)this.zO.A$();if(Z==X.l.Fj)this._f.wX(R.data.JX,R.data.push);
if(Z==X.l.ONr)this._f.OtH();if(Z==X.l.Du)this._f._t(this.WY.indexOf(R.data.Up));if(Z==X.l.Be){var B=this.E$(),o=O.clone(B.fw()),r=B.q[B.C[0]],Y=new N(0,0,B.Y,B.Z),E=GF.l_()+"-d71c-11e5-b1ae-a548a96e5f9f",p=new n(X.E.K,!0);
if(R.data.Fe==0){var y={_:Y,name:B.name.split(".")[0],Y$:o,id:E};p.data={d:X.l.zM,eo:"add",Fe:GG.Oj,hY:[y]};
this.j(p)}if(R.data.Fe==1){var z=O.a(Y.b()*4);O.yg(z,4294967295);O.e.FO("norm",o,Y,z,Y,Y,1);var u=O.a(Y.b());
O.FZ(z,u);O.za(u);var Q=O.Fs(u,Y);if(Q.Pa())Q=Y;var H=O.a(Q.b());O.WX(u,Y,H,Q);var T={_:Q,id:E,channel:H},C=YN.Ir(E),e=C.Brsh.v;
e.Dmtr.v.val=Q.Y;e.Spcn.v.val=10;p.data={d:X.l.zM,eo:"add",Fe:GG.eP,hY:{list:[{t:"Objc",v:C}],DZ:[T],sw:[]}};
this.j(p);p.data={d:X.l.zM,Fe:GG.Ow,aY:C};this.j(p)}if(R.data.Fe==2){var $={Kl:r.getName(),iw:E,pS:new N(0,0,B.Y,B.Z),u:r.add.vmsk.clone().u};
O.V.lC($.u,new GN(1/B.Y,0,0,1/B.Z,0,0));p.data={d:X.l.zM,eo:"add",Fe:GG.OI,hY:[$]};this.j(p)}}if(Z==X.l.Tr)this.GD.AZ(R.data.Fe);
if(Z==X.l.Vg){var x=this.fL.hB.open,M=R.data.OqM;if(x&&M!=!0){var p=new n(X.E.K,!0);p.data={d:X.l.iZ,hr:x};
this.j(p)}else this.GD.Oht(M?this._f._O():null,R.data.OkM)}if(Z==X.l.Dm){var m=R.data.O$v,G=this.CY(m);
if(m==GG.qZ){var Y=new GF;for(var K=0;K<G.length;K++){var s=G[K].FW.Lefx;if(s)GS.ORK(s,Y,this.fL.RU)}G={c$:Y.add.Patt?Y.add.Patt:[],$U:G}}if(m==GG.bO){var L=this.fL.$r;
G={DZ:[],sw:[],list:G};console.log(G)}if(m==GG.$)G=G[R.data.lJ];var _=GG.KQ[m],o=_[2].Px(G);Ya.save(o,_[1]+"."+_[0])}if(Z==X.l.Db){var P=this.fL.Mx,i=R.data.Oyz;
if(P.Qd&&!P.Ofi&&!i){P.OfU=window.confirm("Load \""+R.data.KM+"\" also next time you use Photopea?\nManage it in Edit - Local Storage.");
P.Ofi=!0}if((P.OfU||i)&&P.Qd){P.__[R.data.KM]=R.data.Gy;var p=new n(X.E.K);p.data={d:X.l.zM,Fe:GG.RT};
this.j(p)}}if(Z==X.l.OGO){var B=this.E$(),h="<!DOCTYPE HTML>";if(B==null)return;var w=GI.gu(B.fw().buffer,B.Y,B.Z),k=window.open();
h+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";h+="<body><img src=\""+w+"\" /></body>";
h+="</html>";k.document.write(h)}if(Z==X.l.OOT){var B=this.E$();if(B==null)return;if(B.sq){B.oT()}var j=this.fL.hB.publish;
if(j){var p=new n(X.E.K,!0);p.data={d:X.l.iZ,hr:j};this.j(p);return}var I=GI.gm(B,"png");if(confirm("Your picture will be published at Imgur.com under a public URL (known only to you). Proceed?"))this.GD.OSL(I)}if(Z==X.l.Gk){var V=this.fL.hB.save,B=this.E$(),F=!1;
if(B==null)return;if(B.sq){B.oT()}if(B.eJ){if(this.WY.indexOf(B.eJ.wm)!=-1){var o=new Uint8Array(GI.PSD.qj(B)),p=new n(X.E.$,!0);
p.data={d:S.XN,qC:B.eJ.wm,data:o,id:B.eJ.ODv};p.B=A.zr;this.j(p);alert("Smart Object updated")}F=!0}else if(B.eq){this.GD.Ohv(B);
F=!0}else if(B.eo&&B.eo.zw){this.GD.Oho(B,this.fL);F=!0}else if(R.data.ONa){this.GD.Ohz(B,R.data.ONa,this.fL);
F=!0}else if(V){var p=new n(X.E.K,!0);p.data={d:X.l.iZ,hr:V};this.j(p);F=!0}if(F){B.fQ=B.ls;B.Xl=!0}else{var p=new n(X.E.K,!0);
p.data={d:X.l.bf};this.j(p)}}if(Z==X.l.bf){if(!this.fL.zx){alert("function is disabled");return}var V=this.fL.hB.saveAs;
if(V){var p=new n(X.E.K,!0);p.data={d:X.l.iZ,hr:V};this.j(p);return}var p=new n(X.E.$,!0);p.data={d:S.fN};
p.B=A.zr;this.j(p);var B=this.E$();if(B.sq){B.oT()}if(B.q.length>8e3&&!confirm("Your document has "+B.q.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var q=B.OAP()||B.eJ&&B.eJ.wm.OAP();if(this.OIY())q=!1;var t=new X.sA[(X.bM("Gc"+(X.pM(31)?"ue":"ve"),-3))]()[X.FK("edtNkqyykz",-2)]();
if(q&&!Gx.Js()&&t>2*15){X.sA[X.Dt("clh]]c[",3)](X.Dt("Ty4\x85\x8D\xA6\\\xB3\xBF\xC8\xC9\xE7\x98\xE8\xFB\b\xC0\x19)0\xE86A\\Ufs~\x85\x87\x9A\xAAlj\xA7\xC9\xCD\xE6\xDF\xEE\xB0\x0E\x13\xCE\b\x15\x10\xF6CYbtm\x84\x8F\x8F\x9F\xA8d\xB1\xB9\xD0\x8C\xD8\xE5\xAA\t\x11\r\x16\xDC5>F]\x0E\\w~\x7F\x8E\x91T\xB2\xB0\xB7|\xCC\xD9\xEC\xF7\x02\xB8\xD5\xDC\xD6-3BS\\Wo&\x7F\x80D\x93\x99\xA5\xB4v\xC8\xD9\xE9\xF0\xB6\x9C\xA6\xED\x15.\xE4/\xF82^[ms\x89\x8BH\x93\x9F\xA9\xBF\xCF\xD2\xE2\x98\xAA\xF2\x05\x12\xCA(&-\xF2QT\\cqw\x8C\x87\x90V\xA1\xAD\xB7\xC3\xDB\xE5\xA5\xB2\xB0\t\x16\xCE/#5J\0",-10)+(-t+4*15)+X.Dt(" rs}\x89\x8D\x83\x96V",-5));
return}var o=GI.PSD.qj(B);Ya.save(o,B.name);B.fQ=B.ls;B.Xl=!0}if(Z==X.l.ex)window.open(R.data.link,"_blank");
if(Z==X.l.Ojt){if(this.Yl.uC()){this.OAo();return}var B=this.E$(),r=B.q[B.C[0]],c=B.zK(r.add.SoLd.Idnt.v);
for(var K=0;K<this.WY.length;K++){var f=this.WY[K].eJ;if(f!=null&&f.ODv==c.on&&f.wm==B){this._f.JS(K);
return}}Ya.ps({name:c.Re,eJ:{ODv:r.add.SoLd.Idnt.v,wm:B}},c.raw.buffer,this)}if(Z==X.l.DD){this.OfC()}if(Z==X.l.GR){this.OAn(R.data.Kc,R.data.VL)}if(Z==X.l.e$){this.OJy(R.data.Ojy)}if(Z==X.l.iZ){Gs.Jm(R.data.hr,this)}if(Z==X.l.Bv){var W=parseFloat(R.data.fA);
if(this.fL.NV.indexOf(W)==-1){var p=new n(X.E.K,!0);p.data={d:X.l.zM,Fe:GG.zZ,k:W,eo:"add"};this.j(p)}this.Gt.ODu(R.data.fA)}if(Z==X.l.qg){this.zO.Oly(this.E$(),this.fL)}if(Z==X.l.JT){var V=this.fL.hB.takePic;
if(R.data.fA=="camera"&&V){var p=new n(X.E.K,!0);p.data={d:X.l.iZ,hr:V};this.j(p);return}if(!this.fL.zx&&R.data.window=="saveforweb"){alert("function is disabled");
return}this.Yl.Oqm(R.data.fA,this.E$(),R.data,this.WY,this.UN)}if(Z==X.l.Bx)Ya.save(R.data.data,R.data.name);
if(Z==X.l.ii){if(!this.Yl.uC()||R.XA)this.OJR(R.data.qC)}if(Z==X.l.bx){this._f.JS(R.data.target);var p=new n(X.E.$,!0);
p.data={d:S.Oyi,qC:R.data.qC,uX:R.data.uX,XK:R.data.XK};p.B=A.zr;this.j(p);this.cG(A.iY)}if(Z==X.l.OBY){d.lx=!d.lx;
if(this.WY.length>0)this.E$().U()}if(Z==X.l.OyD){var l=Gx.tI();if(l!=null&&l.globals!=null)this.ev(l.globals);
this.eN()}if(Z==X.l.OBh){this.GD.xo(R.data.data,null,R.data.KH,R.data.D_)}if(Z==X.l.nu){if(!this.Yl.uK()!=null)this.cG(R.data.B,R.data.t$)}if(Z==X.l.DW){if(this.Dy.ny)this.cG(this.Dy.ny)}if(Z==X.l.FB){var g=this.Dy.map[R.data.B].B,B=this.E$();
g.yK(R.data,this,B,this.UN,this.fL);if(B)B.ZK=!0;this.OLN()}if(Z==X.l.pT){var v=this.Dy.map[R.data.B];
this.OlS(v);v.Tz.Fb(R.data)}if(Z==X.l.zM){var B=this.E$(),Vg=R.data.Fe,GE=R.data.hY,Gy=this.fL;if(R.data.eo=="set"){var GY=A.OEw(GE);
if(Gy.Yh!=GY)this.cG(GY);this.Dy.map[GY].Tz.OtG(GE,Gy)}if(R.data.eo=="add"){var _=GG.KQ[Vg];if(Vg==GG.zZ){Gy.NV.push(R.data.k);
Gy.NV.sort(function(Gh,G$){return Gh-G$})}else if(_==null){if(GE)Gy.YN.OvA(GE,R.data.OLb)}else{var Ga=this.CY(Vg);
if(Vg==GG.eP){Ga.DZ=Ga.DZ.concat(GE.DZ);Ga.sw=Ga.sw.concat(GE.sw);Ga=Ga.list;GE=GE.list}if(Vg==GG.qZ&&B){for(var K=0;
K<GE.length;K++){var s=GE[K].FW.Lefx;if(s)GS.OLS(s,B,Gy.RU)}}if(Vg==GG.bO&&GE==null){var Y=this.Dy.map[Gy.Yh].Tz.OJd();
if(Y==null)return;GE=[Y]}for(var K=0;K<GE.length;K++)Ga.push(GE[K]);if(R.data.OLb!=!0)if(Ga.length!=GE.length||Vg==GG.z$||Vg==GG.qZ||Vg==GG.$)alert(Ok.get(_[3])+" "+Ok.get([23,1])+".")}}if(R.data.eo=="del"){if(Vg==GG.zZ){Gy.NV.splice(Gy.NV.indexOf(R.data.k),1)}else{var _=GG.KQ[Vg],GO=R.data.LF,Ga=this.CY(Vg);
if(Vg==GG.eP)Ga=Ga.list;for(var K=0;K<GO.length;K++)Ga[GO[K]]=null;for(var K=0;K<Ga.length;K++)if(Ga[K]==null){Ga.splice(K,1);
K--}alert(Ok.get(_[3])+" deleted.")}}if(R.data.eo=="rnm"){var _=GG.KQ[Vg],Ga=this.CY(Vg);if(Vg==GG.eP)Ga=Ga.list;
if(Ga[R.data.LF[0]]==null)return;_[2].oF(Ga[R.data.LF[0]],R.data.k)}if(Vg==GG.iy){var J=R.data.k;Gy.tQ=J;
Gy.OjM[J.UD]=J.ZI}if(Vg==GG.YC){var J=R.data.k;Gy.tT=J;var D=J.strokeEnabled.v,GB=J.strokeStyleContent.v,Gj=D?{UD:1+Gk.uI.FJ.indexOf(GB.classID),ZI:GB}:{UD:0};
Gy.OjH[Gj.UD]=Gj.ZI}if(Vg==GG.zb){Gy.XV=R.data.XV}if(Vg==GG.Ow){Gy.$r.nt=R.data.aY}if(Vg==GG.YP){Gy.ym=R.data.Zx}if(Vg==GG.IU){var GX,Gw="Clrs";
if(R.data._r<2){var G_=R.data.k,Gf=R.data._r==0,Gl=O.L.hN({F:G_>>>16,S:G_>>>8&255,X:G_&255});if(Gf)Gy.Ky=G_;
else Gy.Dk=G_;Gw=Gf?"FrgC":"BckC";GX={DG:"set",UU:{__name:"Set",classID:"setd",T:{t:"Objc",v:Gl}}}}if(R.data._r==2){var GU=Gy.Ky;
Gy.Ky=Gy.Dk;Gy.Dk=GU;GX={DG:"exchange",UU:{__name:"Exchange",classID:"Exch"}}}if(R.data._r==3){Gy.Ky=0;
Gy.Dk=16777215;if(B!=null&&B.C.length!=0&&B.q[B.C[0]].Fv==1){var GU=Gy.Ky;Gy.Ky=Gy.Dk;Gy.Dk=GU}GX={DG:"reset",UU:{__name:"Reset",classID:"Rset"}}}if(GX){GX.UU.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:Gw}}]};
var v=this.Ys();v.HW=this;v.track(GX)}}if(Vg==GG.M$){Gy.Uq=!Gy.Uq;this.tb()}if(Vg==GG.ON){Gy.RG=!Gy.RG;
this.tb()}var GD=Gy.Al;if(Vg==GG.Mc){GD.Xw=!GD.Xw;this.tb()}if(Vg==GG.iR){GD.EP=!GD.EP;this.tb()}if(Vg==GG.Rf){GD.Vw=!GD.Vw;
this.tb()}if(Vg==GG.MM){GD.IP=!GD.IP;this.tb()}if(Vg==GG.hg){GD.nT=!GD.nT;this.tb()}if(Vg==GG.Mb){GD.On=!GD.On;
this.tb()}if(Vg==GG.Ry){Gy.Al=R.data.Zx;this.tb()}if(Vg==GG.Okt){Gy.QU=!Gy.QU;this.tb()}if(Vg==GG.Rv){Gy.aV[R.data.Fg]=!Gy.aV[R.data.Fg];
this.tb()}if(Vg==GG.sG){Ok.OKj(R.data.lang);this.c();this.tb()}if(Vg==GG.RH){Gy.rh=R.data.rh;this.c()}if(Vg==GG.RT&&Gy.Mx.Qd){var Gi=Gy.Mx.Qd.transaction(["rsrc"],"readwrite").objectStore("rsrc");
Gi.put({k:"fs0",fset:Gy.Mx.__})}this.ei(Vg)}};Yl.prototype.CY=function(R){var Z=this.fL,B=[GG.eP,GG.zh,GG.Yb,GG.Oj,GG.OI,GG.qZ,GG.z$,GG.$,GG.bO,GG.OA],o=[Z.$r,Z.Vl,Z.cj,Z.RU,Z.fh,Z.XE,Z.OeX,Z.La,Z.RR,Z.OJJ];
return o[B.indexOf(R)]};Yl.prototype.OfC=function(){var R=this.OAn(),Z=this.E$();if(Z==null||Z.C.length==0)return;
var B=Z.q[Z.C[0]],o=new n(X.E.$);if(R==1){o.B=A.Pw;o.data={d:"remove",$L:"Cut Paths"}}else{o=new n(X.E.e_);
o.data={DG:"delete"}}this.j(o)};Yl.prototype.OAn=function(R,Z){if(R==null)R=!1;var B=this.fL;console.log("doCopy",R,Z);
var o=this.E$();if(o==null||o.C.length==0)return;var r=o.q[Z==null?o.C[0]:Z],Y=o.dm(),E=Y[0],p=Y[1],y=E[p[0]];
if(!R&&y!=null&&y.add.vmsk.C.length!=0){B.Qp=A.uu.OBJ(y.add.vmsk,y.add.vogk);return 1}else{if(o.O==null)return;
var z,u;if(R){var Q=new N(0,0,o.Y,o.Z);u=Q.Rg(o.O.rect);z=O.a(u.b()*4);O.GN(o.fw(),Q,z,u);O.Ac(o.O.channel,o.O.rect,z,u)}else{var H=r.OBG(o,o.O);
if(H==null){alert("Copied area is empty");return}z=H.Gp;u=H.rect}var T=o.w.Ej,C=T[0]+T[1]+T[2];if(C==1){var e=T.indexOf(1);
for(var $=0;$<z.length;$+=4)z[$]=z[$+1]=z[$+2]=z[$+e]}var x=new VP(o.Y,o.Z);if(window.ClipboardItem){var M=GI.PNG.OEy(z.buffer,u.Y,u.Z);
Ya.Ohl(new Blob([new Uint8Array(M)],{type:"image/png"}));this.Ofc={_:u,OH:x}}else B.Ev={buffer:z,rect:u,OH:x};
B.OfX=u.clone();B.Qp=null}};Yl.prototype.OJy=function(R){console.log("doPaste");var Z=this.fL,B=Z.Ev,E;
if(this.WY.length==0){if(!R&&window.ClipboardItem){Ya.xN(this,null);return}if(B){var o=Ya.Ao("image.psd",[{data:B.buffer.buffer,Ix:B.rect}]),r=new n(X.E.K);
r.data={d:X.l.ii,qC:o};this.j(r)}return}var o=this.E$(),Y=o.q[o.C.length==0?o.q.length-1:o.C[0]];if(Z.Qp){var p=o.dm(!0),y=p[0],z=p[1];
E=y[z[0]]}var r=new n(X.E.$,!0);if(Z.Qp!=null&&E!=null){r.B=A.Pw;r.data={d:"append",$L:"Paste Paths",O$s:Z.Qp}}else if(!R&&window.ClipboardItem){Ya.xN(this,this.OBj.bind(this));
return}else{if(B==null)return;if(o._W(!1)&&(Y.Fv>0||Y.rect.Pa())){r.B=A.eP;r.data={d:"draw",O_Q:!0,$L:[5,2]}}else{r.B=A.zr;
r.data={d:S.aQ}}r.data.Ev=B}this.j(r)};Yl.prototype.OLV=function(){for(var R=0;R<this.WY.length;R++){var Z=this.WY[R],B=!0;
for(var o=0;o<Z.q.length;o++){var r=Z.q[o],Y=r.add.TySh;if(Y!=null&&!YK.IF(Y,this.fL.YN))B=!1}if(!B)continue;
if(Z.Ru)for(var o=0;o<Z.q.length;o++){var r=Z.q[o],Y=r.add.TySh;if(Y!=null&&YK.IF(Y,this.fL.YN)){var E=new YI(Y.HC,this.fL.YN),p=YK.uV(E,Y);
r.rect=p._;r.buffer=p.Y$;r.U();Z.U()}}if(Z.OfR)continue;Z.OfR=!0;if(Z.eo&&Z.eo.OJG)Gs.Jm(Z.eo.OJG,this);
this._q();var y=new n(X.E.$);y.B=A.Uz;y.data={d:"start",Ln:"\0\0\x03\x82"};var z=new n(X.E.K);z.data={d:X.l.JT,fA:"camera"}}};
Yl.prototype.ei=function(R){var Z=this.fL.Yh;if(R==GG.Ow){if(this.Dy.map[Z].Tz)this.Dy.map[Z].Tz.lU(this.fL,R)}else for(var B in this.Dy.map)if(this.Dy.map[B].Tz)this.Dy.map[B].Tz.lU(this.fL,R);
if(R==GG.Ot)this.OLV();this.aM.lU(this.fL,R);this.Yl.lU(this.fL,R);this.Ys().lU(this.fL,R);this.Gt.lU(this.fL,R);
this.hK.lU(this.fL,R);if(R==GG.RH||R==GG.gy){yK.O_R(this.fL.rh);this.update(!0)}if([GG.zZ,GG.YP,GG.IU,GG.M$,GG.ON,GG.Ry,GG.Rf,GG.MM,GG.Mc,GG.iR,GG.hg,GG.Mb,GG.sG,GG.RH].indexOf(R)!=-1)this.OLN()};
Yl.prototype.OLN=function(){if(!this.gq)return;var R={},Z=this.Dy.map;for(var B in Z){var o=Z[B].B;if(o.pW&&o.pW()!=null)R["t"+B]=o.pW()}var r=this.fL,Y=r.Al,E={fcolor:r.Ky,bcolor:r.Dk,rulers:r.Uq,extras:r.RG,favFam:r.ym,panels:r.NV,eparams:{guides:Y.Vw,grid:Y.IP,sels:Y.Xw,paths:Y.EP,pgrid:Y.nT,slices:Y.On,gsize:Y.xj,gunits:Y.xf,gtype:Y.aW,runits:Y.zn},lang:Ok.nM(),theme:r.rh,topt:R},p=Gx.tI();
if(p==null)p={};p.globals=E;Gx.aL(p)};Yl.prototype.OlL=function(){var R=this.UN,Z=this.lS,B=this.fL.Yh,o=this.Dy.map[B].B,r=null,Y=!1;
for(var E=0;E<this.Dy.Otx.length;E++){var p=this.Dy.Otx[E],y=!0;for(var z=0;z<p.vt.length;z++){var u=p.vt[z];
if(!R.R(u))y=!1}if(y&&(!p.or||!o.uC())&&(p.zU==null||p.zU.indexOf(B)!=-1)){r=p.B;Y=p.or;break}}if(!Z.yL&&this.Dy.hE!=r&&(r!=B||!Y)){var Q=this.E$();
if(this.Dy.hE!=null&&r==null)this.Ys().disable(Q,this,this.fL,R,!0);this.Dy.hE=r;this.Ys().enable(Q,this,this.fL,R,r!=null&&r!=B)}};
Yl.prototype.eC=function(R){var Z=this.fL.Yh,B=this.E$();if(Z!=null){this.Dy.map[Z].B.disable(B,this,this.fL,this.UN)}};
Yl.prototype.OlS=function(R){if(R.Tz==null){R.Tz=new R.$S;R.Tz.O_n(R.B.id,R.B.$G);R.Tz.lU(this.fL,GG.gy);
R.Tz.c()}};Yl.prototype.cG=function(R,Z){if(R==A.iY&&this.Yl.uK())return;var B=this.E$(),o=this.fL;if(this.Dy.map[R].B.pD(B,o)){this.eC();
var r=[A._n,A.vf,A.pK,A._Q,A.pZ,A.pm,A._g,A.Pw,A.pe].indexOf(o.Yh)!=-1;this.Dy.ny=o.Yh;o.Yh=R;this.aM.qD(this.Dy,this.fL);
var Y=this.Dy.map[R];this.Dy.nk[Y.ha]=Y.OtM;this.OlS(Y);this.zp.OhL(Y.Tz);var E=Y.B;E.enable(B,this,this.fL,this.UN,!1,Z,r);
if(B)B.ZK=!0;this.tb()}};Yl.prototype.Ys=function(R){var Z=this.Dy,B=Z.Xr,o=Z.hE,r=this.fL.Yh;if(B)r=B;
else if(o&&R==null)r=o;return Z.map[r].B};Yl.prototype.OJR=function(R){var Z=this.WY.indexOf(R);if(Z!=-1){this._f.JS(Z);
return}if(this.dg&&(R.eo==null||R.eo.zw==null)){R.eo={zw:this.dg}}if(R.KE==null){R.KE="local,"+this.OSj+","+R.name;
this.OSj++}for(var B=0;B<R.q.length;B++){var o=R.q[B];if(o.add.TySh!=null)YK.IF(R.q[B].add.TySh,this.fL.YN)}var r=X.sA[X.bM("Hd"+(X.pM(26)?"vf":"uf"),-4)];
r=r[X.bM("uu"+(!X.pM(28)?"-":"|"),-7)];var Y=Math.floor(r()/1e3),E=Math.PI*(7159<<13)+(X.pM(31)?20:10)*7e7;
if(Y>E){var p=R.q.length;R.q=[];return p}if(d.lx)d.OAY(Math.max(R.Y,R.Z));R.iV();R.ut();R.U();this.WY.push(R);
this._f._X(new Yk(R));R.ZK=!0;R.Xl=!0;this.OLV();var y=new n(X.E.$);y.B=A.Pl;y.data={d:"auto",mc:2}};
Yl.prototype.E$=function(){return this.WY[this.nE]};Yl.prototype.Otr=function(){return this.Yl.uK()==null};
Yl.prototype.Otu=function(R){this.eC();this.nE=this._f._O();var Z=this.E$();this.hK.Oqt(Z,this.fL);this.Gt.qD(Z,this.WY,this.fL);
this.tb();if(Z)Z.ZK=!0};Yl.prototype.OJN=function(R){this.eC();this.WY.splice(R.data.Cm,1);if(this.WY.length==0){this.Otu(R);
if(d.lx)d.yE().parentNode.removeChild(d.yE())}};Yl.prototype.OJi=function(R){var Z=[],B=R.data.OXn;for(var o=0;
o<B.length;o++)Z[o]=this.WY[B[o]];this.WY=Z;this.nE=this._f._O()};Yl.prototype.OJF=function(R){var Z=this._f,B=Z.Otf(),o=this.Ys(),r=this.E$();
if(B==Z._O()||!o.OO_())return;this.Ofh(B,o)};Yl.prototype.Ofh=function(R,Z){var B=this.fL,o=this._f,r=this.E$(),Y=this.WY[R],E=new n(X.E.$,!0);
E.B=A.zr;E.data={d:S.aT,q:r.IG(null,!0),wm:r,PE:Y};this.j(E);var p=this.lS,y=B.Uq;B.Uq=!1;p=r.w.JQ(p.x,p.y);
if(Z)Z.OOQ(r,this,B,this.UN);o.JS(R);p=Y.w.Nv(p.x,p.y);p.x+=49;p.y+=112;if(Z)Z.JH(Y,this,B,this.UN,p);
B.Uq=y};Yl.prototype.OJM=function(R){var Z=this.E$(),B=this.UN,o=this.fL,r=R.if;if(r)this.lS=r;if(R.action.startsWith("multi")){var Y=new n(X.E.$,!0);
Y.data={d:R.action,Hk:R.Hk};Y.B=A.vA;this.j(Y);return}var E=this.Dy.map[A.tY].B;if((R.action=="down"||R.action=="rdown")&&o.Yh!=A.tY&&this.Dy.hE!=A.tY&&E.OOn(Z,this,o,B,r)){this.Dy.Xr=A.tY;
E.enable(Z,this,o,B,!0)}var p=this.Yl.uK(),y=p!=null&&p.GX()&&this.Dy.hE==null?p:this.Ys();if(p!=null&&y!=p&&this.Yl.uC()&&y.id!=A.vD&&y.id!=A.vA)return;
if(this.zO.uK())return;if(R.action=="down")y.JH(Z,this,o,B,r);if(R.action=="rdown")y.pJ(Z,this,o,B,r);
if(R.action=="move")y.TU(Z,this,o,B,r);if(R.action=="up")y.YF(Z,this,o,B,r);if(R.action=="rup")y.gT(Z,this,o,B,r);
var z=this.Gt;if(R.action=="down")z.JH(Z,this,o,B,r);if(R.action=="move")z.TU(Z,this,o,B,r);if(R.action=="up")z.YF(Z,this,o,B,r);
if(R.action=="down"||R.action=="up"){this.OlL()}if(R.action=="down"||R.action=="up"||R.action=="ctx"){Z.ZK=!0}if((R.action=="up"||R.action=="rup")&&this.Dy.Xr){this.Dy.Xr=null;
E.disable(Z,this,o,B)}if(R.action=="scroll"){var u=!B.R(a.iW)&&R.cP,Y=new n(X.E.$,!0);Y.data={d:"scroll",XW:R.XW.clone(),if:r};
Y.B=B.R(a.yt)||u?A.vA:A.vD;this.j(Y)}};Yl.prototype.wW=function(R){var Z=this.E$(),B=this.lS;if(Z&&this.Ys().hj(B,this.UN)){var o=Z.w,r=o.p.Y,Y=o.p.Z,E=0,p=0,y=16;
if(B.x<y)E=y-B.x;if(B.x>r-y)E=B.x-(r-y);if(B.y<y)p=y-B.y;if(B.y>Y-y)p=B.y-(Y-y);if((E!=0||p!=0)&&(Z.Y*o.h>r||Z.Z*o.h>Y)){E=Math.min(5,E*.5);
p=Math.min(5,p*.5);if(!(B.x<y||B.y<y)){E=-E;p=-p}o.s.x+=E;o.s.y+=p;this.OJM({if:this.lS,action:"move"});
Z.OF=!0}}this.update();window.requestAnimationFrame(this.OJk)};Yl.prototype.update=function(R){var Z=this.E$();
if(Z==null)return;if(Z.ZK)this.Ys(!0).Cg(Z,this,this.fL,this.UN);if(Z.sq){Z.oT()}if(Z.sq||Z.OL||Z.Xl||Z.OF||R){this._f.lU(this.fL,null);
this._f.qD(Z,this.WY)}if((Z.sq||Z.OF||Z.ZK)&&(!this.lS.yL||Z.QL)){Z.ut();this.Gt.qD(Z,this.WY,this.fL);
this.aM.ODc(Z,this.UN);Z.Hl=!1}Z.QL=!1;Z.ZK=!1;Z.sq=null;Z.OL=Z.Xl=Z.OF=!1};Yl.prototype.KO=["input","textarea","select"];
Yl.prototype.Oqb=function(R){var Z=R.code,B=a.ey;return!B(Z,a.UF)&&!B(Z,a.iW)&&!B(Z,a.yt)};Yl.prototype.Ws=function(R){var Z=R.target.tagName.toLowerCase(),B=R.target.getAttribute("type"),o=a.ey(R.code,a.Ic);
if(this.KO.indexOf(Z)!=-1&&this.Oqb(R)&&!(o&&Z=="input"&&B=="range")&&!(Z=="input"&&B=="checkbox")||Z=="button"&&(o||a.ey(R.code,a.sh)))return;
if(a.ORR(R)){R.preventDefault()}this.UN.ORF(a.OtL(R));this.oZ("down")};Yl.prototype.Ca=function(R){if(a.ey(R.code,a.OIE))this.UN.reset();
this.UN.ORu(a.OtL(R));var Z=R.target.tagName.toLowerCase();if(this.KO.indexOf(Z)!=-1&&this.Oqb(R))return;
if(a.ORR(R)){R.preventDefault()}this.oZ("up")};Yl.prototype.oZ=function(R){var Z=this.UN,B=this.E$(),o=B!=null&&B.C.length!=0;
if(this.zO.uK()!=null){if(Z.R(a.UF)){this.zO.Ohj()}return}this.OlL();var r=this._N(a.iW),Y=Z.R(a.yt),E=Z.R(a.Fl);
if(r&&Z.R(a.sK)&&R=="down"){var p=new n(X.E.$),y=new n(X.E.K);p.B=A.Fp;if(E){p.data={d:"h_stepfwd"}}else{p.data={d:"h_stepbck"}}if(this.Yl.uK()!=null&&this.Yl.uK().uC()){}else this.j(p)}if(r){var p=new n(X.E.$),z=new n(X.E.e_),y=new n(X.E.K);
if(!Y)for(var u in GK.keys){var Q=GK.keys[u],H=!0;for(var T=0;T<Q.length;T++)if(!Z.R(Q[T]))H=!1;if(H){p.B=A.Pl;
if(u=="hue2"&&E)p.data={d:"auto",mc:3};else p.data={d:"start",ej:u}}}if(Z.R(a.l)){z.data=A.hs.FP(!0)}if(Z.R(a.zX)){if(Y)y.data={d:X.l.JT,fA:"csize"};
else y.data={d:X.l.GR,Kc:E}}if(Z.R(a.Da)){z.data=A.hs.FP()}if(Z.R(a.E)&&R=="down"){p.B=A.zr;if(E)p.data={d:S.Xs};
else{if(B.C.length==1&&B.C[0]!=0&&!B.q[B.C[0]].av())p.data={d:S.yz};else p.data={d:S.Xo}}}if(Z.R(a.hF)){if(E&&this.fL.Yh!=A.iY)y.data={d:X.l.JT,fA:"afw_fade"};
else if(Y){p.B=A.Uz;p.data={d:"applylast"}}else y.data={d:X.l.qg}}if(Z.R(a.OeB)){if(Y&&B.Fd(B.C[0])){p.B=A.zr;
p.data={d:S.yu}}else{p.B=A.zr;p.data={d:S.jY}}}if(Z.R(a.OYY)){y.data={d:X.l.zM,Fe:GG.ON}}if(Z.R(a.SV)){if(E){p.data=null;
if(Y)y.data={d:X.l.JT,fA:"finfo"};else z.data={DG:"inverse"}}else if(Y)y.data={d:X.l.JT,fA:"isize"}}if(Z.R(a.OX$)){p.B=A.zr;
p.data={d:S.EI}}if(Z.R(a.qQ)){y.data={d:X.l.JT,fA:"preferences"}}if(Z.R(a.xu)){if(E){p.B=A.zr;p.data={d:S.vN}}else y.data={d:X.l.JT,fA:"newproject"}}if(Z.R(a.Oam)){y.data={d:X.l.Vg};
Z.reset()}if(Z.R(a.iS)){y.data={d:X.l.OGO};Z.reset()}if(Z.R(a.qr)){y.data={d:X.l.zM,Fe:GG.M$}}if(Z.R(a.Ols)&&R=="down"){if(E){if(Y)y.data={d:X.l.JT,fA:"saveforweb"};
else y.data={d:X.l.bf}}else y.data={d:X.l.Gk}}if(Z.R(a.g)){if(E){p.B=A.iY;p.data={d:"again"}}else y.data={d:X.l.nu,B:A.iY}}if(Z.R(a.ONG)){y.data={d:X.l.e$}}if(Z.R(a.OOj)){this._f.$j()}if(Z.R(a.s$)){y.data={d:X.l.DD}}if(Z.R(a.sW)||Z.R(a.Sk)){p.B=A.zr;
p.data={d:S.ET,_r:0};if(Z.R(a.sW))p.data._r=E?3:2;else p.data._r=E?0:1}if(Z.R(a.Ic)&&B){p.B=A.tz;p.data={d:"frompath",ua:[null,0,0]}}if(Z.R(a.OaF)){z.data=A.bG.Ll(0)}if(Z.R(a.sh)){var C=this.WY.length;
if(C>1)this._f.JS((this._f._O()+1)%C)}if(Z.R(a.OXK)){y.data={d:X.l.zM,Fe:GG.Rf}}if(Z.R(a.Ojf)){y.data={d:X.l.zM,Fe:GG.MM}}if(Z.R(a.XB)||Z.R(a.OXp)){p.B=A.vA;
p.data={d:"zoom",Fc:!0}}if(Z.R(a.sD)){p.B=A.vA;p.data={d:"zoom",Fc:!1}}if(Z.R(a.OVN)){p.B=A.vA;p.data={d:"adapt",k:"fitscr"}}if(Z.R(a.OGZ)){p.B=A.vA;
p.data={d:"adapt",k:"pixel"}}if(this.Yl.uK()!=null&&this.Yl.uK().uC()){}else{if(p.data)this.j(p);if(z.data)this.j(z);
if(y.data)this.j(y)}}if(!Z.R(a.iW)&&!Y&&!E&&R=="down"){var p=new n(X.E.$),y=new n(X.E.K),e=this.Dy.map[this.fL.Yh],$=-1;
for(var T=0;T<this.Dy.keys.length;T++)if(this.Dy.keys[T]&&this._N(this.Dy.keys[T]))$=T;if($!=-1){var x;
if(e.ha!=$)x=this.Dy.nk[$];if(e.ha==$)x=(e.OtM+1)%this.Dy.CI[$].length;var M=this.Dy.CI[$][x].B.id,m=this.fL.OJB;
if((m==null||m.indexOf(parseInt(M))!=-1)&&!this.lS.yL)y.data={d:X.l.nu,B:M}}if(Z.R(a.s$))y.data={d:X.l.zM,Fe:GG.IU,_r:2};
if(Z.R(a.Da))y.data={d:X.l.zM,Fe:GG.IU,_r:3};if(y.data)this.j(y);if(B&&B.C.length!=0){var G=B.q[B.C[0]],K=G.Fv;
if(K==1||K==3){var s=K==3?G.YQ(B).m:G.F$(),L=s.NM?B.w.Ej.join("")=="111"?1:2:0;p.B=A.vA;if(s&&Z.R(a.UF)&&L!=0){p.data={d:"mskView",k:0}}if(s&&Z.R(a.OXZ)){p.data={d:"mskView",k:L==1?0:1}}if(s&&Z.R(a.OXC)){p.data={d:"mskView",k:L==2?0:2}}if(p.data)this.j(p)}}var _=Z.hP();
if(o&&_!=-1&&this._N(a.sp[_])){var P=B.C[0],G=B.q[P],i=X.Olg(Math.round(100*G.opacity/255),_);p.B=A.zr;
p.data={d:S.EN,r:P,Zx:Math.round(255*i/100)};this.j(p)}if(Z.R(a.sh))this.Am(this.Qz==0?1:0);if(Z.R(a.hF))this.Am(this.Qz==0?2:0);
if(Z.R(a.OjD)&&!this.lS.yL){p.B=A.tz;p.data={d:"qmask"};this.j(p)}}if(!Z.R(a.iW)&&!Y&&E){var p=new n(X.E.$),y=new n(X.E.K);
if(Z.R(a.Oau))y.data={d:X.l.JT,fA:"shortcuts"};if(Z.R(a.OBy))y.data={d:X.l.JT,fA:"fill"};if(Z.R(a.OBa))y.data={d:X.l.JT,fA:"sel_feather"};
if(o&&(Z.R(a.XB)||Z.R(a.sD))){var P=B.C[0],G=B.q[P],w=Gd.pz,k=w.length,h=w.indexOf(G.QV);p.B=A.zr;p.data={d:S.ED,Zx:(h+k+(Z.R(a.XB)?1:-1))%k};
this.j(p)}if(y.data)this.j(y)}var p=new n(X.E.$),j=R=="down"&&(this._N(a.ZR)||this._N(a.ZE));if((r||Y)&&j){p=new n(X.E.e_);
p.data=A.lg.DF(r?"BckC":"FrgC");this.j(p)}else if(B&&j&&!this.lS.yL){if(B.O!=null){p=new n(X.E.e_);p.data={DG:"delete"}}else{p.B=A.zr;
p.data={d:S.vR}}this.j(p)}if(this.Yl.uK()!=null){if(Z.R(a.UF)){this.Yl.uK().ODB()}else{this.Yl.uK().oZ(B,this,this.fL,Z)}}if(this.fL.Yh==null)return;
var e=this.Ys();if(this.Yl.uK()==null||this.Dy.hE)e.oZ(B,this,this.fL,Z)};Yl.prototype._N=function(R){var Z=this.UN,B=this.Dy.map[this.fL.Yh].B,top=this.Yl.uK(),o=this.E$();
return Z.R(R)&&!B.Hc(R,o)&&(top==null||!top.Hc(R,o))};Yl.Okx=function(){if(!document.mozFullScreen&&!document.OeK){var R=document.body;
if(R.mozRequestFullScreen){R.mozRequestFullScreen()}else{R.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else{document.webkitCancelFullScreen()}}};
Yl.prototype.Am=function(R){var Z=this.Oay,B=this.dQ;this.Qz=R;var o=X.Zi,r=this.hK.G;if(o(r))this.Lx.removeChild(r);
var Y=this.zp.G;if(o(Y))this.Lx.removeChild(Y);var E=this.aM.G;if(o(E))Z.removeChild(E);var p=this._f.G;
if(o(p))Z.removeChild(p);var y=this.Gt.G;if(o(y))Z.removeChild(y);if(R==0){this.Lx.appendChild(r);this.Lx.appendChild(Y);
B.appendChild(Z);Z.appendChild(E);Z.appendChild(p);Z.appendChild(y)}if(R==1){this.Lx.appendChild(r);
Z.appendChild(p)}if(R==2){Z.appendChild(p)}this._f.Am(R==2?1:0);if(document.fullscreenEnabled){if(R==2)document.body.requestFullscreen();
else if(document.fullscreenElement)document.exitFullscreen()}this.tb()};function Rb(R){Gt.call(this);
if(R==null)return;this.ZA=null;this.N$=null;this.G=X.T("div","sbar"+" "+R);this.XM=new X.T("div","top");
this.XM.innerHTML="> <";this.G.appendChild(this.XM);this.zo=1;this.XM.addEventListener("click",this.OJc.bind(this),!1)}Rb.prototype=new Gt;
Rb.prototype.OJc=function(R){if(this.ZA!=null&&this.ZA<500&&this.zo==0)return;if(this.zo==0)this.Hi(!0);
else this.collapse(!0)};Rb.prototype.OW$=function(R){this.zo=R;this.XM.innerHTML=this.zo==0?"< >":"> <"};
Rb.prototype.OWm=function(){var R=new n(X.E.K,!0);R.data={d:X.l.BS};this.j(R)};Rb.prototype.Hi=function(R){this.OW$(1);
if(R)this.OWm()};Rb.prototype.collapse=function(R){this.OW$(0);if(R)this.OWm()};Rb.prototype.Kh=function(){return this.zo==1};
function yu(R){Rb.call(this,"vcolumn");this.Xu=R;this.KS();this.aj=X.T("div");this.aj.setAttribute("style","cursor:default;");
this.OjI=this.OJQ.bind(this);this.ODx=this.ODa.bind(this);this.OqB=this.ODj.bind(this);X.dj(this.G,this.OjI);
this.G.appendChild(this.aj);this.nR=X.T("div","");this.aj.appendChild(this.nR);this.zc=null;this.zd=X.T("div","float");
this.IE=[];this.Oq_=null;this.Oql=0}yu.prototype=new Rb;yu.prototype.OJQ=function(R){if(R.target!=this.G)return;
if(!this.Kh())return;this.Oq_=X.$R(R,document.body);this.Oql=this.Xu;X.sV(document,this.ODx);X.HV(document,this.OqB)};
yu.prototype.ODa=function(R){var Z=X.$R(R,document.body);this.Xu=this.Oql+this.Oq_.x-Z.x;this.KS();var B=new n(X.E.K,!0);
B.data={d:X.l.BS};this.j(B)};yu.prototype.ODj=function(R){X.mw(document,this.ODx);X.m_(document,this.OqB)};
yu.prototype.ODq=function(R){R.v("showFloat",this.ONk,this);R.v("hideFloat",this.CS,this);this.IE.push(R);
R.parent=this;this.aj.appendChild(R.G)};yu.prototype.OD$=function(R){var Z=this.IE[R];Z.removeEventListener("showFloat",this.ONk,this);
Z.removeEventListener("hideFloat",this.CS,this);this.IE.splice(R,1);Z.parent=null;this.aj.removeChild(Z.G)};
yu.prototype.ODK=function(){return this.IE.length};yu.prototype.eS=function(){for(var R=0;R<this.IE.length;
R++)this.IE[R].eS()};yu.prototype.ONk=function(R){this.CS(R);this.nR.appendChild(this.zd);this.zc=R.currentTarget.lL;
this.zd.appendChild(this.zc);var Z=R.currentTarget.Tw(),B="";if(Z.x!=0)B+="width : "+Z.x+"px;";if(Z.y!=0)B+="height: "+Z.y+"px;";
this.zd.setAttribute("style",B);this.YH(this.ZA,this.N$)};yu.prototype.CS=function(R){this.eS();if(this.zc){this.nR.removeChild(this.zd);
this.zd.removeChild(this.zc);this.zc=null}};yu.prototype.KS=function(){this.G.setAttribute("style","width: "+this.Xu+"px; padding-left:3px; cursor:ew-resize;")};
yu.prototype.Hi=function(R){this.KS();this.CS();for(var Z=0;Z<this.IE.length;Z++)this.IE[Z].Hi();Rb.prototype.Hi.call(this,R)};
yu.prototype.collapse=function(R){this.G.removeAttribute("style");for(var Z=0;Z<this.IE.length;Z++)this.IE[Z].collapse();
Rb.prototype.collapse.call(this,R)};yu.prototype.YH=function(R,Z){this.ZA=R;this.N$=Z;var B=this.IE.length,o=this.Kh();
Z-=6;if(B==0)return;R=this.Xu;var r=Z;for(var Y=0;Y<B-1;Y++){var E=this.IE[Y],p=E.OtY();E.YH(R,o?p:Z);
r-=p}this.IE[B-1].YH(R,o?r:Z)};function yD(R){Gt.call(this);this.G=X.T("div");this.aj=null;this.SR=0;
this.SX=0;this.Oqf=R;this.OjL=this.mz.bind(this);this.OqD=this.KV.bind(this);this.OqT=this.qK.bind(this);
this.YM=null;this.zQ=null;this.nX=null;X.dj(this.G,this.OjL);var Z=this.G,o="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
Z.addEventListener("touchmove",X.Vy,!1);this.OJp=!0;this.mA=[];var B=this.OWy=X.T("div");B.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.G.appendChild(B);var r=["<img style=\"height:22px; cursor:pointer;\" title=\"Try Cartoon Animator!\" src=\"img/cta.png\" />",[0,13,3],[0,13,4],[0,13,5],"Blog","API",o+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",o+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var Y=0;Y<r.length;Y++){var E=new Gz(r[Y]);this.mA.push(E);E.G.setAttribute("style","margin-left:4px;cursor:pointer;");
E.v("click",this.Tc,this)}}yD.prototype=new Gt;yD.prototype.c=function(){var R=this.OWy;X.vO(R);for(var Z=0;
Z<this.mA.length;Z++){var B=this.mA[Z];B.c();var o=Date.now()<1580658412982&&!Gx.Js();if(Z!=0||o)R.appendChild(B.G)}};
yD.prototype.Tc=function(R){var Z=this.mA.indexOf(R.currentTarget);if(Z==1){if(window.showCap)window.showCap();
return}var B="CTA  issues learn blog api twitter facebook".split(" "),o="//bit.ly/34sCf9r  //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //twitter.com/photopeacom //www.facebook.com/photopea/".split(" "),r=window.ga;
if(r)r("send","event","Links",B[Z]);var Y=new n(X.E.K,!0);Y.data={d:X.l.ex,link:o[Z]};this.j(Y)};yD.prototype.mz=function(R){if(R.Ojl){R.preventDefault();
R.stopPropagation()}var Z=window;X.sV(Z,this.OqD);X.HV(Z,this.OqT);Z=this.aj;this.YM=new VP(parseInt(Z.style.left),parseInt(Z.style.top));
this.zQ=X.$R(R,this.G);this.nX=Z.getBoundingClientRect()};yD.prototype.KV=function(R){var Z=X.$R(R,this.G),B=this.YM.x+Z.x-this.zQ.x,o=this.YM.y+Z.y-this.zQ.y,r=this.SR-this.nX.width,Y=this.SX-this.nX.height;
if(this.Oqf)this.aj.style.left=Math.min(0,Math.max(r,B))+"px";else this.aj.style.top=Math.min(0,Math.max(Y,o))+"px";
if(B-10>0){this.zQ.x=Z.x-10;this.YM.x=0}if(B+10<r){this.zQ.x=Z.x+10;this.YM.x=r}};yD.prototype.qK=function(R){var Z=window;
X.mw(Z,this.OqD);X.m_(Z,this.OqT)};yD.prototype.ODr=function(R){if(this.aj){this.G.removeChild(this.aj)}this.aj=R;
this.G.appendChild(R);R.style.position="absolute";if(this.Oqf)R.style.left=0;else R.style.top=0};yD.prototype.YH=function(R,Z){this.SR=R;
this.SX=Z;this.G.setAttribute("style","width: "+R+"px; height: "+Z+"px; overflow:hidden; white-space: nowrap;");
var B=this.aj.firstChild,o=this.OWy,r=B?B.firstChild.getBoundingClientRect().width+80:1e9,Y=450,E=this.OJp&&R>r+Y,p=X.b_,y=p("b`bRH"),z=p("SU\\VOAV");
o[y][z]=E?"":p("][WK")};function RA(){Gt.call(this);this.$V=null;this.sC=RA.iS;this.OWD="";this.G=X.T("div","rightbar");
this.JL=[new yu(380),new yu(265)];this.IE=[new Ov,new Ov,new Ov,new Ov,new Ov];this.OWZ=[]}RA.prototype=new Gt;
RA.prototype.c=function(){var R=this.sC;for(var Z=0;Z<R.length;Z++)R[Z].Jd.c()};RA.iS=[{Jd:new VC,AL:2},{Jd:new GQ,AL:3},{Jd:new Rp,AL:1},{Jd:new yq(!0),AL:4},{Jd:new ys,AL:0},{Jd:new OL,AL:2},{Jd:new Er,AL:4},{Jd:new Os,AL:4},{Jd:new yJ,AL:2},{Jd:new yP,AL:0},{Jd:new OZ,AL:2},{Jd:new Yz,AL:1},{Jd:new yb,AL:3},{Jd:new X$,AL:2},{Jd:new yq(!1),AL:4},{Jd:new Vm,AL:1},{Jd:new Ek,AL:4},{Jd:new YA,AL:2},{Jd:new Eh,AL:0}];
RA.prototype.ODZ=function(R){for(var Z=0;Z<R.length;Z++){var B=R[Z],o=new EK(B);this.sC.push({Jd:o,AL:2});
this.OWZ.push(o.Za)}this.XT()};RA.prototype.lU=function(R,Z){this.$V=R;var B=this.sC;for(var o=0;o<B.length;
o++)B[o].Jd.lU(R,Z);if(Z==GG.zZ||Z==GG.gy)this.XT()};RA.prototype.YH=function(R,Z){this.ZA=R;this.N$=Z;
this.JL[0].YH(R,Z);this.JL[1].YH(R,Z)};RA.prototype.XT=function(){var R=this.$V,Z=this.ZA;if(R==null||Z==0)return;
var B=R.NV.concat(this.OWZ);if(JSON.stringify(B)!=this.OWD){this.OWD=JSON.stringify(B);X.vO(this.G);
var o=[];for(var r=0;r<this.JL.length;r++){var Y=this.JL[r];o[r]=Y.Kh();while(Y.ODK()!=0)Y.OD$(0);Y.Hi()}var E=[];
for(var r=0;r<this.IE.length;r++){var p=this.IE[r];p.Hi();while(p.OtD()!=0)p._t(0);E.push(0)}for(var r=0;
r<B.length;r++){var y=this.ONO(B[r].toString());this.IE[y.AL]._X(y.Jd);this.IE[y.AL].JS(0);E[y.AL]++}var z=[];
for(var r=0;r<E.length;r++){if(E[r]==0)continue;var u=r<2||Z<500?1:0,Y=this.JL[u];Y.parent=this;Y.ODq(this.IE[r]);
z[u]=!0}for(var r=0;r<this.JL.length;r++)if(z[r])this.G.appendChild(this.JL[r].G);this.JL[0].collapse();
if(Z<500||this.$V.compact||!o[1]){this.JL[1].collapse()}var Q=new n(X.E.K,!0);Q.data={d:X.l.BS};this.j(Q)}};
RA.prototype.ONO=function(R){for(var Z=0;Z<this.sC.length;Z++)if(this.sC[Z].Jd.Za==R)return this.sC[Z]};
RA.prototype.ODu=function(R){var Z=this.ONO(R);this.IE[Z.AL]._X(Z.Jd)};RA.prototype.qD=function(R,Z,B){var o=this.sC;
for(var r=0;r<o.length;r++)o[r].Jd.qD(R,Z,B)};RA.prototype.JH=function(R,Z,B,o,r){var Y=this.sC;for(var E=0;
E<Y.length;E++)Y[E].Jd.JH(R,Z,B,o,r)};RA.prototype.TU=function(R,Z,B,o,r){var Y=this.sC;for(var E=0;
E<Y.length;E++)Y[E].Jd.TU(R,Z,B,o,r)};RA.prototype.YF=function(R,Z,B,o,r){var Y=this.sC;for(var E=0;
E<Y.length;E++)Y[E].Jd.YF(R,Z,B,o,r)};function Rj(R,Z){Rb.call(this,"toolbar");this.OWd=null;this.Hh=X.T("div","tools");
this.G.appendChild(this.Hh);this.yl=null;this.OjS=Z;this.NU=null;this.Dy=null;this.$m=null;this.Qs=null;
this.oo=null;this.OyK(R);this.Ky=new EN;this.Ky.v(X.E.Q,this.bs,this);this.Ky.parent=this;this.Dk=new EN;
this.Dk.v(X.E.Q,this.bs,this);this.Dk.parent=this;this.Lp=new Gz(X.bQ("lrs/mask"),!1,[6,6,1]);this.Lp.G.style.marginTop="6px";
this.Lp.v("click",function(o){var r=new n(X.E.$,!0);r.B=A.tz;r.data={d:"qmask"};this.j(r)},this);this.nj=X.T("span","scont");
this.zP=X.T("button","switch");this.zP.textContent="\u21F5";this.Xb=X.T("button","switch");this.Xb.textContent="D";
var B=this.OqO.bind(this);this.zP.addEventListener("click",B,!1);this.Xb.addEventListener("click",B,!1);
this.nj.appendChild(this.zP);this.nj.appendChild(this.Xb)}Rj.prototype=new Rb;Rj.prototype.ODc=function(R,Z){this.NU=Z;
if(R==null||R.C.length==0)return;var B=R.Lp()!=null,o=R.w.Ej,r=R.q[R.C[0]].Fv,Y=r==1||r==3||B||o[0]+o[1]+o[2]==1;
this.Ky.OEN(Y);this.Dk.OEN(Y);this.Lp.o(B)};Rj.prototype.OyK=function(R){this.OWd=R;this.$m=[];this.Qs=[];
this.oo=[];this.Dy=[];var Z=R.CI;if(this.yl){var B=[],o=this.yl.OJB;for(var r=0;r<Z.length;r++){if(Z[r]=="---"){B.push("---");
continue}var Y=[];for(var E=0;E<Z[r].length;E++){var p=Z[r][E];if(o==null||o.indexOf(parseInt(p.B.id))!=-1)Y.push(p)}if(Y.length>0)B.push(Y)}Z=B}for(var r=0;
r<Z.length;r++){if(Z[r]=="---"){this.oo.push(null);this.Qs.push("---");continue}var y=[],z=this.$m.length;
for(var E=0;E<Z[r].length;E++){var p=Z[r][E].B;this.Dy.push(p);var u=new yv(p.name,R.keys[r],p.$G,this.$m.length,r,Z[r].length>1);
this.$m.push(u);if(E==0)this.Qs.push(u);u.v(X.E.Q,this.gO,this);u.v("mover",this.WM,this);y.push({name:p.name,Zz:p.$G,vt:R.keys[r]?R.keys[r].Yw:""})}if(y.length==1)this.oo.push(null);
else{var Q=new OD(y);Q.OjJ=z;Q.ha=r;this.oo.push(Q);Q.v("select",this.Oqk,this);Q.parent=this}}};Rj.prototype.YH=function(R,Z){var B=Z-11,o=32;
if(1<X.D()&&X.D()<1.5)o=18+14*(1/X.D());var r=(this.Qs.length-3)*o+3*5+61+18,Y=Math.min(1,B/r);if(.75<=Y){this.Hh.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+Y+","+Y+");");
this.G.setAttribute("style","height:"+(Z-2)+"px; overflow:hidden")}else{B-=4;this.Hh.setAttribute("style","height: "+B+"px;  width:"+Math.ceil(r/B)*34+"px");
this.G.setAttribute("style","")}};Rj.prototype.c=function(){for(var R=0;R<this.$m.length;R++)this.$m[R].c();
for(var R=0;R<this.oo.length;R++)if(this.oo[R])this.oo[R].c();this.zP.setAttribute("title",Ok.get([22,7,0])+" (X)");
this.Xb.setAttribute("title",Ok.get([22,7,1])+" (D)")};Rj.prototype.gO=function(R){var Z=new n(X.E.K,!0);
Z.data={d:X.l.nu,B:this.Dy[R.id].id};this.j(Z)};Rj.prototype.Oqk=function(R){var Z=R.target.OjJ+R.target.ib()[0];
this.$m[Z].qK(null)};Rj.prototype.WM=function(R){var Z=this.NU,B=new n(X.E.K,!0);B.data={d:X.l.DJ};this.j(B);
var o=R.target,r=this.oo[o.ha];if(r==null)return;var Y=o.G.getBoundingClientRect(),B=new n(X.E.K,!0);
B.data={d:X.l.dF,Jd:r,x:Y.left+Y.width+8,y:Y.top};if(Z==null||!(Z.R(a.NF)||Z.R(a.iW)))this.j(B)};Rj.prototype.bs=function(R){var Z=new n(X.E.K,!0);
Z.data={d:X.l.zM,Fe:GG.IU,_r:R.target==this.Ky?0:1,k:R.target.NB()};this.j(Z)};Rj.prototype.OqO=function(R){var Z=new n(X.E.K,!0);
Z.data={d:X.l.zM,Fe:GG.IU,_r:R.currentTarget==this.zP?2:3};this.j(Z)};Rj.prototype.cG=function(R){var Z=-1;
for(var B=0;B<this.Dy.length;B++)if(this.Dy[B].id==R)Z=B;for(var B=0;B<this.$m.length;B++){var o=this.$m[B];
o.OqI(Z==B)}if(Z==-1)return;this.Qs[this.$m[Z].ha]=this.$m[Z];X.vO(this.Hh);var r=this.Qs;for(var B=0;
B<r.length;B++){if(r[B]=="---")this.Hh.appendChild(X.T("hr"));else this.Hh.appendChild(r[B].G)}if(!this.OjS)return;
this.Hh.appendChild(this.Ky.G);this.Hh.appendChild(this.nj);this.Hh.appendChild(this.Dk.G);this.Hh.appendChild(this.Lp.G)};
Rj.prototype.qD=function(R,Z){this.cG(Z.Yh)};Rj.prototype.lU=function(R,Z){this.yl=R;if(Z==GG.gy){this.OyK(this.OWd);
this.cG(R.Yh)}this.Ky.Zc(R.Ky);this.Dk.Zc(R.Dk)};function yv(R,Z,B,o,r,Y){Gt.call(this);this.z_=0;this.OjN=this.Oqj.bind(this);
this.ha=r;this.sY=o;this.pk=R;this.ONi=Z;this.OBH=Y;this.$G=B;this.G=X.T("button","");this.G.innerHTML=X.bQ(this.$G);
if(this.OBH){var E=X.T("img","gsicon");E.setAttribute("src",PIMG["tools/corner"]);E.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");
this.G.appendChild(E)}this.c();X.dj(this.G,this.mz.bind(this));this.G.addEventListener("click",this.qK.bind(this),!1);
this.G.addEventListener("contextmenu",yv.uc,!1)}yv.prototype=new Gt;yv.uc=function(R){R.stopPropagation();
R.preventDefault();return!1};yv.prototype.c=function(){var R=this.ONi?" ("+this.ONi.Yw+")":"";this.G.setAttribute("title",Ok.get(this.pk)+R)};
yv.prototype.mz=function(R){this.z_=setTimeout(this.OjN,160)};yv.prototype.qK=function(R){clearTimeout(this.z_);
var Z=new n(X.E.Q,!1);Z.target=this;Z.id=this.sY;this.j(Z)};yv.prototype.Oqj=function(R){var Z=new n("mover",!1);
Z.target=this;Z.id=this.sY;this.j(Z)};yv.prototype.OqI=function(R){this.G.setAttribute("class",R?"toolbtn active":"toolbtn")};
function Ea(){Gt.call(this);this.G=X.T("div","topbar");this.XQ=X.T("span","");this.ONb=0;this.G.appendChild(this.XQ);
this.U$=null;this.nI=null;this.uR=[];this.NV=[];var R=this.mz.bind(this);for(var Z=0;Z<Ea.data.length;
Z++){var B=X.T("button");this.uR.push(B);this.XQ.appendChild(B);B.addEventListener("mouseover",R,!1);
X.dj(B,R)}this.SW=new Gz([0,13,0],!1,null,!0);this.SW.v("click",this.Oys,this);this.G.appendChild(this.SW.G);
this.iO=new Gz(X.bQ("tools/zoom",null,"autoscale"),!1,[12,86]);this.iO.v("click",this.Oys,this);this.G.appendChild(this.iO.G)}Ea.prototype=new Gt;
Ea.prototype.Oyr=function(){if(this.NV.length!=0)return;for(var R=0;R<Ea.data.length;R++){var Z=Ea.data[R],B=new OD(Z.items,Z.yx);
B.parent=this;this.NV.push(B)}this.c()};Ea.prototype.c=function(){this.SW.c();this.iO.c();for(var R=0;
R<this.uR.length;R++)this.uR[R].textContent=Ok.get(Ea.data[R].name);this.OEj();for(var R=0;R<this.NV.length;
R++)this.NV[R].c()};Ea.prototype.Oys=function(R){var Z=new n(X.E.K,!0);if(R.target==this.SW)Z.data={d:X.l.JT,fA:"account"};
else Z.data={d:X.l.qg};this.j(Z)};Ea.prototype.Oqt=function(R,Z){this.U$=R;this.nI=Z};Ea.prototype.lU=function(R,Z){this.nI=R;
if(Z==GG.gy){var B=R.OaE;X.vO(this.XQ);for(var o=0;o<this.uR.length;o++){if(B==null||B[o]==1||B[o]instanceof Array)this.XQ.appendChild(this.uR[o]);
if(B!=null&&B[o]instanceof Array){this.Oyr();this.NV[o].OSq(B[o])}}this.G.removeChild(this.SW.G);this.G.removeChild(this.iO.G);
if(R.Qi)this.G.appendChild(this.SW.G);this.G.appendChild(this.iO.G)}this.OEj()};Ea.prototype.OEj=function(R,Z){var B=this.SW,o=12255232;
if(Gx.oM())o=Gx.Js()?43520:16755200;B.G.setAttribute("style","color:#ffffff; background-color:#"+O.ue(o))};
Ea.prototype.mz=function(R){this.Oyr();var Z=this.uR.indexOf(R.currentTarget),B=this.NV[Z];if(R.type=="mouseover"&&!X.Zi(this.NV[this.ONb].G))return;
if(X.Zi(B.G))return;R.Ojl=!0;this.ONb=Z;for(var Z=0;Z<Ea.data.length;Z++)this.NV[Z].update(this.U$,this.nI);
var o=R.target.getBoundingClientRect(),r=new n(X.E.K,!0);r.data={d:X.l.dF,Jd:B,x:o.left,y:o.top+o.height+2,OXH:!0};
this.j(r)};Ea.OEI=function(R){var Z={name:[0,5],items:[{name:[7,0],vt:"Ctrl+A"},{name:[7,1],vt:"Ctrl+D",H:function(o){return{H:o!=null&&o.O!=null}}},{name:[7,2],vt:"Shift+Ctrl+I",H:function(o){return{H:o!=null&&o.O!=null}},vU:!0},{name:[7,11],AP:!0,H:function(o){return{H:o!=null&&o.C.length!=0&&!o.q[o.C[0]].rect.Pa()}}},{name:"Magic Cut",AP:!0,H:function(o){return{H:o!=null&&o.C.length!=0&&!o.q[o.C[0]].rect.Pa()}},vU:!0},{name:[7,8],AP:!0},{name:[7,3],vU:!0,sub:[{name:[7,9],AP:!0,H:function(o){return{H:o!=null&&o.O!=null}}},{name:[19,3,0],AP:!0,H:function(o){return{H:o!=null&&o.O!=null}}},{name:[7,4],AP:!0,H:function(o){return{H:o!=null&&o.O!=null}}},{name:[7,5],AP:!0,H:function(o){return{H:o!=null&&o.O!=null}}},{name:[7,6],AP:!0,H:function(o){return{H:o!=null&&o.O!=null}},vt:"Shift+F6"}]},{name:[7,10],H:function(o){return{H:o!=null&&o.O!=null}}}],yx:[{z:X.E.e_,i:A.hs.FP(!0)},{z:X.E.e_,i:A.hs.FP()},{z:X.E.e_,i:{DG:"inverse"}},{z:X.E.K,i:{d:X.l.JT,fA:"redge"}},{z:X.E.K,i:{d:X.l.JT,fA:"magiccut"}},{z:X.E.K,i:{d:X.l.JT,fA:"crange"}},{sub:[{z:X.E.K,i:{d:X.l.JT,fA:"sel_border"}},{z:X.E.K,i:{d:X.l.JT,fA:"sel_smoothness"}},{z:X.E.K,i:{d:X.l.JT,fA:"sel_expand"}},{z:X.E.K,i:{d:X.l.JT,fA:"sel_contract"}},{z:X.E.K,i:{d:X.l.JT,fA:"sel_feather"}}]},{z:X.E.K,i:{d:X.l.nu,B:A.pb}}]};
if(R){var B=Z.items.length-1;Z.items.splice(B,0,{name:[10,16],vt:"Alt+Ctrl + T"});Z.yx.splice(B,0,{z:X.E.K,i:{d:X.l.nu,B:A.iY}})}return Z};
Ea.data=[{name:[0,0],items:[{name:[5,3],vt:"Alt+Ctrl+N",title:[11,7],AP:!0},{name:[1,0],vt:"Ctrl+O",AP:!0},{name:[1,11],AP:!0,H:function(R,Z){return{H:R!=null}}},{name:[1,5],AP:!0,vU:!0},{name:[11,0]},{name:[1,1],vU:!0,sub:[{name:"PNG",vt:"Imgur.com",H:function(R,Z){return{H:R!=null&&Z.zx}}}]},{name:"Save ...",vt:"Ctrl+S",H:function(R,Z){var B=Ok.get([1,2])+(R==null?"":R.eJ?" (Smart Object)":R.eq?" (Google Drive)":"");
return{H:R!=null&&(R.eJ!=null||R.eo!=null&&R.eo.zw!=null||R.eq!=null||Z.hB.save!=null),Ni:B}}},{name:[1,3],H:function(R,Z){return{H:R!=null&&Z.zx}}},{name:[1,8],sub:function(){var R=GI.Hr(0),Z=[];
for(var B=0;B<R.length;B++)Z.push({name:R[B],vt:"."+R[B].toLowerCase()});Z.push({name:[0,14],sub:function(){var R=GI.Hr(1),Z=[];
for(var B=0;B<R.length;B++)Z.push({name:R[B],vt:"."+R[B].toLowerCase()});return Z}()});return Z}()},{name:[1,9],AP:!0,H:function(R,Z){return{H:R!=null}},vU:!0},{name:"File Info",AP:!0,H:function(R,Z){return{H:R!=null}},vU:!0,vt:"Alt+Shift+Ctrl+I"},{name:[1,10]}],yx:[{z:X.E.K,i:{d:X.l.JT,fA:"newproject"}},{z:X.E.K,i:{d:X.l.Vg}},{z:X.E.K,i:{d:X.l.Vg,OqM:!0}},{z:X.E.K,i:{d:X.l.JT,fA:"open_from_url"}},{z:X.E.K,i:{d:X.l.JT,fA:"camera"}},{sub:[{z:X.E.K,i:{d:X.l.OOT}}]},{z:X.E.K,i:{d:X.l.Gk}},{z:X.E.K,i:{d:X.l.bf}},{sub:function(){var R=GI.Hr(0),Z=[];
for(var B=0;B<R.length;B++)Z.push({z:X.E.K,i:{d:X.l.JT,fA:"saveforweb",Kj:B}});Z.push({sub:function(){var o=GI.Hr(0).length,R=GI.Hr(1),Z=[];
for(var B=0;B<R.length;B++)Z.push({z:X.E.K,i:{d:X.l.JT,fA:"saveforweb",Kj:o+B}});return Z}()});return Z}()},{z:X.E.K,i:{d:X.l.JT,fA:"eassets"}},{z:X.E.K,i:{d:X.l.JT,fA:"finfo"}},{z:X.E.K,i:{d:X.l.JT,fA:"script"}}]},{name:[0,1],items:[{name:[2,8]},{name:[2,0],vt:"Shift+Ctrl + Z"},{name:[2,1],vt:"Ctrl + Z",vU:!0},{name:[2,11],vt:"Shift+Ctrl + F",vU:!0,AP:!0,H:function(R,Z){return{H:Oz.OxL(R)&&Z.Yh!=A.iY}}},{name:[5,0],vt:"Ctrl + X"},{name:[5,1],vt:"Ctrl + C"},{name:[5,7],vt:"Shift + Ctrl + C"},{name:[5,2],vt:"Ctrl + V",H:function(R,Z){return{H:window.ClipboardItem||Z.Ev!=null||Z.Qp!=null||Z.OJm!=null}}},{name:[2,2],H:function(R){return{H:R!=null&&R.O!=null}},vt:"Delete",vU:!0},{name:[2,3],H:function(R){return{H:R!=null}},AP:!0,vt:"Shift + F5"},{name:[14,9],H:function(R){return{H:R!=null}},AP:!0,vU:!0},{name:[10,46],H:function(R){return{H:A.Fo.ORG(R)}}},{name:[10,16],vt:"Alt+Ctrl + T"},{name:[2,4],sub:RG.OUm()},{name:[2,10],vU:!0},{name:[12,87],sub:[{name:[12,62],H:function(R){return{H:R!=null}}},{name:[9,3],H:function(R){return{H:R!=null}}},{name:[10,31],H:function(R){return{H:R!=null&&R.C.length!=0&&R.q[R.C[0]].add.vmsk!=null}}}]},{name:[12,79],AP:!0,vt:"Ctrl + K"},{name:[1,13],AP:!0}],yx:[{z:X.E.$,B:A.Fp,i:{d:"h_undoredo"}},{z:X.E.$,B:A.Fp,i:{d:"h_stepfwd"}},{z:X.E.$,B:A.Fp,i:{d:"h_stepbck"}},{z:X.E.K,i:{d:X.l.JT,fA:"afw_fade"}},{z:X.E.K,i:{d:X.l.DD}},{z:X.E.K,i:{d:X.l.GR}},{z:X.E.K,i:{d:X.l.GR,Kc:!0}},{z:X.E.K,i:{d:X.l.e$}},{z:X.E.e_,i:{DG:"delete"}},{z:X.E.K,i:{d:X.l.JT,fA:"fill"}},{z:X.E.K,i:{d:X.l.JT,fA:"stroke"}},{z:X.E.$,B:A.Uz,i:{d:"start",Ln:"\0\0\x03\x82"}},{z:X.E.K,i:{d:X.l.nu,B:A.iY}},{sub:RG.OKq()},{z:X.E.$,B:A.zr,i:{d:S.Oan}},{sub:[{z:X.E.K,i:{d:X.l.Be,Fe:0}},{z:X.E.K,i:{d:X.l.Be,Fe:1}},{z:X.E.K,i:{d:X.l.Be,Fe:2}}]},{z:X.E.K,i:{d:X.l.JT,fA:"preferences"}},{z:X.E.K,i:{d:X.l.JT,fA:"locstor"}}]},{name:[0,2],items:[{name:[3],sub:function(){var R=[];
for(var Z in GK.names){R.push({name:GK.names[Z],AP:b[Z]!=null,vt:a.ORd(GK.keys[Z]),vU:GK.OqU.indexOf(Z)!=-1});
if(Z=="selc")R.push({name:[19,7,0],vt:"Ctrl+Shift + U"})}return R}()},{name:[4,16,0],H:function(R){return{H:R!=null&&R._W(!1)}}},{name:[4,16,1],H:function(R){return{H:R!=null&&R._W(!1)}}},{name:[4,16,2],H:function(R){return{H:R!=null&&R._W(!1)}},vU:!0},{name:[11,11],H:function(R){return{H:R!=null&&R._W(!1)}},vU:!0},{name:[11,3],AP:!0,vt:"Alt+Ctrl+C"},{name:[11,10],AP:!0,vt:"Alt+Ctrl+I"},{name:[2,4],sub:[{name:"90\xB0 \u21BB",H:function(R){return{Ni:Ok.get([2,5])+" 90\xB0 \u21BB"}}},{name:"90\xB0 \u21BA",H:function(R){return{Ni:Ok.get([2,5])+" 90\xB0 \u21BA"}}},{name:"180\xB0 ",H:function(R){return{Ni:Ok.get([2,5])+" 180\xB0"}}},{name:[2,6,[22,4,2]]},{name:[2,6,[22,4,3]]}]},{name:[11,12,1],H:function(R){return{H:R!=null&&R.O!=null}}},{name:[11,12,0],H:function(R){return{H:R!=null}},vt:"Ctrl + ."},{name:[11,12,2],H:function(R){return{H:R!=null}}}],yx:[{sub:function(){var R=[];
for(var Z in GK.names){R.push({z:X.E.$,B:A.Pl,i:{d:"start",ej:Z}});if(Z=="selc")R.push({z:X.E.e_,i:{DG:"desaturate"}})}return R}()},{z:X.E.e_,i:{DG:"levels",UU:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{z:X.E.e_,i:{DG:"levels",UU:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{z:X.E.e_,i:{DG:"levels",UU:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{z:X.E.K,i:{d:X.l.JT,fA:"vbitmap"}},{z:X.E.K,i:{d:X.l.JT,fA:"csize"}},{z:X.E.K,i:{d:X.l.JT,fA:"isize"}},{sub:[{z:X.E.e_,i:A.HQ.vp(!0,90)},{z:X.E.e_,i:A.HQ.vp(!0,-90)},{z:X.E.e_,i:A.HQ.vp(!0,-180)},{z:X.E.e_,i:A.HQ.vp(!1,"Hrzn")},{z:X.E.e_,i:A.HQ.vp(!1,"Vrtc")}]},{z:X.E.$,B:A.NH,i:{d:"cropbysel",OYI:0}},{z:X.E.e_,i:A.bG.Ll(0)},{z:X.E.e_,i:{DG:"revealAll",UU:{classID:"RvlA"}}}]},{name:[0,3],items:[{name:[5,3],sub:[{name:[0,3]},{name:[0,4]},{name:[6,49],vt:"Ctrl + J"}]},{name:[6,0],vt:"Ctrl + J"},{name:[11,4],H:function(R){return{H:R!=null}}},{name:[5,4],vU:!0},{name:[11,6],vU:!0,H:function(R){return{H:R!=null&&R.C.length!=0}},sub:Ev.OhQ(!0)},{name:[6,48,1],sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],vU:!0,sub:Ev.OJI()},{name:[6,2],sub:[{name:[6,4],H:function(R){return{H:R!=null&&R.C.length!=0&&R.q[R.C[0]].F$()==null}}},{name:[6,5,0],H:function(R){return{H:R!=null&&R.C.length!=0&&R.q[R.C[0]].F$()==null}}},{name:[6,5,1],H:function(R){return{H:R!=null&&R.C.length!=0&&R.q[R.C[0]].F$()==null&&R.O!=null}}},{name:[6,5,2],H:function(R){return{H:R!=null&&R.C.length!=0&&R.q[R.C[0]].F$()==null&&R.O!=null}}},{name:[6,5,3],H:function(R){return{H:R!=null&&R.C.length!=0&&R.q[R.C[0]].F$()==null}},vU:!0},{name:[5,4],H:function(R){return{H:R!=null&&R.C.length!=0&&R.q[R.C[0]].F$()!=null}}},{name:[5,8],H:function(R){return{H:R!=null&&R.C.length!=0&&R.q[R.C[0]].F$()!=null&&R._W(!1,!0)}}},{name:"Enable/Disable",H:function(R){return{Ni:Ok.get([5,5])+"/"+Ok.get([5,6]),H:R!=null&&R.C.length!=0&&R.q[R.C[0]].F$()!=null}}}]},{name:[6,3],sub:[{name:[6,4],H:function(R){return{H:R!=null&&R.C.length!=0&&R.q[R.C[0]].add.vmsk==null}}},{name:[6,5,0],H:function(R){return{H:R!=null&&R.C.length!=0&&R.q[R.C[0]].add.vmsk==null}}},{name:[5,4],H:function(R){return{H:R!=null&&R.C.length!=0&&R.q[R.C[0]].add.vmsk!=null}}},{name:"Enable/Disable",H:function(R){return{Ni:Ok.get([5,5])+"/"+Ok.get([5,6]),H:R!=null&&R.C.length!=0&&R.q[R.C[0]].add.vmsk!=null}}}]},{name:[6,6,0],vt:"Alt+Ctrl+G",vU:!0,H:function(R){return{FX:R!=null&&R.C.length!=0&&R.q[R.C[0]].fa,H:R!=null&&R.Fd(R.C[0])}}},{name:"Smart Object",vU:!0,sub:[{name:[6,7]},{name:[1,0],H:function(R){return{H:R!=null&&R.C.length!=0&&R.q[R.C[0]].add.SoLd!=null}}}]},{name:[6,8],H:function(R){if(R==null||R.C.length==0)return{H:!1};
var Z=R.q[R.C[0]];if(Z.add.TySh||Z.add.SoLd||Z.add.SoCo||Z.add.GdFl||Z.add.PtFl)return{H:!0};return{H:!1}}},{name:[6,34],vU:!0,H:function(R){if(R==null||R.C.length==0)return{H:!1};
var Z=R.q[R.C[0]];return{H:Z.add.lmfx!=null&&!Z.av()}}},{name:[6,9],vU:!0,vt:"Ctrl+G"},{name:[6,55],vU:!0,sub:[{name:[6,56,0],vt:"Shift+Ctrl+]"},{name:[6,56,1],vt:"Ctrl+]"},{name:[6,56,2],vt:"Ctrl+["},{name:[6,56,3],vt:"Shift+Ctrl+["}]},{name:"Animation",sub:[{name:[18,5]}]},{name:[6,10],H:function(R){return{H:R!=null&&R.C.length==1&&R.C[0]!=0&&!R.q[R.C[0]].av()}},vt:"Ctrl+E"},{name:[6,12,0],H:function(R){return{H:R!=null&&R.C.length!=0&&(R.C.length>1||R.q[R.C[0]].av())}}},{name:[6,12,1]}],yx:[{sub:[{z:X.E.$,B:A.zr,i:{d:S.vN}},{z:X.E.$,B:A.zr,i:{d:S.FE}},{z:X.E.$,B:A.zr,i:{d:S.EI}}]},{z:X.E.$,B:A.zr,i:{d:S.NC}},{z:X.E.K,i:{d:X.l.JT,fA:"duplinto"}},{z:X.E.$,B:A.zr,i:{d:S.vR}},{sub:Ev.OfY(!0)},{sub:[{z:X.E.$,B:A.pK,i:{d:"newfill",ju:0}},{z:X.E.e_,i:A.zi.DF(1)},{z:X.E.e_,i:A.zi.DF(2)}]},{sub:Ev.Oqx()},{sub:[{z:X.E.$,B:A.zr,i:{d:S.At,zt:"RvlA"}},{z:X.E.$,B:A.zr,i:{d:S.At,zt:"HdAl"}},{z:X.E.$,B:A.zr,i:{d:S.At,zt:"RvlS"}},{z:X.E.$,B:A.zr,i:{d:S.At,zt:"HdSl"}},{z:X.E.$,B:A.zr,i:{d:S.At,zt:"Trns"}},{z:X.E.$,B:A.zr,i:{d:S.Uw}},{z:X.E.$,B:A.zr,i:{d:S.fq}},{z:X.E.$,B:A.zr,i:{d:S.yZ}}]},{sub:[{z:X.E.$,B:A.zr,i:{d:S.yc,OYA:!1}},{z:X.E.$,B:A.zr,i:{d:S.yc,OYA:!0}},{z:X.E.$,B:A.zr,i:{d:S.US}},{z:X.E.$,B:A.zr,i:{d:S.UB}}]},{z:X.E.$,B:A.zr,i:{d:S.yu}},{sub:[{z:X.E.e_,i:{DG:"newPlacedLayer"}},{z:X.E.e_,i:{DG:"placedLayerEditContents",UU:{classID:"placedLayerEditContents"}}}]},{z:X.E.e_,i:{DG:"rasterizeLayer",UU:{classID:"rasterizeLayer",null:OX.m$("Lyr",!0)}}},{z:X.E.$,B:A.zr,i:{d:S.fX}},{z:X.E.$,B:A.zr,i:{d:S.jY}},{sub:[{z:X.E.$,B:A.zr,i:{d:S.ET,_r:0}},{z:X.E.$,B:A.zr,i:{d:S.ET,_r:1}},{z:X.E.$,B:A.zr,i:{d:S.ET,_r:2}},{z:X.E.$,B:A.zr,i:{d:S.ET,_r:3}}]},{sub:[{z:X.E.$,B:A.zr,i:{d:S.ORY}}]},{z:X.E.$,B:A.zr,i:{d:S.yz}},{z:X.E.$,B:A.zr,i:{d:S.Xo}},{z:X.E.e_,i:{DG:"flattenImage"}}]},Ea.OEI(!1),function(){var R={name:[0,6],items:[{name:[24,18,4],vt:"Alt + Ctrl + F",vU:!0}],yx:[{z:X.E.$,B:A.Uz,i:{d:"applylast"}}]};
for(var Z=0;Z<Go.OP.length;Z++){var B=Go.OP[Z];if(B.ZI!=null){R.items.push({name:Go.names[B.ZI],AP:!0,vU:B.vU});
R.yx.push({z:X.E.$,B:A.Uz,i:{d:"start",Ln:B.ZI}});continue}var o={name:B.Zo,sub:[]};R.items.push(o);
var r={sub:[]};R.yx.push(r);for(var Y=0;Y<B.ew.length;Y++){var E={name:Go.names[B.ew[Y]],AP:Go.wI(B.ew[Y])!=null};
o.sub.push(E);var p={z:X.E.$,B:A.Uz,i:{d:"start",Ln:B.ew[Y]}};r.sub.push(p)}}return R}(),{name:[0,7],items:[{name:[8,0],vt:"Ctrl + +"},{name:[8,1],vt:"Ctrl + -"},{name:[20,3],vt:"Ctrl + 0"},{name:[20,2],vt:"Ctrl + 1",vU:!0},{name:"Extras",vt:"Ctrl + H",H:function(R,Z){return{FX:Z.RG}}},{name:[8,12],vU:!0,sub:[{name:[17,2],H:function(R,Z){return{H:Z.RG,FX:Z.Al.Xw}}},{name:[8,9],H:function(R,Z){return{H:Z.RG,FX:Z.Al.EP}}},{name:[8,2],H:function(R,Z){return{H:Z.RG,FX:Z.Al.Vw}},vt:"Ctrl + ;"},{name:[8,4],H:function(R,Z){return{H:Z.RG,FX:Z.Al.IP}},vt:"Ctrl + '"},{name:[8,8],H:function(R,Z){return{H:Z.RG,FX:Z.Al.nT}}},{name:[8,11,0],H:function(R,Z){return{H:Z.RG,FX:Z.Al.On}}}]},{name:[8,3],H:function(R,Z){return{FX:Z.Uq}},vt:"Ctrl + R",vU:!0},{name:[8,5],H:function(R,Z){return{FX:Z.QU}}},{name:[8,6],vU:!0,sub:[{name:[8,2],H:function(R,Z){return{FX:Z.aV[0]}}},{name:[8,4],H:function(R,Z){return{FX:Z.aV[1]}}},{name:[8,11,0],H:function(R,Z){return{FX:Z.aV[3]}}},{name:[8,7],H:function(R,Z){return{FX:Z.aV[4]}}}]},{name:[11,15,0],H:function(R,Z){return{H:R!=null}}},{name:[11,14],H:function(R,Z){return{H:R!=null}},AP:!0},{name:[11,15,1],H:function(R,Z){return{H:R!=null&&R.C.length!=0}}}],yx:[{z:X.E.$,B:A.vA,i:{d:"zoom",Fc:!0}},{z:X.E.$,B:A.vA,i:{d:"zoom",Fc:!1}},{z:X.E.$,B:A.vA,i:{d:"adapt",k:"fitscr"}},{z:X.E.$,B:A.vA,i:{d:"adapt",k:"pixel"}},{z:X.E.K,i:{d:X.l.zM,Fe:GG.ON}},{sub:[{z:X.E.K,i:{d:X.l.zM,Fe:GG.Mc}},{z:X.E.K,i:{d:X.l.zM,Fe:GG.iR}},{z:X.E.K,i:{d:X.l.zM,Fe:GG.Rf}},{z:X.E.K,i:{d:X.l.zM,Fe:GG.MM}},{z:X.E.K,i:{d:X.l.zM,Fe:GG.hg}},{z:X.E.K,i:{d:X.l.zM,Fe:GG.Mb}}]},{z:X.E.K,i:{d:X.l.zM,Fe:GG.M$}},{z:X.E.K,i:{d:X.l.zM,Fe:GG.Okt}},{sub:[{z:X.E.K,i:{d:X.l.zM,Fe:GG.Rv,Fg:0}},{z:X.E.K,i:{d:X.l.zM,Fe:GG.Rv,Fg:1}},{z:X.E.K,i:{d:X.l.zM,Fe:GG.Rv,Fg:3}},{z:X.E.K,i:{d:X.l.zM,Fe:GG.Rv,Fg:4}}]},{z:X.E.$,B:A.tY,i:{d:"gids",ZW:[[],[]]}},{z:X.E.K,i:{d:X.l.JT,fA:"addguides"}},{z:X.E.$,B:A.tY,i:{d:"gidsFromLayer"}}]},function(){var R={name:[0,8],items:[],yx:[]};
for(var Z=0;Z<RA.iS.length;Z++){var B=RA.iS[Z];R.items.push({name:B.Jd.name});R.yx.push({z:X.E.K,i:{d:X.l.Bv,fA:B.Jd.Za}})}return R}(),function(){var R={name:[0,14],items:[],yx:[]},Z={name:[0,9],sub:[]};
R.items.push(Z);var B={sub:[]};R.yx.push(B);var o=Ok.Oej();for(var r=0;r<o.length;r++){var Y=o[r],E=Y.code,p=Ok.nQ(E);
Z.sub.push({name:Y.name,vt:E,H:function(y,z){return{FX:this.vt==Ok.nM()}}});B.sub.push({z:X.E.K,i:{d:X.l.zM,Fe:GG.sG,lang:p}})}Z.sub.push({name:[0,12]});
B.sub.push({z:X.E.K,i:{d:X.l.ex,link:"https://www.photopea.com/translate/"}});var Z={name:[0,15],sub:[]};
R.items.push(Z);var B={sub:[]};R.yx.push(B);for(var r=0;r<yK.iM.length;r++){Z.sub.push({name:yK.iM[r].name,H:function(y,z){return{FX:this.name==yK.iM[z.rh].name}}});
B.sub.push({z:X.E.K,i:{d:X.l.zM,Fe:GG.RH,rh:r}})}R.items.push({name:"Install Photopea",H:function(y,z){return{H:z.ze!=null}}});
R.yx.push({z:X.E.K,i:{d:X.l.Owu}});R.items.push({name:[11,13]});R.yx.push({z:X.E.K,i:{d:X.l.JT,fA:"shortcuts"}});
R.items.push({name:[0,16],H:function(y){return{FX:d.lx,H:d.IA}}});R.yx.push({z:X.E.K,i:{d:X.l.OBY}});
return R}()];function Xo(){Gt.call(this);this.G=X.T("div","");this.SR=0;this.SX=0;this.$V=null;this.AL=X.T("div","");
this.AL.setAttribute("style","width:200em; height:100em; position:absolute;");this.pO=[];this.zJ=[]}Xo.prototype=new Gt;
Xo.prototype.GK=function(){this.zJ=[new Rn,new RP,new yj,new yp,new Ve,new EE,new YF,new yg,new OT,new Od,new XZ,new Oo,new Ou,new VZ,new Xs,new Ev,new Xg,new az,new yS,new yh,new yX,new XW,new yN,new Ob,new OF,new OM,new yW(0),new yW(1),new Xu,new Ot,new yI,new a_("border",[7,9],"px"),new a_("smoothness",[19,3,0],"px"),new a_("expand",[7,4],"px"),new a_("contract",[7,5],"px"),new a_("feather",[7,6],"px"),new yc("namewindow",[12,48])];
for(var R in b)this.zJ.push(new Oz(R));for(var Z=0;Z<this.zJ.length;Z++){var B=this.zJ[Z];B.v(X.E.Vj,this.Kd,this);
B.parent=this}};Xo.prototype.YH=function(R,Z){this.SR=R;this.SX=Z;for(var B=0;B<this.zJ.length;B++)this.OYS(this.zJ[B])};
Xo.prototype.c=function(){for(var R=0;R<this.zJ.length;R++)this.zJ[R].c()};Xo.prototype.uK=function(){return this.pO.length==0?null:this.pO[this.pO.length-1]};
Xo.prototype.uC=function(){for(var R=0;R<this.pO.length;R++)if(this.pO[R].uC())return!0;return!1};Xo.prototype.Oqm=function(R,Z,B,o,r){if(this.zJ.length==0){this.GK();
this.YH(this.SR,this.SX);this.c();if(this.$V)this.lU(this.$V,GG.gy)}var Y=null;if(typeof R=="object"){Y=R;
if(!Y.nw(X.E.Vj,this.Kd))Y.v(X.E.Vj,this.Kd,this);Y.parent=this}else for(var E=0;E<this.zJ.length;E++)if(this.zJ[E].id==R)Y=this.zJ[E];
if(this.uC()&&Y.uC()){alert("Finish the current action first");return}if(!Y.Ts(Z))return;if(this.pO.indexOf(Y)!=-1){if(R=="colorpicker")Y.qD(Z,B,o,r);
return}this.OYS(Y);var p=this.pO.length-1;if(p>=0)X.Cy(this.pO[p].G,"wdisabled");this.G.appendChild(Y.G);
this.pO.push(Y);Y.qD(Z,B,o,r)};Xo.prototype.OYS=function(R){var Z=this.SR,B=this.SX,o=R.Ch(Z,B);R.G.style.left=o.x+"px";
R.G.style.top=this.G.offsetTop+o.y+"px";R.YH(this.SR-o.x*2,this.SX-o.y*2-34)};Xo.prototype.lU=function(R,Z){this.$V=R;
for(var B=0;B<this.zJ.length;B++)this.zJ[B].lU(R,Z)};Xo.prototype.Kd=function(R){var Z=this.pO.pop();
this.G.removeChild(Z.G);var B=this.pO.length-1;if(B>=0)X.rd(this.pO[B].G,"wdisabled");if(this.AL.parentNode==this.G)this.G.removeChild(this.AL)};
window.onload=function(){var R=new Yl;document.body.appendChild(R.G)}}())